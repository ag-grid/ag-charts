"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "generateExample", {
    enumerable: true,
    get: function() {
        return generateExample;
    }
});
const _interop_require_default = require("@swc/helpers/_/_interop_require_default");
const _canvas = require("canvas");
const _jsdom = require("jsdom");
const _path = /*#__PURE__*/ _interop_require_default._(require("path"));
const _sharp = /*#__PURE__*/ _interop_require_default._(require("sharp"));
const _agchartscommunity = require("ag-charts-community");
require("ag-charts-enterprise");
const _agchartstest = require("ag-charts-test");
const _constants = require("./constants");
const _getChartLayout = require("./getChartLayout");
const _patchOptions = require("./patchOptions");
const _transformPlainEntryFile = require("./transformPlainEntryFile");
async function generateExample({ example, theme, outputPath, dpi }) {
    const { entryFileName, files = {} } = example;
    const entryFile = files[entryFileName];
    const { optionsById } = (0, _transformPlainEntryFile.transformPlainEntryFile)(entryFile, files['data.js']);
    const { rows, columns, charts } = (0, _getChartLayout.getChartLayout)(files['index.html']);
    let output;
    if (charts.length > 1) {
        const canvas = new _canvas.Canvas(_constants.DEFAULT_THUMBNAIL_WIDTH * dpi, _constants.DEFAULT_THUMBNAIL_HEIGHT * dpi);
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = _constants.BACKGROUND_COLORS[theme];
        ctx.fillRect(0, 0, _constants.DEFAULT_THUMBNAIL_WIDTH * dpi, _constants.DEFAULT_THUMBNAIL_HEIGHT * dpi);
        output = {
            multiple: true,
            canvas,
            ctx
        };
    } else {
        output = {
            multiple: false,
            buffer: undefined
        };
    }
    for (const { id, row, column } of charts){
        /* TODO: Initialize these once */ const { window, window: { document } } = new _jsdom.JSDOM(`<html><head><style></style></head><body></body></html>`);
        // Note - we'll need one instance per DPI setting
        const mockCtx = _agchartstest.mockCanvas.setup({
            width: _constants.DEFAULT_THUMBNAIL_WIDTH * dpi,
            height: _constants.DEFAULT_THUMBNAIL_HEIGHT * dpi,
            document,
            window: window,
            mockText: false
        });
        const chartProxy = _agchartscommunity.AgCharts.create({
            animation: {
                enabled: false
            },
            document,
            window,
            width: _constants.DEFAULT_THUMBNAIL_WIDTH,
            height: _constants.DEFAULT_THUMBNAIL_HEIGHT,
            overrideDevicePixelRatio: dpi
        });
        /* End TODO */ const options = optionsById.get(id);
        if (options == null) {
            throw new Error(`No options found for container with id "${id}"`);
        }
        (0, _patchOptions.patchOptions)(options, theme);
        const containerWidth = _constants.DEFAULT_THUMBNAIL_WIDTH / columns | 0;
        const containerHeight = _constants.DEFAULT_THUMBNAIL_HEIGHT / rows | 0;
        let width;
        let height;
        if (options.width != null) {
            const detailContainerHeight = _constants.DETAIL_FULL_HEIGHT / rows;
            let aspectRatio = options.width / detailContainerHeight;
            aspectRatio = Math.min(Math.max(aspectRatio, _constants.MIN_ASPECT_RATIO), _constants.MAX_ASPECT_RATIO);
            width = Math.min(containerHeight * aspectRatio, containerWidth);
            height = containerHeight;
        } else if (options.height != null) {
            const detailContainerWidth = _constants.DETAIL_FULL_WIDTH / columns;
            let aspectRatio = detailContainerWidth / options.height;
            aspectRatio = Math.min(Math.max(aspectRatio, _constants.MIN_ASPECT_RATIO), _constants.MAX_ASPECT_RATIO);
            width = containerWidth;
            height = Math.min(containerWidth / aspectRatio, containerHeight);
        } else {
            width = containerWidth;
            height = containerHeight;
        }
        const x0 = containerWidth * column + (containerWidth - width) / 2 | 0;
        const y0 = containerHeight * row + (containerHeight - height) / 2 | 0;
        _agchartscommunity.AgCharts.update(chartProxy, {
            ...options,
            animation: {
                enabled: false
            },
            document,
            window,
            width,
            height,
            overrideDevicePixelRatio: dpi
        });
        const chart = chartProxy.chart;
        await chart.waitForUpdate(5_000);
        if (output.multiple === true) {
            output.ctx.drawImage(mockCtx.ctx.nodeCanvas, 0, 0, width * dpi, height * dpi, x0 * dpi, y0 * dpi, width * dpi, height * dpi);
        } else {
            output.buffer = mockCtx.ctx.nodeCanvas.toBuffer('image/png');
        }
    }
    const buffer = output.multiple === true ? output.canvas.toBuffer('image/png') : output.buffer;
    const s = (0, _sharp.default)(buffer);
    const dpiExt = dpi !== 1 ? `@${dpi}x` : '';
    await Promise.all([
        s.clone().png().toFile(_path.default.join(outputPath, `${theme}${dpiExt}.png`)),
        s.clone().webp().toFile(_path.default.join(outputPath, `${theme}${dpiExt}.webp`))
    ]);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9leGVjdXRvcnMvZ2VuZXJhdGUvZ2VuZXJhdG9yL3RodW1ibmFpbEdlbmVyYXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYW52YXMsIHR5cGUgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIH0gZnJvbSAnY2FudmFzJztcbmltcG9ydCB7IEpTRE9NIH0gZnJvbSAnanNkb20nO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc2hhcnAgZnJvbSAnc2hhcnAnO1xuXG5pbXBvcnQgeyB0eXBlIEFnQ2hhcnRUaGVtZU5hbWUsIEFnQ2hhcnRzIH0gZnJvbSAnYWctY2hhcnRzLWNvbW11bml0eSc7XG5pbXBvcnQgJ2FnLWNoYXJ0cy1lbnRlcnByaXNlJztcbmltcG9ydCB0eXBlIHsgR2VuZXJhdGVkQ29udGVudHMgfSBmcm9tICdhZy1jaGFydHMtZ2VuZXJhdGUtZXhhbXBsZS1maWxlcy9zcmMvZXhlY3V0b3JzL2dlbmVyYXRlL2dlbmVyYXRvci90eXBlcyc7XG5pbXBvcnQgeyBtb2NrQ2FudmFzIH0gZnJvbSAnYWctY2hhcnRzLXRlc3QnO1xuXG5pbXBvcnQge1xuICAgIEJBQ0tHUk9VTkRfQ09MT1JTLFxuICAgIERFRkFVTFRfVEhVTUJOQUlMX0hFSUdIVCxcbiAgICBERUZBVUxUX1RIVU1CTkFJTF9XSURUSCxcbiAgICBERVRBSUxfRlVMTF9IRUlHSFQsXG4gICAgREVUQUlMX0ZVTExfV0lEVEgsXG4gICAgTUFYX0FTUEVDVF9SQVRJTyxcbiAgICBNSU5fQVNQRUNUX1JBVElPLFxufSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRDaGFydExheW91dCB9IGZyb20gJy4vZ2V0Q2hhcnRMYXlvdXQnO1xuaW1wb3J0IHsgcGF0Y2hPcHRpb25zIH0gZnJvbSAnLi9wYXRjaE9wdGlvbnMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtUGxhaW5FbnRyeUZpbGUgfSBmcm9tICcuL3RyYW5zZm9ybVBsYWluRW50cnlGaWxlJztcblxuaW50ZXJmYWNlIFBhcmFtcyB7XG4gICAgZXhhbXBsZTogR2VuZXJhdGVkQ29udGVudHM7XG4gICAgdGhlbWU6IEFnQ2hhcnRUaGVtZU5hbWU7XG4gICAgb3V0cHV0UGF0aDogc3RyaW5nO1xuICAgIGRwaTogbnVtYmVyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVFeGFtcGxlKHsgZXhhbXBsZSwgdGhlbWUsIG91dHB1dFBhdGgsIGRwaSB9OiBQYXJhbXMpIHtcbiAgICBjb25zdCB7IGVudHJ5RmlsZU5hbWUsIGZpbGVzID0ge30gfSA9IGV4YW1wbGU7XG5cbiAgICBjb25zdCBlbnRyeUZpbGUgPSBmaWxlc1tlbnRyeUZpbGVOYW1lXTtcbiAgICBjb25zdCB7IG9wdGlvbnNCeUlkIH0gPSB0cmFuc2Zvcm1QbGFpbkVudHJ5RmlsZShlbnRyeUZpbGUsIGZpbGVzWydkYXRhLmpzJ10pO1xuXG4gICAgY29uc3QgeyByb3dzLCBjb2x1bW5zLCBjaGFydHMgfSA9IGdldENoYXJ0TGF5b3V0KGZpbGVzWydpbmRleC5odG1sJ10pO1xuXG4gICAgbGV0IG91dHB1dDogeyBtdWx0aXBsZTogdHJ1ZTsgY2FudmFzOiBDYW52YXM7IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIH0gfCB7IG11bHRpcGxlOiBmYWxzZTsgYnVmZmVyOiBCdWZmZXIgfTtcbiAgICBpZiAoY2hhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gbmV3IENhbnZhcyhERUZBVUxUX1RIVU1CTkFJTF9XSURUSCAqIGRwaSwgREVGQVVMVF9USFVNQk5BSUxfSEVJR0hUICogZHBpKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IEJBQ0tHUk9VTkRfQ09MT1JTW3RoZW1lXTtcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIERFRkFVTFRfVEhVTUJOQUlMX1dJRFRIICogZHBpLCBERUZBVUxUX1RIVU1CTkFJTF9IRUlHSFQgKiBkcGkpO1xuXG4gICAgICAgIG91dHB1dCA9IHsgbXVsdGlwbGU6IHRydWUsIGNhbnZhcywgY3R4IH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0ID0geyBtdWx0aXBsZTogZmFsc2UsIGJ1ZmZlcjogdW5kZWZpbmVkISB9O1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgeyBpZCwgcm93LCBjb2x1bW4gfSBvZiBjaGFydHMpIHtcbiAgICAgICAgLyogVE9ETzogSW5pdGlhbGl6ZSB0aGVzZSBvbmNlICovXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHdpbmRvdyxcbiAgICAgICAgICAgIHdpbmRvdzogeyBkb2N1bWVudCB9LFxuICAgICAgICB9ID0gbmV3IEpTRE9NKGA8aHRtbD48aGVhZD48c3R5bGU+PC9zdHlsZT48L2hlYWQ+PGJvZHk+PC9ib2R5PjwvaHRtbD5gKTtcblxuICAgICAgICAvLyBOb3RlIC0gd2UnbGwgbmVlZCBvbmUgaW5zdGFuY2UgcGVyIERQSSBzZXR0aW5nXG4gICAgICAgIGNvbnN0IG1vY2tDdHggPSBtb2NrQ2FudmFzLnNldHVwKHtcbiAgICAgICAgICAgIHdpZHRoOiBERUZBVUxUX1RIVU1CTkFJTF9XSURUSCAqIGRwaSxcbiAgICAgICAgICAgIGhlaWdodDogREVGQVVMVF9USFVNQk5BSUxfSEVJR0hUICogZHBpLFxuICAgICAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgICAgICB3aW5kb3c6IHdpbmRvdyBhcyBhbnksXG4gICAgICAgICAgICBtb2NrVGV4dDogZmFsc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGNoYXJ0UHJveHkgPSBBZ0NoYXJ0cy5jcmVhdGUoe1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB7IGVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgICBkb2N1bWVudCxcbiAgICAgICAgICAgIHdpbmRvdyxcbiAgICAgICAgICAgIHdpZHRoOiBERUZBVUxUX1RIVU1CTkFJTF9XSURUSCxcbiAgICAgICAgICAgIGhlaWdodDogREVGQVVMVF9USFVNQk5BSUxfSEVJR0hULFxuICAgICAgICAgICAgb3ZlcnJpZGVEZXZpY2VQaXhlbFJhdGlvOiBkcGksXG4gICAgICAgIH0gYXMgYW55KTtcbiAgICAgICAgLyogRW5kIFRPRE8gKi9cblxuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0J5SWQuZ2V0KGlkKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBvcHRpb25zIGZvdW5kIGZvciBjb250YWluZXIgd2l0aCBpZCBcIiR7aWR9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaE9wdGlvbnMob3B0aW9ucywgdGhlbWUpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gKERFRkFVTFRfVEhVTUJOQUlMX1dJRFRIIC8gY29sdW1ucykgfCAwO1xuICAgICAgICBjb25zdCBjb250YWluZXJIZWlnaHQgPSAoREVGQVVMVF9USFVNQk5BSUxfSEVJR0hUIC8gcm93cykgfCAwO1xuXG4gICAgICAgIGxldCB3aWR0aDogbnVtYmVyO1xuICAgICAgICBsZXQgaGVpZ2h0OiBudW1iZXI7XG4gICAgICAgIGlmIChvcHRpb25zLndpZHRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbENvbnRhaW5lckhlaWdodCA9IERFVEFJTF9GVUxMX0hFSUdIVCAvIHJvd3M7XG4gICAgICAgICAgICBsZXQgYXNwZWN0UmF0aW8gPSBvcHRpb25zLndpZHRoIC8gZGV0YWlsQ29udGFpbmVySGVpZ2h0O1xuICAgICAgICAgICAgYXNwZWN0UmF0aW8gPSBNYXRoLm1pbihNYXRoLm1heChhc3BlY3RSYXRpbywgTUlOX0FTUEVDVF9SQVRJTyksIE1BWF9BU1BFQ1RfUkFUSU8pO1xuICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1pbihjb250YWluZXJIZWlnaHQgKiBhc3BlY3RSYXRpbywgY29udGFpbmVyV2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVySGVpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbENvbnRhaW5lcldpZHRoID0gREVUQUlMX0ZVTExfV0lEVEggLyBjb2x1bW5zO1xuICAgICAgICAgICAgbGV0IGFzcGVjdFJhdGlvID0gZGV0YWlsQ29udGFpbmVyV2lkdGggLyBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvID0gTWF0aC5taW4oTWF0aC5tYXgoYXNwZWN0UmF0aW8sIE1JTl9BU1BFQ1RfUkFUSU8pLCBNQVhfQVNQRUNUX1JBVElPKTtcbiAgICAgICAgICAgIHdpZHRoID0gY29udGFpbmVyV2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1pbihjb250YWluZXJXaWR0aCAvIGFzcGVjdFJhdGlvLCBjb250YWluZXJIZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkdGggPSBjb250YWluZXJXaWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IGNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHgwID0gKGNvbnRhaW5lcldpZHRoICogY29sdW1uICsgKGNvbnRhaW5lcldpZHRoIC0gd2lkdGgpIC8gMikgfCAwO1xuICAgICAgICBjb25zdCB5MCA9IChjb250YWluZXJIZWlnaHQgKiByb3cgKyAoY29udGFpbmVySGVpZ2h0IC0gaGVpZ2h0KSAvIDIpIHwgMDtcblxuICAgICAgICBBZ0NoYXJ0cy51cGRhdGUoY2hhcnRQcm94eSwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogeyBlbmFibGVkOiBmYWxzZSB9LFxuICAgICAgICAgICAgZG9jdW1lbnQsXG4gICAgICAgICAgICB3aW5kb3csXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIG92ZXJyaWRlRGV2aWNlUGl4ZWxSYXRpbzogZHBpLFxuICAgICAgICB9IGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgY2hhcnQgPSAoY2hhcnRQcm94eSBhcyBhbnkpLmNoYXJ0O1xuICAgICAgICBhd2FpdCBjaGFydC53YWl0Rm9yVXBkYXRlKDVfMDAwKTtcblxuICAgICAgICBpZiAob3V0cHV0Lm11bHRpcGxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBvdXRwdXQuY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICBtb2NrQ3R4LmN0eC5ub2RlQ2FudmFzLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB3aWR0aCAqIGRwaSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgKiBkcGksXG4gICAgICAgICAgICAgICAgeDAgKiBkcGksXG4gICAgICAgICAgICAgICAgeTAgKiBkcGksXG4gICAgICAgICAgICAgICAgd2lkdGggKiBkcGksXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICogZHBpXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0LmJ1ZmZlciA9IG1vY2tDdHguY3R4Lm5vZGVDYW52YXMudG9CdWZmZXIoJ2ltYWdlL3BuZycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID0gb3V0cHV0Lm11bHRpcGxlID09PSB0cnVlID8gb3V0cHV0LmNhbnZhcy50b0J1ZmZlcignaW1hZ2UvcG5nJykgOiBvdXRwdXQuYnVmZmVyO1xuXG4gICAgY29uc3QgcyA9IHNoYXJwKGJ1ZmZlcik7XG5cbiAgICBjb25zdCBkcGlFeHQgPSBkcGkgIT09IDEgPyBgQCR7ZHBpfXhgIDogJyc7XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHNcbiAgICAgICAgICAgIC5jbG9uZSgpXG4gICAgICAgICAgICAucG5nKClcbiAgICAgICAgICAgIC50b0ZpbGUocGF0aC5qb2luKG91dHB1dFBhdGgsIGAke3RoZW1lfSR7ZHBpRXh0fS5wbmdgKSksXG4gICAgICAgIHNcbiAgICAgICAgICAgIC5jbG9uZSgpXG4gICAgICAgICAgICAud2VicCgpXG4gICAgICAgICAgICAudG9GaWxlKHBhdGguam9pbihvdXRwdXRQYXRoLCBgJHt0aGVtZX0ke2RwaUV4dH0ud2VicGApKSxcbiAgICBdKTtcbn1cbiJdLCJuYW1lcyI6WyJnZW5lcmF0ZUV4YW1wbGUiLCJleGFtcGxlIiwidGhlbWUiLCJvdXRwdXRQYXRoIiwiZHBpIiwiZW50cnlGaWxlTmFtZSIsImZpbGVzIiwiZW50cnlGaWxlIiwib3B0aW9uc0J5SWQiLCJ0cmFuc2Zvcm1QbGFpbkVudHJ5RmlsZSIsInJvd3MiLCJjb2x1bW5zIiwiY2hhcnRzIiwiZ2V0Q2hhcnRMYXlvdXQiLCJvdXRwdXQiLCJsZW5ndGgiLCJjYW52YXMiLCJDYW52YXMiLCJERUZBVUxUX1RIVU1CTkFJTF9XSURUSCIsIkRFRkFVTFRfVEhVTUJOQUlMX0hFSUdIVCIsImN0eCIsImdldENvbnRleHQiLCJmaWxsU3R5bGUiLCJCQUNLR1JPVU5EX0NPTE9SUyIsImZpbGxSZWN0IiwibXVsdGlwbGUiLCJidWZmZXIiLCJ1bmRlZmluZWQiLCJpZCIsInJvdyIsImNvbHVtbiIsIndpbmRvdyIsImRvY3VtZW50IiwiSlNET00iLCJtb2NrQ3R4IiwibW9ja0NhbnZhcyIsInNldHVwIiwid2lkdGgiLCJoZWlnaHQiLCJtb2NrVGV4dCIsImNoYXJ0UHJveHkiLCJBZ0NoYXJ0cyIsImNyZWF0ZSIsImFuaW1hdGlvbiIsImVuYWJsZWQiLCJvdmVycmlkZURldmljZVBpeGVsUmF0aW8iLCJvcHRpb25zIiwiZ2V0IiwiRXJyb3IiLCJwYXRjaE9wdGlvbnMiLCJjb250YWluZXJXaWR0aCIsImNvbnRhaW5lckhlaWdodCIsImRldGFpbENvbnRhaW5lckhlaWdodCIsIkRFVEFJTF9GVUxMX0hFSUdIVCIsImFzcGVjdFJhdGlvIiwiTWF0aCIsIm1pbiIsIm1heCIsIk1JTl9BU1BFQ1RfUkFUSU8iLCJNQVhfQVNQRUNUX1JBVElPIiwiZGV0YWlsQ29udGFpbmVyV2lkdGgiLCJERVRBSUxfRlVMTF9XSURUSCIsIngwIiwieTAiLCJ1cGRhdGUiLCJjaGFydCIsIndhaXRGb3JVcGRhdGUiLCJkcmF3SW1hZ2UiLCJub2RlQ2FudmFzIiwidG9CdWZmZXIiLCJzIiwic2hhcnAiLCJkcGlFeHQiLCJQcm9taXNlIiwiYWxsIiwiY2xvbmUiLCJwbmciLCJ0b0ZpbGUiLCJwYXRoIiwiam9pbiIsIndlYnAiXSwibWFwcGluZ3MiOiI7Ozs7K0JBOEJzQkE7OztlQUFBQTs7Ozt3QkE5QmdDO3VCQUNoQzsrREFDTDtnRUFDQzttQ0FFOEI7UUFDekM7OEJBRW9COzJCQVVwQjtnQ0FDd0I7OEJBQ0Y7eUNBQ1c7QUFTakMsZUFBZUEsZ0JBQWdCLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUVDLEdBQUcsRUFBVTtJQUM3RSxNQUFNLEVBQUVDLGFBQWEsRUFBRUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHTDtJQUV0QyxNQUFNTSxZQUFZRCxLQUFLLENBQUNELGNBQWM7SUFDdEMsTUFBTSxFQUFFRyxXQUFXLEVBQUUsR0FBR0MsSUFBQUEsZ0RBQXVCLEVBQUNGLFdBQVdELEtBQUssQ0FBQyxVQUFVO0lBRTNFLE1BQU0sRUFBRUksSUFBSSxFQUFFQyxPQUFPLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSw4QkFBYyxFQUFDUCxLQUFLLENBQUMsYUFBYTtJQUVwRSxJQUFJUTtJQUNKLElBQUlGLE9BQU9HLE1BQU0sR0FBRyxHQUFHO1FBQ25CLE1BQU1DLFNBQVMsSUFBSUMsY0FBTSxDQUFDQyxrQ0FBdUIsR0FBR2QsS0FBS2UsbUNBQXdCLEdBQUdmO1FBQ3BGLE1BQU1nQixNQUFNSixPQUFPSyxVQUFVLENBQUM7UUFFOUJELElBQUlFLFNBQVMsR0FBR0MsNEJBQWlCLENBQUNyQixNQUFNO1FBQ3hDa0IsSUFBSUksUUFBUSxDQUFDLEdBQUcsR0FBR04sa0NBQXVCLEdBQUdkLEtBQUtlLG1DQUF3QixHQUFHZjtRQUU3RVUsU0FBUztZQUFFVyxVQUFVO1lBQU1UO1lBQVFJO1FBQUk7SUFDM0MsT0FBTztRQUNITixTQUFTO1lBQUVXLFVBQVU7WUFBT0MsUUFBUUM7UUFBVztJQUNuRDtJQUVBLEtBQUssTUFBTSxFQUFFQyxFQUFFLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFLElBQUlsQixPQUFRO1FBQ3RDLCtCQUErQixHQUMvQixNQUFNLEVBQ0ZtQixNQUFNLEVBQ05BLFFBQVEsRUFBRUMsUUFBUSxFQUFFLEVBQ3ZCLEdBQUcsSUFBSUMsWUFBSyxDQUFDLENBQUMsc0RBQXNELENBQUM7UUFFdEUsaURBQWlEO1FBQ2pELE1BQU1DLFVBQVVDLHdCQUFVLENBQUNDLEtBQUssQ0FBQztZQUM3QkMsT0FBT25CLGtDQUF1QixHQUFHZDtZQUNqQ2tDLFFBQVFuQixtQ0FBd0IsR0FBR2Y7WUFDbkM0QjtZQUNBRCxRQUFRQTtZQUNSUSxVQUFVO1FBQ2Q7UUFFQSxNQUFNQyxhQUFhQywyQkFBUSxDQUFDQyxNQUFNLENBQUM7WUFDL0JDLFdBQVc7Z0JBQUVDLFNBQVM7WUFBTTtZQUM1Qlo7WUFDQUQ7WUFDQU0sT0FBT25CLGtDQUF1QjtZQUM5Qm9CLFFBQVFuQixtQ0FBd0I7WUFDaEMwQiwwQkFBMEJ6QztRQUM5QjtRQUNBLFlBQVksR0FFWixNQUFNMEMsVUFBVXRDLFlBQVl1QyxHQUFHLENBQUNuQjtRQUNoQyxJQUFJa0IsV0FBVyxNQUFNO1lBQ2pCLE1BQU0sSUFBSUUsTUFBTSxDQUFDLHdDQUF3QyxFQUFFcEIsR0FBRyxDQUFDLENBQUM7UUFDcEU7UUFDQXFCLElBQUFBLDBCQUFZLEVBQUNILFNBQVM1QztRQUV0QixNQUFNZ0QsaUJBQWlCLEFBQUNoQyxrQ0FBdUIsR0FBR1AsVUFBVztRQUM3RCxNQUFNd0Msa0JBQWtCLEFBQUNoQyxtQ0FBd0IsR0FBR1QsT0FBUTtRQUU1RCxJQUFJMkI7UUFDSixJQUFJQztRQUNKLElBQUlRLFFBQVFULEtBQUssSUFBSSxNQUFNO1lBQ3ZCLE1BQU1lLHdCQUF3QkMsNkJBQWtCLEdBQUczQztZQUNuRCxJQUFJNEMsY0FBY1IsUUFBUVQsS0FBSyxHQUFHZTtZQUNsQ0UsY0FBY0MsS0FBS0MsR0FBRyxDQUFDRCxLQUFLRSxHQUFHLENBQUNILGFBQWFJLDJCQUFnQixHQUFHQywyQkFBZ0I7WUFDaEZ0QixRQUFRa0IsS0FBS0MsR0FBRyxDQUFDTCxrQkFBa0JHLGFBQWFKO1lBQ2hEWixTQUFTYTtRQUNiLE9BQU8sSUFBSUwsUUFBUVIsTUFBTSxJQUFJLE1BQU07WUFDL0IsTUFBTXNCLHVCQUF1QkMsNEJBQWlCLEdBQUdsRDtZQUNqRCxJQUFJMkMsY0FBY00sdUJBQXVCZCxRQUFRUixNQUFNO1lBQ3ZEZ0IsY0FBY0MsS0FBS0MsR0FBRyxDQUFDRCxLQUFLRSxHQUFHLENBQUNILGFBQWFJLDJCQUFnQixHQUFHQywyQkFBZ0I7WUFDaEZ0QixRQUFRYTtZQUNSWixTQUFTaUIsS0FBS0MsR0FBRyxDQUFDTixpQkFBaUJJLGFBQWFIO1FBQ3BELE9BQU87WUFDSGQsUUFBUWE7WUFDUlosU0FBU2E7UUFDYjtRQUVBLE1BQU1XLEtBQUssQUFBQ1osaUJBQWlCcEIsU0FBUyxBQUFDb0IsQ0FBQUEsaUJBQWlCYixLQUFJLElBQUssSUFBSztRQUN0RSxNQUFNMEIsS0FBSyxBQUFDWixrQkFBa0J0QixNQUFNLEFBQUNzQixDQUFBQSxrQkFBa0JiLE1BQUssSUFBSyxJQUFLO1FBRXRFRywyQkFBUSxDQUFDdUIsTUFBTSxDQUFDeEIsWUFBWTtZQUN4QixHQUFHTSxPQUFPO1lBQ1ZILFdBQVc7Z0JBQUVDLFNBQVM7WUFBTTtZQUM1Qlo7WUFDQUQ7WUFDQU07WUFDQUM7WUFDQU8sMEJBQTBCekM7UUFDOUI7UUFFQSxNQUFNNkQsUUFBUSxBQUFDekIsV0FBbUJ5QixLQUFLO1FBQ3ZDLE1BQU1BLE1BQU1DLGFBQWEsQ0FBQztRQUUxQixJQUFJcEQsT0FBT1csUUFBUSxLQUFLLE1BQU07WUFDMUJYLE9BQU9NLEdBQUcsQ0FBQytDLFNBQVMsQ0FDaEJqQyxRQUFRZCxHQUFHLENBQUNnRCxVQUFVLEVBQ3RCLEdBQ0EsR0FDQS9CLFFBQVFqQyxLQUNSa0MsU0FBU2xDLEtBQ1QwRCxLQUFLMUQsS0FDTDJELEtBQUszRCxLQUNMaUMsUUFBUWpDLEtBQ1JrQyxTQUFTbEM7UUFFakIsT0FBTztZQUNIVSxPQUFPWSxNQUFNLEdBQUdRLFFBQVFkLEdBQUcsQ0FBQ2dELFVBQVUsQ0FBQ0MsUUFBUSxDQUFDO1FBQ3BEO0lBQ0o7SUFFQSxNQUFNM0MsU0FBU1osT0FBT1csUUFBUSxLQUFLLE9BQU9YLE9BQU9FLE1BQU0sQ0FBQ3FELFFBQVEsQ0FBQyxlQUFldkQsT0FBT1ksTUFBTTtJQUU3RixNQUFNNEMsSUFBSUMsSUFBQUEsY0FBSyxFQUFDN0M7SUFFaEIsTUFBTThDLFNBQVNwRSxRQUFRLElBQUksQ0FBQyxDQUFDLEVBQUVBLElBQUksQ0FBQyxDQUFDLEdBQUc7SUFFeEMsTUFBTXFFLFFBQVFDLEdBQUcsQ0FBQztRQUNkSixFQUNLSyxLQUFLLEdBQ0xDLEdBQUcsR0FDSEMsTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQzVFLFlBQVksQ0FBQyxFQUFFRCxNQUFNLEVBQUVzRSxPQUFPLElBQUksQ0FBQztRQUN6REYsRUFDS0ssS0FBSyxHQUNMSyxJQUFJLEdBQ0pILE1BQU0sQ0FBQ0MsYUFBSSxDQUFDQyxJQUFJLENBQUM1RSxZQUFZLENBQUMsRUFBRUQsTUFBTSxFQUFFc0UsT0FBTyxLQUFLLENBQUM7S0FDN0Q7QUFDTCJ9