---
import { getEntry } from 'astro:content';
import ExampleRunnerContainer from '../../example-runner/components/ExampleRunnerContainer.astro';
import { DemoExampleRunner } from './DemoExampleRunner';
import { getChartExampleTitle } from '../utils/filesData';
import { DEMO_EXAMPLE_NAME_PATH_INDEX } from '../constants';

const pathSegments = Astro.url.pathname.split('/');
const exampleName = pathSegments[DEMO_EXAMPLE_NAME_PATH_INDEX];

const demosEntry = await getEntry('demo', 'demos');
const title = getChartExampleTitle({
    demos: demosEntry.data,
    exampleName,
});
---

<ExampleRunnerContainer>
    <DemoExampleRunner client:load title={title} exampleName={exampleName} />
</ExampleRunnerContainer>
