---
import Layout from '@layouts/Layout.astro';
import { getEntry } from 'astro:content';
import { urlWithBaseUrl } from '@utils/urlWithBaseUrl';
import { FRAMEWORKS } from '../constants';
import { getFrameworkFromPath } from '@features/docs/utils/urlPaths';
import { PagesNavigation } from '@components/pages-navigation/PagesNavigation';

const framework = getFrameworkFromPath(Astro.url.pathname);
const isDocsPage = FRAMEWORKS.includes(framework);

const menuEntry = await getEntry('menu', 'data');
---

<Layout title="AG Charts: Page Not Found">
    <div class={'contentViewport'}>
        <PagesNavigation client:load menuData={menuEntry.data} framework={framework} pageName={'404'} />

        <div id="doc-content" class:list={['docPage', 'noSideMenu']}>
            <h1>Page Not Found</h1>
            <p>
                Sorry, but it looks like you've ended up in the wrong place. Please go to the <a
                    href={urlWithBaseUrl('/')}>homepage</a
                > or <a href={urlWithBaseUrl('/documentation')}>documentation</a> to try to find what you're looking
                for.
            </p>
        </div>
    </div>
</Layout>

<style lang="scss">
    @use '../design-system' as *;
    @import '../styles/docs.module.scss';

    .contentViewport {
        display: flex;
        flex-direction: column;
        flex-grow: 1;

        @media (min-width: $breakpoint-docs-nav-medium) {
            flex-direction: row;
        }

        @media (min-width: $breakpoint-docs-nav-large) {
            &.noLeftMenu {
                padding-left: max(var(--horizontal-margin), calc(50vw - var(--max-page-width) / 2));
            }

            .docPage {
                padding-left: 0;
            }
        }
    }
</style>
