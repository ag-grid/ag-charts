---
import type { ApiMenuItem } from '@ag-grid-types';
import { ApiTopBar } from '@components/top-bar/ApiTopBar';
import Layout from '@layouts/Layout.astro';
import { getEntry } from 'astro:content';

const { pathname } = Astro.url;
const menuData = await getEntry('menu', 'data');
const apiMenuItems = menuData.data.api.items as ApiMenuItem[];
---

<Layout>
    <ApiTopBar menuItems={apiMenuItems} fullPath={pathname} />
    <div id="top" class="container">
        <slot />
    </div>
</Layout>

<style lang="scss">
    @use '../design-system' as *;

    .container {
        --horizontal-padding: max(calc((100vw - var(--max-page-width)) / 2), var(--horizontal-margin));
        --menu-width: 14rem;
        --gallery-list-gap: #{$size-3};

        display: flex;
        flex-direction: row;
        position: relative;
    }
</style>
