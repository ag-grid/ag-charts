(function(Qo,ss){typeof exports=="object"&&typeof module=="object"?module.exports=ss():typeof define=="function"&&define.amd?define("agCharts",[],ss):typeof exports=="object"?exports.agCharts=ss():Qo.agCharts=ss()})(this,()=>{var Qo={},ss={exports:Qo};if(typeof vz>"u")var vz=function(t){throw new Error("Unknown module: "+t)};var Jo=Object.defineProperty,OA=Object.defineProperties,yv=Object.getOwnPropertyDescriptor,RA=Object.getOwnPropertyDescriptors,vv=Object.getOwnPropertyNames,Zc=Object.getOwnPropertySymbols,wA=Object.getPrototypeOf,Zd=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,PA=Reflect.get,Qd=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),zt=Math.pow,bv=(e,t,i)=>t in e?Jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,R=(e,t)=>{for(var i in t||(t={}))Zd.call(t,i)&&bv(e,i,t[i]);if(Zc)for(var i of Zc(t))xv.call(t,i)&&bv(e,i,t[i]);return e},X=(e,t)=>OA(e,RA(t)),ai=(e,t)=>{var i={};for(var s in e)Zd.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&Zc)for(var s of Zc(e))t.indexOf(s)<0&&xv.call(e,s)&&(i[s]=e[s]);return i},L=(e,t)=>function(){return e&&(t=(0,e[vv(e)[0]])(e=0)),t},Ls=(e,t)=>{for(var i in t)Jo(e,i,{get:t[i],enumerable:!0})},FA=(e,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of vv(t))!Zd.call(e,n)&&n!==i&&Jo(e,n,{get:()=>t[n],enumerable:!(s=yv(t,n))||s.enumerable});return e},V=e=>FA(Jo({},"__esModule",{value:!0}),e),b=(e,t,i,s)=>{for(var n=s>1?void 0:s?yv(t,i):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,i,n):a(n))||n);return s&&n&&Jo(t,i,n),n},tn=(e,t,i)=>PA(wA(e),i,t),B=(e,t,i)=>new Promise((s,n)=>{var r=l=>{try{o(i.next(l))}catch(c){n(c)}},a=l=>{try{o(i.throw(l))}catch(c){n(c)}},o=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,a);o((i=i.apply(e,t)).next())}),BA=function(e,t){this[0]=e,this[1]=t},zA=e=>{var t=e[Qd("asyncIterator")],i=!1,s,n={};return t==null?(t=e[Qd("iterator")](),s=r=>n[r]=a=>t[r](a)):(t=t.call(e),s=r=>n[r]=a=>{if(i){if(i=!1,r==="throw")throw a;return a}return i=!0,{done:!1,value:new BA(new Promise(o=>{var l=t[r](a);if(!(l instanceof Object))throw TypeError("Object expected");o(l)}),1)}}),n[Qd("iterator")]=()=>n,s("next"),"throw"in t?s("throw"):n.throw=r=>{throw r},"return"in t&&s("return"),n},GA=L({"packages/ag-charts-community/src/options/chart/axisOptions.ts"(){"use strict"}}),VA=L({"packages/ag-charts-community/src/options/chart/crosshairOptions.ts"(){"use strict"}}),WA=L({"packages/ag-charts-community/src/options/chart/chartOptions.ts"(){"use strict"}}),UA=L({"packages/ag-charts-community/src/options/chart/chartBuilderOptions.ts"(){"use strict"}}),YA=L({"packages/ag-charts-community/src/options/chart/crossLineOptions.ts"(){"use strict"}}),HA=L({"packages/ag-charts-community/src/options/chart/dropShadowOptions.ts"(){"use strict"}}),Sv,jA=L({"packages/ag-charts-community/src/options/chart/errorBarOptions.ts"(){"use strict";Sv=["bar","line","scatter"]}}),KA=L({"packages/ag-charts-community/src/options/chart/eventOptions.ts"(){"use strict"}}),XA=L({"packages/ag-charts-community/src/options/chart/gradientLegendOptions.ts"(){"use strict"}}),$A=L({"packages/ag-charts-community/src/options/chart/labelOptions.ts"(){"use strict"}}),qA=L({"packages/ag-charts-community/src/options/chart/legendOptions.ts"(){"use strict"}}),ZA=L({"packages/ag-charts-community/src/options/chart/polarAxisOptions.ts"(){"use strict"}}),QA=L({"packages/ag-charts-community/src/options/chart/tooltipOptions.ts"(){"use strict"}}),JA=L({"packages/ag-charts-community/src/options/chart/themeOptions.ts"(){"use strict"}}),tL=L({"packages/ag-charts-community/src/options/chart/types.ts"(){"use strict"}}),eL=L({"packages/ag-charts-community/src/options/chart/zoomOptions.ts"(){"use strict"}}),iL=L({"packages/ag-charts-community/src/options/series/seriesOptions.ts"(){"use strict"}}),sL=L({"packages/ag-charts-community/src/options/series/cartesian/cartesianOptions.ts"(){"use strict"}}),nL=L({"packages/ag-charts-community/src/options/series/cartesian/cartesianSeriesTooltipOptions.ts"(){"use strict"}}),rL=L({"packages/ag-charts-community/src/options/series/cartesian/cartesianSeriesTypes.ts"(){"use strict"}}),aL=L({"packages/ag-charts-community/src/options/series/cartesian/areaOptions.ts"(){"use strict"}}),oL=L({"packages/ag-charts-community/src/options/series/cartesian/barOptions.ts"(){"use strict"}}),lL=L({"packages/ag-charts-community/src/options/series/cartesian/boxPlotOptions.ts"(){"use strict"}}),cL=L({"packages/ag-charts-community/src/options/series/cartesian/bubbleOptions.ts"(){"use strict"}}),hL=L({"packages/ag-charts-community/src/options/series/cartesian/bulletOptions.ts"(){"use strict"}}),uL=L({"packages/ag-charts-community/src/options/series/cartesian/commonOptions.ts"(){"use strict"}}),dL=L({"packages/ag-charts-community/src/options/series/cartesian/lineOptions.ts"(){"use strict"}}),pL=L({"packages/ag-charts-community/src/options/series/cartesian/heatmapOptions.ts"(){"use strict"}}),gL=L({"packages/ag-charts-community/src/options/series/cartesian/histogramOptions.ts"(){"use strict"}}),fL=L({"packages/ag-charts-community/src/options/series/cartesian/rangeBarOptions.ts"(){"use strict"}}),mL=L({"packages/ag-charts-community/src/options/series/cartesian/rangeAreaOptions.ts"(){"use strict"}}),yL=L({"packages/ag-charts-community/src/options/series/cartesian/scatterOptions.ts"(){"use strict"}}),vL=L({"packages/ag-charts-community/src/options/series/cartesian/waterfallOptions.ts"(){"use strict"}}),xL=L({"packages/ag-charts-community/src/options/series/hierarchy/hierarchyOptions.ts"(){"use strict"}}),bL=L({"packages/ag-charts-community/src/options/series/hierarchy/sunburstOptions.ts"(){"use strict"}}),SL=L({"packages/ag-charts-community/src/options/series/hierarchy/treemapOptions.ts"(){"use strict"}}),_L=L({"packages/ag-charts-community/src/options/series/polar/nightingaleOptions.ts"(){"use strict"}}),ML=L({"packages/ag-charts-community/src/options/series/polar/pieOptions.ts"(){"use strict"}}),kL=L({"packages/ag-charts-community/src/options/series/polar/polarOptions.ts"(){"use strict"}}),DL=L({"packages/ag-charts-community/src/options/series/polar/radarOptions.ts"(){"use strict"}}),AL=L({"packages/ag-charts-community/src/options/series/polar/radarLineOptions.ts"(){"use strict"}}),LL=L({"packages/ag-charts-community/src/options/series/polar/radarAreaOptions.ts"(){"use strict"}}),TL=L({"packages/ag-charts-community/src/options/series/polar/radialColumnOptions.ts"(){"use strict"}}),EL=L({"packages/ag-charts-community/src/options/series/polar/radialOptions.ts"(){"use strict"}}),_v,IL=L({"packages/ag-charts-community/src/options/agChartOptions.ts"(){"use strict";GA(),VA(),WA(),UA(),YA(),HA(),jA(),KA(),XA(),$A(),qA(),ZA(),QA(),JA(),tL(),eL(),iL(),sL(),nL(),rL(),aL(),oL(),lL(),cL(),hL(),uL(),dL(),pL(),gL(),fL(),mL(),yL(),vL(),xL(),bL(),SL(),_L(),ML(),kL(),DL(),AL(),LL(),TL(),EL(),_v=0}}),Fa,oi,Ze=L({"packages/ag-charts-community/src/util/time/interval.ts"(){"use strict";Fa=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,i){var s;const n=(s=this._rangeCallback)==null?void 0:s.call(this,e,t),r=this._encode(i?this.floor(e):this.ceil(e)),a=this._encode(i?this.ceil(t):this.floor(t));if(a<r)return[];const o=[];for(let l=r;l<=a;l++){const c=this._decode(l);o.push(c)}return n?.(),o}},oi=class extends Fa{getOffset(e,t){const i=typeof e=="number"||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(i)%t}every(e,t){let i=0,s;const{snapTo:n="start"}=t??{};if(typeof n=="string"){const o=i;s=(l,c)=>{const h=n==="start"?l:c;return i=this.getOffset(h,e),()=>i=o}}else typeof n=="number"?i=this.getOffset(new Date(n),e):n instanceof Date&&(i=this.getOffset(n,e));const r=o=>{const l=this._encode(o);return Math.floor((l-i)/e)},a=o=>this._decode(o*e+i);return new Fa(r,a,s)}}}});function NL(e){return e.getTime()}function CL(e){return new Date(e)}var Jd,Mv,kv=L({"packages/ag-charts-community/src/util/time/millisecond.ts"(){"use strict";Ze(),Jd=new oi(NL,CL),Mv=Jd}}),OL,Pn,Ue,ns,en,Ba,za,tl,sn=L({"packages/ag-charts-community/src/util/time/duration.ts"(){"use strict";OL=new Date(0).getFullYear(),Pn=1e3,Ue=Pn*60,ns=Ue*60,en=ns*24,Ba=en*7,za=en*30,tl=en*365}});function RL(e){return Math.floor((e.getTime()-tp)/Pn)}function wL(e){return new Date(tp+e*Pn)}var tp,ep,Dv,Av=L({"packages/ag-charts-community/src/util/time/second.ts"(){"use strict";sn(),Ze(),tp=new Date().getTimezoneOffset()*Ue,ep=new oi(RL,wL),Dv=ep}});function PL(e){return Math.floor((e.getTime()-ip)/Ue)}function FL(e){return new Date(ip+e*Ue)}var ip,sp,Lv,Tv=L({"packages/ag-charts-community/src/util/time/minute.ts"(){"use strict";sn(),Ze(),ip=new Date().getTimezoneOffset()*Ue,sp=new oi(PL,FL),Lv=sp}});function BL(e){return Math.floor((e.getTime()-np)/ns)}function zL(e){return new Date(np+e*ns)}var np,rp,Ev,Iv=L({"packages/ag-charts-community/src/util/time/hour.ts"(){"use strict";sn(),Ze(),np=new Date().getTimezoneOffset()*Ue,rp=new oi(BL,zL),Ev=rp}});function GL(e){const t=e.getTimezoneOffset()*Ue;return Math.floor((e.getTime()-t)/en)}function VL(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var ap,Nv,Cv=L({"packages/ag-charts-community/src/util/time/day.ts"(){"use strict";sn(),Ze(),ap=new oi(GL,VL),Nv=ap}});function Cr(e){const i=(7+e-4)%7;function s(r){const a=r.getTimezoneOffset()*Ue;return Math.floor((r.getTime()-a)/Ba-i/7)}function n(r){const a=new Date(1970,0,1);return a.setDate(a.getDate()+r*7+i),a}return new oi(s,n)}var op,Ov,Rv,wv,Pv,Fv,Bv,zv,Gv=L({"packages/ag-charts-community/src/util/time/week.ts"(){"use strict";sn(),Ze(),op=Cr(0),Ov=Cr(1),Rv=Cr(2),wv=Cr(3),Pv=Cr(4),Fv=Cr(5),Bv=Cr(6),zv=op}});function WL(e){return e.getFullYear()*12+e.getMonth()}function UL(e){const t=Math.floor(e/12),i=e-t*12;return new Date(t,i,1)}var lp,Vv,Wv=L({"packages/ag-charts-community/src/util/time/month.ts"(){"use strict";Ze(),lp=new oi(WL,UL),Vv=lp}});function YL(e){return e.getFullYear()}function HL(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var cp,Uv,Yv=L({"packages/ag-charts-community/src/util/time/year.ts"(){"use strict";Ze(),cp=new oi(YL,HL),Uv=cp}});function jL(e){return Math.floor(e.getTime()/Ue)}function KL(e){return new Date(e*Ue)}var Hv,XL=L({"packages/ag-charts-community/src/util/time/utcMinute.ts"(){"use strict";sn(),Ze(),Hv=new oi(jL,KL)}});function $L(e){return Math.floor(e.getTime()/ns)}function qL(e){return new Date(e*ns)}var jv,ZL=L({"packages/ag-charts-community/src/util/time/utcHour.ts"(){"use strict";sn(),Ze(),jv=new oi($L,qL)}});function QL(e){return Math.floor(e.getTime()/en)}function JL(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var Kv,tT=L({"packages/ag-charts-community/src/util/time/utcDay.ts"(){"use strict";sn(),Ze(),Kv=new oi(QL,JL)}});function eT(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function iT(e){const t=Math.floor(e/12),i=e-t*12;return new Date(Date.UTC(t,i,1))}var Xv,sT=L({"packages/ag-charts-community/src/util/time/utcMonth.ts"(){"use strict";Ze(),Xv=new oi(eT,iT)}});function nT(e){return e.getUTCFullYear()}function rT(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var $v,aT=L({"packages/ag-charts-community/src/util/time/utcYear.ts"(){"use strict";Ze(),$v=new oi(nT,rT)}}),qv={};Ls(qv,{day:()=>ap,friday:()=>Fv,hour:()=>rp,millisecond:()=>Jd,minute:()=>sp,monday:()=>Ov,month:()=>lp,saturday:()=>Bv,second:()=>ep,sunday:()=>op,thursday:()=>Pv,tuesday:()=>Rv,utcDay:()=>Kv,utcHour:()=>jv,utcMinute:()=>Hv,utcMonth:()=>Xv,utcYear:()=>$v,wednesday:()=>wv,year:()=>cp});var oT=L({"packages/ag-charts-community/src/util/time/index.ts"(){"use strict";kv(),Av(),Tv(),Iv(),Cv(),Gv(),Wv(),Yv(),XL(),ZL(),tT(),sT(),aT()}}),el,hp=L({"packages/ag-charts-community/src/module/enterpriseModule.ts"(){"use strict";el={isEnterprise:!1}}});function Ts(e){const t=rs.find(i=>e.type===i.type&&e.optionsKey===i.optionsKey&&e.identifier===i.identifier);if(t){if(e.packageType==="enterprise"&&t.packageType==="community"){const i=rs.indexOf(t);rs.splice(i,1,e)}}else rs.push(e)}function Qc(){return rs.some(e=>e.packageType==="enterprise")}function Zv(e,t){th.set(e,t)}var Jc,rs,th,Or=L({"packages/ag-charts-community/src/module/module.ts"(){"use strict";Jc=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},rs=[],th=new Map}});function Es(e){const{length:t}=e;if(t===0)return;let i=1/0,s=-1/0;for(let r=0;r<t;r++){let a=e[r];a instanceof Date&&(a=a.getTime()),typeof a=="number"&&(a<i&&(i=a),a>s&&(s=a))}const n=[i,s];if(!n.some(r=>!isFinite(r)))return n}function Qv(e,t,i){return il(e,t,i).extent}function il(e,t,i){var s;let n=!1;return e.length>2&&(e=(s=Es(e))!=null?s:[NaN,NaN]),isNaN(t)||(n||(n=t>e[0]),e=[t,e[1]]),isNaN(i)||(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}function sl(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!sl(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function eh(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function lT(e){return Array.from(new Set(e))}var li=L({"packages/ag-charts-community/src/util/array.ts"(){"use strict"}});function Jv(e,t){up[t]||(e(),up[t]=!0)}var up,cT=L({"packages/ag-charts-community/src/util/function.ts"(){"use strict";up={}}}),q,ft=L({"packages/ag-charts-community/src/util/logger.ts"(){"use strict";cT(),q={log(...e){console.log(...e)},warn(e,...t){console.warn(`AG Charts - ${e}`,...t)},error(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)},table(...e){console.table(...e)},warnOnce(e,...t){Jv(()=>q.warn(e,...t),`Logger.warn: ${e}`)},errorOnce(e,...t){Jv(()=>q.error(e,...t),`Logger.error: ${e}`)}}}});function dp(e){const t=typeof window<"u"?window:void 0;return t?.[e]}var tx=L({"packages/ag-charts-community/src/util/window.ts"(){"use strict"}}),ex,pp,ix,Kt,as=L({"packages/ag-charts-community/src/util/debug.ts"(){"use strict";li(),ft(),tx(),ex=2e3,pp=Date.now(),ix=()=>{const e=Date.now()-pp;if(e>ex){const t=(Math.floor(e/100)/10).toFixed(1);q.log(`**** ${t}s since last log message ****`)}pp=Date.now()},Kt={create(...e){return(...t)=>{Kt.check(...e)&&(typeof t[0]=="function"&&(t=eh(t[0]())),ix(),q.log(...t))}},check(...e){return e.length===0&&e.push(!0),eh(dp("agChartsDebug")).some(i=>e.includes(i))}}}});function hT(e,t){Object.getOwnPropertyDescriptor(e,Rr)==null&&Object.defineProperty(e,Rr,{value:{}});const i=e[Rr],s=t.toString();if(typeof i[s]<"u")return i[s];const n=new WeakMap;i[s]={setters:[],getters:[],valuesMap:n};const r=Object.getOwnPropertyDescriptor(e,t),a=r?.set,o=r?.get;return Object.defineProperty(e,t,{set:function(h){const{setters:u}=i[s];let d;u.some(p=>p.length>2)&&(d=o?o.call(this):n.get(this));for(const p of u)if(h=p(this,t,h,d),h===nl)return;a?a.call(this,h):n.set(this,h)},get:function(){let h=o?o.call(this):n.get(this);for(const u of i[s].getters)if(h=u(this,t,h),h===nl)return;return h},enumerable:!0,configurable:!1}),i[s]}function nn(e,t,i){return(s,n)=>{const r=hT(s,n);r.setters.push(e),t&&r.getters.unshift(t),i&&Object.assign(r,i)}}function ih(e){return typeof e<"u"&&Rr in e}function Ga(e){const t=new Set;for(;ih(e);)t.add(e?.[Rr]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(i=>Object.keys(i))}function uT(e){return Ga(e).reduce((t,i)=>{var s;return t[i]=(s=e[i])!=null?s:null,t},{})}function dT(e,t){const i=t.toString();for(;ih(e);){const s=e[Rr];if(Object.hasOwn(s,i))return s[i];e=Object.getPrototypeOf(e)}}var nl,Rr,wr=L({"packages/ag-charts-community/src/util/decorator.ts"(){"use strict";nl=Symbol("BREAK"),Rr="__decorator_config"}});function sh(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");q.warnOnce(i)}}function pT(e,t){const i=sh(),s=t?.default;return nn((n,r,a)=>(a!==s&&i(r.toString(),e),a))}function gT(e,t){const i=sh();return nn((s,n,r)=>(r!==s[e]&&(i(n.toString(),`Use [${e}] instead.`),s[e]=t?t(r):r),nl),(s,n)=>(i(n.toString(),`Use [${e}] instead.`),s[e]))}var sx=L({"packages/ag-charts-community/src/util/deprecation.ts"(){"use strict";wr(),ft()}});function fT(){try{return new Function("return true"),!0}catch{return!1}}function Z(e){const{changeCb:t,convertor:i}=e??{};return function(s,n){const r=`__${n}`;s[n]||(nx&&t==null&&i==null?mT(s,n,r,e):yT(s,n,r,e))}}function mT(e,t,i,s){const{redraw:n=1,type:r="normal",checkDirtyOnAssignment:a=!1}=s??{},o=new Function("value",`
        const oldValue = this.${i};
        if (value !== oldValue) {
            this.${i} = value;
            ${r==="normal"?`this.markDirty(this, ${n});`:""}
            ${r==="transform"?`this.markDirtyTransform(${n});`:""}
            ${r==="path"?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${n}); }`:""}
            ${r==="font"?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${n}); }`:""}
        }
        ${a?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}
`),l=new Function(`return this.${i};`);Object.defineProperty(e,t,{set:o,get:l,enumerable:!0,configurable:!0})}function yT(e,t,i,s){const{redraw:n=1,type:r="normal",changeCb:a,convertor:o,checkDirtyOnAssignment:l=!1}=s??{};Object.defineProperty(e,t,{set:function(u){const d=this[i];u=o?o(u):u,u!==d&&(this[i]=u,r==="normal"&&this.markDirty(this,n),r==="transform"&&this.markDirtyTransform(n),r==="path"&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,n)),r==="font"&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,n)),a&&a(this)),l&&u!=null&&u._dirty>0&&this.markDirty(u,u._dirty)},get:function(){return this[i]},enumerable:!0,configurable:!0})}var rn,nx,gp,rl=L({"packages/ag-charts-community/src/scene/changeDetectable.ts"(){"use strict";rn=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(rn||{}),nx=fT(),gp=class{constructor(){this._dirty=3}markDirty(e,t=1){this._dirty>t||(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}}}});function al(e){return e!=null}function Si(e){return Array.isArray(e)}function rx(e){return typeof e=="boolean"}function fp(e){return e instanceof Date}function mp(e){return fp(e)&&!isNaN(Number(e))}function nh(e){return typeof e=="function"}function Pr(e){return typeof e=="object"&&e!==null&&!Si(e)}function vT(e){return typeof e=="object"&&e!==null}function Va(e){return typeof e=="object"&&e!==null&&e.constructor===Object}function Wa(e){return typeof e=="string"}function Is(e){return typeof e=="number"}function ol(e){return Is(e)&&Number.isFinite(e)}function ax(e){return typeof window<"u"&&e instanceof HTMLElement}var Ns=L({"packages/ag-charts-community/src/util/type-guards.ts"(){"use strict"}});function Fi(e){return e instanceof Te||e instanceof ll}var Te,ll,os=L({"packages/ag-charts-community/src/util/properties.ts"(){"use strict";rl(),wr(),ft(),Ns(),Te=class extends gp{constructor(e){super(),this.className=e}set(e){const t=new Set(Object.keys(e));for(const i of Ga(this))if(t.has(i)){const s=e[i],n=this;Fi(n[i])?n[i]=n[i]instanceof ll?n[i].reset(s):n[i].set(s):n[i]=s,t.delete(i)}for(const i of t){const{className:s=this.constructor.name}=this;q.warn(`unable to set [${i}] in ${s} - property is unknown`)}return this}isValid(){return Ga(this).every(e=>{const{optional:t}=dT(this,e);return t||typeof this[e]<"u"})}toJson(){return Ga(this).reduce((e,t)=>(e[t]=this[t],e),{})}},ll=class lA extends Array{constructor(t,...i){super(i.length),Object.defineProperty(this,"itemFactory",{value:t,enumerable:!1,configurable:!1}),this.set(i)}set(t){if(Si(t)){this.length=t.length;for(let i=0;i<t.length;i++)this[i]=new this.itemFactory().set(t[i])}return this}reset(t){return new lA(this.itemFactory,...t)}}}});function Cs(e,t){if(Si(t)){if(!Si(e)||e.length!==t.length||t.some((i,s)=>Cs(e[s],i)!=null))return t}else if(Pr(t)){if(!Pr(e)||!Va(t))return t;const i={},s=new Set([...Object.keys(e),...Object.keys(t)]);for(const n of s)if(e[n]!==t[n])if(typeof e[n]!=typeof t[n])i[n]=t[n];else{const r=Cs(e[n],t[n]);r!==null&&(i[n]=r)}return Object.keys(i).length?i:null}else if(e!==t)return t;return null}function cl(e){return Si(e)?e.map(cl):Va(e)?Object.entries(e).reduce((t,[i,s])=>(t[i]=cl(s),t),{}):e}function Qt(e,t){var i;const s=(i=t?.avoidDeepClone)!=null?i:[];if(e.map(o=>Ua(o)).some(o=>o==="array")){const o=e[e.length-1];return Array.isArray(o)?o.map(l=>{const c=Ua(l);return c==="array"?Qt([[],l],t):c==="object"?Qt([{},l],t):l}):o}const r={},a=new Set(e.map(o=>o!=null?Object.keys(o):[]).reduce((o,l)=>o.concat(l),[]));for(const o of a){const l=e.map(d=>d!=null&&typeof d=="object"&&o in d?d[o]:yp).filter(d=>d!==yp);if(l.length===0)continue;const c=l[l.length-1];if(c===_i)continue;const h=l.map(d=>Ua(d)),u=h[0];if(h.some(d=>d!==u)){r[o]=c;continue}(u==="array"||u==="object")&&!s.includes(o)?r[o]=Qt(l,t):u==="array"?r[o]=[...c]:r[o]=c}return r}function hl(e,t,i={}){var s,n,r;const{path:a,matcherPath:o=a?a.replace(/(\[[0-9+]+])/i,"[]"):void 0,skip:l=[],constructors:c={},constructedArrays:h=new WeakMap,allowedTypes:u={},idx:d}=i;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${a??"<root>"}`);if(t==null)return e;if(Fi(e))return e.set(t);const p=e;d!=null&&"_declarationOrder"in p&&(p._declarationOrder=d);const g=Ua(e);for(const f in t){const m=`${o?o+".":""}${f}`;if(l.indexOf(m)>=0)continue;const y=t[f],v=`${a?a+".":""}${f}`,x=p.constructor,S=p[f];let _=(s=c[m])!=null?s:c[f];try{const D=Ua(S),A=Ua(y);if(g===ul&&!(f in e||Object.hasOwn(p,f))){q.warn(`unable to set [${v}] in ${x?.name} - property is unknown`);continue}const T=(n=u[m])!=null?n:[D];if(!(D===ul&&A==="object")){if(D!=null&&A!=null&&!T.includes(A)){q.warn(`unable to set [${v}] in ${x?.name} - can't apply type of [${A}], allowed types are: [${T}]`);continue}}if(A==="array")if(_=(r=_??h.get(S))!=null?r:c[`${m}[]`],Fi(p[f]))p[f].set(y);else if(_!=null){const I=y;p[f]=I.map((E,N)=>hl(new _,E,X(R({},i),{path:v,matcherPath:m+"[]",idx:N})))}else p[f]=y;else if(A===ul)p[f]=y;else if(A==="object")if(S!=null)hl(S,y,X(R({},i),{path:v,matcherPath:m,idx:void 0}));else if(Fi(p[f]))p[f].set(y);else if(_!=null){const I=new _;Fi(I)?p[f]=I.set(y):p[f]=hl(I,y,X(R({},i),{path:v,matcherPath:m,idx:void 0}))}else p[f]=y;else Fi(p[f])?p[f].set(y):p[f]=y}catch(D){q.warn(`unable to set [${v}] in [${x?.name}]; nested error is: ${D.message}`)}}return e}function Fr(e,t,i,...s){var n;if(Si(e))t(e,...s),e.forEach((r,a)=>{Fr(r,t,i,...ox(s,a))});else if(Va(e)){t(e,...s);for(const r of Object.keys(e)){if((n=i?.skip)!=null&&n.includes(r))continue;const a=e[r];(Si(a)||Va(a))&&Fr(a,t,i,...ox(s,r))}}}function ox(e,t){return e.map(i=>i?.[t])}function Ua(e){return e==null?null:ax(e)||fp(e)?"primitive":Si(e)?"array":Pr(e)?Va(e)?"object":ul:nh(e)?"function":"primitive"}var ul,_i,yp,Os=L({"packages/ag-charts-community/src/util/json.ts"(){"use strict";ft(),os(),Ns(),ul="class-instance",_i=Symbol("<delete-property>"),yp=Symbol("<unspecified-property>")}});function Ye(e){return e%=ls,e+=ls,e%=ls,e}function xT(e){return e%=ls,e+=ls,e!==ls&&(e%=ls),e}function rh(e){return e%=ls,e<-Math.PI?e+=ls:e>=Math.PI&&(e-=ls),e}function Mi(e){return e/180*Math.PI}function bT(e){return e/Math.PI*180}function ST(e,t){return e=Ye(e),t=Ye(t),t-e+(e>t?2*Math.PI:0)}var ls,Bi=L({"packages/ag-charts-community/src/util/angle.ts"(){"use strict";ls=Math.PI*2}}),Qe,dl=L({"packages/ag-charts-community/src/scale/invalidating.ts"(){"use strict";Qe=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(s){this[i]!==s&&(this[i]=s,this.invalid=!0)},enumerable:!0,configurable:!1})}}});function vp(e,t,i){return Math.max(t,Math.min(i,e))}var cs,Ya=L({"packages/ag-charts-community/src/scale/bandScale.ts"(){"use strict";ft(),dl(),cs=class{constructor(){this.type="band",this.invalid=!0,this.interval=1,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&q.warnOnce("Expected update to not invalidate scale"))}set domain(e){this.invalid=!0;const t=[];this.index=new Map;const i=this.index;e.forEach(s=>{i.get(s)===void 0&&i.set(s,t.push(s)-1)}),this._domain=t}get domain(){return this._domain}ticks(){this.refresh();const{interval:e=1}=this,t=Math.abs(Math.round(e));return this._domain.filter((i,s)=>s%t===0)}convert(e){this.refresh();const t=this.index.get(e);if(t===void 0)return NaN;const i=this.ordinalRange[t];return i===void 0?NaN:i}invert(e){this.refresh();const t=this.ordinalRange.findIndex(i=>i===e);return this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=vp(e,0,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this._paddingInner=vp(e,0,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this._paddingOuter=vp(e,0,1)}get paddingOuter(){return this._paddingOuter}update(){const e=this._domain.length;if(e===0)return;const t=this.round,i=this._paddingInner,s=this._paddingOuter,[n,r]=this.range,a=r-n,o=a/Math.max(1,e+2*s-i),l=t?Math.floor(o):o,c=l*(e-i),h=n+(a-c)/2,u=t?Math.round(h):h,d=l*(1-i),p=t?Math.round(d):d,g=o*(1-i),f=[];for(let m=0;m<e;m++)f.push(u+l*m);this._bandwidth=p,this._rawBandwidth=g,this._step=l,this.ordinalRange=f}},b([Qe],cs.prototype,"interval",2),b([Qe],cs.prototype,"range",2),b([Qe],cs.prototype,"round",2)}});function ki(e,t,i){return Math.min(i,Math.max(e,t))}function ah(e,t){return ki(Math.min(...t),e,Math.max(...t))}function oh(e,t,i=1e-10){return Math.abs(e-t)<i}function pl(e){return Math.sign(e)<0||Object.is(e,-0)}function lh(e){return isFinite(e)&&!isNaN(e)}function xp(e,t=2){const i=Math.pow(10,t);return Math.round(e*i)/i}function bp(e,t=2){const i=Math.floor(Math.log(Math.abs(e))/Math.LN10);return i>=0||!isFinite(i)?e.toFixed(t):e.toFixed(Math.abs(i)-1+t)}function ch(e){return lh(e)?e:0}function Sp(e,t){return e>=0?Math.floor(e%t):Math.floor(e%t+t)}var hh,Ee=L({"packages/ag-charts-community/src/util/number.ts"(){"use strict";hh=(e,t=10)=>{const i=(Math.abs(e)%1).toFixed(t);for(let s=i.length-1;s>=2;s-=1)if(i[s]!=="0")return t-(i.length-1-s);return 0}}}),uh,dh,ph,hs,gh=L({"packages/ag-charts-community/src/util/color.ts"(){"use strict";ft(),Ee(),uh=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*zt((i+.055)/1.055,2.4)},dh=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*zt(i,1/2.4)-.055):12.92*e},ph=class St{constructor(t,i,s,n=1){this.r=ki(0,t||0,1),this.g=ki(0,i||0,1),this.b=ki(0,s||0,1),this.a=ki(0,n||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!St.parseHex(t):t.indexOf("rgb")>=0?!!St.stringToRgba(t):!!St.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return St.fromHexString(t);const i=St.nameToHex[t.toLowerCase()];if(i)return St.fromHexString(i);if(t.indexOf("rgb")>=0)return St.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static tryParseFromString(t){try{return St.fromString(t)}catch{return q.warnOnce(`invalid color string: '${t}'.`),St.fromArray([0,0,0])}}static parseHex(t){t=t.replace(/ /g,"").slice(1);let i;switch(t.length){case 6:case 8:i=[];for(let s=0;s<t.length;s+=2)i.push(parseInt(`${t[s]}${t[s+1]}`,16));break;case 3:case 4:i=t.split("").map(s=>parseInt(s,16)).map(s=>s+s*16);break}if(i?.length>=3&&i.every(s=>s>=0))return i.length===3&&i.push(255),i}static fromHexString(t){const i=St.parseHex(t);if(i){const[s,n,r,a]=i;return new St(s/255,n/255,r/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let[i,s]=[NaN,NaN];for(let o=0;o<t.length;o++){const l=t[o];if(!i&&l==="(")i=o;else if(l===")"){s=o;break}}const n=i&&s&&t.substring(i+1,s);if(!n)return;const r=n.split(","),a=[];for(let o=0;o<r.length;o++){const l=r[o];let c=parseFloat(l);if(isNaN(c))return;l.indexOf("%")>=0?(c=Math.max(0,Math.min(100,c)),c/=100):o===3?c=Math.max(0,Math.min(1,c)):(c=Math.max(0,Math.min(255,c)),c/=255),a.push(c)}return a}static fromRgbaString(t){const i=St.stringToRgba(t);if(i){if(i.length===3)return new St(i[0],i[1],i[2]);if(i.length===4)return new St(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new St(t[0],t[1],t[2],t[3]);if(t.length===3)return new St(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,s,n=1){const r=St.HSBtoRGB(t,i,s);return new St(r[0],r[1],r[2],n)}static fromHSL(t,i,s,n=1){const r=St.HSLtoRGB(t,i,s);return new St(r[0],r[1],r[2],n)}static fromOKLCH(t,i,s,n=1){const r=St.OKLCHtoRGB(t,i,s);return new St(r[0],r[1],r[2],n)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+St.padHex(Math.round(this.r*255).toString(16))+St.padHex(Math.round(this.g*255).toString(16))+St.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=St.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const i=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],s=Math.pow(10,t);return this.a!==1?(i.push(Math.round(this.a*s)/s),`rgba(${i.join(", ")})`):`rgb(${i.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return St.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,i,s){const n=uh(t),r=uh(i),a=uh(s),o=Math.cbrt(.4122214708*n+.5363325363*r+.0514459929*a),l=Math.cbrt(.2119034982*n+.6806995451*r+.1073969566*a),c=Math.cbrt(.0883024619*n+.2817188376*r+.6299787005*a),h=.2104542553*o+.793617785*l-.0040720468*c,u=1.9779984951*o-2.428592205*l+.4505937099*c,d=.0259040371*o+.7827717662*l-.808675766*c,p=Math.atan2(d,u)*180/Math.PI,g=h,f=Math.hypot(u,d),m=p>=0?p:p+360;return[g,f,m]}static OKLCHtoRGB(t,i,s){const n=t,r=i*Math.cos(s*Math.PI/180),a=i*Math.sin(s*Math.PI/180),o=zt(n+.3963377774*r+.2158037573*a,3),l=zt(n-.1055613458*r-.0638541728*a,3),c=zt(n-.0894841775*r-1.291485548*a,3),h=4.0767416621*o-3.3077115913*l+.2309699292*c,u=-1.2684380046*o+2.6097574011*l-.3413193965*c,d=-.0041960863*o-.7034186147*l+1.707614701*c,p=dh(h),g=dh(u),f=dh(d);return[p,g,f]}static RGBtoHSL(t,i,s){const n=Math.min(t,i,s),r=Math.max(t,i,s),a=(r+n)/2;let o,l;if(r===n)o=NaN,l=0;else{const c=r-n;l=a>.5?c/(2-r-n):c/(r+n),r===t?o=(i-s)/c+(i<s?6:0):r===i?o=(s-t)/c+2:o=(t-i)/c+4,o*=360/6}return[o,l,a]}static HSLtoRGB(t,i,s){if(i===0)return[s,s,s];const n=s<.5?s*(1+i):s+i-s*i,r=2*s-n;function a(h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?r+(n-r)*6*h:h<1/2?n:h<2/3?r+(n-r)*(2/3-h)*6:r}const o=a(t/360+1/3),l=a(t/360),c=a(t/360-1/3);return[o,l,c]}static RGBtoHSB(t,i,s){const n=Math.min(t,i,s),r=Math.max(t,i,s),a=r!==0?(r-n)/r:0;let o=NaN;if(n!==r){const l=r-n,c=(r-t)/l,h=(r-i)/l,u=(r-s)/l;t===r?o=u-h:i===r?o=2+c-u:o=4+h-c,o/=6,o<0&&(o=o+1)}return[o*360,a,r]}static HSBtoRGB(t,i,s){isNaN(t)&&(t=0),t=(t%360+360)%360/360;let n=0,r=0,a=0;if(i===0)n=r=a=s;else{const o=(t-Math.floor(t))*6,l=o-Math.floor(o),c=s*(1-i),h=s*(1-i*l),u=s*(1-i*(1-l));switch(o>>0){case 0:n=s,r=u,a=c;break;case 1:n=h,r=s,a=c;break;case 2:n=c,r=s,a=u;break;case 3:n=c,r=h,a=s;break;case 4:n=u,r=c,a=s;break;case 5:n=s,r=c,a=h;break}}return[n,r,a]}derive(t,i,s,n){const r=St.RGBtoHSB(this.r,this.g,this.b);let a=r[2];a==0&&s>1&&(a=.05);const o=((r[0]+t)%360+360)%360,l=Math.max(Math.min(r[1]*i,1),0);a=Math.max(Math.min(a*s,1),0);const c=Math.max(Math.min(this.a*n,1),0),h=St.HSBtoRGB(o,l,a);return h.push(c),St.fromArray(h)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(t,i){const s=St.tryParseFromString(t),n=St.tryParseFromString(i);return r=>{const a=(l,c)=>l*(1-r)+c*r;return new St(a(s.r,n.r),a(s.g,n.g),a(s.b,n.b),a(s.a,n.a)).toString()}}},ph.didDebug=!1,ph.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),hs=ph}});function k(e,t={}){const{optional:i=!1}=t;return nn((s,n,r)=>{var a;const o=X(R({},t),{target:s,property:n});if(i&&typeof r>"u"||e(r,o))return Fi(s[n])&&!Fi(r)?(s[n].set(r),s[n]):r;const l=String(n).replace(/^_*/,""),c=(a=s.constructor.className)!=null?a:s.constructor.name.replace(/Properties$/,"");return q.warn(`Property [${l}] of [${c}] cannot be set to [${fl(r)}]${e.message?`; expecting ${gl(e,o)}`:""}, ignoring.`),nl},void 0,{optional:i})}function Jt(e,t="a"){return Lt(i=>e.includes(i),`${t} keyword such as ${_T(e)}`)}function Lt(e,t){return e.message=t,e}function _T(e){const t=e.map(s=>`'${s}'`);if(t.length===1)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}function gl(e,t){return nh(e.message)?e.message(t):e.message}function MT(e){return t=>gl(t,e)}function kT(e){return Object.assign(e,{restrict({length:t,minLength:i}={}){return Lt(s=>Si(s)&&(Is(t)?s.length===t:!0)&&(Is(i)?s.length>=i:!0),Is(i)&&i>0?"a non-empty array":Is(t)?`an array of length ${t}`:"an array")}})}function DT(e){return Object.assign(e,{restrict({min:t,max:i}={}){const s=["a number"],n=Is(t),r=Is(i);return n&&r?s.push(`between ${t} and ${i} inclusive`):n?s.push(`greater than or equal to ${t}`):r&&s.push(`less than or equal to ${i}`),Lt(a=>ol(a)&&(n?a>=t:!0)&&(r?a<=i:!0),s.join(" "))}})}function AT(e){return Object.assign(e,{restrict(t){const i=s=>Fi(s)&&s instanceof t;return Lt((s,n)=>i(s)||Pr(s)&&i(n.target[n.property]),s=>{var n;return(n=gl(e,s))!=null?n:"an object"})}})}function fl(e){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var Di,Rs,xt,ct,us,$,Et,Br,K,Ot,zr,Gr,Ha,ws,ml,ja,Fn,fh,mh,_p,bt,Ps,lx,yl,Mp,cx,kp,Dp,hx,an,yh,on,ln,vl,Ap,ux,dx,Lp,Tp,vh,Ep,px,ht=L({"packages/ag-charts-community/src/util/validation.ts"(){"use strict";gh(),wr(),ft(),os(),Ns(),Di=(...e)=>{const t=[];return Lt((i,s)=>(t.length=0,e.every(n=>{const r=n(i,s);return r||t.push(gl(n,s)),r})),()=>t.filter(Boolean).join(" AND "))},Rs=(...e)=>Lt((t,i)=>e.some(s=>s(t,i)),t=>e.map(MT(t)).filter(Boolean).join(" OR ")),xt=AT(Lt((e,t)=>Fi(e)||Pr(e)&&Fi(t.target[t.property]),"an object")),ct=Lt(rx,"a boolean"),us=Lt(nh,"a function"),$=Lt(Wa,"a string"),Et=DT(Lt(ol,"a number")),Br=Lt(e=>Is(e)&&isNaN(e),"NaN"),K=Et.restrict({min:0}),Ot=Et.restrict({min:0,max:1}),zr=Et.restrict({min:-360,max:360}),Gr=Rs(Et,Br),Ha=kT(Lt(Si,"an array")),ws=(e,t)=>Lt((i,s)=>Si(i)&&i.every(n=>e(n,s)),i=>{var s;const n=(s=gl(Ha,i))!=null?s:"";return t?`${n} of ${t}`:n}),ml=e=>ol(e)||mp(e),ja=e=>Lt((t,i)=>!ml(t)||!ml(i.target[e])||t<i.target[e],`expected to be less than ${e}`),Fn=e=>Lt((t,i)=>!ml(t)||!ml(i.target[e])||t>i.target[e],`expected to be greater than ${e}`),fh=Lt(mp,"Date object"),mh=Rs(fh,K),_p="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",bt=Lt(e=>Wa(e)&&hs.validColorString(e),`color String. ${_p}`),Ps=Lt(ws(bt),`color strings. ${_p}`),lx=ws(ct,"boolean values"),yl=ws(Et,"numbers"),Mp=ws($,"strings"),cx=Lt(ws(fh),"Date objects"),kp=Lt(ws(xt),"objects"),Dp=Jt(["butt","round","square"],"a line cap"),hx=Jt(["round","bevel","miter"],"a line join"),an=Lt(ws(K),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),yh=Jt(["top","right","bottom","left"],"a position"),on=Jt(["normal","italic","oblique"],"a font style"),ln=Rs(Jt(["normal","bold","bolder","lighter"],"a font weight"),Et.restrict({min:1,max:1e3})),vl=Jt(["never","always","hyphenate","on-space"],"a text wrap strategy"),Ap=Jt(["left","center","right"],"a text align"),ux=Jt(["top","middle","bottom"],"a vertical align"),dx=Jt(["ellipsis","hide"],"an overflow strategy"),Lp=Jt(["horizontal","vertical"],"a direction"),Tp=Jt(["inside","outside"],"a placement"),vh=Rs(Jt(["exact","nearest"],"interaction range"),Et),Ep=Rs(Di(Et.restrict({min:1}),ja("maxSpacing")),Br),px=Rs(Di(Et.restrict({min:1}),Fn("minSpacing")),Br)}}),Ip,te=L({"packages/ag-charts-community/src/chart/chartAxisDirection.ts"(){"use strict";Ip=(e=>(e.X="x",e.Y="y",e))(Ip||{})}});function gx(){for(const e in xl)delete xl[e]}function Fs(e){var t;const i=e.constructor,s=Object.hasOwn(i,"className")?i.className:i.name;if(!s)throw new Error(`The ${i} is missing the 'className' property.`);const n=((t=xl[s])!=null?t:0)+1;return xl[s]=n,s+"-"+n}var xl,ds=L({"packages/ag-charts-community/src/util/id.ts"(){"use strict";xl={}}});function fx(e,t,i=1/0){const s={nearest:void 0,distanceSquared:i};for(const n of t){const r=n.distanceSquared(e);if(r===0)return{nearest:n,distanceSquared:0};r<s.distanceSquared&&(s.nearest=n,s.distanceSquared=r)}return s}function LT(e,t,i=1/0){const s=t.transformPoint(e.x,e.y),n={nearest:void 0,distanceSquared:i};for(const r of t.children){const{nearest:a,distanceSquared:o}=r.nearestSquared(s,n.distanceSquared);if(o===0)return{nearest:a,distanceSquared:o};o<n.distanceSquared&&(n.nearest=a,n.distanceSquared=o)}return n}var mx=L({"packages/ag-charts-community/src/scene/nearest.ts"(){"use strict"}}),xh,ut,Pt=L({"packages/ag-charts-community/src/scene/bbox.ts"(){"use strict";mx(),xh=class lv{constructor(t,i,s,n){this.x=t,this.y=i,this.width=s,this.height=n}clone(){const{x:t,y:i,width:s,height:n}=this;return new lv(t,i,s,n)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,i){return t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}isInfinite(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0}distanceSquared(t){if(this.containsPoint(t.x,t.y))return 0;const i=t.x-Math.max(this.x,Math.min(t.x,this.x+this.width)),s=t.y-Math.max(this.y,Math.min(t.y,this.y+this.height));return i*i+s*s}static nearestBox(t,i){return fx(t,i)}shrink(t,i){const s=(n,r)=>{switch(n){case"top":this.y+=r;case"bottom":this.height-=r;break;case"left":this.x+=r;case"right":this.width-=r;break;case"vertical":this.y+=r,this.height-=r*2;break;case"horizontal":this.x+=r,this.width-=r*2;break;case void 0:this.x+=r,this.width-=r*2,this.y+=r,this.height-=r*2;break;default:}};return typeof t=="number"?s(i,t):typeof t=="object"&&Object.entries(t).forEach(([n,r])=>s(n,r)),this}grow(t,i){if(typeof t=="number")this.shrink(-t,i);else{const s=R({},t);for(const n in s)s[n]*=-1;this.shrink(s)}return this}static merge(t){let i=1/0,s=1/0,n=-1/0,r=-1/0;return t.forEach(a=>{a.x<i&&(i=a.x),a.y<s&&(s=a.y),a.x+a.width>n&&(n=a.x+a.width),a.y+a.height>r&&(r=a.y+a.height)}),new lv(i,s,n-i,r-s)}},xh.zero=new xh(0,0,0,0),ut=xh}}),bh,zi,Np=L({"packages/ag-charts-community/src/scene/matrix.ts"(){"use strict";Pt(),bh=class Bc{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){const i=this.elements;return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],this}get identity(){const t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0}AxB(t,i,s){const n=t[0]*i[0]+t[2]*i[1],r=t[1]*i[0]+t[3]*i[1],a=t[0]*i[2]+t[2]*i[3],o=t[1]*i[2]+t[3]*i[3],l=t[0]*i[4]+t[2]*i[5]+t[4],c=t[1]*i[4]+t[3]*i[5]+t[5];s=s??t,s[0]=n,s[1]=r,s[2]=a,s[3]=o,s[4]=l,s[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const i=new Array(6);return this.AxB(this.elements,t.elements,i),new Bc(i)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],s=t[1],n=t[2],r=t[3];const a=t[4],o=t[5],l=1/(i*r-s*n);return i*=l,s*=l,n*=l,r*=l,new Bc([r,-s,-n,i,n*o-r*a,s*a-i*o])}inverseTo(t){const i=this.elements;let s=i[0],n=i[1],r=i[2],a=i[3];const o=i[4],l=i[5],c=1/(s*a-n*r);return s*=c,n*=c,r*=c,a*=c,t.setElements([a,-n,-r,s,r*l-a*o,n*o-s*l]),this}invertSelf(){const t=this.elements;let i=t[0],s=t[1],n=t[2],r=t[3];const a=t[4],o=t[5],l=1/(i*r-s*n);return i*=l,s*=l,n*=l,r*=l,t[0]=r,t[1]=-s,t[2]=-n,t[3]=i,t[4]=n*o-r*a,t[5]=s*a-i*o,this}transformPoint(t,i){const s=this.elements;return{x:t*s[0]+i*s[2]+s[4],y:t*s[1]+i*s[3]+s[5]}}transformBBox(t,i){const s=this.elements,n=s[0],r=s[1],a=s[2],o=s[3],l=t.width*.5,c=t.height*.5,h=t.x+l,u=t.y+c,d=Math.abs(l*n)+Math.abs(c*a),p=Math.abs(l*r)+Math.abs(c*o);return i||(i=new ut(0,0,0,0)),i.x=h*n+u*a+s[4]-d,i.y=h*r+u*o+s[5]-p,i.width=d+d,i.height=p+p,i}toContext(t){if(this.identity)return;const i=this.elements;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}static flyweight(t){return Bc.instance.setElements(t.elements)}static updateTransformMatrix(t,i,s,n,r,a,o){const[l,c]=[0,0],h=i,u=s;let d,p;h===1&&u===1?(d=0,p=0):(d=o?.scalingCenterX==null?l:o?.scalingCenterX,p=o?.scalingCenterY==null?c:o?.scalingCenterY);const g=n,f=Math.cos(g),m=Math.sin(g);let y,v;g===0?(y=0,v=0):(y=o?.rotationCenterX==null?l:o?.rotationCenterX,v=o?.rotationCenterY==null?c:o?.rotationCenterY);const x=r,S=a,_=d*(1-h)-y,D=p*(1-u)-v;return t.setElements([f*h,m*h,-m*u,f*u,f*_-m*D+y+x,m*_+f*D+v+S]),t}static fromContext(t){const i=t.getTransform();return new Bc([i.a,i.b,i.c,i.d,i.e,i.f])}},bh.instance=new bh,zi=bh}}),Cp,Op,Je,Vr,Yt=L({"packages/ag-charts-community/src/scene/node.ts"(){"use strict";ds(),rl(),Np(),Cp=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(Cp||{}),Op=e=>{e.parent&&(e.parent.dirtyZIndex=!0),e.zIndexChanged()},Je=class cA extends gp{constructor({isVirtual:t,tag:i}={}){super(),this.serialNumber=cA._nextSerialNumber++,this.id=Fs(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new zi,this.inverseMatrix=new zi,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=i??NaN}get datum(){var t,i;return(i=this._datum)!=null?i:(t=this._parent)==null?void 0:t.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(const i of this._children)i._setLayerManager(t);for(const i of this._virtualChildren)i._setLayerManager(t)}get layerManager(){return this._layerManager}get parent(){return this._parent}get children(){if(this._virtualChildren.length===0)return this._children;const t=[...this._children];for(const i of this._virtualChildren)t.push(...i.children);return t}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,i){const s=i??Object.keys(t);for(const n of s)this[n]=t[n];return this}append(t){Array.isArray(t)||(t=[t]);for(const i of t){if(i.parent)throw new Error(`${i} already belongs to another parent: ${i.parent}.`);if(i.layerManager)throw new Error(`${i} already belongs to a scene: ${i.layerManager}.`);if(this.childSet[i.id])throw new Error(`Duplicate ${i.constructor.name} node: ${i}`);i.isVirtual?this._virtualChildren.push(i):this._children.push(i),this.childSet[i.id]=!0,i._parent=this,i._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){const i=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&i(),t.isVirtual){const s=this._virtualChildren.indexOf(t);s<0&&i(),this._virtualChildren.splice(s,1)}else{const s=this._children.indexOf(t);s<0&&i(),this._children.splice(s,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=zi.flyweight(this.matrix);let i=this.parent;for(;i;)i.computeTransformMatrix(),t.preMultiplySelf(i.matrix),i=i.parent;return t}transformPoint(t,i){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,i)}inverseTransformPoint(t,i){return this.calculateCumulativeMatrix().transformPoint(t,i)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(t,i){return!1}pickNode(t,i){var s;if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,i))return;const n=this.children;if(n.length>1e3)for(let r=n.length-1;r>=0;r--){const a=n[r],l=((s=a.computeTransformedBBox())==null?void 0:s.containsPoint(t,i))?a.pickNode(t,i):void 0;if(l)return l}else if(n.length)for(let r=n.length-1;r>=0;r--){const a=n[r].pickNode(t,i);if(a)return a}else if(!this.isContainerNode)return this}findNodes(t){const i=t(this)?[this]:[];for(const s of this.children){const n=s.findNodes(t);n&&i.push(...n)}return i}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const i=zi.flyweight(this.matrix);let s=this.parent;for(;s;)s.computeTransformMatrix(),i.preMultiplySelf(s.matrix),s=s.parent;return i.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:i,scalingY:s,rotation:n,translationX:r,translationY:a,scalingCenterX:o,scalingCenterY:l,rotationCenterX:c,rotationCenterY:h}=this;zi.updateTransformMatrix(t,i,s,n,r,a,{scalingCenterX:o,scalingCenterY:l,rotationCenterX:c,rotationCenterY:h}),t.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}render(t){const{stats:i}=t;this._dirty=0,i&&i.nodesRendered++}clearBBox(t){const i=this.computeBBox();if(i==null)return;const{x:s,y:n,width:r,height:a}=i,o=this.transformPoint(s,n),l=this.transformPoint(s+r,n+a);t.clearRect(o.x,o.y,l.x-o.x,l.y-o.y)}markDirty(t,i=1,s=i){this._dirty>i||this._dirty===i&&i===s||(this._dirty=i,this.parent?this.parent.markDirty(this,s):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:i=!1,recursive:s=!0}=t??{};if(!(this._dirty===0&&!i)){if(this._dirty=0,s!==!1)for(const n of this._virtualChildren)n.markClean({force:i});if(s===!0)for(const n of this._children)n.markClean({force:i})}}visibilityChanged(){}get nodeCount(){let t=1,i=this._dirty>=0||this.dirtyTransform?1:0,s=this.visible?1:0;const n=r=>{const{count:a,visibleCount:o,dirtyCount:l}=r.nodeCount;t+=a,s+=o,i+=l};for(const r of this._children)n(r);for(const r of this._virtualChildren)n(r);return{count:t,visibleCount:s,dirtyCount:i}}zIndexChanged(){}},Je._nextSerialNumber=0,b([Z({type:"transform"})],Je.prototype,"scalingX",2),b([Z({type:"transform"})],Je.prototype,"scalingY",2),b([Z({type:"transform"})],Je.prototype,"scalingCenterX",2),b([Z({type:"transform"})],Je.prototype,"scalingCenterY",2),b([Z({type:"transform"})],Je.prototype,"rotationCenterX",2),b([Z({type:"transform"})],Je.prototype,"rotationCenterY",2),b([Z({type:"transform"})],Je.prototype,"rotation",2),b([Z({type:"transform"})],Je.prototype,"translationX",2),b([Z({type:"transform"})],Je.prototype,"translationY",2),b([Z({redraw:3,changeCb:e=>e.visibilityChanged()})],Je.prototype,"visible",2),b([Z({redraw:1,changeCb:Op})],Je.prototype,"zIndex",2),b([Z({redraw:1,changeCb:Op})],Je.prototype,"zIndexSubOrder",2),Vr=Je}});function yx(){if(typeof navigator>"u")return!1;const e=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(e==null)return!1;const t=e[1].split("_"),i=Number(t[0]);return i>16?!1:i===16?Number(t[1])<6:!0}var vx=L({"packages/ag-charts-community/src/util/userAgent.ts"(){"use strict"}}),Sh,Ht,cn=L({"packages/ag-charts-community/src/scene/canvas/hdpiCanvas.ts"(){"use strict";vx(),Sh=class cv{constructor(t){this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0;const{document:i,window:s,width:n=600,height:r=300,domLayer:a=!1,zIndex:o=0,name:l=void 0,overrideDevicePixelRatio:c=void 0}=t;this.document=i,this.window=s,cv.document=i,this.element=i.createElement("canvas"),this.element.width=n,this.element.height=r,this.realContext=this.element.getContext("2d"),this.imageSource=this.realContext.canvas;const{style:h}=this.element;h.userSelect="none",h.display="block",a&&(h.position="absolute",h.zIndex=String(o),h.top="0",h.left="0",h.pointerEvents="none",h.opacity="1",l&&(this.element.id=l)),this.context=this.setPixelRatio(c),this.resize(n,r)}set container(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)}get container(){return this._container}set enabled(t){this.element.style.display=t?"block":"none",this._enabled=!!t}get enabled(){return this._enabled}remove(){const{parentNode:t}=this.element;t?.removeChild(this.element)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}snapshot(){}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}toImage(){const t=this.document.createElement("img");return t.src=this.getDataURL(),t}getDataURL(t){return this.element.toDataURL(t)}download(t,i="image/png"){t=(t??"").trim()||"image";const s=this.getDataURL(i),n=this.document,r=n.createElement("a");r.href=s,r.download=t,r.style.display="none",n.body.appendChild(r),r.click(),n.body.removeChild(r)}get pixelRatio(){return this._pixelRatio}setPixelRatio(t){let i=t??this.window.devicePixelRatio;return yx()&&(i=1),this._pixelRatio=i,cv.overrideScale(this.realContext,i)}set pixelated(t){this.element.style.imageRendering=t?"pixelated":"auto"}get pixelated(){return this.element.style.imageRendering==="pixelated"}get width(){return this._width}get height(){return this._height}resize(t,i){if(!(t>0&&i>0))return;const{element:s,context:n,pixelRatio:r}=this;s.width=Math.round(t*r),s.height=Math.round(i*r),s.style.width=t+"px",s.style.height=i+"px",n.resetTransform(),this._width=t,this._height=i}static get textMeasuringContext(){if(this._textMeasuringContext)return this._textMeasuringContext;const t=this.document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext}static get svgText(){if(this._svgText)return this._svgText;const t="http://www.w3.org/2000/svg",i=document.createElementNS(t,"svg");i.setAttribute("width","100"),i.setAttribute("height","100"),i.classList?i.classList.add("text-measuring-svg"):i.setAttribute("class","text-measuring-svg"),i.style.position="absolute",i.style.top="-1000px",i.style.visibility="hidden";const s=document.createElementNS(t,"text");return s.setAttribute("x","0"),s.setAttribute("y","30"),s.setAttribute("text","black"),i.appendChild(s),document.body.appendChild(i),this._svgText=s,s}static get has(){if(this._has)return this._has;const t=typeof navigator>"u"||navigator.userAgent.indexOf("Chrome")>-1,i=typeof navigator<"u"&&navigator.userAgent.indexOf("Firefox")>-1,s=!t&&typeof navigator<"u"&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:this.textMeasuringContext.measureText("test").actualBoundingBoxDescent!==void 0&&!i&&!s,getTransform:this.textMeasuringContext.getTransform!==void 0}),this._has}static measureText(t,i,s,n){const r=this.textMeasuringContext;return r.font=i,r.textBaseline=s,r.textAlign=n,r.measureText(t)}static getTextSize(t,i){if(this.has.textMetrics){const s=this.textMeasuringContext;s.font=i;const n=s.measureText(t);return{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}}else return this.measureSvgText(t,i)}static measureSvgText(t,i){const s=this.textSizeCache,n=s[i];if(n){const l=n[t];if(l)return l}else s[i]={};const r=this.svgText;r.style.font=i,r.textContent=t;const a=r.getBBox(),o={width:a.width,height:a.height};return s[i][t]=o,o}static overrideScale(t,i){let s=0;const n={save(){this.$save(),s++},restore(){if(s>0)this.$restore(),s--;else throw new Error("AG Charts - Unable to restore() past depth 0")},setTransform(r,a,o,l,c,h){typeof r=="object"?this.$setTransform(r):this.$setTransform(r*i,a*i,o*i,l*i,c*i,h*i)},resetTransform(){this.$setTransform(i,0,0,i,0,0)},verifyDepthZero(){if(s!==0)throw new Error("AG Charts - Save/restore depth is non-zero: "+s)}};for(const r in n)Object.hasOwn(n,r)&&(t["$"+r]||(t["$"+r]=t[r]),t[r]=n[r]);return t}},Sh.document=globalThis.document,Sh.textSizeCache={},Ht=Sh}}),xx,TT=L({"packages/ag-charts-community/src/scene/gradient/gradient.ts"(){"use strict";xx=class{constructor(){this.stops=[]}}}}),bx,ET=L({"packages/ag-charts-community/src/scene/gradient/linearGradient.ts"(){"use strict";Bi(),TT(),bx=class extends xx{constructor(){super(...arguments),this.angle=0}createGradient(e,t){const{stops:s,angle:n}=this,r=Ye(Mi(n+90)),a=Math.cos(r),o=Math.sin(r),l=t.width,c=t.height,h=t.x+l*.5,u=t.y+c*.5;if(l>0&&c>0){const d=Math.sqrt(c*c+l*l)/2,p=Math.atan2(c,l);let g;r<Math.PI/2?g=r:r<Math.PI?g=Math.PI-r:r<3*Math.PI/2?g=r-Math.PI:g=2*Math.PI-r;const f=d*Math.abs(Math.cos(g-p)),m=e.createLinearGradient(h+a*f,u+o*f,h-a*f,u-o*f);return s.forEach(y=>{m.addColorStop(y.offset,y.color)}),m}return"black"}}}}),Sx,ci,Ai,Bn=L({"packages/ag-charts-community/src/scene/shape/shape.ts"(){"use strict";ET(),Yt(),Sx=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,ci=class Qs extends Vr{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=Qs.defaultStyles.fill,this.stroke=Qs.defaultStyles.stroke,this.strokeWidth=Qs.defaultStyles.strokeWidth,this.lineDash=Qs.defaultStyles.lineDash,this.lineDashOffset=Qs.defaultStyles.lineDashOffset,this.lineCap=Qs.defaultStyles.lineCap,this.lineJoin=Qs.defaultStyles.lineJoin,this.opacity=Qs.defaultStyles.opacity,this.fillShadow=Qs.defaultStyles.fillShadow}restoreOwnStyles(){const t=this.constructor.defaultStyles,i=Object.getOwnPropertyNames(t);for(let s=0,n=i.length;s<n;s++){const r=i[s];this[r]=t[r]}}updateGradient(){const{fill:t}=this;let i;if(t?.startsWith("linear-gradient")&&(i=Sx.exec(t))){const s=parseFloat(i[1]),n=[],r=i[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let o;for(;o=a.exec(r);)n.push(o[0]);this.gradient=new bx,this.gradient.angle=s,this.gradient.stops=n.map((l,c)=>({offset:c/(n.length-1),color:l}))}else this.gradient=void 0}align(t,i){var s,n,r;const a=(r=(n=(s=this.layerManager)==null?void 0:s.canvas)==null?void 0:n.pixelRatio)!=null?r:1,o=Math.round(t*a)/a;return i==null?o:i===0?0:i<1?Math.ceil(i*a)/a:Math.round((i+t)*a)/a-o}fillStroke(t){this.renderFill(t),this.renderStroke(t)}renderFill(t){if(this.fill){const{globalAlpha:i}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=i}t.shadowColor="rgba(0, 0, 0, 0)"}applyFill(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill}applyFillAlpha(t){const{globalAlpha:i}=t;t.globalAlpha=i*this.opacity*this.fillOpacity}applyShadow(t){var i,s;const n=(s=(i=this.layerManager)==null?void 0:i.canvas.pixelRatio)!=null?s:1,r=this.fillShadow;r?.enabled&&(t.shadowColor=r.color,t.shadowOffsetX=r.xOffset*n,t.shadowOffsetY=r.yOffset*n,t.shadowBlur=r.blur*n)}renderStroke(t){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=t;t.strokeStyle=this.stroke,t.globalAlpha=i*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=i}}containsPoint(t,i){return this.isPointInPath(t,i)}},ci.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),b([Z({redraw:2})],ci.prototype,"fillOpacity",2),b([Z({redraw:2})],ci.prototype,"strokeOpacity",2),b([Z({redraw:2,changeCb:e=>e.updateGradient()})],ci.prototype,"fill",2),b([Z({redraw:2})],ci.prototype,"stroke",2),b([Z({redraw:2})],ci.prototype,"strokeWidth",2),b([Z({redraw:2})],ci.prototype,"lineDash",2),b([Z({redraw:2})],ci.prototype,"lineDashOffset",2),b([Z({redraw:2})],ci.prototype,"lineCap",2),b([Z({redraw:2})],ci.prototype,"lineJoin",2),b([Z({redraw:2,convertor:e=>Math.min(1,Math.max(0,e))})],ci.prototype,"opacity",2),b([Z({redraw:2,checkDirtyOnAssignment:!0})],ci.prototype,"fillShadow",2),Ai=ci}});function _h(e){const{redraw:t=3,changeCb:i}=e??{};return Z({redraw:t,type:"font",changeCb:i})}function IT(e){const t=new Map,i=n=>Ht.getTextSize(n,e);return{size:i,width:n=>{if(t.has(n))return t.get(n);const{width:r}=i(n);return t.set(n,r),r}}}function zn(e){const{fontFamily:t,fontSize:i,fontStyle:s,fontWeight:n}=e;return[s??"",n??"",i+"px",t].join(" ").trim()}function NT(e,t,i,s){return Ht.has.textMetrics?_x(e,t,i,s):Mx(e,t,i,s)}function _x(e,t,i,s){var n,r;let a=0,o=0,l=0,c=0,h=0;const u=zn(s),{lineHeight:d,textBaseline:p=Tt.defaultStyles.textBaseline,textAlign:g=Tt.defaultStyles.textAlign}=s;for(let f=0;f<e.length;f++){const m=Ht.measureText(e[f],u,p,g);a=Math.max(a,m.actualBoundingBoxLeft),l=Math.max(l,m.width),f==0?(o+=m.actualBoundingBoxAscent,c+=m.actualBoundingBoxAscent):h+=(n=m.fontBoundingBoxAscent)!=null?n:m.emHeightAscent,f==e.length-1?c+=m.actualBoundingBoxDescent:h+=(r=m.fontBoundingBoxDescent)!=null?r:m.emHeightDescent}return d!==void 0&&(h=(e.length-1)*d),c+=h,o+=h*kx(p),new ut(t-a,i-o,l,c)}function Mx(e,t,i,s){let n=0,r=0,a=0;const o=zn(s),{lineHeight:l,textBaseline:c=Tt.defaultStyles.textBaseline,textAlign:h=Tt.defaultStyles.textAlign}=s;if(e.length>0){const u=Ht.getTextSize(e[0],o);n=u.width,r=u.height}for(let u=1;u<e.length;u++){const d=Ht.getTextSize(e[u],o);n=Math.max(n,d.width),a+=l??d.height}switch(h){case"end":case"right":t-=n;break;case"center":t-=n/2}switch(c){case"alphabetic":i-=r*.7+a*.5;break;case"middle":i-=r*.45+a*.5;break;case"ideographic":i-=r+a;break;case"hanging":i-=r*.2+a*.5;break;case"bottom":i-=r+a;break}return new ut(t,i,n,r+a)}function kx(e){switch(e){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}function Dx(e){return typeof e=="string"?e.split(/\r?\n/g):[]}var Mh,Ie,Tt,hi=L({"packages/ag-charts-community/src/scene/shape/text.ts"(){"use strict";Pt(),cn(),Yt(),Bn(),Mh="\u2026",Ie=class Pi extends Ai{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Pi.defaultStyles.textAlign,this.textBaseline=Pi.defaultStyles.textBaseline,this.lineHeight=void 0}_setLines(){this.lines=Dx(this.text)}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=zn(this)),this._font}computeBBox(){return Ht.has.textMetrics?_x(this.lines,this.x,this.y,this):Mx(this.lines,this.x,this.y,this)}getLineHeight(t){var i,s;if(this.lineHeight)return this.lineHeight;if(Ht.has.textMetrics){const n=Ht.measureText(t,this.font,this.textBaseline,this.textAlign);return((i=n.fontBoundingBoxAscent)!=null?i:n.emHeightAscent)+((s=n.fontBoundingBoxDescent)!=null?s:n.emHeightDescent)}return Ht.getTextSize(t,this.font).height}isPointInPath(t,i){const s=this.transformPoint(t,i),n=this.computeBBox();return n?n.containsPoint(s.x,s.y):!1}render(t){const{ctx:i,forceRender:s,stats:n}=t;if(this.dirty===0&&!s){n&&(n.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){n&&(n.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(i);const{fill:r,stroke:a,strokeWidth:o}=this;i.font=this.font,i.textAlign=this.textAlign,i.textBaseline=this.textBaseline;const l=this.layerManager.canvas.pixelRatio||1,{globalAlpha:c}=i;if(r){i.fillStyle=r,i.globalAlpha=c*this.opacity*this.fillOpacity;const{fillShadow:h}=this;h?.enabled&&(i.shadowColor=h.color,i.shadowOffsetX=h.xOffset*l,i.shadowOffsetY=h.yOffset*l,i.shadowBlur=h.blur*l),this.renderLines((u,d,p)=>i.fillText(u,d,p))}if(a&&o){i.strokeStyle=a,i.lineWidth=o,i.globalAlpha=c*this.opacity*this.strokeOpacity;const{lineDash:h,lineDashOffset:u,lineCap:d,lineJoin:p}=this;h&&i.setLineDash(h),u&&(i.lineDashOffset=u),d&&(i.lineCap=d),p&&(i.lineJoin=p),this.renderLines((g,f,m)=>i.strokeText(g,f,m))}super.render(t)}renderLines(t){const{lines:i,x:s,y:n}=this,r=this.lines.map(l=>this.getLineHeight(l));let o=-(r.reduce((l,c)=>l+c,0)-r[0])*kx(this.textBaseline);for(let l=0;l<i.length;l++)t(i[l],s,n+o),o+=r[l]}static wrapLines(t,i,s,n,r,a){const o=a!=="hide",l=zn(n),c=IT(l),h=t.split(/\r?\n/g);if(h.length===0)return{lines:void 0,truncated:!1};if(r==="never"){const{text:g,truncated:f}=Pi.truncateLine(h[0],i,c,o?"auto":"never");return{lines:g!=null?[g]:void 0,truncated:f}}const u=[];let d=0,p=!1;for(const g of h){const f=Pi.wrapLine(g,i,s,c,n,r,d,o);if(f==null)return{lines:void 0,truncated:!1};if(u.push(...f.result),d=f.cumulativeHeight,f.truncated){p=!0;break}}return{lines:u,truncated:p}}static wrap(t,i,s,n,r,a="ellipsis"){const{lines:o,truncated:l}=Pi.wrapLines(t,i,s,n,r,a);return{text:o!=null?o.join(`
`).trim():"",truncated:l}}static wrapLine(t,i,s,n,r,a,o,l){if(t=t.trim(),!t)return{result:[],truncated:!1,cumulativeHeight:o};const c=n.size(t);if(c.width<=i)return{result:[t],truncated:!1,cumulativeHeight:o+c.height};if(c.height>s||n.width("W")>i)return l?{result:[],truncated:!0,cumulativeHeight:o}:void 0;const h=t.split(/\s+/g),u=Pi.wrapLineSequentially(h,i,s,n,r,a,o,l);if(u==null)return;o=u.cumulativeHeight;let{lines:d}=u;if(!(u.wordsBrokenOrTruncated||u.linesTruncated)){const g=u.lines.length,f=Pi.wrapLineBalanced(h,i,n,g);f.length===d.length&&(d=f)}return{result:d.map(g=>g.join(" ")),truncated:u.linesTruncated,cumulativeHeight:o}}static breakWord(t,i,s,n,r){const a=p=>Pi.punctuationMarks.includes(t[p]),o=n?r.width("-"):0,l=[];let c=0,h=0;for(let p=0;p<t.length;p++){const g=t[p],f=r.width(g),m=h===0?i:s;c+f+o>m&&(l.push(p),c=0,h++),c+=f}const u=[];let d=0;for(const p of l){let g=t.substring(d,p);n&&g.length>0&&!a(p-1)&&!a(p)&&(g+="-"),u.push(g),d=p}return u.push(t.substring(d)),u}static truncateLine(t,i,s,n){t=t.trimEnd();const r=s.width(t);if(r>i&&n==="never")return{text:void 0,truncated:!1};if(r<=i&&n!=="force")return{text:t,truncated:!1};const a=s.width(Mh);let o=t,l=r;for(;o.length>0&&l+a>i;)o=o.slice(0,-1).trimEnd(),l=s.width(o);return l+a<=i?{text:`${o}${Mh}`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(t,i,s,n,r,a,o,l){const{fontSize:c=0,lineHeight:h=c*Pi.defaultLineHeightRatio}=r,u=a==="always"||a==="hyphenate",d=a==="hyphenate",p=n.width(" ");let g=!1,f=!1;const m=[];let y=[],v=0;const x=()=>({lines:m,linesTruncated:f,wordsBrokenOrTruncated:g,cumulativeHeight:o}),S=()=>{if(!l)return;const D=y.join(" "),{text:A}=Pi.truncateLine(D,i,n,"force");if(A!=null)return y.splice(0,y.length,A),f=!0,x()},_=()=>{const D=o+h;return D>=s?!1:(y=[],v=0,o=D,m.push(y),!0)};if(!_())return S();for(let D=0;D<t.length;D++){const A=t[D],T=n.width(A),I=y.length===0?0:p,E=v+I+T;if(E<=i){y.push(A),v=E;continue}if(T<=i){if(!_())return S();y.push(A),v=T;continue}if(g=!0,u){const N=i-v-I,C=Pi.breakWord(A,N,i,d,n);for(let O=0;O<C.length;O++){const w=C[O];if(w&&y.push(w),O===C.length-1)v=n.width(w);else if(!_())return S()}}else if(l){if(!_())return S();const{text:N}=Pi.truncateLine(A,i,n,"force");if(N==null)return;y.push(N),D<t.length-1&&(f=!0);break}else return}return x()}static wrapLineBalanced(t,i,s,n){const r=t.reduce((p,g)=>p+s.width(g),0),a=s.width(" "),o=a*(t.length-n-2),l=(r+o)/n,c=[];let h=[],u=s.width(t[0]),d=!0;for(const p of t){const g=s.width(p);if(d){h=[],h.push(p),u=g,d=!1,c.push(h);continue}const f=u+a+g;f<=l?(h.push(p),u=f):f<=i?(h.push(p),d=!0):(h=[p],u=g,c.push(h))}return c}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}},Ie.className="Text",Ie.defaultLineHeightRatio=1.15,Ie.defaultStyles=Object.assign({},Ai.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),Ie.ellipsis=Mh,Ie.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"],b([Z({redraw:3})],Ie.prototype,"x",2),b([Z({redraw:3})],Ie.prototype,"y",2),b([Z({redraw:3,changeCb:e=>e._setLines()})],Ie.prototype,"text",2),b([_h()],Ie.prototype,"fontStyle",2),b([_h()],Ie.prototype,"fontWeight",2),b([_h()],Ie.prototype,"fontSize",2),b([_h()],Ie.prototype,"fontFamily",2),b([Z({redraw:3})],Ie.prototype,"textAlign",2),b([Z({redraw:3})],Ie.prototype,"textBaseline",2),b([Z({redraw:3})],Ie.prototype,"lineHeight",2),Tt=Ie}});function CT(...e){const t=e[e.length-1];if(e.length===1)return nn((s,n,r)=>(s[t]=r,r),(s,n)=>s[t]);const i=s=>{let n=s;for(let r=0;r<e.length-1;r+=1)n=n[e[r]];return n};return nn((s,n,r)=>(i(s)[t]=r,r),(s,n)=>i(s)[t])}function OT(e){return nn((t,i,s)=>(t[e]=s,s))}function It(e,t){return nn((i,s,n)=>(i[e][t??s]=n,n))}function He(e){const{newValue:t,oldValue:i,changeValue:s}=e;return nn((n,r,a,o)=>(a!==o&&(o!==void 0&&i?.call(n,o),a!==void 0&&t?.call(n,a),s?.call(n,a,o)),a))}var hn=L({"packages/ag-charts-community/src/util/proxy.ts"(){"use strict";wr()}});function Rp(e,t){const i=e.createElement("style");i.innerHTML=t,e.head.insertBefore(i,e.head.querySelector("style"))}var wp=L({"packages/ag-charts-community/src/util/dom.ts"(){"use strict"}});function bl(e,t){var i,s,n;if(typeof e=="string")return e;const{content:r=(i=t?.content)!=null?i:"",title:a=t?.title,color:o=(s=t?.color)!=null?s:"white",backgroundColor:l=(n=t?.backgroundColor)!=null?n:"#888"}=e,c=a?`<div class="${Gt}-title"
        style="color: ${o}; background-color: ${l}">${a}</div>`:"",h=r?`<div class="${Gt}-content">${r}</div>`:"";return`${c}${h}`}var Gt,Pp,Ax,Ka,un,Fp,Sl=L({"packages/ag-charts-community/src/chart/tooltip/tooltip.ts"(){"use strict";Pt(),wp(),os(),ht(),Gt="ag-chart-tooltip",Pp="ag-chart-dark-tooltip",Ax=`
.${Gt} {
    transition: transform 0.1s ease;
    max-width: 100%;
    position: fixed;
    left: 0px;
    top: 0px;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: rgb(70, 70, 70);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.${Gt}-wrap-always {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
}

.${Gt}-wrap-hyphenate {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

.${Gt}-wrap-on-space {
    overflow-wrap: normal;
    word-break: normal;
}

.${Gt}-wrap-never {
    white-space: pre;
    text-overflow: ellipsis;
}

.${Gt}-no-interaction {
    pointer-events: none;
    user-select: none;
}

.${Gt}-no-animation {
    transition: none !important;
}

.${Gt}-hidden {
    visibility: hidden;
}

.${Gt}-title {
    overflow: hidden;
    position: relative;
    padding: 8px 14px;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    color: white;
    background-color: #888888;
    z-index: 1;
    text-overflow: inherit;
}

.${Gt}-title:only-child {
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.${Gt}-content {
    overflow: hidden;
    padding: 6px 14px;
    line-height: 1.7em;
    background: white;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    overflow: hidden;
    text-overflow: inherit;
}

.${Gt}-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid #d9d9d9;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.${Gt}-arrow::after {
    content: "";

    position: absolute;
    top: calc(100% - 1px);
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid white;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.${Gt}.${Pp} {
    color: white;
    background: #15181c;
}

.${Gt}.${Pp} .${Gt}-content {
    border-color: rgba(255, 255, 255, 0.15);
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`,Ka=class extends Te{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}},b([k(Jt(["pointer","node"],"a position type"))],Ka.prototype,"type",2),b([k(Et)],Ka.prototype,"xOffset",2),b([k(Et)],Ka.prototype,"yOffset",2),un=class hv{constructor(t,i,s,n){this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.lastVisibilityChange=Date.now(),this.position=new Ka,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=n,this.window=s;const r=i.createElement("div");if(this.element=this.tooltipRoot.appendChild(r),this.element.classList.add(Gt),this.canvasElement=t,typeof IntersectionObserver<"u"){const a=new IntersectionObserver(o=>{for(const l of o)l.target===this.canvasElement&&l.intersectionRatio===0&&this.toggle(!1)},{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}hv.tooltipDocuments.indexOf(i)<0&&(Rp(i,Ax),hv.tooltipDocuments.push(i))}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)}isVisible(){const{element:t}=this;return!t.classList.contains(Gt+"-hidden")}updateClass(t,i,s=!0){const{element:n,class:r,lastClass:a,enableInteraction:o,lastVisibilityChange:l}=this,c=this.isVisible(),h=!!t;let u=1/0;if(c!==h){const m=Date.now();u=m-l,this.lastVisibilityChange=m}const d=(m,y)=>{const v=`${Gt}-${m}`;y?n.classList.add(v):n.classList.remove(v)},p=100,g=5,f=!c&&h&&u>p;u>g&&d("no-animation",f),d("no-interaction",!o),d("hidden",!t),d("arrow",!!i),this.updateWrapping(),s?(r!==a&&(a&&n.classList.remove(a),r&&n.classList.add(r)),this.lastClass=r):(a&&n.classList.remove(a),this.lastClass=void 0)}updateWrapping(){const{element:t,wrapping:i}=this,s={always:!1,hyphenate:!1,"on-space":!1,never:!1};s[i]=!0,Object.entries(s).forEach(([n,r])=>{t.classList.toggle(`${Gt}-wrap-${n}`,r)})}show(t,i,s=!1){var n,r,a,o,l,c,h;const{element:u,canvasElement:d}=this;if(i!==void 0)u.innerHTML=i;else if(!u.innerHTML){this.toggle(!1);return}const p=(N,C,O)=>Math.max(Math.min(C,O),N),g=(r=(n=t.position)==null?void 0:n.xOffset)!=null?r:0,f=(o=(a=t.position)==null?void 0:a.yOffset)!=null?o:0,m=d.getBoundingClientRect(),y=m.left+t.offsetX-u.clientWidth/2+g,v=m.top+t.offsetY-u.clientHeight-8+f,x=this.getWindowBoundingBox(),S=x.x+x.width-u.clientWidth-1,_=x.y+x.height-u.clientHeight,D=p(x.x,y,S),A=p(x.y,v,_),I=!(D!==y||A!==v)&&!g&&!f,E=(c=(l=t.showArrow)!=null?l:this.showArrow)!=null?c:I;if(this.updateShowArrow(E),u.style.transform=`translate(${Math.round(D)}px, ${Math.round(A)}px)`,this.enableInteraction=(h=t.enableInteraction)!=null?h:!1,this.delay>0&&!s){this.toggle(!1),this.showTimeout=this.window.setTimeout(()=>{this.toggle(!0,t.addCustomClass)},this.delay);return}this.toggle(!0,t.addCustomClass)}getWindowBoundingBox(){return new ut(0,0,this.window.innerWidth,this.window.innerHeight)}toggle(t,i){t||this.window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow,i)}pointerLeftOntoTooltip(t){var i;if(!this.enableInteraction)return!1;const s=(i=t.sourceEvent.relatedTarget)==null?void 0:i.classList,r=!!["","-title","-content"].filter(a=>s?.contains(`${Gt}${a}`));return s!==void 0&&r}updateShowArrow(t){this._showArrow=t}},un.tooltipDocuments=[],b([k(ct)],un.prototype,"enabled",2),b([k(ct,{optional:!0})],un.prototype,"showArrow",2),b([k($,{optional:!0})],un.prototype,"class",2),b([k(K)],un.prototype,"delay",2),b([k(vh)],un.prototype,"range",2),b([k(vl)],un.prototype,"wrapping",2),Fp=un}}),Vt,Xa=L({"packages/ag-charts-community/src/chart/caption.ts"(){"use strict";Yt(),hi(),ds(),os(),hn(),ht(),Sl(),Vt=class extends Te{constructor(){super(...arguments),this.id=Fs(this),this.node=new Tt().setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(e){return e.interactionManager.addListener("hover",t=>this.handleMouseMove(e,t))}computeTextWrap(e,t){var i,s;const{text:n,wrapping:r}=this,a=Math.min((i=this.maxWidth)!=null?i:1/0,e),o=(s=this.maxHeight)!=null?s:t;if(!isFinite(a)&&!isFinite(o)){this.node.text=n;return}const{text:l,truncated:c}=Tt.wrap(n??"",a,o,this,r);this.node.text=l,this.truncated=c}handleMouseMove(e,t){if(!this.enabled)return;const i=this.node.computeBBox(),{pageX:s,pageY:n,offsetX:r,offsetY:a}=t;if(!(this.node.visible&&i.containsPoint(r,a))){e.tooltipManager.removeTooltip(this.id);return}if(t.consume(),!this.truncated){e.tooltipManager.removeTooltip(this.id);return}e.tooltipManager.updateTooltip(this.id,{pageX:s,pageY:n,offsetX:r,offsetY:a,event:t,showArrow:!1,addCustomClass:!1},bl({content:this.text}))}},Vt.SMALL_PADDING=10,Vt.LARGE_PADDING=20,b([k(ct)],Vt.prototype,"enabled",2),b([k($,{optional:!0}),It("node")],Vt.prototype,"text",2),b([k(Ap,{optional:!0}),It("node")],Vt.prototype,"textAlign",2),b([k(on,{optional:!0}),It("node")],Vt.prototype,"fontStyle",2),b([k(ln,{optional:!0}),It("node")],Vt.prototype,"fontWeight",2),b([k(K),It("node")],Vt.prototype,"fontSize",2),b([k($),It("node")],Vt.prototype,"fontFamily",2),b([k(bt,{optional:!0}),It("node","fill")],Vt.prototype,"color",2),b([k(K,{optional:!0})],Vt.prototype,"spacing",2),b([k(K,{optional:!0})],Vt.prototype,"lineHeight",2),b([k(K,{optional:!0})],Vt.prototype,"maxWidth",2),b([k(K,{optional:!0})],Vt.prototype,"maxHeight",2),b([k(vl)],Vt.prototype,"wrapping",2)}}),Gi,RT=L({"packages/ag-charts-community/src/chart/axis/axisTitle.ts"(){"use strict";ht(),Xa(),Gi=class{constructor(){this.enabled=!1,this.spacing=Vt.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}},b([k(ct)],Gi.prototype,"enabled",2),b([k($,{optional:!0})],Gi.prototype,"text",2),b([k(K,{optional:!0})],Gi.prototype,"spacing",2),b([k(on,{optional:!0})],Gi.prototype,"fontStyle",2),b([k(ln,{optional:!0})],Gi.prototype,"fontWeight",2),b([k(K)],Gi.prototype,"fontSize",2),b([k($)],Gi.prototype,"fontFamily",2),b([k(bt,{optional:!0})],Gi.prototype,"color",2),b([k(vl)],Gi.prototype,"wrapping",2),b([k(us,{optional:!0})],Gi.prototype,"formatter",2)}});function Lx(e,t){var i;(i=$a.constructedArrays)==null||i.set(e,t)}function wT(e){class t extends Vt{constructor(){super(),this.registerInteraction(e)}}return{constructors:R(X(R({},Bp.constructors),{title:t,subtitle:t,footnote:t}),$a.constructors),constructedArrays:$a.constructedArrays,allowedTypes:R({},Bp.allowedTypes)}}var $a,Bp,kh=L({"packages/ag-charts-community/src/chart/chartOptions.ts"(){"use strict";RT(),Xa(),$a={constructors:{},constructedArrays:new WeakMap},Bp={constructors:{"axes[].title":Gi},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}}}}),ps,Dt,gs=L({"packages/ag-charts-community/src/scale/continuousScale.ts"(){"use strict";ft(),dl(),ps=class uv{constructor(t,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=uv.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=i}static is(t){return t instanceof uv}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const i=this.getDomain(),s=Math.max(...this.range),n=Math.abs(i[1]-i[0])/t+1,r=Math.floor(s),a=Math.min(n,r);return s/Math.max(1,a)}fromDomain(t){return typeof t=="number"?t:t instanceof Date?t.getTime():NaN}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,i){var s;const n=(s=i?.clampMode)!=null?s:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const r=this.getDomain().map(u=>this.transform(u)),[a,o]=r,{range:l}=this,[c,h]=l;if(t=this.transform(t),n==="clamped"){const u=Math.min(this.fromDomain(a),this.fromDomain(o)),d=Math.max(this.fromDomain(a),this.fromDomain(o));if(this.fromDomain(t)<u)return c;if(this.fromDomain(t)>d)return h}return a===o?(c+h)/2:t===a?c:t===o?h:c+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(o)-this.fromDomain(a))*(h-c)}invert(t){this.refresh();const i=this.getDomain().map(d=>this.transform(d)),[s,n]=i,{range:r}=this,[a,o]=r,l=a>o,c=l?o:a,h=l?a:o;let u;return t<c?l?n:s:t>h?l?s:n:(a===o?u=this.toDomain((this.fromDomain(s)+this.fromDomain(n))/2):u=this.toDomain(this.fromDomain(s)+(t-a)/(o-a)*(this.fromDomain(n)-this.fromDomain(s))),this.transformInvert(u))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&q.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const t=this.range.slice().sort((i,s)=>i-s);return t[1]-t[0]}isDenseInterval({start:t,stop:i,interval:s,count:n}){const r=i-t,a=this.getPixelRange();return n??(n=r/(typeof s=="number"?s:1)),n>=a?(q.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}},ps.defaultTickCount=5,ps.defaultMaxTickCount=6,b([Qe],ps.prototype,"domain",2),b([Qe],ps.prototype,"range",2),b([Qe],ps.prototype,"nice",2),b([Qe],ps.prototype,"interval",2),b([Qe],ps.prototype,"tickCount",2),b([Qe],ps.prototype,"minTickCount",2),b([Qe],ps.prototype,"maxTickCount",2),Dt=ps}});function Tx(e,t){let i=0;return typeof e=="number"&&typeof t=="number"?i=e-t:typeof e=="string"&&typeof t=="string"?i=e.localeCompare(t):e==null&&t==null||(e==null?i=-1:t==null?i=1:i=String(e).localeCompare(String(t))),i}function Ex(e,t,i){const s=n=>typeof n=="function"?n():n;for(const n in e){const r=i(s(e[n]),s(t[n]));if(r!==0)return r}return 0}var Ix=L({"packages/ag-charts-community/src/util/compare.ts"(){"use strict"}}),Dh,at,fe=L({"packages/ag-charts-community/src/scene/group.ts"(){"use strict";Ix(),Pt(),Yt(),Dh=class dv extends Vr{constructor(t){var i;super({isVirtual:t?.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:s,zIndexSubOrder:n}=t??{};this.isContainerNode=!0,s!==void 0&&(this.zIndex=s),n!==void 0&&(this.zIndexSubOrder=n),this.name=(i=this.opts)==null?void 0:i.name}zIndexChanged(){var t;this.layer&&((t=this._layerManager)==null||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return this.layer!=null}_setLayerManager(t){var i,s;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(t),t&&((i=this.opts)!=null&&i.layer)){const{zIndex:n,zIndexSubOrder:r,name:a}=(s=this.opts)!=null?s:{},o=()=>this.getComputedOpacity(),l=()=>this.getVisibility();this.layer=t.addLayer({zIndex:n,zIndexSubOrder:r,name:a,getComputedOpacity:o,getVisibility:l})}}getComputedOpacity(){let t=1,i=this;do i instanceof dv&&(t*=i.opacity);while(i=i.parent);return t}getVisibility(){let t=this,i=this.visible;for(;t=t.parent;)t.visible||(i=t.visible);return i}visibilityChanged(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,i=1){if(this.isVirtual){super.markDirty(t,i);return}let s=i;(i<2||this.layer!=null)&&(s=1),super.markDirty(t,i,s)}containsPoint(t,i){return!0}computeBBox(){return this.computeTransformMatrix(),dv.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(t){var i,s;const{opts:{name:n=void 0}={},_debug:r=()=>{}}=this,{dirty:a,dirtyZIndex:o,layer:l,children:c,clipRect:h,dirtyTransform:u}=this;let{ctx:d,forceRender:p,clipBBox:g}=t;const{resized:f,stats:m}=t,y=d.getTransform(),v=a>=2||o||f;let x=v,S=!1;for(const E of c)if(x||(x=E.layerManager==null&&E.dirty>=1),S||(S=E.layerManager!=null&&E.dirty>=1),x)break;if(n&&r({name:n,group:this,isDirty:v,isChildDirty:x,dirtyTransform:u,renderCtx:t,forceRender:p}),u)p="dirtyTransform";else if(l){const E=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(E))&&(p="dirtyTransform",this.lastBBox=E)}if(!v&&!x&&!S&&!p){n&&m&&r({name:n,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),l&&m&&(m.layersSkipped++,m.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}const _=this.visible;if(l){if(d=l.context,d.save(),d.resetTransform(),p!=="dirtyTransform"&&(p=x||o),p&&l.clear(),g){const{width:E,height:N,x:C,y:O}=g;r(()=>({name:n,clipBBox:g,ctxTransform:d.getTransform(),renderCtx:t,group:this})),this.clipCtx(d,C,O,E,N)}d.setTransform(y)}else d.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(d),h){const{x:E,y:N,width:C,height:O}=h;d.save(),r(()=>({name:n,clipRect:h,ctxTransform:d.getTransform(),renderCtx:t,group:this})),this.clipCtx(d,E,N,C,O),g=this.matrix.transformBBox(h)}const D=this.hasVirtualChildren();o?(this.sortChildren(c),p!=="dirtyTransform"&&(p=!0)):D&&this.sortChildren(c);const T=p!==t.forceRender||g!==t.clipBBox||d!==t.ctx?X(R({},t),{ctx:d,forceRender:p,clipBBox:g}):t;let I=0;for(const E of c){if(!E.visible||!_){E.markClean(),m&&(I+=E.nodeCount.count);continue}if(!p&&E.dirty===0){m&&(I+=E.nodeCount.count);continue}d.save(),E.render(T),d.restore()}if(m&&(m.nodesSkipped+=I),super.render(t),h&&d.restore(),D)for(const E of this.virtualChildren)E.markClean({recursive:"virtual"});l&&(m&&m.layersRendered++,d.restore(),p&&l.snapshot(),(s=(i=l.context).verifyDepthZero)==null||s.call(i)),n&&m&&r({name:n,result:"rendered",skipped:I,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((i,s)=>{var n,r;return Ex([i.zIndex,...(n=i.zIndexSubOrder)!=null?n:[void 0,void 0],i.serialNumber],[s.zIndex,...(r=s.zIndexSubOrder)!=null?r:[void 0,void 0],s.serialNumber],Tx)})}clipCtx(t,i,s,n,r){t.beginPath(),t.moveTo(i,s),t.lineTo(i+n,s),t.lineTo(i+n,s+r),t.lineTo(i,s+r),t.closePath(),t.clip()}static computeBBox(t){let i=1/0,s=-1/0,n=1/0,r=-1/0;return t.forEach(a=>{if(!a.visible)return;const o=a.computeTransformedBBox();if(!o)return;const l=o.x,c=o.y;l<i&&(i=l),c<n&&(n=c),l+o.width>s&&(s=l+o.width),c+o.height>r&&(r=c+o.height)}),new ut(i,n,s-i,r-n)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}},Dh.className="Group",b([Z({redraw:3,convertor:e=>Math.min(1,Math.max(0,e))})],Dh.prototype,"opacity",2),at=Dh}}),fs,PT=L({"packages/ag-charts-community/src/scene/shape/range.ts"(){"use strict";Pt(),Yt(),Bn(),fs=class extends Ai{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new ut(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var t;const{ctx:i,forceRender:s,stats:n}=e;if(this.dirty===0&&!s){n&&(n.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(i);let{x1:r,y1:a,x2:o,y2:l}=this;r=this.align(r),a=this.align(a),o=this.align(o),l=this.align(l);const{fill:c,opacity:h,isRange:u}=this;if(!!(u&&c)){const{fillOpacity:v}=this;i.fillStyle=c,i.globalAlpha=h*v,i.beginPath(),i.moveTo(r,a),i.lineTo(o,a),i.lineTo(o,l),i.lineTo(r,l),i.closePath(),i.fill()}const{stroke:p,strokeWidth:g,startLine:f,endLine:m}=this;if(!!((f||m)&&p&&g)){const{strokeOpacity:v,lineDash:x,lineDashOffset:S,lineCap:_,lineJoin:D}=this;i.strokeStyle=p,i.globalAlpha=h*v,i.lineWidth=g,x&&i.setLineDash(x),S&&(i.lineDashOffset=S),_&&(i.lineCap=_),D&&(i.lineJoin=D),i.beginPath(),f&&(i.moveTo(r,a),i.lineTo(o,a)),m&&(i.moveTo(o,l),i.lineTo(r,l)),i.stroke()}(t=this.fillShadow)==null||t.markClean(),super.render(e)}},fs.className="Range",fs.defaultStyles=X(R({},Ai.defaultStyles),{strokeWidth:1}),b([Z({redraw:2})],fs.prototype,"x1",2),b([Z({redraw:2})],fs.prototype,"y1",2),b([Z({redraw:2})],fs.prototype,"x2",2),b([Z({redraw:2})],fs.prototype,"y2",2),b([Z({redraw:2})],fs.prototype,"startLine",2),b([Z({redraw:2})],fs.prototype,"endLine",2),b([Z({redraw:2})],fs.prototype,"isRange",2)}});function Ah(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,s=e.rotation?Ye(Mi(e.rotation)):0,n=!s&&t>=0&&t<=Math.PI?-1:1,r=!s&&i>=0&&i<=Math.PI?-1:1;let a=0;return e.parallel?a=n*Math.PI/2:r===-1&&(a=Math.PI),{configuredRotation:s,defaultRotation:a,parallelFlipFlag:n,regularFlipFlag:r}}function FT(e,t){return isNaN(e)?t?0:10:e}function BT(e,t,i,s){return e&&!t?i*s===-1?"hanging":"bottom":"middle"}function zp(e,t,i,s,n){const r=t>0&&t<=Math.PI,a=i>0&&i<=Math.PI,o=r||a?-1:1;if(e)if(t||i){if(s*o===-1)return"end"}else return"center";else if(s*n===-1)return"end";return"start"}function zT(e,t,i,s,n){const{width:r,height:a}=t,o=new ut(i,s,0,0);n.transformBBox(o,t);const{x:l=0,y:c=0}=t;return t.width=r,t.height=a,{point:{x:l,y:c,size:0},label:{width:r,height:a,text:e}}}var Se,ms=L({"packages/ag-charts-community/src/chart/label.ts"(){"use strict";Pt(),hi(),Bi(),os(),ht(),Se=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.color="#464646",this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return zn(this)}},b([k(ct)],Se.prototype,"enabled",2),b([k(bt)],Se.prototype,"color",2),b([k(on,{optional:!0})],Se.prototype,"fontStyle",2),b([k(ln,{optional:!0})],Se.prototype,"fontWeight",2),b([k(K)],Se.prototype,"fontSize",2),b([k($)],Se.prototype,"fontFamily",2),b([k(us,{optional:!0})],Se.prototype,"formatter",2)}}),Gp,ys=L({"packages/ag-charts-community/src/chart/layers.ts"(){"use strict";Gp=(e=>(e[e.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",e[e.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",e[e.AXIS_ZINDEX=2]="AXIS_ZINDEX",e[e.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",e[e.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",e[e.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",e[e.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",e[e.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",e[e.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",e[e.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",e))(Gp||{})}});function Vp(e,t){const i={};if(Array.isArray(t))for(let s=0;s<e.length;s++)i[`${e[s]}`]=t[s];else for(let s=0;s<e.length;s++)i[`${e[s]}`]=t;return i}var Nx=L({"packages/ag-charts-community/src/util/zip.ts"(){"use strict"}});function _l(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function GT(e,t){if(typeof e=="string")try{e=hs.fromString(e)}catch{e=hs.fromArray([0,0,0])}if(typeof t=="string")try{t=hs.fromString(t)}catch{t=hs.fromArray([0,0,0])}const i=_l(e.r,t.r),s=_l(e.g,t.g),n=_l(e.b,t.b),r=_l(e.a,t.a);return a=>hs.fromArray([i(a),s(a),n(a),r(a)]).toRgbaString()}var VT=L({"packages/ag-charts-community/src/interpolate.ts"(){"use strict";gh()}}),Wp={};Ls(Wp,{easeIn:()=>Cx,easeInOut:()=>Ox,easeInOutQuad:()=>Px,easeInQuad:()=>Rx,easeOut:()=>qa,easeOutQuad:()=>wx,inverseEaseOut:()=>Yp,linear:()=>Up});var Up,Cx,qa,Ox,Rx,wx,Px,Yp,Za=L({"packages/ag-charts-community/src/motion/easing.ts"(){"use strict";Up=e=>e,Cx=e=>1-Math.cos(e*Math.PI/2),qa=e=>Math.sin(e*Math.PI/2),Ox=e=>-(Math.cos(e*Math.PI)-1)/2,Rx=e=>e*e,wx=e=>1-zt(1-e,2),Px=e=>e<.5?2*e*e:1-zt(-2*e+2,2)/2,Yp=e=>2*Math.asin(e)/Math.PI}});function WT(e){return e.every(t=>t instanceof Vr)}function Lh(e){return WT(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}var Th,Hp,jp,Kp,Xp,Qa,$p,qp,Wr=L({"packages/ag-charts-community/src/motion/animation.ts"(){"use strict";VT(),Yt(),Ee(),Za(),Th=.2,Hp={animationDuration:1,animationDelay:0},jp={animationDuration:.25,animationDelay:0},Kp={animationDuration:.5,animationDelay:.25},Xp={animationDuration:.25,animationDelay:.75},Qa={animationDuration:Th,animationDelay:1},$p=(e=>(e.Loop="loop",e.Reverse="reverse",e))($p||{}),qp=class{constructor(e){this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1;var t,i,s,n,r,a,o,l,c,h;this.id=e.id,this.groupId=e.groupId,this.autoplay=(t=e.autoplay)!=null?t:!0,this.delay=(i=e.delay)!=null?i:0,this.duration=(s=e.duration)!=null?s:1e3,this.ease=(n=e.ease)!=null?n:Up,this.repeat=(r=e.repeat)!=null?r:0,this.repeatType=(a=e.repeatType)!=null?a:"loop",this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onRepeat=e.onRepeat,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),e.skip===!0?((o=this.onUpdate)==null||o.call(this,e.to,!1,this),(l=this.onStop)==null||l.call(this,this),(c=this.onComplete)==null||c.call(this,this)):this.autoplay&&(this.play(),(h=this.onUpdate)==null||h.call(this,e.from,!0,this))}play(){var e;return this.isPlaying||(this.isPlaying=!0,(e=this.onPlay)==null||e.call(this,this)),this}pause(){return this.isPlaying&&(this.isPlaying=!1),this}stop(){var e;return this.isPlaying&&(this.isPlaying=!1,(e=this.onStop)==null||e.call(this,this)),this}reset(e){const t=this.interpolate(this.isReverse?1-this.delta:this.delta);return this.interpolate=this.createInterpolator(t,e.to),this.elapsed=0,this.iteration=0,typeof e.delay=="number"&&(this.delay=e.delay),typeof e.duration=="number"&&(this.duration=e.duration),typeof e.ease=="function"&&(this.ease=e.ease),this}update(e){var t,i,s;if(this.elapsed+=e,this.elapsed<=this.delay)return this;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);return(t=this.onUpdate)==null||t.call(this,n,!1,this),this.elapsed-this.delay>=this.duration&&(this.iteration<this.repeat?(this.iteration++,this.elapsed=(this.elapsed-this.delay)%this.duration+this.delay,this.repeatType==="reverse"&&(this.isReverse=!this.isReverse),(i=this.onRepeat)==null||i.call(this,this)):(this.stop(),(s=this.onComplete)==null||s.call(this,this))),this}get delta(){return this.ease(ki(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object")return this.interpolateValue(e,t);const i=[];for(const s in t){const n=this.interpolateValue(e[s],t[s]);n!=null&&i.push([s,n])}return s=>{const n={};for(const[r,a]of i)n[r]=a(s);return n}}interpolateValue(e,t){if(!(e===void 0||t===void 0)){try{switch(typeof e){case"number":return _l(e,t);case"string":return GT(e,t)}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}}}}),Fx={};Ls(Fx,{FROM_TO_MIXINS:()=>Ne,NODE_UPDATE_PHASES:()=>Zp,fromToMotion:()=>ee,staticFromToMotion:()=>dn});function ee(e,t,i,s,n,r,a){const{defaultDuration:o}=i,{fromFn:l,toFn:c,intermediateFn:h}=n,{nodes:u,selections:d}=Lh(s),p={added:{},removed:{}};r&&a&&(p.added=Vp(a.added,!0),p.removed=Vp(a.removed,!0));const g=(m,y)=>{var v,x;let S,_=0,D=0;for(const A of y){const T=m[_]===A,I={last:D>=y.length-1,lastLive:_>=m.length-1,prev:y[D-1],prevFromProps:S,prevLive:m[_-1],next:y[D+1],nextLive:m[_+(T?1:0)]},E=`${e}_${t}_${A.id}`;i.stopByAnimationId(E);let N="unknown";T?r&&a&&(N=UT(A,A.datum,r,p)):N="removed";const C=l(A,A.datum,N,I),{animationDelay:O,animationDuration:w,start:H={},finish:F={}}=C,P=ai(C,["animationDelay","animationDuration","start","finish"]),G=c(A,A.datum,N,I),{animationDelay:j,animationDuration:Y,start:Q={},finish:J={}}=G,et=ai(G,["animationDelay","animationDuration","start","finish"]);i.animate({id:E,groupId:e,from:P,to:et,ease:qa,onPlay:()=>{A.setProperties(R(R({},H),Q))},onUpdate(it){A.setProperties(it),h&&A.setProperties(h(A,A.datum,N,I))},onStop:()=>{A.setProperties(R(R(R({},et),F),J))},duration:((v=w??Y)!=null?v:1)*o,delay:((x=O??j)!=null?x:0)*o}),T&&_++,D++,S=P}};let f=0;for(const m of d){const y=m.nodes(),v=y.filter(x=>!m.isGarbage(x));g(v,y),i.animate({id:`${e}_${t}_selection_${f}`,groupId:e,from:0,to:1,ease:qa,onStop(){m.cleanup()}}),f++}g(u,u)}function dn(e,t,i,s,n,r,a={}){const{nodes:o,selections:l}=Lh(s),{animationDelay:c=0,animationDuration:h=1,start:u={},finish:d={}}=a,{defaultDuration:p}=i;i.animate({id:`${e}_${t}`,groupId:e,from:n,to:r,ease:qa,onPlay:()=>{for(const g of o)g.setProperties(u);for(const g of l)for(const f of g.nodes())f.setProperties(u)},onUpdate(g){for(const f of o)f.setProperties(g);for(const f of l)for(const m of f.nodes())m.setProperties(g)},onStop:()=>{for(const g of o)g.setProperties(R(R({},r),d));for(const g of l)for(const f of g.nodes())f.setProperties(R(R({},r),d))},duration:h*p,delay:c*p})}function UT(e,t,i,s){const n=i(e,t);return s.added[n]?"added":s.removed[n]?"removed":"updated"}var Zp,Ne,ti=L({"packages/ag-charts-community/src/motion/fromToMotion.ts"(){"use strict";Nx(),Wr(),Za(),Zp=["removed","updated","added"],Ne={added:Xp,updated:Kp,removed:jp,unknown:Hp}}}),Bx={};Ls(Bx,{resetMotion:()=>me});function me(e,t){const{nodes:i,selections:s}=Lh(e);for(const n of s){for(const r of n.nodes()){const a=t(r,r.datum);r.setProperties(a)}n.cleanup()}for(const n of i){const r=t(n,n.datum);n.setProperties(r)}}var Gn=L({"packages/ag-charts-community/src/motion/resetMotion.ts"(){"use strict";Wr()}}),vs,Ml=L({"packages/ag-charts-community/src/scene/dropShadow.ts"(){"use strict";os(),ht(),rl(),Yt(),vs=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}},b([k(ct),Z({redraw:3})],vs.prototype,"enabled",2),b([k(bt),Z({redraw:3})],vs.prototype,"color",2),b([k(Et),Z({redraw:3})],vs.prototype,"xOffset",2),b([k(Et),Z({redraw:3})],vs.prototype,"yOffset",2),b([k(K),Z({redraw:3})],vs.prototype,"blur",2)}}),Qp,YT=L({"packages/ag-charts-community/src/scene/canvas/hdpiOffscreenCanvas.ts"(){"use strict";vx(),cn(),Qp=class{constructor({width:e=600,height:t=300,overrideDevicePixelRatio:i}){this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(e,t),this.realContext=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.context=this.setPixelRatio(i),this.resize(e,t)}static isSupported(){return typeof OffscreenCanvas<"u"&&OffscreenCanvas.prototype.transferToImageBitmap!=null}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}get pixelRatio(){return this._pixelRatio}setPixelRatio(e){let t=e??window.devicePixelRatio;return yx()&&(t=1),this._pixelRatio=t,Ht.overrideScale(this.realContext,t)}get width(){return this._width}get height(){return this._height}resize(e,t){if(!(e>0&&t>0))return;const{canvas:i,context:s,pixelRatio:n}=this;i.width=Math.round(e*n),i.height=Math.round(t*n),s.resetTransform(),this._width=e,this._height=t}}}}),Eh,Ih,Nh,zx=L({"packages/ag-charts-community/src/scene/scene.ts"(){"use strict";li(),Ix(),as(),ds(),ft(),tx(),cn(),YT(),fe(),Yt(),Eh="adv-composite",Ih="dom-composite",Nh=class{constructor(e){this.id=Fs(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug=Kt.create(!0,"scene");var t;const{document:i,window:s,mode:n=(t=dp("agChartsSceneRenderModel"))!=null?t:Eh,width:r,height:a,overrideDevicePixelRatio:o=void 0}=e;this.overrideDevicePixelRatio=o,this.opts={document:i,window:s,mode:n},this.canvas=new Ht({document:i,window:s,width:r,height:a,overrideDevicePixelRatio:o})}set container(e){this.canvas.container=e}get container(){return this.canvas.container}download(e,t){this.canvas.download(e,t)}getDataURL(e){return this.canvas.getDataURL(e)}get width(){return this.pendingSize?this.pendingSize[0]:this.canvas.width}get height(){return this.pendingSize?this.pendingSize[1]:this.canvas.height}resize(e,t){e=Math.round(e),t=Math.round(t);const i=e<=0||t<=0,s=isNaN(e)||isNaN(t);return e===this.width&&t===this.height||s||i?!1:(this.pendingSize=[e,t],this.markDirty(),!0)}addLayer(e){var t;const{mode:i}=this.opts;if(!["composite",Ih,Eh].includes(i))return;const{zIndex:n=this._nextZIndex++,name:r,zIndexSubOrder:a,getComputedOpacity:o,getVisibility:l}=e,{width:c,height:h,overrideDevicePixelRatio:u}=this,d=i===Ih,g=!(i===Eh)||!Qp.isSupported()?new Ht({document:this.opts.document,window:this.opts.window,width:c,height:h,domLayer:d,zIndex:n,name:r,overrideDevicePixelRatio:u}):new Qp({width:c,height:h,overrideDevicePixelRatio:u}),f={id:this._nextLayerId++,name:r,zIndex:n,zIndexSubOrder:a,canvas:g,getComputedOpacity:o,getVisibility:l};if(n>=this._nextZIndex&&(this._nextZIndex=n+1),this.layers.push(f),this.sortLayers(),d){const m=this.layers.map(x=>x.canvas).filter(x=>x instanceof Ht),y=m.findIndex(x=>x===g);((t=m[y-1])!=null?t:this.canvas).element.insertAdjacentElement("afterend",g.element)}return this.debug("Scene.addLayer() - layers",this.layers),f.canvas}removeLayer(e){const t=this.layers.findIndex(i=>i.canvas===e);t>=0&&(this.layers.splice(t,1),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layers))}moveLayer(e,t,i){const s=this.layers.find(n=>n.canvas===e);s&&(s.zIndex=t,s.zIndexSubOrder=i,this.sortLayers(),this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layers))}sortLayers(){this.layers.sort((e,t)=>{var i,s;return Ex([e.zIndex,...(i=e.zIndexSubOrder)!=null?i:[void 0,void 0],e.id],[t.zIndex,...(s=t.zIndexSubOrder)!=null?s:[void 0,void 0],t.id],Tx)})}markDirty(){this._dirty=!0}get dirty(){return this._dirty}set root(e){var t;e!==this._root&&((t=this._root)==null||t._setLayerManager(),this._root=e,e&&e._setLayerManager({addLayer:i=>this.addLayer(i),moveLayer:(...i)=>this.moveLayer(...i),removeLayer:(...i)=>this.removeLayer(...i),markDirty:()=>this.markDirty(),canvas:this.canvas,debug:Kt.create("scene")}),this.markDirty())}get root(){return this._root}strip(){const{layers:e}=this;for(const t of e)t.canvas.destroy(),delete t.canvas;e.splice(0,e.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()}destroy(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})}render(e){return B(this,null,function*(){var t,i;const{debugSplitTimes:s={start:performance.now()},extraDebugStats:n={}}=e??{},{canvas:r,canvas:{context:a},root:o,layers:l,pendingSize:c,opts:{mode:h}}=this;if(c&&(this.canvas.resize(...c),this.layers.forEach(p=>p.canvas.resize(...c)),this.pendingSize=void 0),o&&!o.visible){this._dirty=!1;return}if(o&&!this.dirty){this.debug("Scene.render() - no-op",{redrawType:rn[o.dirty],tree:this.buildTree(o)}),this.debugStats(s,a,void 0,n);return}const u={ctx:a,devicePixelRatio:(t=this.canvas.pixelRatio)!=null?t:1,forceRender:!0,resized:!!c,debugNodes:{}};Kt.check("scene:stats:verbose")&&(u.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let d=!1;if((!o||o.dirty>=1)&&(d=!0,r.clear()),o){const{dirtyTree:p,paths:g}=this.buildDirtyTree(o);Kt.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:p,paths:g})}o&&d&&(this.debug("Scene.render() - before",{redrawType:rn[o.dirty],canvasCleared:d,tree:this.buildTree(o)}),o.visible&&(a.save(),o.render(u),a.restore())),s["\u270D\uFE0F"]=performance.now(),h!==Ih&&l.length>0&&d&&(this.sortLayers(),a.save(),a.setTransform(1/r.pixelRatio,0,0,1/r.pixelRatio,0,0),l.forEach(({canvas:{imageSource:p,enabled:g},getComputedOpacity:f,getVisibility:m})=>{!g||!m()||(a.globalAlpha=f(),a.drawImage(p,0,0))}),a.restore(),s["\u26D9"]=performance.now()),(i=a.verifyDepthZero)==null||i.call(a),this._dirty=!1,this.debugStats(s,a,u.stats,n),this.debugSceneNodeHighlight(a,u.debugNodes),o&&this.debug("Scene.render() - after",{redrawType:rn[o.dirty],canvasCleared:d,tree:this.buildTree(o)})})}debugStats(e,t,i,s={}){if(Kt.check("scene:stats","scene:stats:verbose")){const n=performance.now(),r=e.start;e.end=performance.now();const a=(_,D)=>{const A=_+D;return`${_} / ${A} (${Math.round(100*_/A)}%)`},o=(_,D,A)=>`${_}: ${Math.round((A-D)*100)/100}ms`,{layersRendered:l=0,layersSkipped:c=0,nodesRendered:h=0,nodesSkipped:u=0}=i??{};let d=0;const p=Object.entries(e).filter(([_])=>_!=="end").map(([_,D],A)=>{const T=A>0?o(_,d,D):null;return d=D,T}).filter(_=>_!=null).join(" + "),g=Object.entries(s).map(([_,D])=>`${_}: ${D}`).join(" ; "),f=Kt.check("scene:stats:verbose"),y=[`${o("\u23F1\uFE0F",r,n)} (${p})`,`${g}`,`Layers: ${f?a(l,c):this.layers.length}`,f?`Nodes: ${a(h,u)}`:null].filter(_=>_!=null).map(_=>[_,Ht.getTextSize(_,t.font)]),v=Math.max(...y.map(([,{width:_}])=>_)),x=y.reduce((_,[,{height:D}])=>_+D,0);t.save(),t.fillStyle="white",t.fillRect(0,0,v,x),t.fillStyle="black";let S=0;for(const[_,D]of y)S+=D.height,t.fillText(_,2,S);t.restore()}}debugSceneNodeHighlight(e,t){var i;const s=a=>o=>a.test(o.id)?!0:o instanceof at&&o.name!=null&&a.test(o.name),n=a=>o=>a===o.id?!0:o instanceof at&&o.name!=null&&a===o.name,r=eh(dp("agChartsSceneDebug")).flatMap(a=>a==="layout"?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:a);for(const a of r){if(typeof a=="string"&&t[a]!=null)continue;const o=typeof a=="string"?n(a):s(a),l=(i=this.root)==null?void 0:i.findNodes(o);if(!l||l.length===0){q.log(`Scene.render() - no debugging node with id [${a}] in scene graph.`);continue}for(const c of l)c instanceof at&&c.name?t[c.name]=c:t[c.id]=c}e.save();for(const[a,o]of Object.entries(t)){const l=o.computeTransformedBBox();if(!l){q.log(`Scene.render() - no bbox for debugged node [${a}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(l.x,l.y,l.width,l.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(a,l.x,l.y,l.width),e.fillText(a,l.x,l.y,l.width)}e.restore()}buildTree(e){var t,i;const s=(t=e instanceof at?e.name:null)!=null?t:e.id;return R(R({name:s,node:e,dirty:rn[e.dirty]},(i=e.parent)!=null&&i.isVirtual?{virtualParentDirty:rn[e.parent.dirty],virtualParent:e.parent}:{}),e.children.map(n=>this.buildTree(n)).reduce((n,r)=>{let{name:a}=r;const{node:{visible:o,opacity:l,zIndex:c,zIndexSubOrder:h},node:u,virtualParent:d}=r;(!o||l<=0)&&(a=`(${a})`),u instanceof at&&u.isLayer()&&(a=`*${a}*`);const p=[`${a??"<unknown>"}`,`z: ${c}`,h&&`zo: ${h.map(m=>typeof m=="function"?`${m()} (fn)`:m).join(" / ")}`,d&&"(virtual parent)"].filter(m=>!!m).join(" ");let g=p,f=1;for(;n[g]!=null&&f<100;)g=`${p} (${f++})`;return n[g]=r,n},{}))}buildDirtyTree(e){var t;if(e.dirty===0)return{dirtyTree:{},paths:[]};const i=e.children.map(r=>this.buildDirtyTree(r)).filter(r=>r.paths.length>0),s=(t=e instanceof at?e.name:null)!=null?t:e.id,n=i.length===0?[s]:i.map(r=>r.paths).reduce((r,a)=>r.concat(a),[]).map(r=>`${s}.${r}`);return{dirtyTree:R({name:s,node:e,dirty:rn[e.dirty]},i.map(r=>r.dirtyTree).filter(r=>r.dirty!==void 0).reduce((r,a)=>{var o;return r[(o=a.name)!=null?o:"<unknown>"]=a,r},{})),paths:n}}},Nh.className="Scene"}}),Xt,Ur=L({"packages/ag-charts-community/src/scene/selection.ts"(){"use strict";as(),Yt(),Xt=class wa{constructor(t,i,s=!0){this.parentNode=t,this.autoCleanup=s,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Kt.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Vr,i)?()=>new i:i}static select(t,i,s=!0){return new wa(t,i,s)}static selectAll(t,i){const s=[],n=r=>{i(r)&&s.push(r),r.children.forEach(n)};return n(t),s}static selectByClass(t,i){return wa.selectAll(t,s=>s instanceof i)}static selectByTag(t,i){return wa.selectAll(t,s=>s.tag===i)}createNode(t,i,s){const n=this.nodeFactory(t);return n.datum=t,i?.(n),s!=null?this._nodes.splice(s,0,n):this._nodes.push(n),this.parentNode.appendChild(n),n}update(t,i,s){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),s){const n=new Map(t.map((r,a)=>[s(r),[r,a]]));for(const[r,a]of this._nodesMap.entries())if(n.has(a)){const[o]=n.get(a);r.datum=o,this.garbageBin.delete(r),n.delete(a)}else this.garbageBin.add(r);for(const[r,[a,o]]of n.entries())this._nodesMap.set(this.createNode(a,i,o),r)}else{const n=Math.max(t.length,this.data.length);for(let r=0;r<n;r++)r>=t.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(t[r],i):(this._nodes[r].datum=t[r],this.garbageBin.delete(this._nodes[r]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),this.parentNode.removeChild(t),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){return this._nodes.forEach((i,s)=>t(i,i.datum,s)),this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const i=this._nodes[t],s=this._nodes[t].datum;yield{node:i,datum:s,index:t}}}select(t){return wa.selectAll(this.parentNode,t)}selectByClass(t){return wa.selectByClass(this.parentNode,t)}selectByTag(t){return wa.selectByTag(this.parentNode,t)}nodes(){return this._nodes}}}});function HT(e,t){const i=-t/e;return e!==0&&i>=0&&i<=1?[i]:[]}function jT(e,t,i){if(e===0)return HT(t,i);const s=t*t-4*e*i,n=[];if(s===0){const r=-t/(2*e);r>=0&&r<=1&&n.push(r)}else if(s>0){const r=Math.sqrt(s),a=(-t-r)/(2*e),o=(-t+r)/(2*e);a>=0&&a<=1&&n.push(a),o>=0&&o<=1&&n.push(o)}return n}function KT(e,t,i,s){if(e===0)return jT(t,i,s);const n=t/e,r=i/e,a=s/e,o=(3*r-n*n)/9,l=(9*n*r-27*a-2*n*n*n)/54,c=o*o*o+l*l,h=1/3,u=[];if(c>=0){const d=Math.sqrt(c),p=Math.sign(l+d)*Math.pow(Math.abs(l+d),h),g=Math.sign(l-d)*Math.pow(Math.abs(l-d),h),f=Math.abs(Math.sqrt(3)*(p-g)/2),m=-h*n+(p+g);if(m>=0&&m<=1&&u.push(m),f===0){const y=-h*n-(p+g)/2;y>=0&&y<=1&&u.push(y)}}else{const d=Math.acos(l/Math.sqrt(-o*o*o)),p=h*n,g=2*Math.sqrt(-o),f=g*Math.cos(h*d)-p,m=g*Math.cos(h*(d+2*Math.PI))-p,y=g*Math.cos(h*(d+4*Math.PI))-p;f>=0&&f<=1&&u.push(f),m>=0&&m<=1&&u.push(m),y>=0&&y<=1&&u.push(y)}return u}var XT=L({"packages/ag-charts-community/src/scene/polyRoots.ts"(){"use strict"}});function kl(e,t,i,s,n,r,a,o){const l=(i-e)*(o-r)-(s-t)*(a-n);if(l===0)return null;const c=((a-n)*(t-r)-(e-n)*(o-r))/l,h=((i-e)*(t-r)-(s-t)*(e-n))/l;return c>=0&&c<=1&&h>=0&&h<=1?{x:e+c*(i-e),y:t+c*(s-t)}:null}function $T(e,t,i,s,n,r,a,o,l,c,h,u){const d=[],p=c-u,g=h-l,f=l*(u-c)-c*(h-l),m=Gx(e,i,n,a),y=Gx(t,s,r,o),v=p*m[0]+g*y[0],x=p*m[1]+g*y[1],S=p*m[2]+g*y[2],_=p*m[3]+g*y[3]+f,D=KT(v,x,S,_);for(const A of D){const T=A*A,I=A*T,E=m[0]*I+m[1]*T+m[2]*A+m[3],N=y[0]*I+y[1]*T+y[2]*A+y[3];let C;l!==h?C=(E-l)/(h-l):C=(N-c)/(u-c),C>=0&&C<=1&&d.push({x:E,y:N})}return d}function Gx(e,t,i,s){return[-e+3*t-3*i+s,3*e-6*t+3*i,-3*e+3*t,e]}function Vx(e,t,i,s,n,r,a,o,l,c){const h=(c-o)/(l-a),u=o-h*a,d=Math.pow(h,2)+1,p=2*(h*(u-t)-e),g=Math.pow(e,2)+Math.pow(u-t,2)-Math.pow(i,2),f=Math.pow(p,2)-4*d*g;if(f<0)return[];const m=(-p+Math.sqrt(f))/2/d,y=(-p-Math.sqrt(f))/2/d,v=[];return[m,y].forEach(x=>{if(!(x>=Math.min(a,l)&&x<=Math.max(a,l)))return;const _=h*x+u,D=Ye(s);let A=Ye(n),T=Ye(Math.atan2(_,x));A<=D&&(A+=2*Math.PI),T<D&&(T+=2*Math.PI),r!==(T>=D&&T<=A)&&v.push({x,y:_})}),v}var Wx=L({"packages/ag-charts-community/src/scene/intersection.ts"(){"use strict";Bi(),XT()}}),Ja,Ch=L({"packages/ag-charts-community/src/scene/path2D.ts"(){"use strict";Wx(),Ja=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let e=0;e<this.commands.length;e++)if(this.commands[e]!==this.previousCommands[e])return!0;for(let e=0;e<this.params.length;e++)if(this.params[e]!==this.previousParams[e])return!0;return!1}draw(e){const t=this.commands,i=this.params;let s=0;e.beginPath();for(const n of t)switch(n){case 0:e.moveTo(i[s++],i[s++]);break;case 1:e.lineTo(i[s++],i[s++]);break;case 3:e.bezierCurveTo(i[s++],i[s++],i[s++],i[s++],i[s++],i[s++]);break;case 2:e.arc(i[s++],i[s++],i[s++],i[s++],i[s++],i[s++]===1);break;case 4:e.closePath();break}t.length===0&&e.closePath()}moveTo(e,t){this.xy?(this.xy[0]=e,this.xy[1]=t):this.xy=[e,t],this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.xy?(this.commands.push(1),this.params.push(e,t),this.xy[0]=e,this.xy[1]=t):this.moveTo(e,t)}rect(e,t,i,s){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+s),this.lineTo(e,t+s),this.closePath()}roundRect(e,t,i,s,n){n=Math.min(n,i/2,s/2),this.moveTo(e,t+n),this.arc(e+n,t+n,n,Math.PI,3*Math.PI/2),this.lineTo(e+n,t),this.lineTo(e+i-n,t),this.arc(e+i-n,t+n,n,3*Math.PI/2,2*Math.PI),this.lineTo(e+i,t+n),this.lineTo(e+i,t+s-n),this.arc(e+i-n,t+s-n,n,0,Math.PI/2),this.lineTo(e+i-n,t+s),this.lineTo(e+n,t+s),this.arc(e+ +n,t+s-n,n,Math.PI/2,Math.PI),this.lineTo(e,t+s-n),this.closePath()}arc(e,t,i,s,n,r=!1){const a=e+i*Math.cos(n),o=t+i*Math.sin(n);this.xy?(this.xy[0]=a,this.xy[1]=o):this.xy=[a,o],this.commands.push(2),this.params.push(e,t,i,s,n,r?1:0)}cubicCurveTo(e,t,i,s,n,r){this.xy||this.moveTo(e,t),this.commands.push(3),this.params.push(e,t,i,s,n,r),this.xy&&(this.xy[0]=n,this.xy[1]=r)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:e}={trackChanges:!1}){e?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(e,t){const i=this.commands,s=this.params,n=i.length,r=-1e4,a=-1e4;let o=NaN,l=NaN,c=0,h=0,u=0;for(let d=0,p=0;d<n;d++)switch(i[d]){case 0:!isNaN(o)&&kl(o,l,c,h,r,a,e,t)&&u++,c=s[p++],o=c,h=s[p++],l=h;break;case 1:kl(c,h,s[p++],s[p++],r,a,e,t)&&u++,c=s[p-2],h=s[p-1];break;case 3:u+=$T(c,h,s[p++],s[p++],s[p++],s[p++],s[p++],s[p++],r,a,e,t).length,c=s[p-2],h=s[p-1];break;case 2:const g=s[p++],f=s[p++],m=s[p++],y=s[p++],v=s[p++],x=!!s[p++];u+=Vx(g,f,m,y,v,x,r,a,e,t).length,c=g+Math.cos(v)*m,h=f+Math.sin(v)*m;break;case 4:!isNaN(o)&&kl(o,l,c,h,r,a,e,t)&&u++;break}return u%2===1}getPoints(){const{commands:e,params:t}=this,i=[];let s=0;for(let n=0;n<e.length;n++)switch(e[n]){case 0:case 1:i.push({x:t[s++],y:t[s++]});break;case 3:s+=4,i.push({x:t[s++],y:t[s++]});break;case 2:i.push({x:t[s++],y:t[s++]}),s+=4;break;case 4:break}return i}}}});function _t(e){const{redraw:t=3,changeCb:i,convertor:s}=e??{};return Z({redraw:t,type:"path",convertor:s,changeCb:i})}var ui,Vn=L({"packages/ag-charts-community/src/scene/shape/path.ts"(){"use strict";Yt(),Ch(),Bn(),ui=class extends Ai{constructor(){super(...arguments),this.path=new Ja,this.clipScalingX=1,this.clipScalingY=1,this._dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t,i,s;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||((t=(e=this.fillShadow)==null?void 0:e.isDirty())!=null?t:!1)||((s=(i=this.clipPath)==null?void 0:i.isDirty())!=null?s:!1))}isPointInPath(e,t){const i=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)}isDirtyPath(){return!1}updatePath(){}clip(e,t){const i=e.getTransform(),s=this.clipScalingX!==1||this.clipScalingY!==1;s&&e.scale(this.clipScalingX,this.clipScalingY),t(),s&&e.setTransform(i)}render(e){var t;const{ctx:i,forceRender:s,stats:n}=e;if(this.dirty===0&&!s){n&&(n.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(i),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath&&this.clipMode!=null?(i.save(),this.clipMode==="normal"&&this.clip(i,()=>{var r;(r=this.clipPath)==null||r.draw(i),i.clip()}),this.clipScalingX>0&&this.clipScalingY>0&&(this.path.draw(i),this.fillStroke(i)),this.clipMode==="punch-out"&&this.clip(i,()=>{var r,a;(r=this.clipPath)==null||r.draw(i),i.clip();const{x:o=-1e4,y:l=-1e4,width:c=2e4,height:h=2e4}=(a=this.computeBBox())!=null?a:{};i.clearRect(o,l,c,h)}),i.restore()):(this.path.draw(i),this.fillStroke(i)),(t=this.fillShadow)==null||t.markClean(),super.render(e)}},ui.className="Path",b([_t()],ui.prototype,"clipPath",2),b([_t()],ui.prototype,"clipMode",2),b([_t()],ui.prototype,"clipScalingX",2),b([_t()],ui.prototype,"clipScalingY",2)}}),xs,qT=L({"packages/ag-charts-community/src/scene/shape/arc.ts"(){"use strict";Bi(),Ee(),Pt(),Vn(),Bn(),xs=class extends ui{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return oh(Ye(this.startAngle),Ye(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new ut(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const i=this.transformPoint(e,t),s=this.computeBBox();return this.type!==0&&s.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)}},xs.className="Arc",xs.defaultStyles=Object.assign({},Ai.defaultStyles,{lineWidth:1,fillStyle:null}),b([_t()],xs.prototype,"centerX",2),b([_t()],xs.prototype,"centerY",2),b([_t()],xs.prototype,"radius",2),b([_t()],xs.prototype,"startAngle",2),b([_t()],xs.prototype,"endAngle",2),b([_t()],xs.prototype,"counterClockwise",2),b([_t()],xs.prototype,"type",2)}}),ye,to=L({"packages/ag-charts-community/src/scene/shape/line.ts"(){"use strict";Pt(),Yt(),Bn(),ye=class extends Ai{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}computeBBox(){return new ut(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){if(this.x1===this.x2||this.y1===this.y2){const{x:i,y:s}=this.transformPoint(e,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(i,s)}return!1}render(e){var t;const{ctx:i,forceRender:s,stats:n,devicePixelRatio:r}=e;if(this.dirty===0&&!s){n&&(n.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(i);let{x1:a,y1:o,x2:l,y2:c}=this;if(a===l){const{strokeWidth:h}=this,u=Math.round(a*r)/r+Math.trunc(h*r)%2/(r*2);a=u,l=u}else if(o===c){const{strokeWidth:h}=this,u=Math.round(o*r)/r+Math.trunc(h*r)%2/(r*2);o=u,c=u}i.beginPath(),i.moveTo(a,o),i.lineTo(l,c),this.fillStroke(i),(t=this.fillShadow)==null||t.markClean(),super.render(e)}},ye.className="Line",ye.defaultStyles=Object.assign({},Ai.defaultStyles,{fill:void 0,strokeWidth:1}),b([Z({redraw:3})],ye.prototype,"x1",2),b([Z({redraw:3})],ye.prototype,"y1",2),b([Z({redraw:3})],ye.prototype,"x2",2),b([Z({redraw:3})],ye.prototype,"y2",2)}}),Jp,Ux,Wn,Dl=L({"packages/ag-charts-community/src/scale/colorScale.ts"(){"use strict";gh(),ft(),dl(),Jp=e=>{const t=hs.fromString(e),[i,s,n]=hs.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:s,h:n,a:t.a}},Ux=(e,t,i)=>{i=Math.min(Math.max(i,0),1);let s,n;if(Number.isNaN(e.h)&&Number.isNaN(t.h))s=0,n=0;else if(Number.isNaN(e.h))s=t.h,n=t.c;else if(Number.isNaN(t.h))s=e.h,n=e.c;else{const o=e.h;let l=t.h;const c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),s=o*(1-i)+l*i,n=e.c*(1-i)+t.c*i}const r=e.l*(1-i)+t.l*i,a=e.a*(1-i)+t.a*i;return hs.fromOKLCH(r,n,s,a)},Wn=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Jp)}update(){const{domain:e,range:t}=this;e.length<2&&(q.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let i=1;i<e.length;i++){const s=e[i-1],n=e[i];if(s>=n){q.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((r,a)=>r-a);break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(Jp)}convert(e){this.refresh();const{domain:t,range:i,parsedRange:s}=this,n=t[0],r=t[t.length-1],a=i[0],o=i[i.length-1];if(e<=n)return a;if(e>=r)return o;let l,c;if(t.length===2){const d=(e-n)/(r-n),p=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(d*(i.length-1)),i.length-2),c=(d-l*p)/p}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const d=t[l],p=t[l+1];c=(e-d)/(p-d)}const h=s[l],u=s[l+1];return Ux(h,u,c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&q.warnOnce("Expected update to not invalidate scale"))}},b([Qe],Wn.prototype,"domain",2),b([Qe],Wn.prototype,"range",2)}}),Al,ZT=L({"packages/ag-charts-community/src/scene/shape/linearGradientFill.ts"(){"use strict";Dl(),Yt(),Bn(),Al=class extends Ai{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(e){this._mask!=null&&this.removeChild(this._mask),e!=null&&this.appendChild(e),this._mask=e}isPointInPath(e,t){var i,s;return(s=(i=this.mask)==null?void 0:i.isPointInPath(e,t))!=null?s:!1}computeBBox(){var e;return(e=this.mask)==null?void 0:e.computeBBox()}render(e){const{mask:t,stops:i}=this,{ctx:s,devicePixelRatio:n}=e,r=1/n,a=t?.computeTransformedBBox();if(t==null||i==null||a==null)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),s.save(),s.beginPath(),t.path.draw(s),s.clip(),s.resetTransform();const o=Math.floor(a.x),l=Math.ceil(a.x+a.width),c=Math.floor(a.y),h=Math.ceil(a.y+a.height),u=new Wn,[d,p]=this.direction==="to-right"?[o,l]:[c,h];if(u.domain=i.map((g,f)=>d+(p-d)*f/(i.length-1)),u.range=i,u.update(),this.direction==="to-right"){const g=h-c;for(let f=o;f<=l;f+=r)s.fillStyle=u.convert(f),s.fillRect(f,c,r,g)}else{const g=l-o;for(let f=c;f<=h;f+=r)s.fillStyle=u.convert(f),s.fillRect(o,f,g,r)}s.restore()}},b([Z({redraw:3})],Al.prototype,"direction",2),b([Z({redraw:3})],Al.prototype,"stops",2),b([Z({redraw:3})],Al.prototype,"_mask",2)}}),tg,Ll,Tl,Oh,Ce,El=L({"packages/ag-charts-community/src/scene/shape/rect.ts"(){"use strict";Pt(),Ch(),Vn(),Bn(),tg=1e-6,Ll=(e,t,i,s,n)=>{let r=!1,a=!1,o=s-Math.sqrt(Math.max(zt(n,2)-zt(i,2),0)),l=0,c=0,h=i-Math.sqrt(Math.max(zt(n,2)-zt(s,2),0));return o>e?(r=!0,o=e,l=i-Math.sqrt(Math.max(zt(n,2)-zt(s-e,2)))):o<tg&&(o=0),h>t?(a=!0,c=s-Math.sqrt(Math.max(zt(n,2)-zt(i-t,2))),h=t):h<tg&&(h=0),{leading0:o,leading1:l,trailing0:c,trailing1:h,leadingClipped:r,trailingClipped:a}},Tl=(e,{x0:t,y0:i,x1:s,y1:n,cx:r,cy:a},o,l)=>{if(l&&e.moveTo(t,i),t!==s||i!==n){const c=Math.atan2(i-a,t-r),h=Math.atan2(n-a,s-r);e.arc(r,a,o,c,h)}else e.lineTo(t,i)},Oh=(e,t,i,s,n,r,a)=>{let{topLeft:o,topRight:l,bottomRight:c,bottomLeft:h}=r;const u=Math.max(o+h,l+c),d=Math.max(o+l,h+c);if(u<=0&&d<=0){e.rect(t,i,s,n);return}else if(a==null&&o===l&&o===c&&o===h){e.roundRect(t,i,s,n,o);return}if(s<0&&(t+=s,s=Math.abs(s)),n<0&&(i+=n,n=Math.abs(n)),a!=null){const A=Math.max(t,a.x),T=Math.min(t+s,a.x+a.width),I=Math.max(i,a.y),E=Math.min(i+n,a.y+a.height);t=A,i=I,s=T-A,n=E-I}if(s<=0||n<=0)return;a??(a=new ut(t,i,s,n));const p=Math.max(u/a.height,d/a.width,1);p>1&&(o/=p,l/=p,c/=p,h/=p);let g=!0,f=!0,m=!0,y=!0,v,x,S,_;if(g){const A=Ll(n,s,Math.max(a.x+o-t,0),Math.max(a.y+o-i,0),o);A.leadingClipped&&(y=!1),A.trailingClipped&&(f=!1);const T=Math.max(t+A.leading1,t),I=Math.max(i+A.leading0,i),E=Math.max(t+A.trailing1,t),N=Math.max(i+A.trailing0,i),C=a.x+o,O=a.y+o;v={x0:T,y0:I,x1:E,y1:N,cx:C,cy:O}}if(f){const A=Ll(s,n,Math.max(a.y+l-i,0),Math.max(t+s-(a.x+a.width-l),0),l);A.leadingClipped&&(g=!1),A.trailingClipped&&(m=!1);const T=Math.min(t+s-A.leading0,t+s),I=Math.max(i+A.leading1,i),E=Math.min(t+s-A.trailing0,t+s),N=Math.max(i+A.trailing1,i),C=a.x+a.width-l,O=a.y+l;x={x0:T,y0:I,x1:E,y1:N,cx:C,cy:O}}if(m){const A=Ll(n,s,Math.max(t+s-(a.x+a.width-c),0),Math.max(i+n-(a.y+a.height-c),0),c);A.leadingClipped&&(f=!1),A.trailingClipped&&(y=!1);const T=Math.min(t+s-A.leading1,t+s),I=Math.min(i+n-A.leading0,i+n),E=Math.min(t+s-A.trailing1,t+s),N=Math.min(i+n-A.trailing0,i+n),C=a.x+a.width-c,O=a.y+a.height-c;S={x0:T,y0:I,x1:E,y1:N,cx:C,cy:O}}if(y){const A=Ll(s,n,Math.max(i+n-(a.y+a.height-h),0),Math.max(a.x+h-t,0),h);A.leadingClipped&&(m=!1),A.trailingClipped&&(g=!1);const T=Math.max(t+A.leading0,t),I=Math.min(i+n-A.leading1,i+n),E=Math.max(t+A.trailing0,t),N=Math.min(i+n-A.trailing1,i+n),C=a.x+h,O=a.y+a.height-h;_={x0:T,y0:I,x1:E,y1:N,cx:C,cy:O}}let D=!1;g&&v!=null&&(Tl(e,v,o,!D),D||(D=!0)),f&&x!=null&&(Tl(e,x,l,!D),D||(D=!0)),m&&S!=null&&(Tl(e,S,c,!D),D||(D=!0)),y&&_!=null&&(Tl(e,_,h,!D),D||(D=!0)),e.closePath()},Ce=class extends ui{constructor(){super(...arguments),this.borderPath=new Ja,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Ai.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Ai.defaultStyles.strokeWidth,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){var e;return this.lastUpdatePathStrokeWidth!==this.strokeWidth?!0:!!(this.path.isDirty()||this.borderPath.isDirty()||(e=this.clipPath)!=null&&e.isDirty())}updatePath(){var e,t,i;const{path:s,borderPath:n,crisp:r,topLeftCornerRadius:a,topRightCornerRadius:o,bottomRightCornerRadius:l,bottomLeftCornerRadius:c}=this;let{x:h,y:u,width:d,height:p,strokeWidth:g,cornerRadiusBbox:f}=this;const y=1/((t=(e=this.layerManager)==null?void 0:e.canvas.pixelRatio)!=null?t:1);let v=1;if(s.clear({trackChanges:!0}),n.clear({trackChanges:!0}),r&&(d<=y&&(v*=d/y),p<=y&&(v*=p/y),d=this.align(h,d),p=this.align(u,p),h=this.align(h),u=this.align(u),f=f!=null?new ut(this.align(f.x),this.align(f.y),this.align(f.x,f.width),this.align(f.y,f.height)):void 0),g)if(d<y){const x=h+y/2;n.moveTo(x,u),n.lineTo(x,u+p),g=y,this.borderClipPath=void 0}else if(p<y){const x=u+y/2;n.moveTo(h,x),n.lineTo(h+d,x),g=y,this.borderClipPath=void 0}else if(g<d&&g<p){const x=g/2;h+=x,u+=x,d-=g,p-=g;const S=f?.clone().shrink(x),_={topLeft:a>0?a-g:0,topRight:o>0?o-g:0,bottomRight:l>0?l-g:0,bottomLeft:c>0?c-g:0};this.borderClipPath=void 0,Oh(s,h,u,d,p,_,S),Oh(n,h,u,d,p,_,S)}else this.borderClipPath=(i=this.borderClipPath)!=null?i:new Ja,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(h,u,d,p),n.rect(h,u,d,p);else{const x={topLeft:a,topRight:o,bottomRight:l,bottomLeft:c};this.borderClipPath=void 0,Oh(s,h,u,d,p,x,f)}this.effectiveStrokeWidth=g,this.lastUpdatePathStrokeWidth=g,this.microPixelEffectOpacity=v}computeBBox(){const{x:e,y:t,width:i,height:s}=this;return new ut(e,t,i,s)}isPointInPath(e,t){const i=this.transformPoint(e,t);return this.computeBBox().containsPoint(i.x,i.y)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:s}=this,{globalAlpha:n}=e;e.globalAlpha=n*s*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i,borderPath:s,borderClipPath:n,opacity:r,microPixelEffectOpacity:a}=this;if(!!t&&!!i){const{strokeOpacity:l,lineDash:c,lineDashOffset:h,lineCap:u,lineJoin:d}=this;n&&(n.draw(e),e.clip()),s.draw(e);const{globalAlpha:p}=e;e.strokeStyle=t,e.globalAlpha=p*r*l*a,e.lineWidth=i,c&&e.setLineDash(c),h&&(e.lineDashOffset=h),u&&(e.lineCap=u),d&&(e.lineJoin=d),e.stroke(),e.globalAlpha=p}}},Ce.className="Rect",b([_t()],Ce.prototype,"x",2),b([_t()],Ce.prototype,"y",2),b([_t()],Ce.prototype,"width",2),b([_t()],Ce.prototype,"height",2),b([_t()],Ce.prototype,"topLeftCornerRadius",2),b([_t()],Ce.prototype,"topRightCornerRadius",2),b([_t()],Ce.prototype,"bottomRightCornerRadius",2),b([_t()],Ce.prototype,"bottomLeftCornerRadius",2),b([_t()],Ce.prototype,"cornerRadiusBbox",2),b([_t()],Ce.prototype,"crisp",2)}});function Yx(e,t,i){const s=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:n,outerRadius:r}=i;if(i.startAngle===i.endAngle||s<Math.min(n,r)||s>Math.max(n,r))return!1;const a=rh(i.startAngle),o=rh(i.endAngle),l=Math.atan2(t,e);return a<o?l<=o&&l>=a:l<=o&&l>=-Math.PI||l>=a&&l<=Math.PI}function Hx(e,t){const{startAngle:i,endAngle:s,innerRadius:n,outerRadius:r}=t,a={x:r*Math.cos(i),y:r*Math.sin(i)},o={x:r*Math.cos(s),y:r*Math.sin(s)},l=n===0?{x:0,y:0}:{x:n*Math.cos(i),y:n*Math.sin(i)},c=n===0?{x:0,y:0}:{x:n*Math.cos(s),y:n*Math.sin(s)};return kl(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,l.x,l.y)!=null||kl(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,c.x,c.y)!=null||Vx(0,0,r,i,s,!0,e.start.x,e.start.y,e.end.x,e.end.y).length>0}function QT(e,t){const i={x:e.x,y:e.y},s={x:e.x+e.width,y:e.y},n={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return Hx({start:i,end:s},t)||Hx({start:n,end:r},t)}var jx=L({"packages/ag-charts-community/src/util/sector.ts"(){"use strict";Wx(),Bi()}}),Vi,Kx=L({"packages/ag-charts-community/src/scene/shape/sector.ts"(){"use strict";jx(),Pt(),Vn(),Vi=class extends ui{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.angleOffset=0,this.inset=0}computeBBox(){const e=this.outerRadius;return new ut(this.centerX-e,this.centerY-e,e*2,e*2)}updatePath(){const e=this.path,{angleOffset:t,inset:i}=this,s=this.startAngle+t,n=this.endAngle+t,r=s<=n?n-s:Math.PI*2-(s-n),a=Math.max(Math.min(this.innerRadius,this.outerRadius)+i,0),o=Math.max(Math.max(this.innerRadius,this.outerRadius)-i,0),l=r>=2*Math.PI,c=this.centerX,h=this.centerY;if(e.clear(),l)e.arc(c,h,o,s,n),a>i&&(e.moveTo(c+a*Math.cos(n),h+a*Math.sin(n)),e.arc(c,h,a,n,s,!0));else{const u=a>0?i/a:0,d=o>0?i/o:0;if(r<2*d)return;const g=a<=i||r<2*u;if(g){const f=r<Math.PI*.5?i*(1+Math.cos(r))/Math.sin(r):NaN;let m;f>0&&f<o?m=Math.max(Math.hypot(i,f),a):m=a;const y=s+r*.5;e.moveTo(c+m*Math.cos(y),h+m*Math.sin(y))}else e.moveTo(c+a*Math.cos(s+u),h+a*Math.sin(s+u));e.arc(c,h,o,s+d,n-d),g||(a>0?e.arc(c,h,a,n-u,s+u,!0):e.lineTo(c,h))}e.closePath(),this.dirtyPath=!1}isPointInPath(e,t){const{angleOffset:i}=this,s=this.startAngle+i,n=this.endAngle+i,r=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),o=this.transformPoint(e,t);return Yx(o.x,o.y,{startAngle:s,endAngle:n,innerRadius:r,outerRadius:a})}},Vi.className="Sector",b([_t()],Vi.prototype,"centerX",2),b([_t()],Vi.prototype,"centerY",2),b([_t()],Vi.prototype,"innerRadius",2),b([_t()],Vi.prototype,"outerRadius",2),b([_t()],Vi.prototype,"startAngle",2),b([_t()],Vi.prototype,"endAngle",2),b([_t()],Vi.prototype,"angleOffset",2),b([_t()],Vi.prototype,"inset",2)}});function Xx(e){let t,i;const s=Jx.exec(e);s&&([,t,e,i]=s);const n=Qx.exec(e);if(!n)throw new Error(`The number formatter is invalid: ${e}`);const[,r,a,o,l,c,h,u,d,p,g]=n;return{fill:r,align:a,sign:o,symbol:l,zero:c,width:parseInt(h),comma:u,precision:parseInt(d),trim:!!p,type:g,prefix:t,suffix:i}}function $x(e){const t=typeof e=="string"?Xx(e):e,{fill:i,align:s,sign:n="-",symbol:r,zero:a,width:o,comma:l,type:c,prefix:h="",suffix:u="",precision:d}=t;let{trim:p}=t;const g=d===void 0||isNaN(d);let f;if(!c)f=di.g,p=!0;else if(c in di&&c in Hr)f=g?Hr[c]:di[c];else if(c in di)f=di[c];else if(c in Hr)f=Hr[c];else throw new Error(`The number formatter type is invalid: ${c}`);let m;return d==null||g?m=c?6:12:m=d,y=>{let v=f(y,m);return p&&(v=JT(v)),l&&(v=tE(v,l)),v=iE(y,v,n),r&&r!=="#"&&(v=`${r}${v}`),r==="#"&&c==="x"&&(v=`0x${v}`),c==="s"&&(v=`${v}${eE(y)}`),(c==="%"||c==="p")&&(v=`${v}%`),o!=null&&!isNaN(o)&&(v=sE(v,o,i??a,s)),v=`${h}${v}${u}`,v}}function JT(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function tE(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const s=e.substring(0,i).split(""),n=e.substring(i);for(let r=s.length-3;r>0;r-=3)s.splice(r,0,t);return`${s.join("")}${n}`}function eE(e){return t0[qx(e)]}function qx(e){const t=Math.log10(Math.abs(e)),i=Math.floor(t/3)*3;return Math.max(ig,Math.min(sg,i))}function iE(e,t,i=""){if(i==="(")return e>=0?t:`(${t})`;const s=i==="+"?"+":"";return`${e>=0?s:e0}${t}`}function sE(e,t,i=" ",s=">"){let n=e;if(s===">"||!s)n=n.padStart(t,i);else if(s==="<")n=n.padEnd(t,i);else if(s==="^"){const r=Math.max(0,t-n.length),a=Math.ceil(r/2),o=Math.floor(r/2);n=n.padStart(a+n.length,i),n=n.padEnd(o+n.length,i)}return n}function Zx(e,t){const i=Xx(t??",f"),{precision:s}=i;(s==null||isNaN(s))&&(i.type==="f"||i.type==="%"?i.precision=Math.max(...e.map(r=>{if(typeof r!="number"||r===0)return 0;const a=Math.floor(Math.log10(Math.abs(r))),o=i.type?6:12,l=r.toExponential(o-1).replace(/\.?0+e/,"e"),c=l.indexOf(".");if(c<0)return a>=0?0:-a;const h=l.indexOf("e")-c;return Math.max(0,h-a-1)})):(!i.type||i.type in di)&&(i.precision=Math.max(...e.map(r=>{if(typeof r!="number")return 0;const a=r.toExponential((i.type?6:12)-1).replace(/\.?0+e/,"e");return a.substring(0,a.indexOf("e")).replace(".","").length}))));const n=$x(i);return r=>n(Number(r))}var Yr,Bs,eg,Qx,Jx,Il,Hr,di,ig,sg,t0,e0,ng=L({"packages/ag-charts-community/src/util/numberFormat.ts"(){"use strict";Yr=e=>`(${e})`,Bs=e=>`${Yr(e)}?`,eg=e=>Bs(`?:${e}`),Qx=(()=>{const e=".",t="[<>=^]",i="[+\\-( ]",s="[$\u20AC\xA3\xA5\u20A3\u20B9#]",n="0",r="\\d+",a=",",o="\\d+",l="~",c="[%a-z]";return new RegExp(["^",eg(`${Bs(e)}${Yr(t)}`),Bs(i),Bs(s),Bs(n),Bs(r),Bs(a),eg(`\\.${Yr(o)}`),Bs(l),Bs(c),"$"].join(""),"i")})(),Jx=(()=>{const e=".*?",t=".+?",i=".*?";return new RegExp(["^",Yr(e),`#\\{${Yr(t)}\\}`,Yr(i),"$"].join(""))})(),Il=e=>Math.floor(Math.abs(e)),Hr={b:e=>Il(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>Il(e).toString(8),x:e=>Il(e).toString(16),X:e=>Hr.x(e).toUpperCase(),n:e=>Hr.d(e),"%":e=>`${Il(e*100).toFixed(0)}`},di={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>di.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>di.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),s=Math.floor(Math.log10(i));return s>=-4&&s<t?i.toFixed(t-1-s):i.toExponential(t-1)},G:(e,t)=>di.g(e,t).toUpperCase(),n:(e,t)=>di.g(e,t),p:(e,t)=>di.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i))-(t-1);if(n<=0)return i.toFixed(-n);const r=Math.pow(10,n);return(Math.round(i/r)*r).toFixed()},s:(e,t)=>{const i=qx(e);return di.r(e/Math.pow(10,i),t)},"%":(e,t)=>di.f(e*100,t)},ig=-24,sg=24,t0={[ig]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[sg]:"Y"},e0="\u2212"}});function Rh(e,t,i,s,n){if(i<2)return Nl(e,t,t-e);const r=eo(e,t,i,s,n);return isNaN(r)?io(0):(e=Math.ceil(e/r)*r,t=Math.floor(t/r)*r,Nl(e,t,r))}function eo(e,t,i,s=0,n=1/0){const r=Math.abs(t-e),a=r/i,o=Math.floor(Math.log10(a)),l=Math.pow(10,o),c=rg.map(h=>{const u=h*l,d=Math.ceil(r/u),p=d>=s&&d<=n,g=Math.abs(d-i);return{multiplier:h,isWithinBounds:p,diffCount:g}}).sort((h,u)=>h.isWithinBounds!==u.isWithinBounds?h.isWithinBounds?-1:1:h.diffCount-u.diffCount)[0].multiplier;return!c||isNaN(c)?NaN:c*l}function nE(e,t){const i=Math.abs(t-e),s=Math.floor(Math.log10(i)),n=Math.pow(10,s),r=e>t?Math.ceil:Math.floor,a=t<e?Math.floor:Math.ceil;return rg.map(o=>{const l=o*n,c=r(e/l)*l,h=a(t/l)*l;return{error:1-i/Math.abs(h-c),domain:[c,h]}}).sort((o,l)=>o.error-l.error)[0].domain}function Nl(e,t,i){const s=Math.min(e,t),n=Math.max(e,t),r=hh(i),a=Math.pow(10,r),o=Math.ceil((n-s)/i),l=io(r);for(let c=0;c<=o;c++){const h=s+i*c;l.push(Math.round(h*a)/a)}return l}var io,rg,Cl=L({"packages/ag-charts-community/src/util/ticks.ts"(){"use strict";Ee(),io=(e,t=[])=>Object.assign(t,{fractionDigits:e}),rg=[1,2,5,10]}}),Un,Ol=L({"packages/ag-charts-community/src/scale/linearScale.ts"(){"use strict";ng(),Cl(),gs(),Un=class extends Dt{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(e){return e}ticks(){var e;const t=(e=this.tickCount)!=null?e:Dt.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||this.domain.some(r=>!isFinite(r)))return[];this.refresh();const[i,s]=this.getDomain(),{interval:n}=this;if(n){const r=Math.abs(n);if(!this.isDenseInterval({start:i,stop:s,interval:r}))return Nl(i,s,r)}return Rh(i,s,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){var i,s;const n=(i=this.tickCount)!=null?i:Dt.defaultTickCount;return(s=this.interval)!=null?s:eo(e,t,n,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var e;const t=(e=this.tickCount)!=null?e:Dt.defaultTickCount;if(t<1){this.niceDomain=[...this.domain];return}let[i,s]=this.domain;if(t===1)[i,s]=nE(i,s);else{const n=i>s?Math.ceil:Math.floor,r=s<i?Math.floor:Math.ceil,a=4;for(let o=0;o<a;o++){const l=i,c=s,h=this.getTickStep(i,s),[u,d]=this.domain;if(h>=1)i=n(u/h)*h,s=r(d/h)*h;else{const p=1/h;i=n(u*p)/p,s=r(d*p)/p}if(i===l&&s===c)break}}this.niceDomain=[i,s]}tickFormat({ticks:e,specifier:t}){return Zx(e??this.ticks(),t)}}}}),pi,zs=L({"packages/ag-charts-community/src/chart/marker/marker.ts"(){"use strict";Pt(),Vn(),pi=class extends ui{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:e,y:t,size:i}=this,s=i/2;return new ut(e-s,t-s,i,i)}applyPath(e,t){const{path:i}=this;let{x:s,y:n}=this;i.clear();for(const{x:r,y:a,t:o}of t)s+=r*e,n+=a*e,o==="move"?i.moveTo(s,n):i.lineTo(s,n);i.closePath()}},b([_t()],pi.prototype,"x",2),b([_t()],pi.prototype,"y",2),b([_t({convertor:Math.abs})],pi.prototype,"size",2)}}),Yn,wh=L({"packages/ag-charts-community/src/chart/marker/circle.ts"(){"use strict";zs(),Yn=class extends pi{updatePath(){const{x:e,y:t,path:i,size:s}=this,n=s/2;i.clear(),i.arc(e,t,n,0,Math.PI*2),i.closePath()}},Yn.className="Circle"}}),Ph,i0,rE=L({"packages/ag-charts-community/src/chart/marker/cross.ts"(){"use strict";zs(),Ph=class hA extends pi{updatePath(){const t=this.size/4.2;super.applyPath(t,hA.moves)}},Ph.className="Cross",Ph.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],i0=Ph}}),Fh,ag,s0=L({"packages/ag-charts-community/src/chart/marker/diamond.ts"(){"use strict";zs(),Fh=class uA extends pi{updatePath(){const t=this.size/2;super.applyPath(t,uA.moves)}},Fh.className="Diamond",Fh.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],ag=Fh}}),og,aE=L({"packages/ag-charts-community/src/chart/marker/heart.ts"(){"use strict";zs(),og=class extends pi{rad(e){return e/180*Math.PI}updatePath(){const{x:e,path:t,size:i,rad:s}=this,n=i/4,r=this.y+n/2;t.clear(),t.arc(e-n,r-n,n,s(130),s(330)),t.arc(e+n,r-n,n,s(220),s(50)),t.lineTo(e,r+n),t.closePath()}},og.className="Heart"}}),Bh,n0,oE=L({"packages/ag-charts-community/src/chart/marker/plus.ts"(){"use strict";zs(),Bh=class dA extends pi{updatePath(){const t=this.size/3;super.applyPath(t,dA.moves)}},Bh.className="Plus",Bh.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],n0=Bh}}),jr,lg=L({"packages/ag-charts-community/src/chart/marker/square.ts"(){"use strict";zs(),jr=class extends pi{updatePath(){const{path:e,x:t,y:i}=this,s=this.size/2;e.clear(),e.moveTo(this.align(t-s),this.align(i-s)),e.lineTo(this.align(t+s),this.align(i-s)),e.lineTo(this.align(t+s),this.align(i+s)),e.lineTo(this.align(t-s),this.align(i+s)),e.closePath()}},jr.className="Square"}}),zh,Kr,cg=L({"packages/ag-charts-community/src/chart/marker/triangle.ts"(){"use strict";zs(),zh=class pA extends pi{updatePath(){const t=this.size*1.1;super.applyPath(t,pA.moves)}},zh.className="Triangle",zh.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],Kr=zh}});function r0(e){return typeof e=="string"&&a0.includes(e)}function Hn(e=jr){return r0(e)?hg[e]:typeof e=="function"?e:jr}var hg,a0,pn=L({"packages/ag-charts-community/src/chart/marker/util.ts"(){"use strict";wh(),rE(),s0(),aE(),oE(),lg(),cg(),hg={circle:Yn,cross:i0,diamond:ag,heart:og,plus:n0,square:jr,triangle:Kr},a0=Object.keys(hg)}}),Xr,lE=L({"packages/ag-charts-community/src/scene/image.ts"(){"use strict";Yt(),Xr=class extends Vr{constructor(e){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=e}render(e){const{ctx:t,forceRender:i,stats:s}=e;if(this.dirty===0&&!i){s&&s.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(t);const n=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height),super.render(e)}},b([Z({redraw:3})],Xr.prototype,"x",2),b([Z({redraw:3})],Xr.prototype,"y",2),b([Z({redraw:3})],Xr.prototype,"width",2),b([Z({redraw:3})],Xr.prototype,"height",2),b([Z({redraw:3})],Xr.prototype,"opacity",2)}}),o0={};Ls(o0,{Arc:()=>xs,BBox:()=>ut,BandScale:()=>cs,Caption:()=>Vt,Circle:()=>Yn,ContinuousScale:()=>Dt,Diamond:()=>ag,DropShadow:()=>vs,Group:()=>at,HdpiCanvas:()=>Ht,Image:()=>Xr,Label:()=>Se,Line:()=>ye,LinearGradientFill:()=>Al,LinearScale:()=>Un,Marker:()=>pi,Node:()=>Vr,Path:()=>ui,Path2D:()=>Ja,PointerEvents:()=>Cp,Rect:()=>Ce,RedrawType:()=>rn,Scene:()=>Nh,SceneChangeDetection:()=>Z,ScenePathChangeDetection:()=>_t,Sector:()=>Vi,Selection:()=>Xt,Shape:()=>Ai,Square:()=>jr,Text:()=>Tt,Tooltip:()=>Fp,Triangle:()=>Kr,easing:()=>Wp,getFont:()=>zn,getMarker:()=>Hn,motion:()=>l0,nearestSquared:()=>fx,nearestSquaredInContainer:()=>LT,toRadians:()=>Mi,toTooltipHtml:()=>bl});var l0,ug=L({"packages/ag-charts-community/src/integrated-charts-scene.ts"(){"use strict";ti(),Gn(),Xa(),Ml(),fe(),zx(),Yt(),Ur(),qT(),to(),ZT(),Vn(),El(),Kx(),Bn(),hi(),gs(),Ya(),Ol(),Bi(),ms(),zs(),pn(),wh(),s0(),lg(),cg(),Sl(),Pt(),mx(),cn(),lE(),Ch(),Za(),l0=R(R({},Fx),Bx)}});function c0(e){return Gh(e)||pg(e)}function dg(e){const t=s=>!!s&&Object.hasOwn(s,"valueOf")&&ei(s.valueOf()),i=s=>s instanceof Date&&!isNaN(+s);return ei(e)||t(e)||i(e)}function Rl(e,t){if(t&&dg(e))return e;if(!t)return c0(e)?e:String(e)}var Gh,pg,h0,ei,gn=L({"packages/ag-charts-community/src/util/value.ts"(){"use strict";Gh=e=>typeof e=="string",pg=e=>!!e&&Object.hasOwn(e,"toString")&&Gh(e.toString()),h0=e=>e instanceof Date&&!isNaN(+e),ei=e=>typeof e=="number"&&Number.isFinite(e)}}),Vh,gg,u0=L({"packages/ag-charts-community/src/chart/crossline/crossLine.ts"(){"use strict";ug(),ft(),ht(),gn(),Vh=e=>e==="value"?Lt((t,i)=>i.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Lt((t,i)=>i.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),gg=(e,t,i,s)=>{const n=e==="line"&&t!==void 0,r=e==="range"&&i!==void 0;if(!n&&!r)return!0;const[a,o]=i??[t,void 0],l=Dt.is(s),c=Rl(a,l)!=null&&!isNaN(s.convert(a)),h=Rl(o,l)!=null&&!isNaN(s.convert(o));if(n&&c||r&&c&&h)return!0;const u=["Expecting crossLine"];return r?(c||u.push(`range start ${fl(a)}`),h||u.push(`${c?"":"and "}range end ${fl(o)}`)):u.push(`value ${fl(a)}`),u.push("to match the axis scale domain."),q.warnOnce(u.join(" ")),!1}}});function d0({yDirection:e,padding:t=0,position:i="top",bbox:s}){const n=e?p0:g0,{xTranslationDirection:r,yTranslationDirection:a}=n[i],o=e?s.width:s.height,l=e?s.height:s.width,c=r*(t+o/2),h=a*(t+l/2);return{xTranslation:c,yTranslation:h}}function cE({yDirection:e,bbox:t,padding:i=0,position:s="top"}){const n={};return s.startsWith("inside")||(s==="top"&&!e?n.top=i+t.height:s==="bottom"&&!e?n.bottom=i+t.height:s==="left"&&e?n.left=i+t.width:s==="right"&&e&&(n.right=i+t.width)),n}var p0,g0,Wh,fg,mg,yg,f0,vg,xg,bg,Sg,m0,hE=L({"packages/ag-charts-community/src/chart/crossline/crossLineLabelPosition.ts"(){"use strict";p0={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},g0={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},Wh=({yDirection:e,xEnd:t,yStart:i,yEnd:s})=>e?{x:t/2,y:i}:{x:t,y:isNaN(s)?i:(i+s)/2},fg=({yDirection:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e?{x:t,y:isNaN(n)?s:(s+n)/2}:{x:i/2,y:s},mg=({yDirection:e,xEnd:t,yStart:i,yEnd:s})=>e?{x:t,y:isNaN(s)?i:(i+s)/2}:{x:t/2,y:isNaN(s)?i:s},yg=({yDirection:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e?{x:i/2,y:isNaN(n)?s:n}:{x:t,y:isNaN(n)?s:(s+n)/2},f0=({xEnd:e,yStart:t,yEnd:i})=>({x:e/2,y:isNaN(i)?t:(t+i)/2}),vg=({yDirection:e,xStart:t,xEnd:i,yStart:s})=>e?{x:t/2,y:s}:{x:i,y:s},xg=({yDirection:e,xStart:t,yStart:i,yEnd:s})=>e?{x:t,y:isNaN(s)?i:s}:{x:t,y:i},bg=({yDirection:e,xEnd:t,yStart:i,yEnd:s})=>e?{x:t,y:i}:{x:t,y:isNaN(s)?i:s},Sg=({yDirection:e,xStart:t,xEnd:i,yStart:s,yEnd:n})=>e?{x:i,y:isNaN(n)?s:n}:{x:t,y:isNaN(n)?s:n},m0={top:{c:Wh},bottom:{c:yg},left:{c:fg},right:{c:mg},topLeft:{c:vg},topRight:{c:bg},bottomLeft:{c:xg},bottomRight:{c:Sg},inside:{c:f0},insideLeft:{c:fg},insideRight:{c:mg},insideTop:{c:Wh},insideBottom:{c:yg},insideTopLeft:{c:vg},insideBottomLeft:{c:xg},insideTopRight:{c:bg},insideBottomRight:{c:Sg}}}}),y0,Li,je,Uh,v0=L({"packages/ag-charts-community/src/chart/crossline/cartesianCrossLine.ts"(){"use strict";Ya(),gs(),Pt(),fe(),Yt(),PT(),hi(),ds(),Ee(),ht(),te(),ms(),ys(),u0(),hE(),y0=Jt(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Li=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}},b([k(ct,{optional:!0})],Li.prototype,"enabled",2),b([k($,{optional:!0})],Li.prototype,"text",2),b([k(on,{optional:!0})],Li.prototype,"fontStyle",2),b([k(ln,{optional:!0})],Li.prototype,"fontWeight",2),b([k(K)],Li.prototype,"fontSize",2),b([k($)],Li.prototype,"fontFamily",2),b([k(Et)],Li.prototype,"padding",2),b([k(bt,{optional:!0})],Li.prototype,"color",2),b([k(y0,{optional:!0})],Li.prototype,"position",2),b([k(zr,{optional:!0})],Li.prototype,"rotation",2),b([k(ct,{optional:!0})],Li.prototype,"parallel",2),je=class zc{constructor(){this.id=Fs(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new Li,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new at({name:`${this.id}`,layer:!0,zIndex:zc.LINE_LAYER_ZINDEX}),this.labelGroup=new at({name:`${this.id}`,layer:!0,zIndex:zc.LABEL_LAYER_ZINDEX}),this.crossLineRange=new fs,this.crossLineLabel=new Tt,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,labelGroup:i,crossLineRange:s,crossLineLabel:n}=this;t.append(s),i.append(n),s.pointerEvents=1}update(t){const{enabled:i,data:s,type:n,value:r,range:a,scale:o}=this;if(!n||!o||!i||!t||!gg(n,r,a,o)||s.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,i){if(!t||!this.createNodeData(i))return;const{sideFlag:n,gridLength:r,data:a}=this,o=[],l=0,c=n*r,h=a[0],u=a[1],d=new ut(Math.min(l,c),Math.min(h,u),Math.abs(l-c),Math.abs(h-u));o.push(d);const p=this.computeLabelBBox();return p&&o.push(p),ut.merge(o)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){var i,s,n;const{scale:r,gridLength:a,sideFlag:o,direction:l,label:{position:c="top"},clippedRange:h,strokeWidth:u=0}=this;if(this.data=[],!r)return!1;const d=(i=r.bandwidth)!=null?i:0,p=(s=r.step)!=null?s:0,g=(t?-1:1)*(r instanceof cs?(p-d)/2:0),[f,m]=[0,o*a];let[y,v]=this.getRange(),[x,S]=[Number(r.convert(y,{clampMode:"clamped"}))-g,r.convert(v,{clampMode:"clamped"})+d+g];x=ah(x,h),S=ah(S,h),[y,v]=[Number(r.convert(y)),r.convert(v)+d];const _=(y===x||v===S||x!==S)&&Math.abs(S-x)>0;if(_&&x>S&&([x,S]=[S,x],[y,v]=[v,y]),y-g>=x&&(y-=g),v+g<=S&&(v+=g),this.isRange=_,this.startLine=u>0&&y>=x&&y<=x+g,this.endLine=u>0&&v>=S-d-g&&v<=S,!_&&!this.startLine&&!this.endLine)return!1;if(this.data=[x,S],this.label.enabled){const D=l==="y",{c:A=Wh}=(n=m0[c])!=null?n:{},{x:T,y:I}=A({yDirection:D,xStart:f,xEnd:m,yStart:x,yEnd:S});this.labelPoint={x:T,y:I}}return!0}updateRangeNode(){var t;const{crossLineRange:i,sideFlag:s,gridLength:n,data:r,startLine:a,endLine:o,isRange:l,fill:c,fillOpacity:h,stroke:u,strokeWidth:d,lineDash:p}=this;i.x1=0,i.x2=s*n,i.y1=r[0],i.y2=r[1],i.startLine=a,i.endLine=o,i.isRange=l,i.fill=c,i.fillOpacity=h??1,i.stroke=u,i.strokeWidth=d??1,i.strokeOpacity=(t=this.strokeOpacity)!=null?t:1,i.lineDash=p}updateLabel(){const{crossLineLabel:t,label:i}=this;i.text&&(t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.color,t.text=i.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:i=void 0,y:s=void 0}={},label:{parallel:n,rotation:r,position:a="top",padding:o=0},direction:l,parallelFlipRotation:c,regularFlipRotation:h}=this;if(i===void 0||s===void 0)return;const{defaultRotation:u,configuredRotation:d}=Ah({rotation:r,parallel:n,regularFlipRotation:h,parallelFlipRotation:c});t.rotation=u+d,t.textBaseline="middle",t.textAlign="center";const p=t.computeTransformedBBox();if(!p)return;const g=l==="y",{xTranslation:f,yTranslation:m}=d0({yDirection:g,padding:o,position:a,bbox:p});t.translationX=i+f,t.translationY=s+m}getZIndex(t=!1){return t?zc.RANGE_LAYER_ZINDEX:zc.LINE_LAYER_ZINDEX}getRange(){var t;const{value:i,range:s,scale:n}=this,r=Dt.is(n),a=(t=s?.[0])!=null?t:i;let o=s?.[1];return!r&&o===void 0&&(o=a),r&&a===o&&(o=void 0),[a,o]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const i=new Tt;i.fontFamily=t.fontFamily,i.fontSize=t.fontSize,i.fontStyle=t.fontStyle,i.fontWeight=t.fontWeight,i.text=t.text;const{labelPoint:{x:s=void 0,y:n=void 0}={},label:{parallel:r,rotation:a,position:o="top",padding:l=0},direction:c,parallelFlipRotation:h,regularFlipRotation:u}=this;if(s===void 0||n===void 0)return;const{configuredRotation:d}=Ah({rotation:a,parallel:r,regularFlipRotation:u,parallelFlipRotation:h});i.rotation=d,i.textBaseline="middle",i.textAlign="center";const p=i.computeTransformedBBox();if(!p)return;const g=c==="y",{xTranslation:f,yTranslation:m}=d0({yDirection:g,padding:l,position:o,bbox:p});return i.translationX=s+f,i.translationY=n+m,i.computeTransformedBBox()}calculatePadding(t){var i,s,n,r,a,o,l,c;const{isRange:h,startLine:u,endLine:d,direction:p,label:{padding:g=0,position:f="top"}}=this;if(!h&&!u&&!d)return;const m=this.computeLabelBBox(),y=m?.x,v=m?.y;if(!m||y==null||v==null)return;const x=cE({yDirection:p==="y",padding:g,position:f,bbox:m});t.left=Math.max((i=t.left)!=null?i:0,(s=x.left)!=null?s:0),t.right=Math.max((n=t.right)!=null?n:0,(r=x.right)!=null?r:0),t.top=Math.max((a=t.top)!=null?a:0,(o=x.top)!=null?o:0),t.bottom=Math.max((l=t.bottom)!=null?l:0,(c=x.bottom)!=null?c:0)}},je.LINE_LAYER_ZINDEX=8,je.RANGE_LAYER_ZINDEX=3,je.LABEL_LAYER_ZINDEX=7,je.className="CrossLine",b([k(ct,{optional:!0})],je.prototype,"enabled",2),b([k(Jt(["range","line"],"a crossLine type"),{optional:!0})],je.prototype,"type",2),b([k(Di(Vh("range"),Ha.restrict({length:2})),{optional:!0})],je.prototype,"range",2),b([k(Vh("value"),{optional:!0})],je.prototype,"value",2),b([k(bt,{optional:!0})],je.prototype,"fill",2),b([k(Ot,{optional:!0})],je.prototype,"fillOpacity",2),b([k(bt,{optional:!0})],je.prototype,"stroke",2),b([k(Et,{optional:!0})],je.prototype,"strokeWidth",2),b([k(Ot,{optional:!0})],je.prototype,"strokeOpacity",2),b([k(an,{optional:!0})],je.prototype,"lineDash",2),Uh=je}}),_g,x0=L({"packages/ag-charts-community/src/module/moduleMap.ts"(){"use strict";Ns(),_g=class{constructor(){this.moduleMap=new Map}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,t(e))}removeModule(e){var t;const i=Wa(e)?e:e.optionsKey;(t=this.moduleMap.get(i))==null||t.destroy(),this.moduleMap.delete(i)}isModuleEnabled(e){return this.moduleMap.has(Wa(e)?e:e.optionsKey)}getModule(e){return this.moduleMap.get(Wa(e)?e:e.optionsKey)}get modules(){return this.moduleMap.values()}mapValues(e){return Array.from(this.moduleMap.values()).map(e)}destroy(){for(const e of this.moduleMap.keys())this.removeModule({optionsKey:e})}}}}),so,wl=L({"packages/ag-charts-community/src/motion/states.ts"(){"use strict";as(),so=class{constructor(e,t,i){this.states=t,this.preTransitionCb=i,this.debug=Kt.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,"color: green")}transition(e,t){var i,s;const n=this.states[this.state],r=n?.[e];if(!r){this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.state}`,"color: grey");return}let a=this.state;return typeof r=="string"?a=r:typeof r=="object"&&(a=r.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${a}`,"color: green"),(i=this.preTransitionCb)==null||i.call(this,this.state,a),this.state=a,typeof r=="function"?r(t):typeof r=="object"&&((s=r.action)==null||s.call(r,t)),this.state}}}}),Mg,kg,Yh,Dg=L({"packages/ag-charts-community/src/scale/logScale.ts"(){"use strict";ft(),ng(),Cl(),gs(),dl(),Mg=e=>e,kg=class gA extends Dt{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=Mg,this.basePow=Mg,this.log=t=>Math.min(this.domain[0],this.domain[1])>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(this.domain[0],this.domain[1])>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(this.domain[0],this.domain[1])>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(this.domain[0],this.domain[1])>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,q.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())}updateLogFn(){const{base:t}=this;let i;if(t===10)i=Math.log10;else if(t===Math.E)i=Math.log;else if(t===2)i=Math.log2;else{const s=Math.log(t);i=n=>Math.log(n)/s}this.baseLog=i}updatePowFn(){const{base:t}=this;let i;t===10?i=gA.pow10:t===Math.E?i=Math.exp:i=s=>Math.pow(t,s),this.basePow=i}updateNiceDomain(){const[t,i]=this.domain,s=t>i?Math.ceil:Math.floor,n=i<t?Math.floor:Math.ceil,r=this.pow(s(this.log(t))),a=this.pow(n(this.log(i)));this.niceDomain=[r,a]}static pow10(t){return t>=0?Math.pow(10,t):1/Math.pow(10,-t)}ticks(){var t;const i=(t=this.tickCount)!=null?t:10;if(!this.domain||this.domain.length<2||i<1)return[];this.refresh();const s=this.base,[n,r]=this.getDomain(),a=Math.min(n,r),o=Math.max(n,r);let l=this.log(a),c=this.log(o);if(this.interval){const v=Math.abs(this.interval),x=Math.abs(c-l);let S=Nl(l,c,Math.min(x,v));if(S=io(S.fractionDigits,S.map(_=>this.pow(_)).filter(_=>_>=a&&_<=o)),!this.isDenseInterval({start:a,stop:o,interval:v,count:S.length}))return S}const h=s%1===0,u=c-l>=i;if(!h||u){let v=Rh(l,c,Math.min(c-l,i));return v=io(v.fractionDigits,v.map(x=>this.pow(x))),v}const d=[],p=a>0;l=Math.floor(l)-1,c=Math.round(c)+1;const g=Math.min(...this.range),m=(Math.max(...this.range)-g)/i;let y=1/0;for(let v=l;v<=c;v++){const x=this.convert(this.pow(v+1));for(let S=1;S<s;S++){const _=p?S:s-S+1,D=this.pow(v)*_,A=this.convert(D),T=Math.abs(y-A),I=Math.abs(A-x),E=T>=m&&I>=m;D>=a&&D<=o&&(S===1||E)&&(d.push(D),y=A)}}return d}tickFormat({count:t,ticks:i,specifier:s}){const{base:n}=this;return s==null&&(s=n===10?".0e":","),typeof s=="string"&&(s=$x(s)),t===1/0?s:(i==null&&this.ticks(),r=>s(r))}},b([Qe],kg.prototype,"base",2),Yh=kg}});function Ag(e,t=new Date(e.getFullYear(),0,1)){const i=e.getTimezoneOffset()-t.getTimezoneOffset(),s=e.getTime()-t.getTime()+i*6e4,n=36e5*24;return Math.floor(s/n)}function b0(e,t){const s=new Date(e.getFullYear(),0,1).getDay(),n=(t-s+7)%7,r=new Date(e.getFullYear(),0,n+1);return r<=e?Math.floor(Ag(e,r)/7)+1:0}function S0(e,t=e.getFullYear()){const s=new Date(t,0,1).getDay(),n=(Eg-s+7)%7,r=new Date(t,0,n-(Eg-Tg)+1);return r<=e?Math.floor(Ag(e,r)/7)+1:S0(e,t-1)}function uE(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${Oe(Math.floor(i/60),2,"0")}${Oe(Math.floor(i%60),2,"0")}`}function Oe(e,t,i){const s=String(Math.floor(e));return s.length>=t?s:`${i.repeat(t-s.length)}${s}`}function Lg(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(i!==0){const o=i>0?e.substring(0,i):e;t.push(o)}if(i<0)break;const s=e[i+1],n=k0[s];n!=null&&i++;const r=e[i+1],a=M0[r];if(typeof a=="function")t.push([a,n]);else if(typeof a=="string"){const o=Lg(a);t.push([o,n])}else t.push(`${n??""}${r}`);e=e.substring(i+2)}return i=>{const s=typeof i=="number"?new Date(i):i;return t.map(n=>typeof n=="string"?n:n[0](s,n[1])).join("")}}var Pl,_0,Tg,Eg,M0,k0,dE=L({"packages/ag-charts-community/src/util/timeFormat.ts"(){"use strict";Pl={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},_0=0,Tg=1,Eg=4,M0={a:e=>Pl.shortDays[e.getDay()],A:e=>Pl.days[e.getDay()],b:e=>Pl.shortMonths[e.getMonth()],B:e=>Pl.months[e.getMonth()],c:"%x, %X",d:(e,t)=>Oe(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>Oe(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>Oe(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return i===0?"12":Oe(i,2,t??"0")},j:(e,t)=>Oe(Ag(e)+1,3,t??"0"),m:(e,t)=>Oe(e.getMonth()+1,2,t??"0"),M:(e,t)=>Oe(e.getMinutes(),2,t??"0"),L:(e,t)=>Oe(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>Oe(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>Oe(b0(e,_0),2,t??"0"),V:(e,t)=>Oe(S0(e),2,t??"0"),w:(e,t)=>Oe(e.getDay(),2,t??"0"),W:(e,t)=>Oe(b0(e,Tg),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>Oe(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>Oe(e.getFullYear(),4,t??"0"),Z:e=>uE(e),"%":()=>"%"},k0={_:" ",0:"0","-":""}}});function Ti(e){return e instanceof Date?e.getTime():e}var jn,Hh,Ig=L({"packages/ag-charts-community/src/scale/timeScale.ts"(){"use strict";Cl(),Cv(),sn(),Iv(),Ze(),kv(),Tv(),Wv(),Av(),Gv(),Yv(),dE(),gs(),jn={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"},Hh=class extends Dt{constructor(){super([new Date(2022,11,7),new Date(2022,11,8)],[0,1]),this.type="time",this.year=Uv,this.month=Vv,this.week=zv,this.day=Nv,this.hour=Ev,this.minute=Lv,this.second=Dv,this.millisecond=Mv,this.tickIntervals=[[this.second,1,Pn],[this.second,5,5*Pn],[this.second,15,15*Pn],[this.second,30,30*Pn],[this.minute,1,Ue],[this.minute,5,5*Ue],[this.minute,15,15*Ue],[this.minute,30,30*Ue],[this.hour,1,ns],[this.hour,3,3*ns],[this.hour,6,6*ns],[this.hour,12,12*ns],[this.day,1,en],[this.day,2,2*en],[this.week,1,Ba],[this.week,2,2*Ba],[this.week,3,3*Ba],[this.month,1,za],[this.month,2,2*za],[this.month,3,3*za],[this.month,4,4*za],[this.month,6,6*za],[this.year,1,tl]]}toDomain(e){return new Date(e)}calculateDefaultTickFormat(e=[]){let t=8;const i=l=>{l<t&&(t=l)};for(const l of e){const c=this.getLowestGranularityFormat(l);i(c)}const s=Ti(e[0]),n=Ti(e[e.length-1]),r=new Date(s).getFullYear(),o=new Date(n).getFullYear()-r>0;return this.buildFormatString(t,o)}buildFormatString(e,t){let i=[jn[e]],s=0;const n=this.getDomain(),r=Math.min(...n.map(Ti)),o=Math.max(...n.map(Ti))-r;switch(e){case 1:o/Ue>1&&i.push(jn[2]);case 2:o/ns>1&&i.push(jn[3]);case 3:s=i.length,o/en>1&&i.push(jn[4]);case 4:if(o/Ba>1||t){const l=i.indexOf(jn[4]);l>-1&&i.splice(l,1,jn[5])}case 5:case 6:(o/tl>1||t)&&i.push(jn[8]);default:break}return s<i.length&&(i=[...i.slice(0,s),i.slice(s).join(" ")]),s>0&&(i=[...i.slice(0,s).reverse(),...i.slice(s)],s<i.length&&i.splice(s,0," ")),i.join("")}getLowestGranularityFormat(e){return this.second.floor(e)<e?0:this.minute.floor(e)<e?1:this.hour.floor(e)<e?2:this.day.floor(e)<e?3:this.month.floor(e)<e?this.week.floor(e)<e?4:5:this.year.floor(e)<e?6:8}defaultTickFormat(e){const t=this.calculateDefaultTickFormat(e);return i=>Lg(t)(i)}getTickInterval({start:e,stop:t,count:i,minCount:s,maxCount:n}){const{tickIntervals:r}=this;let a,o;const l=i??Dt.defaultTickCount,c=Math.abs(t-e)/Math.max(l,1);let h=0;for(;h<r.length&&c>r[h][2];)h++;if(h===0)o=Math.max(eo(e,t,l,s,n),1),a=this.millisecond;else if(h===r.length){const u=e/tl,d=t/tl;o=eo(u,d,l,s,n),a=this.year}else{const u=c-r[h-1][2],d=r[h][2]-c,p=u<d?h-1:h;[a,o]=r[p]}return a.every(o)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const[e,t]=this.getDomain().map(Ti),i=Math.min(e,t),s=Math.max(e,t);if(this.interval!==void 0)return this.getTicksForInterval({start:i,stop:s});if(this.nice){const{tickCount:n}=this;if(n===2)return this.niceDomain;if(n===1)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:i,stop:s})}getDefaultTicks({start:e,stop:t}){const i=this.getTickInterval({start:e,stop:t,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return i?i.range(new Date(e),new Date(t)):[]}getTicksForInterval({start:e,stop:t}){const{interval:i,tickIntervals:s}=this;if(!i)return[];if(i instanceof Fa){const h=i.range(new Date(e),new Date(t));return this.isDenseInterval({start:e,stop:t,interval:i,count:h.length})?this.getDefaultTicks({start:e,stop:t}):h}const n=Math.abs(i);if(this.isDenseInterval({start:e,stop:t,interval:n}))return this.getDefaultTicks({start:e,stop:t});const r=[...s];r.reverse();const a=r.find(h=>n%h[2]===0);if(a)return a[0].every(n/(a[2]/a[1])).range(new Date(e),new Date(t));let o=new Date(e);const l=new Date(t),c=[];for(;o<=l;)c.push(o),o=new Date(o),o.setMilliseconds(o.getMilliseconds()+n);return c}tickFormat({ticks:e,specifier:t}){return t==null?this.defaultTickFormat(e):Lg(t)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,i]=this.domain;for(let s=0;s<4;s++){this.updateNiceDomainIteration(t,i);const[n,r]=this.niceDomain;if(Ti(t)===Ti(n)&&Ti(i)===Ti(r))break;t=n,i=r}}updateNiceDomainIteration(e,t){const i=Math.min(Ti(e),Ti(t)),s=Math.max(Ti(e),Ti(t)),n=e>t,{interval:r}=this;let a;if(r instanceof Fa)a=r;else{const o=typeof r=="number"?(s-i)/Math.max(r,1):this.tickCount;a=this.getTickInterval({start:i,stop:s,count:o,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(a){const o=a.range(new Date(i),new Date(s),!0),l=n?[...o].reverse():o,c=l[0],h=l[l.length-1];this.niceDomain=[c,h]}}}}}),fn,Ng=L({"packages/ag-charts-community/src/util/padding.ts"(){"use strict";ht(),fn=class{constructor(e=0,t=e,i=e,s=t){this.top=e,this.right=t,this.bottom=i,this.left=s}clear(){this.top=this.right=this.bottom=this.left=0}},b([k(K)],fn.prototype,"top",2),b([k(K)],fn.prototype,"right",2),b([k(K)],fn.prototype,"bottom",2),b([k(K)],fn.prototype,"left",2)}});function Wt(e){if(e!=null)return e===""?"":(no??(no=document.createElement("div")),no.textContent=String(e),no.innerHTML)}var no,$r=L({"packages/ag-charts-community/src/util/sanitize.ts"(){"use strict";no=null}}),D0={};Ls(D0,{Color:()=>hs,DELETE:()=>_i,Logger:()=>q,Padding:()=>fn,angleBetween:()=>ST,checkDatum:()=>Rl,clamp:()=>ki,clampArray:()=>ah,countFractionDigits:()=>hh,createId:()=>Fs,extent:()=>Es,isContinuous:()=>dg,isDate:()=>h0,isDiscrete:()=>c0,isEqual:()=>oh,isNegative:()=>pl,isNumber:()=>ei,isNumberEqual:()=>oh,isReal:()=>lh,isString:()=>Gh,isStringObject:()=>pg,jsonApply:()=>hl,jsonClone:()=>cl,jsonDiff:()=>Cs,jsonMerge:()=>Qt,jsonWalk:()=>Fr,mod:()=>Sp,normalisedExtent:()=>Qv,normalisedExtentWithMetadata:()=>il,normalizeAngle180:()=>rh,normalizeAngle360:()=>Ye,normalizeAngle360Inclusive:()=>xT,range:()=>Nl,resetIds:()=>gx,round:()=>xp,sanitizeHtml:()=>Wt,tickFormat:()=>Zx,tickStep:()=>eo,ticks:()=>Rh,toDegrees:()=>bT,toFixed:()=>bp,toRadians:()=>Mi,toReal:()=>ch,zipObject:()=>Vp});var jh=L({"packages/ag-charts-community/src/sparklines-util.ts"(){"use strict";gn(),ds(),Ng(),Os(),Bi(),Nx(),Ee(),li(),Ee(),ng(),$r(),Cl(),gh(),ft()}});function pE(e,t){return e.length===t.length&&e.every((i,s)=>Number(i)===Number(t[s]))}var gE=L({"packages/ag-charts-community/src/util/equal.ts"(){"use strict"}});function fE(e,t,i,s,n){let r=e.x;e.x<t?r=t:e.x>t+s&&(r=t+s);let a=e.y;e.y<i?a=i:e.y>i+n&&(a=i+n);const o=e.x-r,l=e.y-a;return Math.sqrt(o*o+l*l)<=e.size*.5}function A0(e,t,i,s,n){const r=e.x+e.width>t&&e.x<t+s,a=e.y+e.height>i&&e.y<i+n;return r&&a}function mE(e,t,i,s,n){return t+s<e.x+e.width&&t>e.x&&i>e.y&&i+n<e.y+e.height}function yE(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}function vE(e,t,i=5){const s=[];e=e.map(n=>n.slice().sort((r,a)=>a.point.size-r.point.size));for(let n=0;n<e.length;n++){const r=s[n]=[],a=e[n];if(a?.length&&a[0].label)for(let o=0,l=a.length;o<l;o++){const c=a[o],h=c.label,u=c.point.size*.5,d=c.point.x-h.width*.5,p=c.point.y-u-h.height-i,{width:g,height:f}=h;!(!t||mE(t,d,p,g,f))||e.some(x=>x.some(S=>fE(S.point,d,p,g,f)))||s.some(x=>x.some(S=>A0(S,d,p,g,f)))||r.push({index:o,text:h.text,x:d,y:p,width:g,height:f,datum:c})}}return s}function xE(e,t){const i=[];for(let s=0;s<e.length;s++){const n=e[s],{point:{x:r,y:a},label:{text:o}}=n;let{label:{width:l,height:c}}=n;if(l+=t??0,c+=t??0,i.some(u=>A0(u,r,a,l,c)))return!0;i.push({index:s,text:o,x:r,y:a,width:l,height:c,datum:n})}return!1}var L0=L({"packages/ag-charts-community/src/util/labelPlacement.ts"(){"use strict"}}),T0,E0,Fl,bE=L({"packages/ag-charts-community/src/chart/axis/axisGridLine.ts"(){"use strict";Ns(),ht(),T0=["stroke","lineDash"],E0=ws(e=>Pr(e)&&Object.keys(e).every(t=>T0.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),Fl=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}},b([k(ct)],Fl.prototype,"enabled",2),b([k(K)],Fl.prototype,"width",2),b([k(E0)],Fl.prototype,"style",2)}});function mn(e,t=[void 0]){return nn((i,s,n)=>t.includes(n)?e:n)}var ro=L({"packages/ag-charts-community/src/util/default.ts"(){"use strict";wr()}}),ie,Kh=L({"packages/ag-charts-community/src/chart/axis/axisLabel.ts"(){"use strict";hi(),ro(),ht(),ie=class{constructor(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0}getSideFlag(){return this.mirrored?1:-1}getFont(){return zn(this)}},b([k(ct)],ie.prototype,"enabled",2),b([k(ct,{optional:!0})],ie.prototype,"autoWrap",2),b([k(K,{optional:!0})],ie.prototype,"maxWidth",2),b([k(K,{optional:!0})],ie.prototype,"maxHeight",2),b([k(on,{optional:!0})],ie.prototype,"fontStyle",2),b([k(ln,{optional:!0})],ie.prototype,"fontWeight",2),b([k(Et.restrict({min:1}))],ie.prototype,"fontSize",2),b([k($)],ie.prototype,"fontFamily",2),b([k(K)],ie.prototype,"padding",2),b([k(Gr),mn(NaN)],ie.prototype,"minSpacing",2),b([k(bt,{optional:!0})],ie.prototype,"color",2),b([k(zr,{optional:!0})],ie.prototype,"rotation",2),b([k(ct)],ie.prototype,"avoidCollisions",2),b([k(ct)],ie.prototype,"mirrored",2),b([k(ct)],ie.prototype,"parallel",2),b([k($,{optional:!0})],ie.prototype,"format",2)}}),ao,I0=L({"packages/ag-charts-community/src/chart/axis/axisLine.ts"(){"use strict";ht(),ao=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}},b([k(ct)],ao.prototype,"enabled",2),b([k(K)],ao.prototype,"width",2),b([k(bt,{optional:!0})],ao.prototype,"color",2)}}),N0,Wi,Xh=L({"packages/ag-charts-community/src/chart/axis/axisTick.ts"(){"use strict";ro(),Ze(),Ns(),ht(),N0=Lt(e=>ol(e)&&e>0||e instanceof Fa,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Wi=class{constructor(){this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}},b([k(ct)],Wi.prototype,"enabled",2),b([k(K)],Wi.prototype,"width",2),b([k(K)],Wi.prototype,"size",2),b([k(bt,{optional:!0})],Wi.prototype,"color",2),b([k(N0,{optional:!0})],Wi.prototype,"interval",2),b([k(Ha,{optional:!0})],Wi.prototype,"values",2),b([k(Ep),mn(NaN)],Wi.prototype,"minSpacing",2)}});function Cg(e){const t=Math.min(...e.range),i=Math.max(...e.range),s=Math.floor(t),n=Math.ceil(i);return{min:s,max:n,visible:s!==n}}function SE(e,t){return Math.abs(t-e)<F0?t:e>t?t+$h:t-$h}function C0(e){const t=(o,l)=>{const c=l!=null?Math.min(...l):e.min,h=l!=null?Math.max(...l):e.max;return o<c||o>h},i=(o,l,c)=>c!=="removed"&&t(o.translationY,o.datum.range)?"removed":c!=="added"&&t(l.translationY,l.range)?"added":c;return{tick:{fromFn(o,l,c){let h=o.y1+o.translationY,u=o.opacity;return(c==="added"||t(o.datum.translationY,o.datum.range))&&(h=l.translationY,u=0),R({y:0,translationY:h,opacity:u},Ne[c])},toFn(o,l,c){const h=l.translationY;let u=1;return c==="removed"&&(u=0),{y:0,translationY:h,opacity:u,finish:{y:h,translationY:0}}},intermediateFn(o,l,c){return{visible:!t(o.y)}}},line:{fromFn(o,l){var c;return R(R({},(c=o.previousDatum)!=null?c:l),Ne.updated)},toFn(o,l){return R({},l)}},label:{fromFn(o,l,c){var h;const u=(h=o.previousDatum)!=null?h:l;c=i(o,l,c);const d=u.x,p=u.y,g=u.rotationCenterX;let f=Math.round(o.translationY),m=u.rotation,y=o.opacity;return c==="removed"||t(u.y,u.range)||(c==="added"||t(o.datum.y,o.datum.range))&&(f=Math.round(u.translationY),y=0,m=l.rotation),R({x:d,y:p,rotationCenterX:g,translationY:f,rotation:m,opacity:y},Ne[c])},toFn(o,l,c){var h,u;const d=l.x,p=l.y,g=l.rotationCenterX,f=Math.round(l.translationY);let m=0,y=1;return c=i(o,l,c),c==="added"?(y=1,m=l.rotation):c==="removed"?(y=0,m=l.rotation):m=SE((u=(h=o.previousDatum)==null?void 0:h.rotation)!=null?u:l.rotation,l.rotation),{x:d,y:p,rotationCenterX:g,translationY:f,rotation:m,opacity:y,finish:{rotation:l.rotation}}}},group:{fromFn(o,l){const{rotation:c,translationX:h,translationY:u}=o;return R({rotation:c,translationX:h,translationY:u},Ne.updated)},toFn(o,l){const{rotation:c,translationX:h,translationY:u}=l;return{rotation:c,translationX:h,translationY:u}}}}}function O0(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function R0(e){const{visible:t,min:i,max:s}=e;return(n,r)=>{const a=r.translationY,o=t&&a>=i&&a<=s;return{y:a,translationY:0,opacity:1,visible:o}}}function w0(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function P0(){return(e,t)=>R({},t)}var $h,F0,B0=L({"packages/ag-charts-community/src/chart/axis/axisUtil.ts"(){"use strict";ti(),$h=Math.PI*2,F0=$h/2}}),Og,qr,qh,Rg=L({"packages/ag-charts-community/src/chart/axis/axis.ts"(){"use strict";x0(),ti(),Gn(),wl(),gs(),Dg(),Ig(),Pt(),fe(),Np(),Ur(),to(),hi(),jh(),Bi(),gE(),ds(),L0(),ft(),Ee(),ht(),Xa(),te(),v0(),ms(),ys(),bE(),Kh(),I0(),Xh(),B0(),Og=(e=>(e[e.TickLine=0]="TickLine",e[e.TickLabel=1]="TickLabel",e[e.GridLine=2]="GridLine",e[e.GridArc=3]="GridArc",e[e.AxisLine=4]="AxisLine",e))(Og||{}),qr=class fA{constructor(t,i){this.moduleCtx=t,this.scale=i,this.id=Fs(this),this.nice=!0,this.reverse=void 0,this.dataDomain={domain:[],clipped:!1},this.keys=[],this.boundSeries=[],this.includeInvisibleDomains=!1,this.axisGroup=new at({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new ye),this.tickLineGroup=this.axisGroup.appendChild(new at({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new at({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new at({name:`${this.id}-CrossLines`}),this.gridGroup=new at({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new at({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=Xt.select(this.tickLineGroup,ye,!1),this.tickLabelGroupSelection=Xt.select(this.tickLabelGroup,Tt,!1),this.gridLineGroupSelection=Xt.select(this.gridLineGroup,ye,!1),this.line=new ao,this.tick=this.createTick(),this.gridLine=new Fl,this.label=this.createLabel(),this.defaultTickMinSpacing=fA.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new Vt,this._gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new _g,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.interactionManager.addListener("hover",n=>this.checkAxisHover(n))),this.animationManager=t.animationManager,this.animationState=new so("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()}},ready:{update:n=>this.animateReadyUpdate(n),resize:()=>this.resetSelectionNodes()}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let s;this.destroyFns.push(t.layoutService.addListener("layout-complete",n=>{s!=null&&Cs(n.chart,s)!=null&&this.animationState.transition("resize"),s=R({},n.chart)})),this.destroyFns.push(t.updateService.addListener("update-complete",n=>{this.minRect=n.minRect}))}get type(){var t;return(t=this.constructor.type)!=null?t:""}set crossLines(t){var i,s;(i=this._crossLines)==null||i.forEach(n=>this.detachCrossLine(n)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,(s=this._crossLines)==null||s.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}refreshScale(){var t;this.range=this.scale.range.slice(),(t=this.crossLines)==null||t.forEach(i=>{this.initCrossLine(i)})}updateRange(){var t;const{range:i,visibleRange:s,scale:n}=this,r=(i[1]-i[0])/(s[1]-s[0]),a=r*s[0],o=i[0]-a;n.range=[o,o+r],(t=this.crossLines)==null||t.forEach(l=>{l.clippedRange=[i[0],i[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,i){i.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)}detachAxis(t,i){i.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)}inRange(t,i=0,s=0){const n=Math.min(...this.range),r=Math.max(...this.range);return t+i>=n-s&&t<=r+s}onLabelFormatChange(t,i){const{scale:s,fractionDigits:n}=this,a=!(s instanceof Yh)&&n>0?o=>typeof o=="number"?o.toFixed(n):String(o):o=>String(o);if(i&&s&&s.tickFormat)try{this.labelFormatter=s.tickFormat({ticks:t,specifier:i})}catch{this.labelFormatter=a,q.warnOnce(`the axis label format string ${i} is invalid. No formatting will be applied`)}else this.labelFormatter=a}setDomain(){const{scale:t,dataDomain:{domain:i}}=this;t.domain=i}setTickInterval(t){var i;this.scale.interval=(i=this.tick.interval)!=null?i:t}setTickCount(t,i,s){const{scale:n}=this;if(t&&Dt.is(n)){if(typeof t=="number"){n.tickCount=t,n.minTickCount=i??0,n.maxTickCount=s??1/0;return}n instanceof Hh&&this.setTickInterval(t)}}set gridLength(t){var i;(this._gridLength&&!t||!this._gridLength&&t)&&this.gridLineGroupSelection.clear(),this._gridLength=t,(i=this.crossLines)==null||i.forEach(s=>{this.initCrossLine(s)})}get gridLength(){return this._gridLength}createTick(){return new Wi}createLabel(){return new ie}checkAxisHover(t){this.computeBBox().containsPoint(t.offsetX,t.offsetY)&&this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t){if(!this.tickGenerationResult)return;const{rotation:i,parallelFlipRotation:s,regularFlipRotation:n}=this.calculateRotations(),r=this.label.getSideFlag();this.updatePosition();const a=this.getAxisLineCoordinates(),o=this.tickGenerationResult,{tickData:l,combinedRotation:c,textBaseline:h,textAlign:u}=o,d=ai(o,["tickData","combinedRotation","textBaseline","textAlign"]),p=this.tickLabelGroupSelection.nodes().map(g=>g.datum.tickId);if(this.updateSelections(a,l.ticks,{combinedRotation:c,textAlign:u,textBaseline:h,range:this.scale.range}),this.animationManager.isSkipped())this.resetSelectionNodes();else{const g=this.calculateUpdateDiff(p,l);this.animationState.transition("update",g)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(r),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:i,parallelFlipRotation:s,regularFlipRotation:n}),this.updateLayoutState(),t=d.primaryTickCount,t}getAxisLineCoordinates(){const{range:[t,i]}=this,s=0,n=Math.min(t,i),r=Math.max(t,i);return{x:s,y1:n,y2:r}}getTickLineCoordinates(t){const{label:i}=this,n=i.getSideFlag()*this.getTickSize(),r=Math.min(0,n),a=r+Math.abs(n),o=t.translationY;return{x1:r,x2:a,y:o}}getTickLabelProps(t,i){const{label:s}=this,{combinedRotation:n,textBaseline:r,textAlign:a,range:o}=i,l=t.tickLabel,h=s.getSideFlag()*(this.getTickSize()+s.padding+this.seriesAreaPadding),u=l!==""&&l!=null;return{tickId:t.tickId,translationY:t.translationY,fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,rotation:n,rotationCenterX:h,text:l,textAlign:a,textBaseline:r,visible:u,x:h,y:0,range:o}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(t,i){var s;const{title:n}=this;if(!n){t.enabled=!1;return}if(t.color=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.enabled=n.enabled,t.wrapping=n.wrapping,n.enabled){const r=t.node,a=((s=n.spacing)!=null?s:0)+i.spacing,o=this.label.getSideFlag(),l=Ye(this.rotation),c=o===-1&&l>Math.PI&&l<Math.PI*2?-1:1,h=c*o*Math.PI/2,u=c===1?"bottom":"top",{range:d}=this,p=Math.floor(c*o*(d[0]+d[1])/2),g=Math.floor(o===-1?c*-a:-a),{callbackCache:f}=this.moduleCtx,{formatter:m=v=>v.defaultValue}=n,y=f.call(m,this.getTitleFormatterParams());r.setProperties({rotation:h,text:y,textBaseline:u,visible:!0,x:p,y:g})}}calculateLayout(t){var i;const{rotation:s,parallelFlipRotation:n,regularFlipRotation:r}=this.calculateRotations(),a=this.label.getSideFlag(),o=a*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:n,regularFlipRotation:r,labelX:o,sideFlag:a}),this.updateLayoutState();const l=this.tickGenerationResult,{tickData:c,combinedRotation:h,textBaseline:u,textAlign:d}=l,p=ai(l,["tickData","combinedRotation","textBaseline","textAlign"]),g=[],{x:f,y1:m,y2:y}=this.getAxisLineCoordinates(),v=new ut(f+Math.min(a*this.seriesAreaPadding,0),m,this.seriesAreaPadding,y-m);g.push(v);const{tick:x}=this;x.enabled&&c.ticks.forEach(E=>{const{x1:N,x2:C,y:O}=this.getTickLineCoordinates(E),w=new ut(N,O,C-N,0);g.push(w)});const{label:S}=this;if(S.enabled){const E=new Tt;c.ticks.forEach(N=>{const C=this.getTickLabelProps(N,{combinedRotation:h,textAlign:d,textBaseline:u,range:this.scale.range});if(!C.visible)return;E.setProperties(X(R({},C),{translationY:Math.round(N.translationY)}));const O=E.computeTransformedBBox();O&&g.push(O)})}const _=E=>{const N=new zi,{rotation:C,translationX:O,translationY:w,rotationCenterX:H,rotationCenterY:F}=this.getAxisTransform();return zi.updateTransformMatrix(N,1,1,C,O,w,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:H,rotationCenterY:F}),N.transformBBox(E)},{title:D}=this;if(D?.enabled){const E=new Vt,N=ut.merge(g).width;this.setTitleProps(E,{spacing:N});const O=E.node.computeTransformedBBox();O&&g.push(O)}const A=ut.merge(g),T=_(A),I=this.isAnySeriesActive();return(i=this.crossLines)==null||i.forEach(E=>{var N;E.sideFlag=-a,E.direction=s===-Math.PI/2?"x":"y",E instanceof Uh&&(E.label.parallel=(N=E.label.parallel)!=null?N:this.label.parallel),E.parallelFlipRotation=n,E.regularFlipRotation=r,E.calculateLayout(I,this.reverse)}),t=p.primaryTickCount,{primaryTickCount:t,bbox:T}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}updateScale(){this.updateRange(),this.calculateDomain(),this.setDomain(),this.setTickInterval(this.tick.interval);const{scale:t,nice:i}=this;Dt.is(t)&&(t.nice=i,t.update())}calculateRotations(){const t=Mi(this.rotation),i=Ye(t),s=Ye(t-Math.PI/2);return{rotation:t,parallelFlipRotation:i,regularFlipRotation:s}}generateTicks({primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:s,labelX:n,sideFlag:r}){var a;const{scale:o,tick:l,label:{parallel:c,rotation:h,fontFamily:u,fontSize:d,fontStyle:p,fontWeight:g}}=this,f=t!==void 0,{defaultRotation:m,configuredRotation:y,parallelFlipFlag:v,regularFlipFlag:x}=Ah({rotation:h,parallel:c,regularFlipRotation:s,parallelFlipRotation:i}),S=y+m,_=new zi,{maxTickCount:D}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(a=l.maxSpacing)!=null?a:NaN}),T=!Dt.is(o)||isNaN(D)?10:D;let I=zp(c,y,0,r,x);const E=BT(c,y,r,v),N={fontFamily:u,fontSize:d,fontStyle:p,fontWeight:g,textBaseline:E,textAlign:I};let C={rawTicks:[],ticks:[],labelCount:0},O=0,w=0,H=!0,F=!1;for(;H&&O<=T&&!F;){w=0,I=zp(c,y,0,r,x);const G=this.getTickStrategies({secondaryAxis:f,index:O});for(const j of G){({tickData:C,index:O,autoRotation:w,terminate:F}=j({index:O,tickData:C,textProps:N,labelOverlap:H,terminate:F,primaryTickCount:t}));const Y=y!==0||w!==0,Q=S+w;I=zp(c,y,w,r,x),H=this.checkLabelOverlap(Q,Y,_,C.ticks,n,X(R({},N),{textAlign:I}))}}const P=m+y+w;return!f&&C.rawTicks.length>0&&(t=C.rawTicks.length),{tickData:C,primaryTickCount:t,combinedRotation:P,textBaseline:E,textAlign:I}}getTickStrategies({index:t,secondaryAxis:i}){const{scale:s,label:n,tick:r}=this,a=Dt.is(s),o=n.enabled&&n.avoidCollisions,l=!a&&t!==0&&o,c=n.autoRotate===!0&&n.rotation===void 0,h=[];let u;this.tick.values?u=3:i?u=1:l?u=2:u=0;const d=({index:p,tickData:g,primaryTickCount:f,terminate:m})=>this.createTickData(u,p,g,m,f);if(h.push(d),!a&&!isNaN(r.minSpacing)){const p=({index:g,tickData:f,primaryTickCount:m,terminate:y})=>this.createTickData(2,g,f,y,m);h.push(p)}if(!o)return h;if(n.autoWrap){const p=({index:g,tickData:f,textProps:m})=>this.wrapLabels(f,g,m);h.push(p)}else if(c){const p=({index:g,tickData:f,labelOverlap:m,terminate:y})=>({index:g,tickData:f,autoRotation:this.getAutoRotation(m),terminate:y});h.push(p)}return h}createTickData(t,i,s,n,r){var a;const{scale:o,tick:l}=this,{maxTickCount:c,minTickCount:h,defaultTickCount:u}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(a=l.maxSpacing)!=null?a:NaN}),d=Dt.is(o),p=!d||isNaN(c)?10:c;let g=d?Math.max(u-i,h):c;const f=l.interval===void 0&&l.values===void 0&&g>h&&(d||t===2);let m=!0;for(;m&&i<=p;){const v=s.rawTicks;g=d?Math.max(u-i,h):c;const{rawTicks:x,ticks:S,labelCount:_}=this.getTicks({tickGenerationType:t,previousTicks:v,tickCount:g,minTickCount:h,maxTickCount:c,primaryTickCount:r});s.rawTicks=x,s.ticks=S,s.labelCount=_,m=f?pE(x,v):!1,i++}const y=l.interval!==void 0||l.values!==void 0;return n||(n=y),{tickData:s,index:i,autoRotation:0,terminate:n}}checkLabelOverlap(t,i,s,n,r,a){zi.updateTransformMatrix(s,1,1,t,0,0);const o=this.createLabelData(n,r,a,s),l=FT(this.label.minSpacing,i);return xE(o,l)}createLabelData(t,i,s,n){const r=[];for(const a of t){const{tickLabel:o,translationY:l}=a;if(o===""||o==null)continue;const c=Dx(o),{width:h,height:u}=NT(c,i,l,s),d=new ut(i,l,h,u),p=zT(o,d,i,l,n);r.push(p)}return r}getAutoRotation(t){var i;return t?Ye(Mi((i=this.label.autoRotateAngle)!=null?i:0)):0}getTicks({tickGenerationType:t,previousTicks:i,tickCount:s,minTickCount:n,maxTickCount:r,primaryTickCount:a}){var o;const{range:l,scale:c,visibleRange:h}=this;let u=[];switch(t){case 3:if(Dt.is(c)){const v=c.getDomain(),x=c.fromDomain(v[0]),S=c.fromDomain(v[1]),_=Math.min(x,S),D=Math.max(x,S);u=this.tick.values.filter(A=>A>=_&&A<=D).sort((A,T)=>A-T)}else u=this.tick.values;break;case 1:u=this.updateSecondaryAxisTicks(a);break;case 2:u=this.filterTicks(i,s);break;default:u=this.createTicks(s,n,r);break}this.fractionDigits=u.fractionDigits>=0?u.fractionDigits:0,this.onLabelFormatChange(u,this.label.format);const d=((o=c.bandwidth)!=null?o:0)/2,p=[];let g=0;const f=new Map,m=Math.max(0,Math.floor(h[0]*u.length)),y=Math.min(u.length,Math.ceil(h[1]*u.length));for(let v=m;v<y;v++){const x=u[v],S=c.convert(x)+d;if(l.length>0&&!this.inRange(S,0,.001))continue;const _=this.formatTick(x,v);let D=_;if(f.has(D)){const A=f.get(D);f.set(D,A+1),D=`${D}_${A}`}else f.set(D,1);p.push({tick:x,tickId:D,tickLabel:_,translationY:S}),!(_===""||_==null)&&g++}return{rawTicks:u,ticks:p,labelCount:g}}filterTicks(t,i){var s;const r=!isNaN(this.tick.minSpacing)||!isNaN((s=this.tick.maxSpacing)!=null?s:NaN)?Math.ceil(t.length/i):2;return t.filter((a,o)=>o%r===0)}createTicks(t,i,s){var n,r,a;return this.setTickCount(t,i,s),(a=(r=(n=this.scale).ticks)==null?void 0:r.call(n))!=null?a:[]}estimateTickCount({minSpacing:t,maxSpacing:i}){const{minRect:s}=this,n=this.calculateRangeWithBleed(),r=Math.max(this.defaultTickMinSpacing,n/Dt.defaultMaxTickCount);let a=!isNaN(i);isNaN(t)&&(t=r),isNaN(i)&&(i=n),t>i&&(t===r?t=i:i=t);const o=s?this.direction==="x"?s.width:s.height:1;a&&(a=o<r);const l=ki(1,Math.floor(n/t),a?Math.floor(n/o):1/0),c=Math.min(l,Math.ceil(n/i)),h=ki(c,Dt.defaultTickCount,l);return{minTickCount:c,maxTickCount:l,defaultTickCount:h}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:i,regularFlipRotation:s}){var n;const r=this.label.getSideFlag(),a=this.isAnySeriesActive();(n=this.crossLines)==null||n.forEach(o=>{var l;o.sideFlag=-r,o.direction=t===-Math.PI/2?"x":"y",o instanceof Uh&&(o.label.parallel=(l=o.label.parallel)!=null?l:this.label.parallel),o.parallelFlipRotation=i,o.regularFlipRotation=s,o.update(a)})}updateTickLines(){const{tick:t,label:i}=this,s=i.getSideFlag();this.tickLineGroupSelection.each(n=>{n.strokeWidth=t.width,n.stroke=t.color,n.x1=s*this.getTickSize(),n.x2=0})}calculateAvailableRange(){const{range:t}=this,i=Math.min(...t);return Math.max(...t)-i}calculateRangeWithBleed(){const{visibleRange:t}=this,i=1/(t[1]-t[0]);return xp(this.calculateAvailableRange()*i,2)}calculateDomain(){if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{const i=this.boundSeries.filter(r=>this.includeInvisibleDomains||r.isEnabled()).flatMap(r=>r.getDomain(this.direction)),{domain:s,clipped:n}=this.normaliseDataDomain(i);this.dataDomain={domain:this.reverse?[...s].reverse():s,clipped:n}}}getAxisTransform(){return{rotation:Mi(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:i,gridGroup:s,translation:n,gridLineGroupSelection:r,gridPadding:a,gridLength:o}=this,{rotation:l}=this.calculateRotations(),c=this.label.getSideFlag(),h=Math.floor(n.x),u=Math.floor(n.y);t.setProperties({rotation:l,translationX:h,translationY:u}),i.datum=this.getAxisTransform(),s.setProperties({rotation:l,translationX:h,translationY:u}),r.each(d=>{d.x1=a,d.x2=-c*o+a})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,i,s){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?i:[],n=>n.append(new ye({tag:2})),n=>n.tickId),this.tickLineGroupSelection.update(i,n=>n.appendChild(new ye({tag:0})),n=>n.tickId),this.tickLabelGroupSelection.update(i.map(n=>this.getTickLabelProps(n,s)),n=>n.appendChild(new Tt({tag:1})),n=>n.tickId)}updateAxisLine(){const{line:t}=this,i=t.enabled?t.width:0;this.lineNode.setProperties({stroke:t.color,strokeWidth:i})}updateGridLines(t){const{gridLine:{style:i,width:s},gridPadding:n,gridLength:r}=this;r===0||i.length===0||this.gridLineGroupSelection.each((a,o,l)=>{const{stroke:c,lineDash:h}=i[l%i.length];a.setProperties({x1:n,x2:-t*r+n,fill:void 0,stroke:c,strokeWidth:s,lineDash:h})})}updateLabels(){const{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((i,s)=>{i.setProperties(s,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,i,s){const{parallel:n,maxWidth:r,maxHeight:a}=this.label;let o=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return n&&([o,l]=[l,o]),t.ticks.forEach(c=>{const{text:h}=Tt.wrap(c.tickLabel,r??o,a??l,s,"hyphenate");c.tickLabel=h}),{tickData:t,index:i,autoRotation:0,terminate:!0}}updateTitle(t){const{rotation:i,title:s,_titleCaption:n,lineNode:r,tickLineGroup:a,tickLabelGroup:o}=this;if(!s){n.enabled=!1;return}let l=0;if(s.enabled&&t.anyTickVisible){const c=at.computeBBox([a,o,r]),h=i===0?c.width:c.height;l+=h+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(n,{spacing:l})}formatTick(t,i){var s,n;const{label:r,labelFormatter:a,fractionDigits:o,moduleCtx:{callbackCache:l}}=this;if(r.formatter){const c=o>0?t:String(t);return(s=l.call(r.formatter,{value:c,index:i,fractionDigits:o,formatter:a}))!=null?s:c}else if(a)return(n=l.call(a,t))!=null?n:String(t);return String(t)}formatDatum(t){return String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,i,s,n){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new ut(t,i,s,n))}clipGrid(t,i,s,n){this.gridGroup.setClipRectInGroupCoordinateSpace(new ut(t,i,s,n))}calculatePadding(t,i,s){const n=s?i:t;return[Math.abs(n*.01),Math.abs(n*.01)]}getTitleFormatterParams(){var t;const i=this.boundSeries.reduce((s,n)=>{const r=n.getKeys(this.direction),a=n.getNames(this.direction);for(let o=0;o<r.length;o++)s.push({key:r[o],name:a[o]});return s},[]);return{direction:this.direction,boundSeries:i,defaultValue:(t=this.title)==null?void 0:t.text}}normaliseDataDomain(t){return{domain:t,clipped:!1}}getLayoutState(){return R({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize()},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){var t;return(t=this.axisContext)!=null||(this.axisContext=this.createAxisContext()),X(R({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:Dt.is(this.scale),keys:()=>this.boundSeries.flatMap(t=>t.getKeys(this.direction)),scaleValueFormatter:t=>{var i,s;return(s=(i=this.scale).tickFormat)==null?void 0:s.call(i,{specifier:t})},scaleBandwidth:()=>{var t;return(t=this.scale.bandwidth)!=null?t:0},scaleConvert:t=>this.scale.convert(t),scaleInvert:t=>{var i,s;return(s=(i=this.scale).invert)==null?void 0:s.call(i,t)}}}animateReadyUpdate(t){const{animationManager:i}=this.moduleCtx,s=Cg(this),n=C0(s);ee(this.id,"axis-group",i,[this.axisGroup],n.group),ee(this.id,"line",i,[this.lineNode],n.line),ee(this.id,"line-paths",i,[this.gridLineGroupSelection,this.tickLineGroupSelection],n.tick,(r,a)=>a.tickId,t),ee(this.id,"tick-labels",i,[this.tickLabelGroupSelection],n.label,(r,a)=>a.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:i,tickLabelGroupSelection:s,lineNode:n}=this,r=Cg(this);me([this.axisGroup],O0()),me([t,i],R0(r)),me([s],w0()),me([n],P0())}calculateUpdateDiff(t,i){const s=new Set,n=new Set,r={},a=Math.max(t.length,i.ticks.length);for(let o=0;o<a;o++){const l=i.ticks[o],c=t[o],h=l?.tickId;r[h??c]=l,c!==h&&(n.has(h)?n.delete(h):h&&s.add(h),s.has(c)?s.delete(c):c&&n.add(c))}return{changed:s.size>0||n.size>0,added:[...s.values()],removed:[...n.values()]}}isReversed(){return!!this.reverse}},qr.defaultTickMinSpacing=50,b([k(ct)],qr.prototype,"nice",2),b([k(ct,{optional:!0})],qr.prototype,"reverse",2),b([k(Mp)],qr.prototype,"keys",2),b([k(Lt(e=>typeof e=="object","Title object"),{optional:!0})],qr.prototype,"title",2),qh=qr}}),Zh,_E=L({"packages/ag-charts-community/src/chart/axis/cartesianAxisLabel.ts"(){"use strict";ht(),Kh(),Zh=class extends ie{constructor(){super(...arguments),this.autoRotateAngle=335}},b([k(ct,{optional:!0})],Zh.prototype,"autoRotate",2),b([k(zr)],Zh.prototype,"autoRotateAngle",2)}}),Kn,Bl=L({"packages/ag-charts-community/src/chart/axis/cartesianAxis.ts"(){"use strict";ht(),te(),kh(),v0(),Rg(),_E(),Kn=class extends qh{constructor(){super(...arguments),this.thickness=0,this.position="left"}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(e){return this.updateDirection(),super.update(e)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}createAxisContext(){return X(R({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(e){Lx(e,Uh)}createLabel(){return new Zh}},b([k(K)],Kn.prototype,"thickness",2),b([k(yh)],Kn.prototype,"position",2)}}),Gs,zl=L({"packages/ag-charts-community/src/chart/axis/categoryAxis.ts"(){"use strict";Ya(),ht(),Bl(),Gs=class extends Kn{constructor(e){super(e,new cs),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(e){this.scale.paddingOuter=e}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(e){const t=[],i=new Set;for(const s of e){const n=s instanceof Date?s.getTime():s;i.has(n)||(i.add(n),t.push(s))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){const e=this.boundSeries.map(t=>{var i;return(i=t.getBandScalePadding)==null?void 0:i.call(t)}).filter(t=>t!=null);e.length>0&&(this.scale.paddingInner=Math.min(...e.map(t=>t.inner)),this.scale.paddingOuter=Math.max(...e.map(t=>t.outer)))}return super.calculateDomain()}},Gs.className="CategoryAxis",Gs.type="category",b([k(Ot)],Gs.prototype,"groupPaddingInner",2)}});function ME(e,t=!0){const i=new wg;let s=0;return t&&e.forEach(n=>s=Math.max(s,n.labels.length)),e.forEach(n=>{if(t)for(;n.labels.length<s;)n.labels.unshift("");kE(i,n)}),i}function kE(e,t){const i=t.labels.slice().reverse(),s=i.length-1;i.forEach((n,r)=>{const a=e.children,o=a.find(c=>c.label===n),l=r!==s;if(o&&l)e=o;else{const c=new wg(n,e);c.number=a.length,a.push(c),l&&(e=c)}})}function DE(e,t,i){const s=t.number-e.number,n=i/s;t.change-=n,t.shift+=i,e.change+=n,t.prelim+=i,t.mod+=i}function AE(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function LE(e){const t=e.children;if(t){let i=0,s=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.prelim+=i,r.mod+=i,s+=r.change,i+=r.shift+s}}}function TE(e,t,i){const s=e.getLeftSibling();if(s){let n=e,r=e,a=s,o=r.getLeftmostSibling(),l=r.mod,c=n.mod,h=a.mod,u=o.mod;for(;a.nextRight()&&r.nextLeft();){a=a.nextRight(),r=r.nextLeft(),o=o.nextLeft(),n=n.nextRight(),n.ancestor=e;const d=a.prelim+h-(r.prelim+l)+i;d>0&&(DE(AE(a,e,t),e,d),l+=d,c+=d),h+=a.mod,l+=r.mod,u+=o.mod,c+=n.mod}a.nextRight()&&!n.nextRight()?(n.thread=a.nextRight(),n.mod+=h-c):(r.nextLeft()&&!o.nextLeft()&&(o.thread=r.nextLeft(),o.mod+=l-u),t=e)}return t}function z0(e,t){const i=e.children;if(i.length){let s=i[0];i.forEach(a=>{z0(a,t),s=TE(a,s,t)}),LE(e);const n=(i[0].prelim+i[i.length-1].prelim)/2,r=e.getLeftSibling();r?(e.prelim=r.prelim+t,e.mod=e.prelim-n):e.prelim=n}else{const s=e.getLeftSibling();e.prelim=s?s.prelim+t:0}}function G0(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.update(e),e.children.forEach(s=>G0(s,t+e.mod,i))}function V0(e){const t=e.children;let i=0;t.forEach(s=>{V0(s),s.children.length?i+=s.leafCount:i++}),e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function EE(e){const t=new W0;return z0(e,1),G0(e,-e.prelim,t),V0(e),t}var wg,Pg,W0,IE=L({"packages/ag-charts-community/src/chart/axis/tree.ts"(){"use strict";wg=class{constructor(e="",t,i=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((e,t)=>t!==this.number):[]}},Pg=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){const{x:i,y:s}=t(e);i>this.right&&(this.right=i),i<this.left&&(this.left=i),s>this.bottom&&(this.bottom=s),s<this.top&&(this.top=s)}},W0=class{constructor(){this.dimensions=new Pg,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,t=>({x:t.x,y:t.y})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t,i=0,s=0,n=!1){const r=this.leafCount-1,a=this.depth,o=this.dimensions;let l=1,c=1;if(e>0&&r){const p=(o.right-o.left)/r;l=e/r/p,n&&(l=-l)}if(t>0&&a){const p=(o.bottom-o.top)/a;c=t/a/p}const h=new Pg;this.nodes.forEach(p=>{p.screenX=p.x*l,p.screenY=p.y*c,h.update(p,g=>({x:g.screenX,y:g.screenY}))});const u=-h.left,d=-h.top;this.nodes.forEach(p=>{p.screenX+=u+i,p.screenY+=d+s})}}}}),Fg,Xn,Bg=L({"packages/ag-charts-community/src/chart/axis/groupedCategoryAxis.ts"(){"use strict";Ya(),Pt(),Np(),Ur(),to(),hi(),Bi(),li(),ht(),te(),ms(),Kh(),I0(),Bl(),IE(),Fg=class extends ie{constructor(){super(...arguments),this.grid=!1}},b([k(ct)],Fg.prototype,"grid",2),Xn=class extends Kn{constructor(e){super(e,new cs),this.tickScale=new cs,this.line=new ao,this.label=new Fg,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:t,tickLabelGroup:i,gridLineGroup:s,tickScale:n,scale:r}=this;r.paddingOuter=.1,r.paddingInner=r.paddingOuter*2,this.range=r.range.slice(),this.refreshScale(),n.paddingInner=1,n.paddingOuter=0,this.gridLineSelection=Xt.select(s,ye),this.axisLineSelection=Xt.select(t,ye),this.separatorSelection=Xt.select(t,ye),this.labelSelection=Xt.select(i,Tt)}updateRange(){const{range:e,visibleRange:t,scale:i}=this,s=(e[1]-e[0])/(t[1]-t[0]),n=s*t[0],r=e[0]-n;this.tickScale.range=i.range=[r,r+s],this.resizeTickTree()}resizeTickTree(){var e;const t=this.scale,i=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,s=this.tickTreeLayout,n=this.lineHeight;s&&s.resize(Math.abs(i[1]-i[0]),s.depth*n,(Math.min(i[0],i[1])||0)+((e=t.bandwidth)!=null?e:0)/2,-s.depth*n,i[1]-i[0]<0)}get lineHeight(){return this.label.fontSize*1.5}set gridLength(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=e}get gridLength(){return this._gridLength}calculateDomain(){var e;const{direction:t}=this,i=[];let s;this.boundSeries.filter(c=>c.visible).forEach(c=>{if(t==="x")if(s===void 0){const h=c.getDomain(t);i.push(h),s=typeof h[0]=="number"}else s&&i.push(c.getDomain(t));else i.push(c.getDomain(t))});const n=new Array().concat(...i),r=(e=Es(n))!=null?e:n,a=this.reverse?[...r].reverse():r,{domain:o,clipped:l}=this.normaliseDataDomain(a);this.dataDomain={domain:o,clipped:l},this.scale.domain=o}normaliseDataDomain(e){const t=e.filter((n,r,a)=>a.indexOf(n)===r),i=ME(t);this.tickTreeLayout=EE(i);const s=t.slice();return s.push(""),this.tickScale.domain=s,this.resizeTickTree(),{domain:t,clipped:!1}}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:e}=this;e.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each((i,s)=>{i.setProperties(s)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:e}=this.computedLayout,{range:t}=this,i=1e-7;this.separatorSelection.update(e).each((n,r)=>{n.x1=r.x1,n.x2=r.x2,n.y1=r.y,n.y2=r.y,n.visible=r.y>=t[0]-i&&r.y<=t[1]+i,n.stroke=this.tick.color,n.fill=void 0,n.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each((i,s)=>{i.setProperties(X(R({},s),{stroke:this.line.color,strokeWidth:this.line.width})),i.x1=s.x,i.x2=s.x,i.y1=s.y1,i.y2=s.y2,i.strokeWidth=this.line.width,i.stroke=this.line.color})}updateCategoryGridLines(){const{gridLength:e,gridLine:t,label:i,range:s,tickScale:n}=this,r=n.ticks(),a=i.getSideFlag(),o=this.gridLineSelection.update(e?r:[]);if(e){const{width:l,style:c}=t,h=c.length;o.each((u,d,p)=>{const g=Math.round(n.convert(d));u.x1=0,u.x2=-a*e,u.y1=g,u.y2=g,u.visible=g>=s[0]&&g<=s[1];const{stroke:f,lineDash:m}=c[p%h];u.stroke=f,u.strokeWidth=l,u.lineDash=m,u.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:e,label:t,label:{parallel:i},moduleCtx:{callbackCache:s},range:n,title:r,title:{formatter:a=U=>U.defaultValue}={}}=this,o=e.range[0],l=e.range[1],h=Math.abs(l-o)/e.domain.length||0,u=Mi(this.rotation),d=Math.abs(Math.cos(u))<1e-8,p=t.getSideFlag(),g=this.lineHeight,f=this.tickTreeLayout,m=e.ticks(),y=f?f.nodes:[],v=f?f.depth>1:!1,{defaultRotation:x,configuredRotation:S,parallelFlipFlag:_}=Ah({rotation:t.rotation,parallel:i,regularFlipRotation:Ye(u-Math.PI/2),parallelFlipRotation:Ye(u)}),D=[],A=U=>({fill:U.fill,fontFamily:U.fontFamily,fontSize:U.fontSize,fontStyle:U.fontStyle,fontWeight:U.fontWeight,rotation:U.rotation,rotationCenterX:U.rotationCenterX,rotationCenterY:U.rotationCenterY,text:U.text,textAlign:U.textAlign,textBaseline:U.textBaseline,translationX:U.translationX,translationY:U.translationY,visible:U.visible,x:U.x,y:U.y}),T=new Map;let I=0;const E=new Tt,N=(U,st)=>{var nt;if(E.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:_===-1?"bottom":"hanging",translationX:U.screenY-t.fontSize*.25,translationY:U.screenX}),st===0){if(!(r?.enabled&&m.length>0))return!1;const dt=s.call(a,this.getTitleFormatterParams());E.setProperties({fill:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,text:dt,textBaseline:"hanging",translationX:U.screenY-t.fontSize*.25,translationY:U.screenX})}else{if(!(U.screenX>=n[0]&&U.screenX<=n[1]))return!1;t.formatter?E.text=(nt=s.call(t.formatter,{value:String(U.label),index:st}))!=null?nt:String(U.label):E.text=String(U.label)}return!0};y.forEach((U,st)=>{if(N(U,st)){const ot=E.computeTransformedBBox();ot&&(T.set(st,ot),!U.children.length&&ot.width>I&&(I=ot.width))}});const C=p*t.padding,O=this.label.grid,w=[];y.forEach((U,st)=>{let nt=N(U,st);const ot=st;E.x=C,E.rotationCenterX=C;const dt=!U.children.length;if(dt){E.rotation=S,E.textAlign="end",E.textBaseline="middle";const rt=T.get(ot);rt&&rt.height>h&&(nt=!1,T.delete(ot))}else{E.translationX-=I-g+this.label.padding;const rt=U.leafCount*h,kt=T.get(ot);kt&&kt.width>rt?(nt=!1,T.delete(ot)):d?E.rotation=x:E.rotation=-Math.PI/2}if(U.parent&&v){const rt=dt?U.screenX-h/2:U.screenX-U.leafCount*h/2;if(dt)(U.number!==U.children.length-1||O)&&w.push({y:rt,x1:0,x2:-I-this.label.padding*2});else{const kt=-I-this.label.padding*2+U.screenY;w.push({y:rt,x1:kt+g,x2:kt})}}let gt;if(nt){const rt=E.computeTransformedBBox();rt&&T.set(st,rt),gt=X(R({},A(E)),{visible:nt})}else T.delete(st),gt={visible:nt};D.push(gt)});let H=0;w.forEach(U=>H=Math.min(H,U.x2)),w.push({y:Math.max(o,l),x1:0,x2:H});const F=[],P=[],G=1e-7;w.forEach(U=>{if(U.y>=n[0]-G&&U.y<=n[1]+G){const{x1:st,x2:nt,y:ot}=U,dt=new ut(Math.min(st,nt),ot,Math.abs(st-nt),0);P.push(dt),F.push({x1:st,x2:nt,y:ot})}});const j=[],Y=[],Q=f?f.depth+1:1;for(let U=0;U<Q;U++){const st=m.length>0&&(U===0||O&&v),nt=U>0?-I-this.label.padding*2-(U-1)*g:0,ot=new ut(nt,Math.min(...n),0,Math.abs(n[1]-n[0]));Y.push(ot),j.push({x:nt,y1:n[0],y2:n[1],visible:st})}const J=U=>{const st=new zi,{rotation:nt,translationX:ot,translationY:dt,rotationCenterX:gt,rotationCenterY:rt}=this.getAxisTransform();return zi.updateTransformMatrix(st,1,1,nt,ot,dt,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:gt,rotationCenterY:rt}),st.transformBBox(U)},et=ut.merge([...T.values(),...P,...Y]);return{bbox:J(et),tickLabelLayout:D,separatorLayout:F,axisLineLayout:j}}calculateLayout(){const{axisLineLayout:e,separatorLayout:t,tickLabelLayout:i,bbox:s}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:i},{bbox:s,primaryTickCount:void 0}}},Xn.className="GroupedCategoryAxis",Xn.type="grouped-category",b([k(bt,{optional:!0})],Xn.prototype,"labelColor",2)}});function NE(e){return new Promise(t=>{setTimeout(()=>t(void 0),e)})}var CE=L({"packages/ag-charts-community/src/util/async.ts"(){"use strict"}}),U0,OE=L({"packages/ag-charts-community/src/util/callbackCache.ts"(){"use strict";ft(),U0=class{constructor(){this.cache=new WeakMap}call(e,...t){let i,s=this.cache.get(e);const n=()=>{try{const r=e(...t);return s&&i!=null&&s.set(i,r),r}catch(r){q.warnOnce("User callback errored, ignoring",r);return}};try{i=JSON.stringify(t)}catch{return n()}return s==null&&(s=new Map,this.cache.set(e,s)),s.has(i)?s.get(i):n()}invalidateCache(){this.cache=new WeakMap}}}}),Y0,RE=L({"packages/ag-charts-community/src/util/mutex.ts"(){"use strict";ft(),Y0=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext()})}acquireImmediately(e){return B(this,null,function*(){return this.available?(yield this.acquire(e),!0):!1})}waitForClearAcquireQueue(){return B(this,null,function*(){return this.acquire(()=>B(this,null,function*(){}))})}dispatchNext(){return B(this,null,function*(){var e,t;this.available=!1;let[i,s]=(e=this.acquireQueue.shift())!=null?e:[];for(;i;){try{yield i(),s?.()}catch(n){q.error("mutex callback error",n),s?.()}[i,s]=(t=this.acquireQueue.shift())!=null?t:[]}this.available=!0})}}}}),zg,H0=L({"packages/ag-charts-community/src/util/observable.ts"(){"use strict";zg=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){var i;(i=this.eventListeners.get(e))==null||i.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(i=>i(e))}}}});function wE(e){return j0((t,i)=>requestAnimationFrame(t),e)}function PE(e){return j0((t,i=0)=>setTimeout(t,i),e)}function j0(e,t){let i=0,s=!1,n,r;const a=()=>s,o=()=>{s=!1,r?.(),r=void 0,n=void 0,i>0&&e(l)},l=()=>{const c=i;i=0,s=!0;const h=t({count:c});if(!h){o();return}h.then(o).catch(o)};return{schedule(c){i===0&&!a()&&e(l,c),i++},await(){return B(this,null,function*(){if(a())for(n==null&&(n=new Promise(c=>{r=c}));a();)yield n})}}}var FE=L({"packages/ag-charts-community/src/util/render.ts"(){"use strict"}}),Zr,BE=L({"packages/ag-charts-community/src/util/sizeMonitor.ts"(){"use strict";Zr=class{static init(e){var t;if(typeof ResizeObserver<"u")this.resizeObserver=new ResizeObserver(i=>{for(const s of i){const{width:n,height:r}=s.contentRect;this.checkSize(this.elements.get(s.target),s.target,n,r)}});else{const i=()=>{this.elements.forEach((s,n)=>{this.checkClientSize(n,s)})};this.pollerHandler=(t=e.defaultView)==null?void 0:t.setInterval(i,100)}this.ownerDocument=e,this.ready=!0,this.documentReady=e.readyState!=="loading",!this.documentReady&&(this.readyEventFn=()=>{const i=e.readyState!=="loading",s=this.documentReady;if(this.documentReady=i,!!i&&i!==s){for(const[n,r]of this.queuedObserveRequests)this.observe(n,r);this.queuedObserveRequests.length=0}},e.addEventListener("DOMContentLoaded",this.readyEventFn))}static destroy(){var e,t;this.pollerHandler!=null&&(clearInterval(this.pollerHandler),this.pollerHandler=void 0),this.readyEventFn&&((e=this.ownerDocument)==null||e.removeEventListener("DOMContentLoaded",this.readyEventFn),this.readyEventFn=void 0),(t=this.resizeObserver)==null||t.disconnect(),this.resizeObserver=void 0,this.ready=!1,this.ownerDocument=void 0}static checkSize(e,t,i,s){e&&(!e.size||i!==e.size.width||s!==e.size.height)&&(e.size={width:i,height:s},e.cb(e.size,t))}static observe(e,t){if(this.ready||this.init(e.ownerDocument),!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.unobserve(e,!1),this.resizeObserver&&this.resizeObserver.observe(e),this.elements.set(e,{cb:t})}static unobserve(e,t=!0){this.resizeObserver&&this.resizeObserver.unobserve(e),this.elements.delete(e),this.queuedObserveRequests=this.queuedObserveRequests.filter(([i])=>i===e),t&&this.elements.size===0&&this.destroy()}static checkClientSize(e,t){var i,s;const n=(i=e.clientWidth)!=null?i:0,r=(s=e.clientHeight)!=null?s:0;this.checkSize(t,e,n,r)}},Zr.elements=new Map,Zr.ready=!1,Zr.documentReady=!1,Zr.queuedObserveRequests=[]}}),Gg,zE=L({"packages/ag-charts-community/src/chart/chartHighlight.ts"(){"use strict";ht(),Gg=class{constructor(){this.range="tooltip"}},b([k(Jt(["tooltip","node"],"a range"))],Gg.prototype,"range",2)}}),oo,lo=L({"packages/ag-charts-community/src/chart/chartUpdateType.ts"(){"use strict";oo=(e=>(e[e.FULL=0]="FULL",e[e.PROCESS_DATA=1]="PROCESS_DATA",e[e.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=3]="SERIES_UPDATE",e[e.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",e[e.SCENE_RENDER=5]="SCENE_RENDER",e[e.NONE=6]="NONE",e))(oo||{})}}),Qh,GE=L({"packages/ag-charts-community/src/chart/data/dataDomain.ts"(){"use strict";Qh=class{constructor(e){this.type=e,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}extend(e){this.type==="discrete"?this.discreteDomain.add(e):this.type==="continuous"&&(this.continuousDomain[0]>e&&(this.continuousDomain[0]=e),this.continuousDomain[1]<e&&(this.continuousDomain[1]=e))}getDomain(){if(this.type==="discrete")return this.discreteDomain;if(this.type==="continuous")return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)}}}});function Gl(e,t=[1/0,-1/0]){for(const i of e)typeof i=="number"&&(i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i));return t}var K0=L({"packages/ag-charts-community/src/chart/data/utilFunctions.ts"(){"use strict"}});function VE(e){return e.map(t=>t==null||typeof t=="number"||typeof t=="string"||typeof t=="boolean"?t:typeof t=="object"?JSON.stringify(t):t).join("-")}function WE(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(e*1e4)/1e4}function UE(e){if(e===void 0)return[];let[t,i]=e;return t=+t,i=+i,t===0&&i===0?[0,1]:t===1/0&&i===-1/0?[]:(t===1/0&&(t=0),i===-1/0&&(i=0),ei(t)&&ei(i)?[t,i]:[])}function ii(e,t){var i;const s=UE(e);if(s.length===0)return s;let[n,r]=s;if(n===r){const[a,o]=(i=t?.calculatePadding(n,r,t.isReversed()))!=null?i:[1,1];n-=a,r+=o}return[n,r]}function YE(e){var t,i;const s=(n,r)=>{r.length>0&&(q.log(`DataModel.processData() - ${n}`),q.table(r))};if(q.log("DataModel.processData() - processedData",e),s("Key Domains",e.domain.keys),s("Group Domains",(t=e.domain.groups)!=null?t:[]),s("Value Domains",e.domain.values),s("Aggregate Domains",(i=e.domain.aggValues)!=null?i:[]),e.type==="grouped"){const n=e.data.reduce((r,a)=>{var o,l;const c=(o=a.keys)!=null?o:[],h=(l=a.aggValues)!=null?l:[],u=a.keys.map(()=>{}),d=h?.map(()=>{});return r.push(...a.values.map((p,g)=>[...g===0?c:u,...p??[],...g==0?h:d])),r},[]);s("Values",n)}else{const n=e.data.reduce((r,a)=>{var o;const l=(o=a.aggValues)!=null?o:[];return r.push([...a.keys,...a.values,...l]),r},[]);s("Values",n)}}var $n,Vg,qn=L({"packages/ag-charts-community/src/chart/data/dataModel.ts"(){"use strict";as(),ft(),Ee(),gn(),GE(),K0(),$n=Symbol("invalid"),Vg=class{constructor(e){const{props:t,mode:i="standalone"}=e;this.mode=i;let s=!0;for(const a of t){if(a.type==="key"&&!s)throw new Error("AG Charts - internal config error: keys must come before values.");a.type==="value"&&s&&(s=!1)}this.opts=R({dataVisible:!0},e),this.keys=t.filter(a=>a.type==="key").map((a,o)=>X(R({},a),{index:o,missing:0})),this.values=t.filter(a=>a.type==="value").map((a,o)=>X(R({},a),{index:o,missing:0})),this.aggregates=t.filter(a=>a.type==="aggregate").map((a,o)=>X(R({},a),{index:o})),this.groupProcessors=t.filter(a=>a.type==="group-value-processor").map((a,o)=>X(R({},a),{index:o})),this.propertyProcessors=t.filter(a=>a.type==="property-value-processor").map((a,o)=>X(R({},a),{index:o})),this.reducers=t.filter(a=>a.type==="reducer").map((a,o)=>X(R({},a),{index:o})),this.processors=t.filter(a=>a.type==="processor").map((a,o)=>X(R({},a),{index:o}));for(const a of this.values)if(a.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);const n=({matchGroupIds:a})=>{for(const o of a??[])if(!this.values.some(l=>l.groupId===o))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${o}).`)},r=({matchIds:a})=>{for(const o of a??[])if(!this.values.some(l=>{var c;return(c=l.ids)==null?void 0:c.some(([h,u])=>h===o[0]&&u===o[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${o}).`)};for(const a of[...this.groupProcessors,...this.aggregates])r(a),n(a)}resolveProcessedDataIndexById(e,t){var i;const{index:s,def:n}=(i=this.resolveProcessedDataDefById(e,t))!=null?i:{};return{index:s,def:n}}resolveProcessedDataIndicesById(e,t){return this.resolveProcessedDataDefsById(e,t).map(({index:i,def:s})=>({index:i,def:s}))}resolveProcessedDataDefById(e,t){return this.resolveProcessedDataDefsById(e,t)[0]}resolveProcessedDataDefsByIds(e,t){const i=[];for(const s of t)i.push([s,this.resolveProcessedDataDefsById(e,s)]);return i}resolveProcessedDataDefsValues(e,{keys:t,values:i}){const s={};for(const[n,[{index:r,def:a}]]of e){const o=a.type==="key"?t:i;s[n]=o[r]}return s}resolveProcessedDataDefsById(e,t){const{keys:i,values:s,aggregates:n,groupProcessors:r,reducers:a}=this,o=h=>{const{ids:u,scopes:d}=h;return u==null||e!=null&&!d?.some(p=>p===e.id)?!1:u.some(([p,g])=>p===e.id&&(typeof t=="string"?g===t:t.test(g)))},l=[i,s,n,r,a],c=[];for(const h of l)c.push(...h.filter(o).map(u=>({index:u.index,def:u})));if(c.length>0)return c;throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`)}getDomain(e,t,i="value",s){var n,r,a,o;let l;try{l=this.resolveProcessedDataIndicesById(e,t)}catch(d){if(typeof t!="string"&&/didn't find property definition/.test(d.message))return[];throw d}let c;switch(i){case"key":c="keys";break;case"value":c="values";break;case"aggregate":c="aggValues";break;case"group-value-processor":c="groups";break;default:return[]}const h=(r=(n=s.domain[c])==null?void 0:n[l[0].index])!=null?r:[];if(l.length===1)return h;const u=[...h];for(const d of l.slice(1))Gl((o=(a=s.domain[c])==null?void 0:a[d.index])!=null?o:[],u);return u}processData(e,t){const{opts:{groupByKeys:i,groupByFn:s},aggregates:n,groupProcessors:r,reducers:a,processors:o,propertyProcessors:l}=this,c=performance.now();for(const d of[...this.keys,...this.values])d.missing=0;if(i&&this.keys.length===0)return;let h=this.extractData(e,t);i?h=this.groupData(h):s&&(h=this.groupData(h,s(h))),r.length>0&&this.postProcessGroups(h),n.length>0&&this.aggregateData(h),l.length>0&&this.postProcessProperties(h),a.length>0&&this.reduceData(h),o.length>0&&this.postProcessData(h);for(const d of[...this.keys,...this.values])e.length>0&&d.missing>=e.length&&q.warnOnce(`the key '${d.property}' was not found in any data element.`);const u=performance.now();return h.time=u-c,Kt.check(!0,"data-model")&&YE(h),h}valueGroupIdxLookup({matchGroupIds:e,matchIds:t}){return this.values.map((i,s)=>({def:i,index:s})).filter(({def:i})=>e&&(i.groupId==null||!e.includes(i.groupId))?!1:t?i.ids==null?!1:t.some(([s,n])=>{var r;return(r=i.ids)==null?void 0:r.some(([a,o])=>a===s&&o===n)}):!0).map(({index:i})=>i)}valueIdxLookup(e,t){const i=e==null||e.length===0,s=o=>{if(o==null)return!0;const c=o==null||o.length===0;return i===c?!0:o?.some(h=>e.includes(h))},n=typeof t=="string"?t:t.id,r=([o,l])=>s([o])&&l===n,a=this.values.findIndex(o=>{var l;return s(o.scopes)&&(((l=o.ids)==null?void 0:l.some(c=>r(c)))||o.property===n||o.id===n)});if(a>=0)return a;throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`)}extractData(e,t){var i,s,n,r,a,o;const{keys:l,values:c,opts:{dataVisible:h}}=this,{dataDomain:u,processValue:d,scopes:p,allScopesHaveSameDefs:g}=this.initDataDomainProcessor(),f=new Array(h?e.length:0);let m=0,y=0;for(const[x,S]of e.entries()){const _={},D=p.size>0?new Set(p):void 0,A=h?new Array(l.length):void 0;let T=0,I;for(const O of l){if(I=d(O,S,I),I===$n)break;A&&(A[T++]=I)}if(I===$n)continue;const E=h&&c.length>0?new Array(c.length):void 0;let N;const C={};for(const O of t??[])C[O.id]=O;for(const[O,w]of c.entries()){for(const H of(i=w.scopes)!=null?i:p){const F=C[H],P=(s=F?.data[x])!=null?s:S;N=d(w,P,N),!(N===$n||!E)&&(F!==void 0&&((r=_[n=F.id])!=null||(_[n]={}),_[F.id][w.property]=N),w.useScopedValues?((a=E[O])!=null||(E[O]={}),E[O][H]=N):E[O]=N)}if(N===$n){if(g)break;for(const H of(o=w.scopes)!=null?o:p)D?.delete(H);if(D?.size===0)break}}if(!(N===$n&&g)&&D?.size!==0&&h){const O={datum:R(R({},S),_),keys:A,values:E};!g&&D&&D.size<p.size&&(y++,O.validScopes=[...D]),f[m++]=O}}f.length=m;const v=x=>{const S=u.get(x).getDomain();return Array.isArray(S)&&S[0]>S[1]?[]:[...S]};return{type:"ungrouped",input:{count:e.length},data:f,domain:{keys:l.map(x=>v(x)),values:c.map(x=>v(x))},defs:{allScopesHaveSameDefs:g,keys:l,values:c},partialValidDataCount:y,time:0}}groupData(e,t){var i,s,n,r;const a=new Map;for(const h of e.data){const{keys:u,values:d,datum:p,validScopes:g}=h,f=t?t(h):u,m=VE(f);if(a.has(m)){const y=a.get(m);if(y.values.push(d),y.datum.push(p),g!=null)for(let v=0;v<((s=(i=y.validScopes)==null?void 0:i.length)!=null?s:0);v++){const x=(n=y.validScopes)==null?void 0:n[v];g.some(S=>S===x)||(r=y.validScopes)==null||r.splice(v,1)}}else a.set(m,{keys:f,values:[d],datum:[p],validScopes:g})}const o=new Array(a.size),l=new Array(a.size);let c=0;for(const[,{keys:h,values:u,datum:d,validScopes:p}]of a.entries())p?.length!==0&&(l[c]=h,o[c++]={keys:h,values:u,datum:d,validScopes:p});return X(R({},e),{type:"grouped",data:o,domain:X(R({},e.domain),{groups:l})})}aggregateData(e){var t,i,s,n,r,a,o,l;const{aggregates:c}=this;if(!c)return;const h=c.map(()=>[1/0,-1/0]),u=c.map(f=>this.valueGroupIdxLookup(f)),d=c.map(f=>f.aggregateFunction),p=c.map(f=>f.groupAggregateFunction),g=c.map(f=>f.finalFunction);for(const f of e.data){let{values:m}=f;const{validScopes:y}=f;(t=f.aggValues)!=null||(f.aggValues=new Array(u.length)),e.type==="ungrouped"&&(m=[m]);let v=0;for(const x of u){if(!((i=y?.some(A=>{var T;return(T=c[v].matchScopes)==null?void 0:T.some(I=>A===I)}))!=null?i:!0)){v++;continue}let _=(n=(s=p[v])==null?void 0:s.call(p))!=null?n:Gl([]);for(const A of m){const T=x.map(E=>A[E]),I=d[v](T,f.keys);I&&(_=(a=(r=p[v])==null?void 0:r.call(p,I,_))!=null?a:Gl(I,_))}const D=((l=(o=g[v])==null?void 0:o.call(g,_))!=null?l:_).map(A=>WE(A));Gl(D,h[v]),f.aggValues[v++]=D}}e.domain.aggValues=h}postProcessGroups(e){var t,i,s,n,r;const{groupProcessors:a}=this;if(!a)return;const o=new Set,l=new Map,c=new Map,h=new Map;for(const d of a){const p=this.valueGroupIdxLookup(d);c.set(d,p),h.set(d,d.adjust());for(const g of p){const f=this.values[g];o.add(g),l.set(g,new Qh(f.valueType==="category"?"discrete":"continuous"))}}const u=d=>{var p;for(const g of o)(p=l.get(g))==null||p.extend(d[g])};for(const d of e.data){for(const p of a){if(!((i=(t=d.validScopes)==null?void 0:t.some(y=>{var v;return(v=p.matchScopes)==null?void 0:v.some(x=>y===x)}))!=null?i:!0))continue;const f=(s=c.get(p))!=null?s:[],m=(r=(n=h.get(p))==null?void 0:n())!=null?r:()=>{};if(e.type==="grouped"){for(const y of d.values)y&&m(y,f);continue}d.values&&m(d.values,f)}if(e.type==="grouped")for(const p of d.values)u(p);else u(d.values)}for(const[d,p]of l)e.domain.values[d]=[...p.getDomain()]}postProcessProperties(e){const{propertyProcessors:t}=this;if(t)for(const{adjust:i,property:s,scopes:n}of t)i()(e,this.valueIdxLookup(n??[],s))}reduceData(e){var t,i,s;const{reducers:n}=this,r=n.map(l=>l.scopes),a=n.map(l=>l.reducer()),o=n.map(l=>l.initialValue);for(const l of e.data){let c=0;for(const h of a){if(!((i=(t=l.validScopes)==null?void 0:t.some(d=>{var p;return(p=r[c])==null?void 0:p.some(g=>d===g)}))!=null?i:!0)){c++;continue}o[c]=h(o[c],l),c++}}for(let l=0;l<o.length;l++)(s=e.reduced)!=null||(e.reduced={}),e.reduced[n[l].property]=o[l]}postProcessData(e){var t;const{processors:i}=this;for(const s of i)(t=e.reduced)!=null||(e.reduced={}),e.reduced[s.property]=s.calculate(e)}initDataDomainProcessor(){var e;const{keys:t,values:i}=this,s=new Set;for(const d of i)for(const p of(e=d.scopes)!=null?e:[])s.add(p);const n=s.size,r=new Map,a=new Map;let o=!0;const l=(d,p,g=r)=>{var f;p==="category"?g.set(d,new Qh("discrete")):(g.set(d,new Qh("continuous")),o&&(o=((f=d.scopes)!=null?f:[]).length===n))},c=()=>{t.forEach(d=>l(d,d.valueType)),i.forEach(d=>l(d,d.valueType))};c();const h=this.buildAccessors(...t,...i);return{dataDomain:r,processValue:(d,p,g)=>{var f,m,y,v;const x=d.property in h;let S=!1,_;if(x){try{_=h[d.property](p)}catch{}S=_!==void 0}else S=d.property in p,_=S?p[d.property]:d.missingValue;d.forceValue!=null&&(_=S&&pl(_)?-1*d.forceValue:d.forceValue,S=!0);const D="missingValue"in d;if(!S&&!D&&d.missing++,r.has(d)||c(),S&&!((m=(f=d.validation)==null?void 0:f.call(d,_,p))!=null?m:!0))if("invalidValue"in d)_=d.invalidValue;else return this.mode!=="integrated"&&q.warnOnce(`invalid value of type [${typeof _}] ignored:`,`[${_}]`),$n;return d.processor&&(a.has(d)||a.set(d,d.processor()),_=(y=a.get(d))==null?void 0:y(_,g!==$n?g:void 0)),(v=r.get(d))==null||v.extend(_),_},initDataDomain:c,scopes:s,allScopesHaveSameDefs:o}}buildAccessors(...e){const t={};if(this.mode==="integrated")return t;for(const i of e){if(!(i.property.indexOf(".")>=0||i.property.indexOf("[")>=0))continue;let n;i.property.startsWith("[")?n=`return datum${i.property};`:n=`return datum.${i.property};`,t[i.property]=new Function("datum",n)}return t}}}}),Wg,X0=L({"packages/ag-charts-community/src/chart/data/dataController.ts"(){"use strict";as(),Os(),qn(),Wg=class{constructor(e){this.mode=e,this.debug=Kt.create(!0,"data-model"),this.requested=[],this.status="setup"}request(e,t,i){return B(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((s,n)=>{this.requested.push({id:e,opts:i,data:t,resultCb:s,reject:n})})})}execute(){return B(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const{valid:e,invalid:t}=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",e);const i=this.mergeRequested(e);this.debug("DataController.execute() - merged",i);const s=Kt.check(!0,"data-model");s&&(window.processedData=[]);const n=e.some(r=>r.data!=null);for(const{opts:r,data:a,resultCbs:o,rejects:l,ids:c}of i){const h=n||r.props.some(u=>{var d;return u.type!=="value"&&u.type!=="key"?!1:(d=u.useScopedValues)!=null?d:!1});try{const u=new Vg(X(R({},r),{mode:this.mode})),d=u.processData(a,e);s&&window.processedData.push(d),d&&d.partialValidDataCount===0?o.forEach((p,g)=>{const f=c[g];let m=d;h&&(m=this.extractScopedData(f,d)),p({dataModel:u,processedData:m})}):d?this.splitResult(u,d,c,o):l.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(u){l.forEach(d=>d(u))}}t.forEach(({error:r,reject:a})=>a(r))})}extractScopedData(e,t){const i=n=>Array.isArray(n)?n.map(i):R(R({},n),n[e]),s=n=>{var r;return Array.isArray(n)?n.map(s):(r=n?.[e])!=null?r:n};return X(R({},t),{data:t.data.map(n=>X(R({},n),{datum:i(n.datum),values:n.values.map(s)}))})}validateRequests(e){const t=[],i=[];for(const[s,n]of e.entries())s>0&&n.data.length!==e[0].data.length&&n.opts.groupByData===!1?i.push(X(R({},n),{error:new Error("all series[].data arrays must be of the same length and have matching keys.")})):t.push(n);return{valid:t,invalid:i}}mergeRequested(e){const t=[],i=l=>l.filter(c=>c.type==="key").map(c=>c.property).join(";"),s=({opts:l,data:c})=>h=>(l.groupByData===!1||h[0].data===c)&&h[0].opts.groupByKeys===l.groupByKeys&&h[0].opts.dataVisible===l.dataVisible&&h[0].opts.groupByFn===l.groupByFn&&i(h[0].opts.props)===i(l.props),n=l=>c=>{var h;if(c.type!==l.type)return!1;const u=(h=Cs(c,l))!=null?h:{};return delete u.scopes,delete u.id,delete u.ids,"useScopedValues"in u&&delete u.useScopedValues,Object.keys(u).length===0},r=l=>{var c;if(l.type!=="key"&&l.type!=="value")return;const h=new Set((c=l.scopes)!=null?c:[]);l.useScopedValues=h.size>1},a=l=>X(R({},l[0]),{props:l.reduce((c,h)=>{var u,d,p,g,f,m;for(const y of h.props){y.id!=null&&((u=y.ids)!=null||(y.ids=[]),(d=y.scopes)==null||d.forEach(x=>{var S;return(S=y.ids)==null?void 0:S.push([x,y.id])}));const v=c.find(n(y));if(!v){r(y),c.push(y);continue}(p=v.scopes)!=null||(v.scopes=[]),v.scopes.push(...(g=y.scopes)!=null?g:[]),r(y),!(v.type!=="key"&&v.type!=="value")&&((m=v.ids)==null||m.push(...(f=y.ids)!=null?f:[]))}return c},[])}),o=l=>({ids:l.map(({id:c})=>c),resultCbs:l.map(({resultCb:c})=>c),rejects:l.map(({reject:c})=>c),data:l[0].data,opts:a(l.map(({opts:c})=>c))});for(const l of e){const c=t.find(s(l));c?c.push(l):t.push([l])}return t.map(o)}splitResult(e,t,i,s){for(let n=0;n<i.length;n++){const r=i[n],a=s[n];a({dataModel:e,processedData:X(R({},t),{data:t.data.filter(({validScopes:o})=>o==null||o.some(l=>l===r))})})}}}}}),Vl,Jh=L({"packages/ag-charts-community/src/util/listeners.ts"(){"use strict";ft(),Vl=class{constructor(){this.registeredListeners=new Map}addListener(e,t,i){const s={symbol:Symbol(e),handler:t,meta:i};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(s):this.registeredListeners.set(e,[s]),()=>this.removeListener(s.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const s=i.findIndex(n=>n.symbol===e);if(s>=0){i.splice(s,1),i.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const i of this.getListenersByType(e))try{i.handler(...t)}catch(s){q.errorOnce(s)}}dispatchWrapHandlers(e,t,...i){for(const s of this.getListenersByType(e))try{t(s.handler,s.meta,...i)}catch(n){q.errorOnce(n)}}getListenersByType(e){var t;return(t=this.registeredListeners.get(e))!=null?t:[]}}}}),co,Wl=L({"packages/ag-charts-community/src/chart/interaction/baseManager.ts"(){"use strict";Jh(),co=class{constructor(){this.listeners=new Vl}addListener(e,t,i){return this.listeners.addListener(e,t,i)}removeListener(e){this.listeners.removeListener(e)}}}}),Ug,Yg,Hg,$0=L({"packages/ag-charts-community/src/chart/interaction/animationManager.ts"(){"use strict";Wr(),as(),ft(),Wl(),Ug=[!0,"animation"],Yg=class extends co{constructor(e,t){super(),this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new Hg,this.debug=Kt.create(...Ug),this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(e){var t=e,{disableInteractions:i=!0,immutable:s=!0}=t,n=ai(t,["disableInteractions","immutable"]),r,a;const{batch:o}=this;try{if(n.id!=null&&o.controllers.has(n.id)){if(!s)return o.controllers.get(n.id).reset(n);o.controllers.get(n.id).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${n.id}`),this.batch.skip()}}catch(h){this.failsafeOnError(h);return}const l=(r=n.id)!=null?r:Math.random().toString(),c=this.isSkipped();return c&&this.debug("AnimationManager - skipping animation"),new qp(X(R({},n),{id:l,skip:c,autoplay:this.isPlaying?n.autoplay:!1,duration:(a=n.duration)!=null?a:this.defaultDuration,onPlay:h=>{var u;o.controllers.set(l,h),this.requestAnimation(),i&&this.interactionManager.pause("animation"),(u=n.onPlay)==null||u.call(h,h)},onStop:h=>{var u;o.controllers.delete(l),i&&this.interactionManager.resume("animation"),(u=n.onStop)==null||u.call(h,h)}}))}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");for(const e of this.batch.controllers.values())try{e.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");for(const e of this.batch.controllers.values())try{e.pause()}catch(t){this.failsafeOnError(t)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()");for(const e of this.batch.controllers.values())try{e.stop()}catch(t){this.failsafeOnError(t,!1)}}stopByAnimationId(e){var t;try{e!=null&&this.batch.controllers.has(e)&&((t=this.batch.controllers.get(e))==null||t.stop())}catch(i){this.failsafeOnError(i);return}}stopByAnimationGroupId(e){for(const t of this.batch.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){Kt.check(...Ug)&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=requestAnimationFrame(e)}requestAnimation(){if(!this.batch.isActive()||this.requestId!==null)return;let e;const t=i=>B(this,null,function*(){const s=()=>B(this,null,function*(){const n=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.controllers.size});for(const r of this.batch.controllers.values())try{r.update(n)}catch(a){this.failsafeOnError(a)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:n})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(s):yield this.chartUpdateMutex.acquire(s),this.batch.isActive()&&this.scheduleAnimationFrame(t)});this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){q.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new Hg,e===!0&&this.batch.skip()}endBatch(){this.debug(`AnimationManager - endBatch() with ${this.batch.controllers.size} animations; skipped: ${this.batch.isSkipped()}.`),this.batch.isSkipped()&&!this.batch.isActive()&&this.batch.skip(!1)}},Hg=class{constructor(){this.controllers=new Map,this.skipAnimations=!1}isActive(){return this.controllers.size>0}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}isSkipped(){return this.skipAnimations}destroy(){}}}}),jg,q0=L({"packages/ag-charts-community/src/chart/interaction/chartEventManager.ts"(){"use strict";Wl(),jg=class extends co{legendItemClick(e,t,i,s){const n={type:"legend-item-click",series:e,itemId:t,enabled:i,legendItemName:s};this.listeners.dispatch("legend-item-click",n)}legendItemDoubleClick(e,t,i,s,n){const r={type:"legend-item-double-click",series:e,itemId:t,enabled:i,legendItemName:n,numVisibleItems:s};this.listeners.dispatch("legend-item-double-click",r)}axisHover(e,t){const i={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",i)}}}}),Kg,Z0=L({"packages/ag-charts-community/src/chart/interaction/cursorManager.ts"(){"use strict";Kg=class{constructor(e){this.states={},this.element=e}updateCursor(e,t){delete this.states[e],t!=null&&(this.states[e]={style:t}),this.applyStates()}applyStates(){let e="default";Object.entries(this.states).reverse().slice(0,1).forEach(([t,{style:i}])=>e=i),this.element.style.cursor=e}getCursor(){return this.element.style.cursor}}}}),Xg,Q0=L({"packages/ag-charts-community/src/chart/interaction/highlightManager.ts"(){"use strict";Wl(),Xg=class extends co{constructor(){super(...arguments),this.highlightStates=new Map,this.pickedStates=new Map}updateHighlight(e,t){this.highlightStates.delete(e),t!=null&&this.highlightStates.set(e,t),this.applyHighlightStates()}getActiveHighlight(){return this.activeHighlight}updatePicked(e,t){this.pickedStates.delete(e),t!=null&&this.pickedStates.set(e,t),this.applyPickedStates()}getActivePicked(){return this.activePicked}applyHighlightStates(){const{activeHighlight:e}=this;this.activeHighlight=Array.from(this.highlightStates.values()).pop(),this.isEqual(this.activeHighlight,e)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:e})}applyPickedStates(){this.activePicked=Array.from(this.pickedStates.values()).pop()}isEqual(e,t){return e===t||e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}}}}),$g,qg,J0,tu,Zg,tb=L({"packages/ag-charts-community/src/chart/interaction/interactionManager.ts"(){"use strict";wp(),ft(),gn(),Wl(),$g=["pagehide","mousemove","mouseup"],qg=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],J0=`
.ag-chart-wrapper {
    touch-action: none;
}
`,tu=class Gc extends co{constructor(t,i,s){super(),this.eventHandler=n=>this.processEvent(n),this.mouseDown=!1,this.touchDown=!1,this.pausers={animation:0,"context-menu":0},this.rootElement=i.body,this.element=t,this.window=s;for(const n of qg)n.startsWith("touch")?t.addEventListener(n,this.eventHandler,{passive:!0}):n==="wheel"?t.addEventListener(n,this.eventHandler,{passive:!1}):t.addEventListener(n,this.eventHandler);for(const n of $g)this.window.addEventListener(n,this.eventHandler);Gc.interactionDocuments.includes(i)||(Rp(i,J0),Gc.interactionDocuments.push(i))}destroy(){for(const t of $g)this.window.removeEventListener(t,this.eventHandler);for(const t of qg)this.element.removeEventListener(t,this.eventHandler)}resume(t){this.pausers[t]--}pause(t){this.pausers[t]++}processEvent(t){const i=this.decideInteractionEventTypes(t);i.length>0&&this.dispatchEvent(t,i).catch(s=>q.errorOnce(s))}dispatchEvent(t,i){return B(this,null,function*(){const s=this.calculateCoordinates(t);if(s==null)return;const n=Object.entries(this.pausers).filter(([,r])=>r>0).map(([r])=>r);for(const r of i)this.listeners.dispatchWrapHandlers(r,(a,o,l)=>{var c;n.length>0&&!((c=o?.bypassPause)!=null&&c.some(h=>n.includes(h)))||l.consumed||a(l)},this.buildEvent(R({type:r,event:t,pauses:n},s)))})}decideInteractionEventTypes(t){const i="drag-start";switch(t.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,[i];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,[i];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?[]:(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?[]:(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]);case"mouseout":case"touchcancel":return["leave"];case"mouseenter":const s=t instanceof MouseEvent&&(t.buttons&1)===1;return this.mouseDown!==s?(this.mouseDown=s,[s?i:"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]}isEventOverElement(t){var i;return t.target===this.element||((i=t.target)==null?void 0:i.parentElement)===this.element}calculateCoordinates(t){var i;if(t instanceof MouseEvent){const{clientX:s,clientY:n,pageX:r,pageY:a,offsetX:o,offsetY:l}=t;return this.fixOffsets(t,{clientX:s,clientY:n,pageX:r,pageY:a,offsetX:o,offsetY:l})}else if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const s=(i=t.touches[0])!=null?i:t.changedTouches[0],{clientX:n,clientY:r,pageX:a,pageY:o}=s;return X(R({},Gc.NULL_COORDS),{clientX:n,clientY:r,pageX:a,pageY:o})}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:Gc.NULL_COORDS}fixOffsets(t,i){const s=n=>{let r=0,a=0;for(;n;)r+=n.offsetLeft,a+=n.offsetTop,n=n.offsetParent;return{x:r,y:a}};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){const n=s(this.dragStartElement),r=s(t.target);i.offsetX-=n.x-r.x,i.offsetY-=n.y-r.y}return i}buildEvent(t){const{type:i,event:s,clientX:n,clientY:r,pauses:a}=t;let{offsetX:o,offsetY:l,pageX:c,pageY:h}=t;if(!ei(o)||!ei(l)){const d=this.element.getBoundingClientRect();o=n-d.left,l=r-d.top}if(!ei(c)||!ei(h)){const d=this.rootElement.getBoundingClientRect();c=n-d.left,h=r-d.top}const u={type:i,offsetX:o,offsetY:l,pageX:c,pageY:h,sourceEvent:s,consumed:!1,pauses:a,consume(){u.consumed=!0}};return u}},tu.interactionDocuments=[],tu.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},Zg=tu}}),eu,eb=L({"packages/ag-charts-community/src/chart/interaction/tooltipManager.ts"(){"use strict";eu=class{constructor(e,t){this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=e,this.destroyFns.push(t.addListener("hover",i=>this.checkExclusiveRects(i)))}getRange(){return this.tooltip.range}updateTooltip(e,t,i){var s;i==null&&(i=(s=this.states[e])==null?void 0:s.content),this.states[e]={content:i,meta:t},this.applyStates()}updateExclusiveRect(e,t){t?this.exclusiveAreas[e]=t:delete this.exclusiveAreas[e]}removeTooltip(e){delete this.states[e],this.applyStates()}getTooltipMeta(e){var t;return(t=this.states[e])==null?void 0:t.meta}destroy(){for(const e of this.destroyFns)e()}checkExclusiveRects(e){let t;for(const[i,s]of Object.entries(this.exclusiveAreas))if(s.containsPoint(e.offsetX,e.offsetY)){t=i;break}t!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=t,this.applyStates())}applyStates(){var e;const t=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states);let i,s;if(t.reverse(),t.slice(0,1).forEach(n=>{var r;const{content:a,meta:o}=(r=this.states[n])!=null?r:{};i=a,s=o}),s===void 0||i===void 0){this.appliedState=void 0,this.tooltip.toggle(!1);return}if(((e=this.appliedState)==null?void 0:e.content)===i){const n=this.tooltip.isVisible();this.tooltip.show(s,void 0,n)}else this.tooltip.show(s,i);this.appliedState={content:i,meta:s}}static makeTooltipMeta(e,t,i,s){var n,r,a,o;const{pageX:l,pageY:c,offsetX:h,offsetY:u}=e,{tooltip:d}=i.series.properties,p={xOffset:d.position.xOffset,yOffset:d.position.yOffset},g={pageX:l,pageY:c,offsetX:h,offsetY:u,event:e,showArrow:d.showArrow,position:p},f=(r=(n=i.yBar)==null?void 0:n.upperPoint)!=null?r:i.midPoint;if(d.position.type==="node"&&f){const{x:m,y}=f,v=i.series.contentGroup.inverseTransformPoint(m,y),x=t.element.getBoundingClientRect();return X(R({},g),{pageX:Math.round(x.left+s.scrollX+v.x),pageY:Math.round(x.top+s.scrollY+v.y),offsetX:Math.round(v.x),offsetY:Math.round(v.y)})}return g.enableInteraction=(o=(a=d.interaction)==null?void 0:a.enabled)!=null?o:!1,g}}}}),Qg,ib,sb=L({"packages/ag-charts-community/src/chart/interaction/zoomManager.ts"(){"use strict";te(),Wl(),Qg=class extends co{constructor(){super(...arguments),this.axes={}}updateAxes(e){var t;const i=new Set(Object.keys(this.axes));e.forEach(s=>{var n,r,a;i.delete(s.id),(a=(n=this.axes)[r=s.id])!=null||(n[r]=new ib(s))}),i.forEach(s=>{delete this.axes[s]}),(t=this.initialZoom)!=null&&t.newZoom&&this.updateZoom(this.initialZoom.callerId,this.initialZoom.newZoom),this.initialZoom=void 0}updateZoom(e,t){if(Object.keys(this.axes).length===0){this.initialZoom={callerId:e,newZoom:t};return}Object.values(this.axes).forEach(i=>{i.updateZoom(e,t?.[i.getDirection()])}),this.applyStates()}updateAxisZoom(e,t,i){var s;(s=this.axes[t])==null||s.updateZoom(e,i),this.applyStates()}getZoom(){let e,t;if(Object.values(this.axes).forEach(i=>{i.getDirection()==="x"?e=i.getZoom():i.getDirection()==="y"&&(t=i.getZoom())}),e||t)return{x:e,y:t}}getAxisZoom(e){var t;return(t=this.axes[e])==null?void 0:t.getZoom()}getAxisZooms(){const e={};for(const[t,i]of Object.entries(this.axes))e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}applyStates(){if(!Object.values(this.axes).map(s=>s.applyStates()).some(Boolean))return;const t=this.getZoom(),i={};for(const[s,n]of Object.entries(this.axes))i[s]=n.getZoom();this.listeners.dispatch("zoom-change",X(R({type:"zoom-change"},t??{}),{axes:i}))}},ib=class{constructor(e){this.states={},this.axis=e;const[t=0,i=1]=e.visibleRange;this.currentZoom={min:t,max:i},this.states.__initial__=this.currentZoom}getDirection(){return this.axis.direction}updateZoom(e,t){delete this.states[e],t!=null&&(this.states[e]=R({},t))}getZoom(){return this.currentZoom}applyStates(){var e,t;const i=this.currentZoom,s=Object.keys(this.states)[Object.keys(this.states).length-1];return this.currentZoom=R({},this.states[s]),i?.min!==((e=this.currentZoom)==null?void 0:e.min)||i?.max!==((t=this.currentZoom)==null?void 0:t.max)}}}}),Jg,nb=L({"packages/ag-charts-community/src/chart/layout/layoutService.ts"(){"use strict";Jh(),ft(),Jg=class extends Vl{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(e,t){if(this.isLayoutStage(e)||this.isLayoutComplete(e))return super.addListener(e,t);throw new Error(`AG Charts - unsupported listener type: ${e}`)}dispatchPerformLayout(e,t){return this.isLayoutStage(e)?this.getListenersByType(e).reduce((i,s)=>{try{return s.handler(i)}catch(n){return q.errorOnce(n),i}},t):t}dispatchLayoutComplete(e){this.dispatch(this.layoutComplete,e)}isLayoutStage(e){return e!==this.layoutComplete}isLayoutComplete(e){return e===this.layoutComplete}}}});function HE({orientation:e,bboxes:t,maxHeight:i,maxWidth:s,itemPaddingY:n=0,itemPaddingX:r=0,forceResult:a=!1}){const o=e==="horizontal",l={max:o?s:i,fn:o?d=>d.width:d=>d.height,padding:o?r:n},c={max:o?i:s,fn:o?d=>d.height:d=>d.width,padding:o?n:r};let h=0;const u=[];for(;h<t.length;){const d=t.slice(h),p=jE(d,h,l,c,a);if(!p)return;h+=p.processedBBoxCount,u.push(p.pageIndices)}return XE(u,e,t,n,r)}function jE(e,t,i,s,n){let a=qE(e,i);if(a<1){if(!n)return;a=1}for(let o=a;o>=1;o--){const l=KE(e,t,o,i,s,n);if(l==null&&o<=1)return;if(l==null)continue;if(typeof l=="number"){if(l<=1)return;o=l<o&&l>1?l:o;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function KE(e,t,i,s,n,r){var a;const o=[];let l=0,c=0,h=[];const u=[];for(let d=0;d<e.length;d++){const p=(d+i)%i;p===0&&(l+=c,c=0,h.length>0&&o.push(h),h=[]);const g=s.fn(e[d])+s.padding;u[p]=Math.max((a=u[p])!=null?a:0,g),c=Math.max(c,n.fn(e[d])+n.padding);const f=l+c,m=!r||o.length>0;if(f>n.max&&m){h=[];break}if(u.reduce((v,x)=>v+x,0)>s.max&&!r)return u.length<i?u.length:void 0;h.push(d+t)}return h.length>0&&o.push(h),o.length>0?o:void 0}function XE(e,t,i,s,n){let r=0,a=0;return{pages:e.map(l=>{t==="horizontal"&&(l=$E(l));let c=0;const h=l.map(p=>{const g=p.map(y=>(c=Math.max(y,c),i[y]));let f=0,m=0;return g.forEach(y=>{f+=y.height+s,m=Math.max(m,y.width+n)}),{indices:p,bboxes:g,columnHeight:Math.ceil(f),columnWidth:Math.ceil(m)}});let u=0,d=0;return h.forEach(p=>{u+=p.columnWidth,d=Math.max(d,p.columnHeight)}),r=Math.max(u,r),a=Math.max(d,a),{columns:h,startIndex:l[0][0],endIndex:c,pageWidth:u,pageHeight:d}}),maxPageWidth:r,maxPageHeight:a}}function $E(e){const t=[];for(const i of e[0])t.push([]);return e.forEach((i,s)=>{i.forEach((n,r)=>{t[r][s]=n})}),t}function qE(e,t){const i=e.length;let s=0;for(let n=0;n<i;n++)if(s+=t.fn(e[n])+t.padding,s>t.max)return i/n<2?Math.ceil(i/2):n;return i}var ZE=L({"packages/ag-charts-community/src/chart/gridLayout.ts"(){"use strict"}}),se,QE=L({"packages/ag-charts-community/src/chart/markerLabel.ts"(){"use strict";cn(),fe(),to(),hi(),hn(),lg(),se=class extends at{constructor(){super({name:"markerLabelGroup"}),this.label=new Tt,this.line=new ye,this._marker=new jr,this._markerSize=15,this._spacing=8;const{marker:e,label:t,line:i}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=Ht.has.textMetrics?1:0,this.append([i,e,t]),this.update()}set marker(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())}get marker(){return this._marker}set markerSize(e){this._markerSize!==e&&(this._markerSize=e,this.update())}get markerSize(){return this._markerSize}set spacing(e){this._spacing!==e&&(this._spacing=e,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(e){const t=this.marker.size/2+e;this.line.x1=-t,this.line.x2=t,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){this.marker.size=this.markerSize;const e=this.line.visible?this.line.x2:-1/0,t=this.markerSize/2;this.label.x=Math.max(e,t)+this.spacing}render(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(e)}},se.className="MarkerLabel",b([It("label")],se.prototype,"text",2),b([It("label")],se.prototype,"fontStyle",2),b([It("label")],se.prototype,"fontWeight",2),b([It("label")],se.prototype,"fontSize",2),b([It("label")],se.prototype,"fontFamily",2),b([It("label","fill")],se.prototype,"color",2),b([It("marker","fill")],se.prototype,"markerFill",2),b([It("marker","stroke")],se.prototype,"markerStroke",2),b([It("marker","strokeWidth")],se.prototype,"markerStrokeWidth",2),b([It("marker","fillOpacity")],se.prototype,"markerFillOpacity",2),b([It("marker","strokeOpacity")],se.prototype,"markerStrokeOpacity",2),b([It("marker","visible")],se.prototype,"markerVisible",2),b([It("line","stroke")],se.prototype,"lineStroke",2),b([It("line","strokeWidth")],se.prototype,"lineStrokeWidth",2),b([It("line","strokeOpacity")],se.prototype,"lineStrokeOpacity",2),b([It("line","lineDash")],se.prototype,"lineLineDash",2),b([It("line","visible")],se.prototype,"lineVisible",2)}}),Qr,Vs,Ul,tf,JE=L({"packages/ag-charts-community/src/chart/pagination/pagination.ts"(){"use strict";cn(),fe(),hi(),ds(),hn(),ht(),lo(),cg(),pn(),Qr=class{constructor(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}},b([k(bt)],Qr.prototype,"color",2),b([k(on,{optional:!0})],Qr.prototype,"fontStyle",2),b([k(ln,{optional:!0})],Qr.prototype,"fontWeight",2),b([k(K)],Qr.prototype,"fontSize",2),b([k($)],Qr.prototype,"fontFamily",2),Vs=class{constructor(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}},b([k(K)],Vs.prototype,"size",2),b([k(bt,{optional:!0})],Vs.prototype,"fill",2),b([k(Ot,{optional:!0})],Vs.prototype,"fillOpacity",2),b([k(bt,{optional:!0})],Vs.prototype,"stroke",2),b([k(K)],Vs.prototype,"strokeWidth",2),b([k(Ot)],Vs.prototype,"strokeOpacity",2),Ul=class{constructor(e){this.parent=e,this.shape=Kr,this.size=15,this.padding=8}},b([He({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Ul.prototype,"shape",2),b([k(K)],Ul.prototype,"size",2),b([k(K)],Ul.prototype,"padding",2),tf=class{constructor(e,t,i,s){this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.interactionManager=i,this.cursorManager=s,this.id=Fs(this),this.group=new at({name:"pagination"}),this.labelNode=new Tt,this.marker=new Ul(this),this.activeStyle=new Vs,this.inactiveStyle=new Vs,this.highlightStyle=new Vs,this.label=new Qr,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Kr,this._previousButton=new Kr;const{labelNode:n}=this;n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=Ht.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,n]),this.interactionManager.addListener("click",r=>this.onPaginationClick(r)),this.interactionManager.addListener("hover",r=>this.onPaginationMouseMove(r)),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.computeBBox();this.nextButton.translationX=e.x+e.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:s,fontStyle:n,fontWeight:r,fontSize:a,fontFamily:o}}=this;i.text=`${e+1} / ${t}`,i.fill=s,i.fontStyle=n,i.fontWeight=r,i.fontSize=a,i.fontFamily=o}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:s,activeStyle:n,inactiveStyle:r,highlightStyle:a,highlightActive:o}=this,l=(c,h)=>h?r:c===o?a:n;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",s))}updateMarker(e,t){var i;const{size:s}=this.marker;e.size=s,e.fill=t.fill,e.fillOpacity=(i=t.fillOpacity)!=null?i:1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=t===0,s=e===t-1,n=e===0;this.nextButtonDisabled=s||i,this.previousButtonDisabled=n||i}nextButtonContainsPoint(e,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(e,t)}previousButtonContainsPoint(e,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(e,t)}onPaginationClick(e){const{offsetX:t,offsetY:i}=e;this.nextButtonContainsPoint(t,i)?(this.incrementPage(),this.onPaginationChanged(),e.consume()):this.previousButtonContainsPoint(t,i)&&(this.decrementPage(),this.onPaginationChanged(),e.consume())}onPaginationMouseMove(e){const{offsetX:t,offsetY:i}=e;this.nextButtonContainsPoint(t,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(5)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const e=Hn(this.marker.shape||Kr);this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(5)}attachPagination(e){e.append(this.group)}computeBBox(){return this.group.computeBBox()}},tf.className="Pagination"}}),yn,ho,iu,Jr,ef,Ui,rb=L({"packages/ag-charts-community/src/chart/legend.ts"(){"use strict";Pt(),cn(),fe(),Yt(),Ur(),hi(),ds(),ft(),ht(),lo(),ZE(),ys(),pn(),QE(),JE(),Sl(),yn=class{constructor(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}},b([k(K,{optional:!0})],yn.prototype,"maxLength",2),b([k(bt)],yn.prototype,"color",2),b([k(on,{optional:!0})],yn.prototype,"fontStyle",2),b([k(ln,{optional:!0})],yn.prototype,"fontWeight",2),b([k(K)],yn.prototype,"fontSize",2),b([k($)],yn.prototype,"fontFamily",2),b([k(us,{optional:!0})],yn.prototype,"formatter",2),ho=class{constructor(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=void 0,this.enabled=!0}set shape(e){var t;this._shape=e,(t=this.parent)==null||t.onMarkerShapeChange()}get shape(){return this._shape}},b([k(K)],ho.prototype,"size",2),b([k(K)],ho.prototype,"padding",2),b([k(K,{optional:!0})],ho.prototype,"strokeWidth",2),b([k(ct,{optional:!0})],ho.prototype,"enabled",2),iu=class{constructor(){this.strokeWidth=void 0,this.length=void 0}},b([k(K,{optional:!0})],iu.prototype,"strokeWidth",2),b([k(K,{optional:!0})],iu.prototype,"length",2),Jr=class{constructor(){this.marker=new ho,this.label=new yn,this.line=new iu,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1}},b([k(K,{optional:!0})],Jr.prototype,"maxWidth",2),b([k(K)],Jr.prototype,"paddingX",2),b([k(K)],Jr.prototype,"paddingY",2),b([k(ct)],Jr.prototype,"toggleSeriesVisible",2),b([k(ct)],Jr.prototype,"showSeriesStroke",2),ef=class{constructor(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}},b([k(us,{optional:!0})],ef.prototype,"legendItemClick",2),Ui=class{constructor(e){this.ctx=e,this.id=Fs(this),this.group=new at({name:"legend",layer:!0,zIndex:9}),this.itemSelection=Xt.select(this.group,se),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new Jr,this.listeners=new ef,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="bottom",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.preventHidingAll=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new tf(i=>e.updateService.update(i),i=>this.updatePageNumber(i),e.interactionManager,e.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;const t={bypassPause:["animation"]};this.destroyFns.push(e.interactionManager.addListener("click",i=>this.checkLegendClick(i),t),e.interactionManager.addListener("dblclick",i=>this.checkLegendDoubleClick(i),t),e.interactionManager.addListener("hover",i=>this.handleLegendMouseMove(i)),e.layoutService.addListener("start-layout",i=>this.positionLegend(i.shrinkRect)),()=>this.detachLegend())}set data(e){this._data=e,this.updateGroupVisibility()}get data(){return this._data}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}destroy(){this.destroyFns.forEach(e=>e())}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getCharacterWidths(e){const{characterWidths:t}=this;if(t.has(e))return t.get(e);const i={"...":Ht.getTextSize("...",e).width};return t.set(e,i),i}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.append(this.group)}detachLegend(){var e;(e=this.group.parent)==null||e.removeChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;return i?t.call(i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}performLayout(e,t){const{paddingX:i,paddingY:s,label:n,maxWidth:r,marker:{size:a,padding:o,shape:l},label:{maxLength:c=1/0,fontStyle:h,fontWeight:u,fontSize:d,fontFamily:p},line:g,showSeriesStroke:f}=this.item,m=[...this.data];this.reverseOrder&&m.reverse(),this.itemSelection.update(m);const y=[],v=zn(n),S=r??e*.8,_=a+o+i;if(this.itemSelection.each((O,w)=>{var H,F,P;const G=Hn(l??w.marker.shape),j=(H=w.marker.enabled)!=null?H:this.item.marker.enabled;O.marker&&O.marker instanceof G||(O.marker=new G),O.markerSize=a,O.spacing=o,O.fontStyle=h,O.fontWeight=u,O.fontSize=d,O.fontFamily=p;const Y=(F=w.itemId)!=null?F:w.id,Q=this.getItemLabel(w),J=(Q??"<unknown>").replace(/\r?\n/g," ");O.text=this.truncate(J,c,S,_,v,Y),f&&w.line!==void 0?(O.lineVisible=!0,O.markerVisible=j,O.setSeriesStrokeOffset((P=g.length)!=null?P:5)):(O.lineVisible=!1,O.markerVisible=!0),y.push(O.computeBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return!1;const D=this.size,A=this.oldSize;D[0]=e,D[1]=t,(D[0]!==A[0]||D[1]!==A[1])&&(A[0]=D[0],A[1]=D[1]);const{pages:T,maxPageHeight:I,maxPageWidth:E}=this.updatePagination(y,e,t);this.pages=T,this.maxPageSize=[E-i,I-s];const N=this.pagination.currentPage,C=this.pages[N];if(this.pages.length<1||!C){this.visible=!1;return}this.visible=!0,this.updatePositions(N),this.update()}truncate(e,t,i,s,n,r){const a="...",o=e.split("");let l=!1;if(e.length>t&&(e=`${e.substring(0,t)}`,l=!0),Math.floor(s+Ht.getTextSize(e,n).width)>i){let h="";const u=this.getCharacterWidths(n);let d=s+u[a];for(const p of o){if(u[p]||(u[p]=Ht.getTextSize(p,n).width),d+=u[p],d>i)break;h+=p}e=h,l=!0}return l?(e+=a,this.truncatedItems.add(r)):this.truncatedItems.delete(r),e}updatePagination(e,t,i){const s=this.getOrientation(),n=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=s,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:a,maxPageWidth:o,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,i),h=r.findIndex(v=>v.endIndex>=n);this.pagination.currentPage=Math.min(Math.max(h,0),r.length-1);const{paddingX:u,paddingY:d}=this.item,p=8,g=o-u,f=a-d;let m=0,y=-l.y-this.item.marker.size/2;return c?y+=f+p:(m+=-l.x+g+p,y+=(f-l.height)/2),this.pagination.translationX=m,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:o,pages:r}}calculatePagination(e,t,i){var s,n,r;const{paddingX:a,paddingY:o}=this.item,l=this.getOrientation(),c=["left","right"].includes(this.position);let h=this.pagination.computeBBox(),u=new ut(0,0,0,0),d=[],p=0,g=0,f=0;const m=v=>{const{width:x,height:S}=v;return x===h.width&&S===h.height},y=this.maxWidth!==void 0||this.maxHeight!==void 0;do{if(f++>10){q.warn("unable to find stable legend layout.");break}h=u;const v=t-(c?0:h.width),x=i-(c?h.height:0),S=HE({orientation:l,bboxes:e,maxHeight:x,maxWidth:v,itemPaddingY:o,itemPaddingX:a,forceResult:y});d=(s=S?.pages)!=null?s:[],p=(n=S?.maxPageWidth)!=null?n:0,g=(r=S?.maxPageHeight)!=null?r:0;const _=d.length;if(this.pagination.visible=_>1,this.pagination.totalPages=_,this.pagination.update(),u=this.pagination.computeBBox(),!this.pagination.visible)break}while(!m(u));return{maxPageWidth:p,maxPageHeight:g,pages:d,paginationBBox:h,paginationVertical:c}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:i,pages:s}=this;if(s.length<1||!s[e])return;const{columns:n,startIndex:r,endIndex:a}=s[e];let o=0,l=0;const c=n.length,h=n[0].indices.length,u=this.getOrientation()==="horizontal",d=n[0].bboxes[0].height+t,p=[];i.each((g,f,m)=>{var y,v;if(m<r||m>a){g.visible=!1;return}const x=m-r;let S=0,_=0;u?(S=x%c,_=Math.floor(x/c)):(S=Math.floor(x/h),_=x%h),g.visible=!0;const D=n[S];D&&(l=d*_,o=(y=p[_])!=null?y:0,p[_]=((v=p[_])!=null?v:0)+D.columnWidth,g.translationX=Math.floor(o),g.translationY=Math.floor(l))})}updatePageNumber(e){const{pages:t}=this,{startIndex:i,endIndex:s}=t[e];i===0?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=s:this.paginationTrackingIndex=Math.floor((i+s)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.ctx.updateService.update(5)}update(){const{label:{color:e},marker:t,line:i,showSeriesStroke:s}=this.item;this.itemSelection.each((n,r)=>{var a,o;const l=r.marker;n.markerFill=l.fill,n.markerStroke=l.stroke,n.markerStrokeWidth=(a=t.strokeWidth)!=null?a:Math.min(2,l.strokeWidth),n.markerFillOpacity=l.fillOpacity,n.markerStrokeOpacity=l.strokeOpacity,n.opacity=r.enabled?1:.5,n.color=e;const{line:c}=r;s&&c!==void 0&&(n.lineStroke=c.stroke,n.lineStrokeOpacity=c.strokeOpacity,n.lineStrokeWidth=(o=i.strokeWidth)!=null?o:Math.min(2,c.strokeWidth),n.lineLineDash=c.lineDash)})}getDatumForPoint(e,t){const i=[],s={dist:1/0,datum:void 0};for(const r of this.group.children){if(!r.visible||!(r instanceof se))continue;const a=r.computeBBox();if(a.grow(this.item.paddingX/2,"horizontal"),a.grow(this.item.paddingY/2,"vertical"),a.containsPoint(e,t))return r.datum;const o=e-a.x-this.item.paddingX/2,l=t-a.y-this.item.paddingY/2,c=zt(o,2)+zt(l,2);o>=0&&l>=0&&c<s.dist&&(s.dist=c,s.datum=r.datum),i.push(a)}if(ut.merge(i).containsPoint(e,t))return s.datum}computeBBox(){return this.group.computeBBox()}computePagedBBox(){const e=this.group.computeBBox();if(this.pages.length<=1)return e;const[t,i]=this.maxPageSize;return e.height=Math.max(i,e.height),e.width=Math.max(t,e.width),e}checkLegendClick(e){const{listeners:{legendItemClick:t},ctx:{chartService:i,highlightManager:s},item:{toggleSeriesVisible:n},preventHidingAll:r}=this,{offsetX:a,offsetY:o}=e,l=this.computeBBox(),c=this.group.visible&&l.containsPoint(a,o),h=this.getDatumForPoint(a,o);if(!c||!h)return;const{id:u,itemId:d,enabled:p}=h,g=i.series.find(m=>m.id===u);if(!g)return;e.consume();let f=p;n&&(f=!p,r&&!f&&i.series.flatMap(y=>y.getLegendData("category")).filter(y=>y.enabled).length<2&&(f=!0),this.ctx.chartEventManager.legendItemClick(g,d,f,h.legendItemName)),f?s.updateHighlight(this.id,{series:g,itemId:d,datum:void 0}):s.updateHighlight(this.id),this.ctx.updateService.update(1,{forceNodeDataRefresh:!0}),t?.({type:"click",enabled:f,itemId:d,seriesId:g.id})}checkLegendDoubleClick(e){var t;const{listeners:{legendItemDoubleClick:i},ctx:{chartService:s},item:{toggleSeriesVisible:n}}=this,{offsetX:r,offsetY:a}=e;if(s.mode==="integrated")return;const o=this.computeBBox(),l=this.group.visible&&o.containsPoint(r,a),c=this.getDatumForPoint(r,a);if(!l||!c)return;const{id:h,itemId:u,seriesId:d}=c,p=s.series.find(g=>g.id===h);if(p){if(e.consume(),n){const g=s.series.flatMap(y=>y.getLegendData("category")),f=g.filter(y=>y.enabled).length,m=g.find(y=>y.itemId===u&&y.seriesId===d);this.ctx.chartEventManager.legendItemDoubleClick(p,u,(t=m?.enabled)!=null?t:!1,f,m?.legendItemName)}this.ctx.updateService.update(1,{forceNodeDataRefresh:!0}),i?.({type:"dblclick",enabled:!0,itemId:u,seriesId:p.id})}}handleLegendMouseMove(e){var t;const{enabled:i,item:{toggleSeriesVisible:s},listeners:n}=this;if(!i)return;const r=this.computeBBox(),{pageX:a,pageY:o,offsetX:l,offsetY:c}=e,h=this.group.visible&&r.containsPoint(l,c);if(!h){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.ctx.tooltipManager.removeTooltip(this.id);return}e.consume();const u=this.getDatumForPoint(l,c);if(!(h&&u!==void 0)){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}const p=u?this.ctx.chartService.series.find(g=>g.id===u?.id):void 0;u&&this.truncatedItems.has((t=u.itemId)!=null?t:u.id)?this.ctx.tooltipManager.updateTooltip(this.id,{pageX:a,pageY:o,offsetX:l,offsetY:c,event:e,showArrow:!1,addCustomClass:!1},bl({content:this.getItemLabel(u)})):this.ctx.tooltipManager.removeTooltip(this.id),(s||n.legendItemClick!=null||n.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),u?.enabled&&p?this.ctx.highlightManager.updateHighlight(this.id,{series:p,itemId:u?.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}positionLegend(e){const t=e.clone();if(!this.enabled||!this.data.length)return{shrinkRect:t};const[i,s]=this.calculateLegendDimensions(e);this.group.translationX=0,this.group.translationY=0,this.performLayout(i,s);const n=this.computePagedBBox(),r=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return e.height-n.height;case"right":default:return e.width-n.width}};if(this.visible){let a,o;switch(this.position){case"top":case"bottom":a=(e.width-n.width)/2,o=r(),t.shrink(n.height,this.position);break;case"left":case"right":default:a=r(),o=(e.height-n.height)/2,t.shrink(n.width,this.position)}this.group.translationX=Math.floor(-n.x+e.x+a),this.group.translationY=Math.floor(-n.y+e.y+o)}if(this.visible&&this.enabled&&this.data.length){const a=this.spacing;t.shrink(a,this.position);const o=n.clone();o.x+=this.group.translationX,o.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,o)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:t}}calculateLegendDimensions(e){const{width:t,height:i}=e,s=t/i,n=.5,r=.2,a=.25;let o,l;switch(this.position){case"top":case"bottom":const c=s<1?Math.min(n,r*(1/s)):r;o=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*c);break;case"left":case"right":default:const h=s>1?Math.min(n,a*s):a;o=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*h),l=this.maxHeight?Math.min(this.maxHeight,i):i}return[o,l]}},Ui.className="Legend",b([k(ct)],Ui.prototype,"_enabled",2),b([k(yh)],Ui.prototype,"position",2),b([k(K,{optional:!0})],Ui.prototype,"maxWidth",2),b([k(K,{optional:!0})],Ui.prototype,"maxHeight",2),b([k(ct,{optional:!0})],Ui.prototype,"reverseOrder",2),b([k(Jt(["horizontal","vertical"],"an orientation"),{optional:!0})],Ui.prototype,"orientation",2),b([k(ct,{optional:!0})],Ui.prototype,"preventHidingAll",2),b([k(K)],Ui.prototype,"spacing",2)}}),Yl,tI=L({"packages/ag-charts-community/src/chart/overlay/overlay.ts"(){"use strict";ht(),Yl=class{constructor(e,t){this.className=e,this.parentElement=t}show(e){var t,i;this.element||(this.element=this.createElement("div"),this.element.className=this.className);const{element:s}=this;if(s.style.position="absolute",s.style.left=`${e.x}px`,s.style.top=`${e.y}px`,s.style.width=`${e.width}px`,s.style.height=`${e.height}px`,this.renderer)s.innerHTML=this.renderer();else{const n=this.createElement("div");n.style.alignItems="center",n.style.boxSizing="border-box",n.style.display="flex",n.style.justifyContent="center",n.style.margin="8px",n.style.height="100%",n.style.font="12px Verdana, sans-serif",n.innerText=(t=this.text)!=null?t:"No data to display",s.replaceChildren(n)}(i=this.parentElement)==null||i.append(s)}hide(){var e;(e=this.element)==null||e.remove(),this.element=void 0}createElement(e,t){return this.parentElement.ownerDocument.createElement(e,t)}},b([k(us,{optional:!0})],Yl.prototype,"renderer",2),b([k($,{optional:!0})],Yl.prototype,"text",2)}}),ab,eI=L({"packages/ag-charts-community/src/chart/overlay/chartOverlays.ts"(){"use strict";tI(),ab=class{constructor(e){this.noData=new Yl("ag-chart-no-data-overlay",e),this.noVisibleSeries=new Yl("ag-chart-no-visible-series",e),this.noVisibleSeries.text="No visible series"}destroy(){this.noData.hide(),this.noVisibleSeries.hide()}}}});function Ei(e,t){if(ob(e)&&ob(t)){const i={};return Object.keys(e).forEach(s=>{s in t?i[s]=Ei(e[s],t[s]):i[s]=e[s]}),Object.keys(t).forEach(s=>{s in e||(i[s]=t[s])}),i}return Array.isArray(e)&&!Array.isArray(t)||sf(e)&&!sf(t)?e:t}function sf(e){return typeof e=="object"&&e!==null}function nf(e){return sf(e)&&!Array.isArray(e)}function ob(e){return nf(e)&&e.constructor===Object}function gi(...e){var t;const i={};for(const s of e){if(!s)continue;const n=ih(s)?Ga(s):Object.keys(s);for(const r of n)nf(i[r])&&nf(s[r])?i[r]=gi(i[r],s[r]):(t=i[r])!=null||(i[r]=s[r])}return i}function iI(e,t,i){if(i===void 0)return t;for(const s of e){const n=i[s];n!==void 0&&(t[s]=n)}return t}var vn=L({"packages/ag-charts-community/src/util/object.ts"(){"use strict";wr()}});function su(e,t=[0,0]){for(const i of e)typeof i=="number"&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function sI(e,t,i){return{id:t,scopes:[e.id],matchGroupIds:[i],type:"aggregate",aggregateFunction:n=>su(n)}}function lb(e,t,i){return{id:t,scopes:[e.id],type:"aggregate",matchGroupIds:i?[i]:void 0,aggregateFunction:s=>su(s),groupAggregateFunction:(s,n=[0,0])=>{var r,a;return n[0]+=(r=s?.[0])!=null?r:0,n[1]+=(a=s?.[1])!=null?a:0,n}}}function cb(e,t,i){return{id:t,scopes:[e.id],matchGroupIds:[i],type:"aggregate",aggregateFunction:n=>Gl(n)}}function nI(e,t){return{id:t,scopes:[e.id],type:"aggregate",aggregateFunction:()=>[0,1]}}function rf(e,t){return{id:t,scopes:[e.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(i,s=[0,0])=>{var n,r;return s[0]+=(n=i?.[0])!=null?n:0,s[1]+=(r=i?.[1])!=null?r:0,s}}}function rI(e,t,i){return{id:t,scopes:[e.id],matchGroupIds:[i],type:"aggregate",aggregateFunction:n=>su(n).map(r=>r/n.length)}}function hb(e,t,i){return{id:t,scopes:[e.id],matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:n=>su(n),groupAggregateFunction:(n,r=[0,0,-1])=>{var a,o;return r[0]+=(a=n?.[0])!=null?a:0,r[1]+=(o=n?.[1])!=null?o:0,r[2]++,r},finalFunction:(n=[0,0,0])=>{const r=n[0]+n[1];return r>=0?[0,r/n[2]]:[r/n[2],0]}}}function af(e,t,i,s){const n={id:t,scopes:[e.id],matchGroupIds:s?[s]:void 0,type:"aggregate",aggregateFunction:(r,a=[])=>{const o=a[1]-a[0];return i.aggregateFunction(r).map(l=>l/o)}};return i.groupAggregateFunction&&(n.groupAggregateFunction=i.groupAggregateFunction),n}function ub(e){return()=>{let t=0;return i=>typeof i!="number"||isNaN(i)?i:(t+=e?Math.max(0,i):i,t)}}function db(){return()=>{let e=0;return t=>{if(typeof t!="number"||isNaN(t))return t;const i=e;return e+=t,i}}}var of=L({"packages/ag-charts-community/src/chart/data/aggregateFunctions.ts"(){"use strict";K0()}});function nu(e,t){var i,s,n;const r=JSON.stringify(e,null,0);return uo.has(t)||uo.set(t,new Map),(i=uo.get(t))!=null&&i.has(r)||(s=uo.get(t))==null||s.set(r,t(e)),(n=uo.get(t))==null?void 0:n.get(r)}var uo,aI=L({"packages/ag-charts-community/src/util/memo.ts"(){"use strict";uo=new Map}});function oI({normaliseTo:e,mode:t}){const i=(s,n)=>{const r=s*e/n;return r>=0?Math.min(e,r):Math.max(-e,r)};return()=>()=>(s,n)=>{const r=[0,0];for(const o of n){const l=s[o],c=l<0?0:1;t==="sum"?r[c]+=l:c===0?r[c]=Math.min(r[c],l):r[c]=Math.max(r[c],l)}const a=Math.max(Math.abs(r[0]),r[1]);for(const o of n)s[o]=i(s[o],a)}}function ru(e,t,i,s="sum"){return{scopes:[e.id],type:"group-value-processor",matchGroupIds:t,adjust:nu({normaliseTo:i,mode:s},oI)}}function lI({normaliseTo:e,zeroDomain:t,rangeMin:i,rangeMax:s}){const n=e[1]-e[0],r=(a,o,l)=>{const c=e[0]+(a-o)/l*n;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(a,o)=>{let[l,c]=a.domain.values[o];i!=null&&(l=i),s!=null&&(c=s);const h=c-l;a.domain.values[o]=[e[0],e[1]];for(const u of a.data){let d=u.values;a.type==="ungrouped"&&(d=[d]);for(const p of d)p[o]=r(p[o],l,h)}}}function lf(e,t,i,s,n,r){return{scopes:[e.id],type:"property-value-processor",property:t,adjust:nu({normaliseTo:i,rangeMin:n,rangeMax:r,zeroDomain:s},lI)}}function Hl(e,t=[]){return{type:"processor",scopes:[e.id],property:"animationValidation",calculate(i){var s;const{keys:n,values:r}=i.defs,{input:a,data:o}=i;let l=!0,c=!0;const h=[];for(let d=0;d<r.length;d++)(s=r[d].scopes)!=null&&s.some(p=>p===e.id)&&t.some(p=>r[d].id===p)&&h.push([d,r[d]]);const u=(d,p,g)=>{var f;if(p.valueType==="category"){const y=i.domain[g][d];l&&(l=y.length===a.count);return}let m=(f=o[0])==null?void 0:f[g][d];for(let y=1;(l||c)&&y<o.length;y++){const v=o[y][g][d];c&&(c=m<=v),l&&(l=m!==v),m=v}};for(let d=0;(l||c)&&d<n.length;d++)u(d,n[d],"keys");for(let d=0;(l||c)&&d<h.length;d++){const[p,g]=h[d];u(p,g,"values")}return{uniqueKeys:l,orderedKeys:c}}}}function cI({mode:e,separateNegative:t}){return()=>()=>(i,s)=>{const n=[0,0];for(const r of s){const a=i[r],o=pl(a)&&t?0:1;typeof a!="number"||isNaN(a)||(e==="normal"&&(n[o]+=a),i[r]=n[o],e==="trailing"&&(n[o]+=a))}}}function hI({mode:e,sum:t}){return()=>{const i=[];let s=!0;return()=>(n,r)=>{let a=0;for(const o of r){const l=n[o],c=s&&t==="current"?0:i[o];i[o]=l;const h=t==="current"?l:c;if(typeof l!="number"||isNaN(l)){n[o]=a;continue}if(typeof c!="number"||isNaN(c)){n[o]=a;continue}e==="normal"&&(a+=h),n[o]=a,e==="trailing"&&(a+=h)}s=!1}}}function pb(e,t,i,s,n=!1){let r;if(i.startsWith("window")){const a=i.endsWith("-trailing")?"trailing":"normal";r=nu({mode:a,sum:s},hI)}else r=nu({mode:i,separateNegative:n},cI);return{scopes:[e.id],type:"group-value-processor",matchGroupIds:[t],adjust:r}}function po(e,t=!0){return{type:"processor",property:"diff",calculate:i=>{const s={changed:!1,moved:[],added:[],updated:[],removed:[],addedIndices:[],updatedIndices:[],removedIndices:[]},n=new Map,r=new Map,a=new Map,o=new Map,l=new Map,c=new Map,h=new Map;for(let u=0;u<Math.max(e.data.length,i.data.length);u++){const d=e.data[u],p=i.data[u],g=d?go(d.keys):"",f=p?go(p.keys):"";if(g===f){sl(d.values,p.values)||(a.set(f,p),c.set(f,u));continue}o.has(f)?((t||!sl(o.get(f).values,p.values))&&(a.set(f,p),c.set(f,u),n.set(f,p)),o.delete(f),h.delete(f)):p&&(r.set(f,p),l.set(f,u)),r.has(g)?((t||!sl(r.get(g).values,d.values))&&(a.set(g,d),c.set(g,u),n.set(g,d)),r.delete(g),l.delete(g)):d&&(a.delete(g),c.delete(g),o.set(g,d),h.set(g,u))}return s.added=Array.from(r.keys()),s.updated=Array.from(a.keys()),s.removed=Array.from(o.keys()),s.moved=Array.from(n.keys()),s.addedIndices=Array.from(l.values()),s.updatedIndices=Array.from(c.values()),s.removedIndices=Array.from(h.values()),s.changed=s.added.length>0||s.updated.length>0||s.removed.length>0,s}}}function go(e){return e.join("___")}var au,gb,cf,Zn=L({"packages/ag-charts-community/src/chart/data/processors.ts"(){"use strict";li(),aI(),Ee(),au={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,i)=>{const s=i.keys[0],n=Math.abs(s-e);return e=s,!isNaN(n)&&n>0&&n<t?n:t}}},gb={type:"processor",property:"aggValuesExtent",calculate:e=>{var t,i,s,n;const r=[...(i=(t=e.domain.aggValues)==null?void 0:t[0])!=null?i:[0,0]];for(const[a,o]of(n=(s=e.domain.aggValues)==null?void 0:s.slice(1))!=null?n:[])a<r[0]&&(r[0]=a),o>r[1]&&(r[1]=o);return r}},cf={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>{if(e!=null)return[...e].sort((t,i)=>{for(let s=0;s<t.length;s++){const n=t[s]-i[s];if(n!==0)return n}return 0})}}}});function hf(e){return Rl(e,!0)!=null}function fb(e){return Rl(e,!1)!=null}function fi(e,t,i,s={}){return R({scopes:[e.id],property:t,type:"key",valueType:i?"range":"category",validation:i?hf:fb},s)}function Ut(e,t,i,s={}){return R({scopes:[e.id],property:t,type:"value",valueType:i?"range":"category",validation:i?hf:fb},s)}function mb(e,t,i={}){const s=i,{min:n=-1/0,max:r=1/0}=s,a=ai(s,["min","max"]);return R({scopes:[e.id],type:"value",property:t,valueType:"range",validation:hf,processor:()=>o=>typeof o!="number"||isNaN(o)?o:Math.min(Math.max(o,n),r)},a)}function uI(e,t,i,s={}){return X(R({},Ut(e,t,i,s)),{processor:yb()})}function yb(){return()=>{let e=0;return t=>{const i=e;return e=t,i}}}function vb(e,t,i,s={}){const n=s,{onlyPositive:r}=n,a=ai(n,["onlyPositive"]);return X(R({},Ut(e,t,i,a)),{processor:ub(r)})}function dI(e,t,i,s={}){return X(R({},Ut(e,t,i,s)),{processor:db()})}function Qn(e,t,i,s,n="current",r){return[Ut(e,t,i,r),pb(e,r.groupId,s,n,r.separateNegative),...r.rangeId!=null?[cb(e,r.rangeId,r.groupId)]:[]]}var uf,jl,ta,Ii=L({"packages/ag-charts-community/src/chart/series/series.ts"(){"use strict";x0(),fe(),ds(),Os(),Jh(),vn(),H0(),hn(),gn(),te(),of(),Zn(),ys(),uf=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",e[e.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",e[e.NEAREST_NODE=3]="NEAREST_NODE",e))(uf||{}),jl=class{constructor(e,t,{datum:i},s){this.type=e,this.event=t,this.datum=i,this.seriesId=s.id}},ta=class extends zg{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeClickEvent=jl,this.internalId=Fs(this),this.rootGroup=new at({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new _g,this._declarationOrder=-1,this.seriesListeners=new Vl;const{moduleCtx:t,useLabelLayer:i=!1,pickModes:s=[1],directionKeys:n={},directionNames:r={},contentGroupVirtual:a=!0,canHaveAxes:o=!1}=e;this.ctx=t,this.directionKeys=n,this.directionNames=r,this.canHaveAxes=o,this.contentGroup=this.rootGroup.appendChild(new at({name:`${this.internalId}-content`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new at({name:`${this.internalId}-highlight`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new at({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new at({name:"highlightLabel",zIndex:10})),this.pickModes=s,this.labelGroup=this.rootGroup.appendChild(new at({name:`${this.internalId}-series-labels`,layer:i,zIndex:7})),this.annotationGroup=new at({name:`${this.id}-annotation`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var e,t;return(t=(e=this.properties)==null?void 0:e.id)!=null?t:this.internalId}get type(){var e;return(e=this.constructor.type)!=null?e:""}set data(e){this._data=e,this.onDataChange()}get data(){var e;return(e=this._data)!=null?e:this._chartData}set visible(e){this.properties.visible=e,this.visibleChanged()}get visible(){return this.properties.visible}onDataChange(){this.nodeDataRefresh=!0}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}hasData(){const{data:e}=this;return e&&(!Array.isArray(e)||e.length>0)}onSeriesGroupingChange(e,t){const{internalId:i,type:s,visible:n,rootGroup:r,highlightGroup:a,annotationGroup:o}=this;e&&this.ctx.seriesStateManager.deregisterSeries({id:i,type:s}),t&&this.ctx.seriesStateManager.registerSeries({id:i,type:s,visible:n,seriesGrouping:t}),this.rootGroup.parent!=null&&this.ctx.seriesLayerManager.changeGroup({internalId:i,type:s,rootGroup:r,highlightGroup:a,annotationGroup:o,getGroupZIndexSubOrder:l=>this.getGroupZIndexSubOrder(l),seriesGrouping:t,oldGrouping:e})}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e,t=0){let i=0;switch(e){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":t+=15e3;break;case"annotation":i+=15e3;break}return[()=>this._declarationOrder+i,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.ctx.seriesStateManager.deregisterSeries(this),this.ctx.seriesLayerManager.releaseGroup(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),s=t?.[i],n=[];if(!s)return n;const r=(...a)=>{for(const o of a)Array.isArray(o)?r(...o):typeof o=="object"?r(...Object.values(o)):n.push(o)};return r(...s.map(a=>this.properties[a])),n}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapValues(s=>s.getDomain(e));return t.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){var e,t;const{series:i}=(t=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight())!=null?t:{};return i==null?0:i!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapValues(t=>t.getTooltipParams()).reduce((t,i)=>R(R({},i),t),{})}pickNode(e,t){const{pickModes:i,visible:s,rootGroup:n}=this;if(!(!s||!n.visible))for(const r of i){if(t&&!t.includes(r))continue;let a;switch(r){case 0:a=this.pickNodeExactShape(e);break;case 1:case 2:a=this.pickNodeMainAxisFirst(e,r===2);break;case 3:a=this.pickNodeClosestDatum(e);break}if(a)return{pickMode:r,match:a.datum,distance:a.distance}}}pickNodeExactShape(e){const t=this.contentGroup.pickNode(e.x,e.y);return t&&{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeClickEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeClickEvent("nodeDoubleClick",e,t,this))}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return X(R({},this.ctx),{series:this})}getLabelText(e,t,i=String){var s;return e.formatter&&(s=this.ctx.callbackCache.call(e.formatter,R({seriesId:this.id},t)))!=null?s:i(t.value)}getMarkerStyle(e,t,i=e.getStyle()){var s,n;const r={size:(n=(s=t.datum.point)==null?void 0:s.size)!=null?n:0},a=gi(r,i);if(e.formatter){const o=this.ctx.callbackCache.call(e.formatter,X(R(R({seriesId:this.id},a),t),{datum:t.datum.datum}));return gi(o,a)}return a}updateMarkerStyle(e,t,i,s=t.getStyle(),{applyTranslation:n=!0}={}){const{point:r}=i.datum,a=this.getMarkerStyle(t,i,s),o=this.visible&&a.size>0&&r&&!isNaN(r.x)&&!isNaN(r.y);n?e.setProperties(X(R({visible:o},a),{translationX:r?.x,translationY:r?.y})):e.setProperties(R({visible:o},a)),typeof t.shape=="function"&&!e.dirtyPath&&(e.path.clear({trackChanges:!0}),e.updatePath(),e.checkPathDirty())}getMinRect(){}get nodeDataDependencies(){var e;return(e=this._nodeDataDependencies)!=null?e:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=e??{width:NaN,height:NaN},s=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,n=Cs(this.nodeDataDependencies,s)!=null;return n&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),n}},ta.highlightedZIndex=1e12,b([He({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],ta.prototype,"seriesGrouping",2)}}),df,xb,pI=L({"packages/ag-charts-community/src/chart/series/seriesLayerManager.ts"(){"use strict";fe(),ys(),df=30,xb=class{constructor(e){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=e}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,i,s,n;const{internalId:r,type:a,rootGroup:o,highlightGroup:l,annotationGroup:c,seriesGrouping:h}=e,{groupIndex:u=r}=h??{};if(this.series[r]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[r]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=df?"aggressive-grouping":"normal"),(i=(t=this.groups)[a])!=null||(t[a]={});const d=this.lookupIdx(u);let p=this.groups[a][d];return p||(p=(n=(s=this.groups[a])[d])!=null?n:s[d]={seriesIds:[],group:this.rootGroup.appendChild(new at({name:`${a}-content`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new at({name:`${a}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new at({name:`${a}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))}),this.series[r]={layerState:p,seriesConfig:e},p.seriesIds.push(r),p.group.appendChild(o),p.highlight.appendChild(l),p.annotation.appendChild(c),p.group}changeGroup(e){var t,i;const{internalId:s,seriesGrouping:n,type:r,rootGroup:a,highlightGroup:o,annotationGroup:l,oldGrouping:c}=e,{groupIndex:h=s}=n??{};(i=(t=this.groups[r])==null?void 0:t[h])!=null&&i.seriesIds.includes(s)||(this.series[s]!=null&&this.releaseGroup({internalId:s,seriesGrouping:c,type:r,rootGroup:a,highlightGroup:o,annotationGroup:l}),this.requestGroup(e))}releaseGroup(e){var t,i,s,n,r;const{internalId:a,seriesGrouping:o,rootGroup:l,highlightGroup:c,annotationGroup:h,type:u}=e,{groupIndex:d=a}=o??{};if(this.series[a]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${a}`);const p=this.lookupIdx(d),g=(s=(t=this.groups[u])==null?void 0:t[p])!=null?s:(i=this.series[a])==null?void 0:i.layerState;if(g&&(g.seriesIds=g.seriesIds.filter(f=>f!==a),g.group.removeChild(l),g.highlight.removeChild(c),g.annotation.removeChild(h)),g?.seriesIds.length===0)this.rootGroup.removeChild(g.group),this.rootGroup.removeChild(g.highlight),this.rootGroup.removeChild(g.annotation),delete this.groups[u][p],delete this.groups[u][a];else if(g?.seriesIds.length>0){const f=(r=this.series[(n=g?.seriesIds)==null?void 0:n[0]])==null?void 0:r.seriesConfig;g.group.zIndexSubOrder=f?.getGroupZIndexSubOrder("data"),g.highlight.zIndexSubOrder=f?.getGroupZIndexSubOrder("highlight"),g.annotation.zIndexSubOrder=f?.getGroupZIndexSubOrder("annotation")}delete this.series[a]}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").slice(-1)[0]),!e)?0:Math.floor(Math.max(Math.min(e/this.expectedSeriesCount,1),0)*df)}destroy(){for(const e of Object.values(this.groups))for(const t of Object.values(e))this.rootGroup.removeChild(t.group),this.rootGroup.removeChild(t.highlight),this.rootGroup.removeChild(t.annotation);this.groups={},this.series={}}}}}),bb,gI=L({"packages/ag-charts-community/src/chart/series/seriesStateManager.ts"(){"use strict";bb=class{constructor(){this.groups={}}registerSeries({id:e,seriesGrouping:t,visible:i,type:s}){var n,r;t&&((r=(n=this.groups)[s])!=null||(n[s]={}),this.groups[s][e]={grouping:t,visible:i})}deregisterSeries({id:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t}){var i;if(!t)return{visibleGroupCount:1,index:0};const s=[...Object.entries((i=this.groups[e])!=null?i:{}).filter(([n,r])=>r.visible).reduce((n,[r,a])=>(a.visible&&n.add(a.grouping.groupIndex),n),new Set).values()];return s.sort((n,r)=>n-r),{visibleGroupCount:s.length,index:s.indexOf(t.groupIndex)}}}}}),Sb,fI=L({"packages/ag-charts-community/src/chart/update/baseLayoutProcessor.ts"(){"use strict";hi(),ft(),Xa(),Sb=class{constructor(e,t){this.chartLike=e,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",i=>this.layoutComplete(i)),this.layoutService.addListener("start-layout",i=>this.positionPadding(i.shrinkRect)),this.layoutService.addListener("start-layout",i=>this.positionCaptions(i.shrinkRect)))}destroy(){this.destroyFns.forEach(e=>e())}layoutComplete({clipSeries:e,series:{paddedRect:t}}){const{seriesArea:i,seriesRoot:s}=this.chartLike;i.clip||e?s.setClipRectInGroupCoordinateSpace(t):s.setClipRectInGroupCoordinateSpace()}positionPadding(e){const{padding:t}=this.chartLike;return e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),{shrinkRect:e}}positionCaptions(e){var t,i,s,n;const{title:r,subtitle:a,footnote:o}=this.chartLike,l=e.clone(),c=p=>{var g;const f=e.height/10,m=(g=p.lineHeight)!=null?g:p.fontSize*Tt.defaultLineHeightRatio,y=e.width,v=Math.max(m,f);p.computeTextWrap(y,v)},h=p=>p==="left"?l.x:p==="right"?l.x+l.width:(p!=="center"&&q.error(`invalid textAlign value: ${p}`),l.x+l.width/2),u=(p,g)=>{const f=l.y;p.node.x=h(p.textAlign),p.node.y=f,p.node.textBaseline="top",c(p);const m=p.node.computeBBox(),y=Math.ceil(m.y-f+m.height+g);l.shrink(y,"top")},d=(p,g)=>{const f=l.y+l.height;p.node.x=h(p.textAlign),p.node.y=f,p.node.textBaseline="bottom",c(p);const m=p.node.computeBBox(),y=Math.ceil(f-m.y+g);l.shrink(y,"bottom")};if(a&&(a.node.visible=(t=a.enabled)!=null?t:!1),r&&(r.node.visible=r.enabled,r.node.visible)){const p=a?.node.visible?Vt.SMALL_PADDING:Vt.LARGE_PADDING,g=(i=r.spacing)!=null?i:p;u(r,g)}return a&&a.node.visible&&u(a,(s=a.spacing)!=null?s:0),o&&(o.node.visible=o.enabled,o.node.visible&&d(o,(n=o.spacing)!=null?n:0)),{shrinkRect:l}}}}}),pf,_b=L({"packages/ag-charts-community/src/chart/updateService.ts"(){"use strict";Jh(),lo(),pf=class extends Vl{constructor(e){super(),this.updateCallback=e}update(e=0,{forceNodeDataRefresh:t=!1,skipAnimations:i=!1}={}){this.updateCallback(e,{forceNodeDataRefresh:t,skipAnimations:i})}dispatchUpdateComplete(e){const t={type:"update-complete",minRect:e};this.dispatch("update-complete",t)}}}});function mI(e){let t;if(e.window!=null)t=e.window;else if(typeof window<"u")t=window;else if(typeof global<"u")t=global.window;else throw new Error("AG Charts - unable to resolve global window");let i;if(e.document!=null)i=e.document;else if(typeof document<"u")i=document;else if(typeof global<"u")i=global.document;else throw new Error("AG Charts - unable to resolve global document");return{document:i,window:t,overrideDevicePixelRatio:e.overrideDevicePixelRatio,sceneMode:e.sceneMode}}var ou,lu,mi,cu=L({"packages/ag-charts-community/src/chart/chart.ts"(){"use strict";Pt(),fe(),zx(),CE(),OE(),as(),ds(),Os(),L0(),ft(),RE(),H0(),Ng(),hn(),FE(),BE(),ht(),zE(),lo(),X0(),$0(),q0(),Z0(),Q0(),tb(),eb(),sb(),ys(),nb(),rb(),eI(),Ii(),pI(),gI(),Sl(),fI(),_b(),ou=class{constructor(){this.clip=void 0,this.padding=new fn(0)}},b([k(ct,{optional:!0})],ou.prototype,"clip",2),lu=new WeakMap,mi=class extends zg{constructor(e,t){var i;super(),this.id=Fs(this),this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this.seriesRoot=new at({name:`${this.id}-Series-root`}),this.debug=Kt.create(),this.extraDebugStats={},this.container=void 0,this.data=[],this._firstAutoSize=!0,this.padding=new fn(20),this._seriesArea=new ou,this.title=void 0,this.subtitle=void 0,this.footnote=void 0,this.mode="standalone",this._destroyed=!1,this._destroyFns=[],this.modules=new Map,this.legends=new Map,this.processors=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateType=6,this._performUpdateSkipAnimations=!1,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Y0,this.updateRequestors={},this.performUpdateTrigger=PE(c=>B(this,[c],function*({count:h}){this._destroyed||this.updateMutex.acquire(()=>B(this,null,function*(){try{yield this.performUpdate(h)}catch(u){this._lastPerformUpdateError=u,q.error("update error",u)}}))})),this._axes=[],this._series=[],this.lastInteractionEvent=void 0,this.pointerScheduler=wE(()=>{this.lastInteractionEvent&&this.handlePointer(this.lastInteractionEvent),this.lastInteractionEvent=void 0}),this.onSeriesNodeClick=c=>{const h=X(R({},c),{type:"seriesNodeClick"});Object.defineProperty(h,"series",{enumerable:!1,get:()=>c.series}),this.fireEvent(h)},this.onSeriesNodeDoubleClick=c=>{const h=X(R({},c),{type:"seriesNodeDoubleClick"});this.fireEvent(h)},this.specialOverrides=mI(e);const{window:s,document:n}=this.specialOverrides,r=t?.scene,a=(i=t?.element)!=null?i:n.createElement("div"),o=t?.container,l=new at({name:"root"});l.visible=!1,l.append(this.seriesRoot),this.axisGridGroup=new at({name:"Axes-Grids",layer:!0,zIndex:1}),l.appendChild(this.axisGridGroup),this.axisGroup=new at({name:"Axes",layer:!0,zIndex:2}),l.appendChild(this.axisGroup),this.element=a,a.classList.add("ag-chart-wrapper"),a.style.position="relative",this.scene=r??new Nh(this.specialOverrides),this.scene.root=l,this.scene.container=a,this.autoSize=!0,this.chartEventManager=new jg,this.cursorManager=new Kg(a),this.highlightManager=new Xg,this.interactionManager=new Zg(a,n,s),this.zoomManager=new Qg,this.layoutService=new Jg,this.updateService=new pf((c=0,{forceNodeDataRefresh:h,skipAnimations:u})=>this.update(c,{forceNodeDataRefresh:h,skipAnimations:u})),this.seriesStateManager=new bb,this.seriesLayerManager=new xb(this.seriesRoot),this.callbackCache=new U0,this.animationManager=new Yg(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.processors=[new Sb(this,this.layoutService)],this.tooltip=new Fp(this.scene.canvas.element,n,s,n.body),this.tooltipManager=new eu(this.tooltip,this.interactionManager),this.overlays=new ab(this.element),this.highlight=new Gg,this.container=o,Zr.observe(this.element,c=>this.rawResize(c)),this._destroyFns.push(this.interactionManager.addListener("click",c=>this.onClick(c)),this.interactionManager.addListener("dblclick",c=>this.onDoubleClick(c)),this.interactionManager.addListener("hover",c=>this.onMouseMove(c)),this.interactionManager.addListener("leave",c=>this.onLeave(c)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("wheel",()=>this.disablePointer()),this.interactionManager.addListener("drag-start",()=>this.disablePointer()),this.animationManager.addListener("animation-frame",c=>{this.update(5)}),this.highlightManager.addListener("highlight-change",c=>this.changeHighlightDatum(c)),this.zoomManager.addListener("zoom-change",c=>this.update(1,{forceNodeDataRefresh:!0,skipAnimations:!0}))),this.attachLegend("category",Ui),this.legend=this.legends.get("category")}static getInstance(e){return lu.get(e)}getOptions(){var e;const{queuedUserOptions:t}=this,i=(e=t[t.length-1])!=null?e:this.userOptions;return cl(i)}autoSizeChanged(e){const{style:t}=this.element;if(e){if(t.display="block",t.width="100%",t.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else t.display="inline-block",t.width="auto",t.height="auto"}download(e,t){this.scene.download(e,t)}get seriesArea(){return this._seriesArea}set seriesArea(e){e?this._seriesArea=e:this._seriesArea=new ou}get destroyed(){return this._destroyed}addModule(e){if(this.modules.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);const t=new e.instanceConstructor(this.getModuleContext());if(e.type==="legend"){const i=t;this.legends.set(e.identifier,i),i.attachLegend(this.scene.root)}this.modules.set(e.optionsKey,t)}removeModule(e){var t;e.type==="legend"&&this.legends.delete(e.identifier),(t=this.modules.get(e.optionsKey))==null||t.destroy(),this.modules.delete(e.optionsKey)}attachLegend(e,t){const i=new t(this.getModuleContext());this.legends.set(e,i),i.attachLegend(this.scene.root)}isModuleEnabled(e){return this.modules.has(e.optionsKey)}getModuleContext(){const{scene:e,animationManager:t,chartEventManager:i,cursorManager:s,highlightManager:n,interactionManager:r,tooltipManager:a,zoomManager:o,layoutService:l,updateService:c,seriesStateManager:h,seriesLayerManager:u,callbackCache:d,specialOverrides:{window:p,document:g}}=this;return{window:p,document:g,scene:e,animationManager:t,chartEventManager:i,cursorManager:s,highlightManager:n,interactionManager:r,tooltipManager:a,zoomManager:o,chartService:this,layoutService:l,updateService:c,seriesStateManager:h,seriesLayerManager:u,callbackCache:d}}destroy(e){if(this._destroyed)return;const t=e?.keepTransferableResources;let i;this._performUpdateType=6,this._destroyFns.forEach(s=>s()),this.processors.forEach(s=>s.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legends.forEach(s=>s.destroy()),this.legends.clear(),this.overlays.destroy(),Zr.unobserve(this.element);for(const{instance:s}of Object.values(this.modules))this.removeModule(s);return this.interactionManager.destroy(),this.animationManager.stop(),t?(this.scene.strip(),i={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.removeAllSeries(),this.seriesLayerManager.destroy(),this.axes.forEach(s=>s.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this._destroyed=!0,i}disablePointer(e=!1){e||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)}requestFactoryUpdate(e){this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>B(this,null,function*(){yield e(),this._pendingFactoryUpdatesCount--}))}get performUpdateType(){return this._performUpdateType}get lastPerformUpdateError(){return this._lastPerformUpdateError}update(e=0,t){var i,s;const{forceNodeDataRefresh:n=!1,skipAnimations:r,seriesToUpdate:a=this.series,newAnimationBatch:o}=t??{};n&&this.series.forEach(l=>l.markNodeDataDirty());for(const l of a)this.seriesToUpdate.add(l);if(r&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&(this.animationManager.isActive()?this._performUpdateSkipAnimations=!0:(i=this._performUpdateSkipAnimations)!=null||(this._performUpdateSkipAnimations=!1)),Kt.check(!0)){let l=(s=new Error().stack)!=null?s:"<unknown>";l=l.replace(/\([^)]*/g,""),this.updateRequestors[l]=e}e<this._performUpdateType&&(this._performUpdateType=e,this.performUpdateTrigger.schedule(t?.backOffMs))}performUpdate(e){return B(this,null,function*(){var t;const{_performUpdateType:i,extraDebugStats:s}=this,n=[...this.seriesToUpdate];this._performUpdateType=6,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&i<5&&this.animationManager.startBatch(this._performUpdateSkipAnimations),this.debug("Chart.performUpdate() - start",oo[i]);const r={start:performance.now()};switch(i){case 0:case 1:yield this.processData(),this.disablePointer(!0),r["\u{1F3ED}"]=performance.now();case 2:if(this.checkUpdateShortcut(2)||!this.checkFirstAutoSize(n))break;yield this.processLayout(),r["\u2316"]=performance.now();case 3:if(this.checkUpdateShortcut(3))break;const{seriesRect:o}=this,l=[...n].map(u=>u.update({seriesRect:o}));yield Promise.all(l),r["\u{1F914}"]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;const c=this.tooltipManager.getTooltipMeta(this.id),h=((t=c?.event)==null?void 0:t.type)==="hover";i<=3&&h&&this.handlePointer(c.event),r["\u2196"]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;s.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:r,extraDebugStats:s}),this.extraDebugStats={};case 6:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=void 0,this.animationManager.endBatch()}this.updateService.dispatchUpdateComplete(this.getMinRect());const a=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((a-r.start)*100)/100,count:e,performUpdateType:oo[i]})})}checkUpdateShortcut(e){return this.updateShortcutCount>3?(q.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(e){if(this.autoSize&&!this._lastAutoSize){const t=this._performUpdateNoRenderCount++,i=(t^2)*10;if(t<8)return this.update(2,{seriesToUpdate:e,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}set axes(e){const t=new Set;this._axes.forEach(i=>{i.detachAxis(this.axisGroup,this.axisGridGroup),t.add(i)}),this._axes=e.filter(i=>!i.linkedTo).concat(e.filter(i=>i.linkedTo)),this._axes.forEach(i=>{i.attachAxis(this.axisGroup,this.axisGridGroup),t.delete(i)}),this.zoomManager.updateAxes(this._axes),t.forEach(i=>i.destroy())}get axes(){return this._axes}set series(e){this.removeAllSeries(),this.seriesLayerManager.setSeriesCount(e.length),e.forEach(t=>this.addSeries(t))}get series(){return this._series}addSeries(e){const{series:t}=this;return t.indexOf(e)<0?(t.push(e),e.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(e),this.initSeries(e),!0):!1}initSeries(e){const t=this;e.chart={get mode(){return t.mode},get seriesRect(){return t.seriesRect},placeLabels(){return t.placeLabels()}},e.setChartData(this.data),this.addSeriesListeners(e),e.addChartEventListeners()}removeAllSeries(){this.series.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.destroy(),e.chart=void 0}),this._series=[]}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)}updateAllSeriesListeners(){this.series.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(e)})}assignSeriesToAxes(){this.axes.forEach(e=>{e.boundSeries=this.series.filter(t=>t.axes[e.direction]===e)})}assignAxesToSeries(){const e={};this.axes.forEach(t=>{var i;const s=t.direction;((i=e[s])!=null?i:e[s]=[]).push(t)}),this.series.forEach(t=>{t.directions.forEach(i=>{const s=e[i];if(!s){q.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const n=t.getKeys(i),r=this.findMatchingAxis(s,n);if(!r){q.warnOnce(`no matching axis for direction [${i}] and keys [${n}]; check series and axes configuration.`);return}t.axes[i]=r})})}findMatchingAxis(e,t){for(const i of e){const s=i.keys;if(!s.length)return i;if(t){for(const n of t)if(s.indexOf(n)>=0)return i}}}rawResize(e){var t;let{width:i,height:s}=e;if(i=Math.floor(i),s=Math.floor(s),!this.autoSize||i===0&&s===0)return;const[n=0,r=0]=(t=this._lastAutoSize)!=null?t:[];n===i&&r===s||(this._lastAutoSize=[i,s],this.resize(void 0,void 0,"SizeMonitor"))}resize(e,t,i){var s,n,r,a;if(e??(e=(n=this.width)!=null?n:this.autoSize?(s=this._lastAutoSize)==null?void 0:s[0]:this.scene.canvas.width),t??(t=(a=this.height)!=null?a:this.autoSize?(r=this._lastAutoSize)==null?void 0:r[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${i}`,{width:e,height:t,stack:new Error().stack}),!(!e||!t||!Number.isFinite(e)||!Number.isFinite(t))&&this.scene.resize(e,t)){this.disablePointer(),this.animationManager.reset();let o=!0;this.autoSize&&this._firstAutoSize&&(o=!1,this._firstAutoSize=!1),this.update(2,{forceNodeDataRefresh:!0,skipAnimations:o})}}processData(){return B(this,null,function*(){this.series.some(i=>i.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const e=new Wg(this.mode),t=this.series.map(i=>i.processData(e));yield e.execute(),yield Promise.all(t),yield this.updateLegend()})}placeLabels(){const e=[],t=[];for(const l of this.series){if(!l.visible)continue;const c=l.getLabelData();c&&yE(c[0])&&(t.push(c),e.push(l))}const{seriesRect:i}=this,{top:s,right:n,bottom:r,left:a}=this.seriesArea.padding,o=i&&t.length>0?vE(t,{x:-a,y:-s,width:i.width+a+n,height:i.height+s+r}):[];return new Map(o.map((l,c)=>[e[c],l]))}updateLegend(){return B(this,null,function*(){this.legends.forEach((e,t)=>{const i=n=>n.every(r=>r.legendType==="category"),s=this.series.filter(n=>n.properties.showInLegend).flatMap(n=>n.getLegendData(t));i(s)&&this.validateCategoryLegendData(s),e.data=s})})}validateCategoryLegendData(e){const t={};e.forEach(i=>{var s,n,r,a,o;const l=(s=this.series.find(c=>c.id===i.seriesId))==null?void 0:s.type;l&&((n=t[l])!=null||(t[l]={}),(o=(r=t[l])[a=i.label.text])!=null||(r[a]=new Set),i.marker.fill!=null&&t[l][i.label.text].add(i.marker.fill))});for(const i of Object.values(t))for(const[s,n]of Object.entries(i))n.size>1&&q.warnOnce(`legend item '${s}' has multiple fill colors, this may cause unexpected behaviour.`)}processLayout(){return B(this,null,function*(){var e;const t=this.animationRect;yield this.performLayout(),t&&!((e=this.animationRect)!=null&&e.equals(t))&&this.animationManager.skipCurrentBatch(),this.handleOverlays(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return B(this,null,function*(){this.scene.root&&(this.scene.root.visible=!0);const{width:e,height:t}=this.scene;let i={shrinkRect:new ut(0,0,e,t)};return i=this.layoutService.dispatchPerformLayout("start-layout",i),i=this.layoutService.dispatchPerformLayout("before-series",i),i.shrinkRect})}pickSeriesNode(e,t,i){var s,n;const r=performance.now(),a=t?[0]:void 0,o=[...this.series].reverse();let l;for(const c of o){if(!c.visible||!c.rootGroup.visible)continue;const{match:h,distance:u}=(s=c.pickNode(e,a))!=null?s:{};if(!(!h||u==null)&&((!l||l.distance>u)&&u<=(i??1/0)&&(l={series:c,distance:u,datum:h}),u===0))break}return this.extraDebugStats.pickSeriesNode=Math.round(((n=this.extraDebugStats.pickSeriesNode)!=null?n:0)+(performance.now()-r)),l}onMouseMove(e){this.lastInteractionEvent=e,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=e.offsetX,this.extraDebugStats.mouseY=e.offsetY,this.update(5)}onLeave(e){this.tooltip.pointerLeftOntoTooltip(e)||(this.disablePointer(),this.update(5))}handlePointer(e){const{lastPick:t,hoverRect:i}=this,{offsetX:s,offsetY:n}=e,r=(a=!1)=>{t&&this.disablePointer(a)};if(!i?.containsPoint(s,n)){r();return}this.handlePointerTooltip(e,r),this.handlePointerNode(e)}handlePointerTooltip(e,t){const{lastPick:i,tooltip:s}=this,{range:n}=s,{offsetX:r,offsetY:a}=e;let o;typeof n=="number"&&Number.isFinite(n)&&(o=n);const l=this.pickSeriesNode({x:r,y:a},n==="exact",o);if(!l){this.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&t(!0);return}const c=this.highlight.range==="node"||!i||i.datum!==l.datum;let h;c?(h=l.series.getTooltipHtml(l.datum),this.highlight.range==="tooltip"&&this.highlightManager.updateHighlight(this.id,l.datum)):i&&(i.event=e.sourceEvent);const u=o!=null,d=this.tooltip.enabled&&l.series.properties.tooltip.enabled,p=n==="exact"&&l.distance===0,f=d&&(n==="nearest"||u||p)&&(!c||h!==void 0),m=eu.makeTooltipMeta(e,this.scene.canvas,l.datum,this.specialOverrides.window);f&&this.tooltipManager.updateTooltip(this.id,m,h)}handlePointerNode(e){this.checkSeriesNodeRange(e,(i,s)=>{(i.hasEventListener("nodeClick")||i.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id,s)})||(this.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id))}onClick(e){if(this.checkSeriesNodeClick(e)){this.update(3);return}this.fireEvent({type:"click",event:e.sourceEvent})}onDoubleClick(e){if(this.checkSeriesNodeDoubleClick(e)){this.update(3);return}this.fireEvent({type:"doubleClick",event:e.sourceEvent})}checkSeriesNodeClick(e){return this.checkSeriesNodeRange(e,(t,i)=>t.fireNodeClickEvent(e.sourceEvent,i))}checkSeriesNodeDoubleClick(e){return this.checkSeriesNodeRange(e,(t,i)=>t.fireNodeDoubleClickEvent(e.sourceEvent,i))}checkSeriesNodeRange(e,t){const i=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1),s=i?.datum,n=s?.series.properties.nodeClickRange;let r;typeof n=="number"&&Number.isFinite(n)&&(r=n);let a=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!0);if(a?this.highlightManager.updatePicked(this.id,a.datum):this.highlightManager.updatePicked(this.id),s&&n==="nearest")return t(s.series,s),!0;if(n!=="exact"&&(a=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1,r)),!a)return!1;const o=r!=null,l=n==="exact"&&a.distance===0;return o||l?(t(a.series,a.datum),!0):!1}changeHighlightDatum(e){var t,i;const s=new Set,{series:n=void 0,datum:r}=(t=e.currentHighlight)!=null?t:{},{series:a=void 0,datum:o}=(i=e.previousHighlight)!=null?i:{};a&&s.add(a),n&&s.add(n),a?.properties.cursor&&o&&this.cursorManager.updateCursor(a.id),n?.properties.cursor&&r&&this.cursorManager.updateCursor(n.id,n.properties.cursor),this.lastPick=e.currentHighlight?{datum:e.currentHighlight}:void 0,n==null||a==null?this.update(3):this.update(3,{seriesToUpdate:s})}waitForUpdate(e=5e3){return B(this,null,function*(){const t=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this._performUpdateType!==6;){if(performance.now()-t>e)throw new Error("waitForUpdate() timeout reached.");yield NE(5)}yield this.updateMutex.waitForClearAcquireQueue()})}handleOverlays(){const e=!this.series.some(t=>t.hasData());if(this.toggleOverlay(this.overlays.noData,e),!e){const t=!this.series.some(i=>i.visible);this.toggleOverlay(this.overlays.noVisibleSeries,t)}}toggleOverlay(e,t){t&&this.seriesRect?e.show(this.seriesRect):e.hide()}getMinRect(){const e=this.series.map(t=>t.getMinRect()).filter(t=>t!==void 0);if(e.length)return new ut(0,0,e.reduce((t,i)=>Math.max(t,i.width),0),e.reduce((t,i)=>Math.max(t,i.height),0))}},b([He({newValue(e){this.destroyed||(e.setAttribute("data-ag-charts",""),e.appendChild(this.element),lu.set(e,this))},oldValue(e){e.removeAttribute("data-ag-charts"),e.removeChild(this.element),lu.delete(e)}})],mi.prototype,"container",2),b([He({newValue(e){var t;(t=this.series)==null||t.forEach(i=>{i.setChartData(e)})}})],mi.prototype,"data",2),b([He({newValue(e){this.resize(e,void 0,"width option")}})],mi.prototype,"width",2),b([He({newValue(e){this.resize(void 0,e,"height option")}})],mi.prototype,"height",2),b([He({changeValue(e){this.autoSizeChanged(e)}}),k(ct)],mi.prototype,"autoSize",2),b([He({newValue(e){var t;(t=this.scene.root)==null||t.appendChild(e.node)},oldValue(e){var t;(t=this.scene.root)==null||t.removeChild(e.node)}})],mi.prototype,"title",2),b([He({newValue(e){var t;(t=this.scene.root)==null||t.appendChild(e.node)},oldValue(e){var t;(t=this.scene.root)==null||t.removeChild(e.node)}})],mi.prototype,"subtitle",2),b([He({newValue(e){var t;(t=this.scene.root)==null||t.appendChild(e.node)},oldValue(e){var t;(t=this.scene.root)==null||t.removeChild(e.node)}})],mi.prototype,"footnote",2),b([k(Jt(["standalone","integrated"],"a chart mode"))],mi.prototype,"mode",2)}}),gf,Mb=L({"packages/ag-charts-community/src/chart/series/dataModelSeries.ts"(){"use strict";gs(),te(),Ii(),gf=class extends ta{isContinuous(){var e,t;const i=Dt.is((e=this.axes.x)==null?void 0:e.scale),s=Dt.is((t=this.axes.y)==null?void 0:t.scale);return{isContinuousX:i,isContinuousY:s}}getModulePropertyDefinitions(){return this.moduleMap.mapValues(e=>e.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(e,t,i){return B(this,null,function*(){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:s,processedData:n}=yield e.request(this.id,t??[],i);return this.dataModel=s,this.processedData=n,this.dispatch("data-processed",{dataModel:s,processedData:n}),{dataModel:s,processedData:n}})}isProcessedDataAnimatable(){var e,t;const i=(t=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:t.animationValidation;if(!i)return!0;const{orderedKeys:s,uniqueKeys:n}=i;return s&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}}}}),Ws,Kl,ff,fo,bs,hu=L({"packages/ag-charts-community/src/chart/series/seriesProperties.ts"(){"use strict";os(),ht(),Ws=class extends Te{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}},b([k(bt,{optional:!0})],Ws.prototype,"fill",2),b([k(Ot,{optional:!0})],Ws.prototype,"fillOpacity",2),b([k(bt,{optional:!0})],Ws.prototype,"stroke",2),b([k(K,{optional:!0})],Ws.prototype,"strokeWidth",2),b([k(Ot,{optional:!0})],Ws.prototype,"strokeOpacity",2),b([k(an,{optional:!0})],Ws.prototype,"lineDash",2),b([k(K,{optional:!0})],Ws.prototype,"lineDashOffset",2),Kl=class extends Te{},b([k(K,{optional:!0})],Kl.prototype,"strokeWidth",2),b([k(Ot,{optional:!0})],Kl.prototype,"dimOpacity",2),b([k(ct,{optional:!0})],Kl.prototype,"enabled",2),ff=class extends Te{constructor(){super(...arguments),this.color="black"}},b([k(bt,{optional:!0})],ff.prototype,"color",2),fo=class extends Te{constructor(){super(...arguments),this.item=new Ws,this.series=new Kl,this.text=new ff}},b([k(xt)],fo.prototype,"item",2),b([k(xt)],fo.prototype,"series",2),b([k(xt)],fo.prototype,"text",2),bs=class extends Te{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new fo}},b([k($,{optional:!0})],bs.prototype,"id",2),b([k(ct)],bs.prototype,"visible",2),b([k(ct)],bs.prototype,"showInLegend",2),b([k($)],bs.prototype,"cursor",2),b([k(vh)],bs.prototype,"nodeClickRange",2),b([k(xt)],bs.prototype,"highlightStyle",2)}}),kb,Db,uu,xn,bn,Ni=L({"packages/ag-charts-community/src/chart/series/cartesian/cartesianSeries.ts"(){"use strict";ug(),Gn(),wl(),Dg(),Pt(),fe(),Ur(),Vn(),hi(),as(),ht(),zl(),te(),ys(),pn(),Mb(),Ii(),hu(),kb={x:["xKey"],y:["yKey"]},Db={x:["xName"],y:["yName"]},uu=class extends jl{constructor(e,t,i,s){super(e,t,i,s),this.xKey=s.properties.xKey,this.yKey=s.properties.yKey}},xn=class extends bs{},b([k($,{optional:!0})],xn.prototype,"legendItemName",2),bn=class extends gf{constructor(e){var t=e,{pathsPerSeries:i=1,hasMarkers:s=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:r=[],directionKeys:a=kb,directionNames:o=Db,datumSelectionGarbageCollection:l=!0,markerSelectionGarbageCollection:c=!0,animationResetFns:h}=t,u=ai(t,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","directionKeys","directionNames","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationResetFns"]);super(R({directionKeys:a,directionNames:o,useSeriesGroupLayer:!0,canHaveAxes:!0},u)),this._contextNodeData=[],this.NodeClickEvent=uu,this.highlightSelection=Xt.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=Xt.select(this.highlightLabel,Tt),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.debug=Kt.create(),this.opts={pathsPerSeries:i,hasMarkers:s,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:r,directionKeys:a,directionNames:o,animationResetFns:h,datumSelectionGarbageCollection:l,markerSelectionGarbageCollection:c},this.animationState=new so("empty",{empty:{update:{target:"ready",action:d=>this.animateEmptyUpdateReady(d)}},ready:{updateData:"waiting",clear:"clearing",highlight:d=>this.animateReadyHighlight(d),highlightMarkers:d=>this.animateReadyHighlightMarkers(d),resize:d=>this.animateReadyResize(d)},waiting:{update:{target:"ready",action:d=>this.animateWaitingUpdateReady(d)}},clearing:{update:{target:"empty",action:d=>this.animateClearingUpdateEmpty(d)}}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(e){return B(this,arguments,function*({seriesRect:t}){var i,s;const{visible:n,_contextNodeData:r}=this,{series:a}=(s=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())!=null?s:{},o=a?a===this:void 0,l=this.checkResize(t),c=yield this.updateHighlightSelection(o);yield this.updateSelections(n),yield this.updateNodes(c,o,n);const h=this.getAnimationData(t,r);l&&this.animationState.transition("resize",h),this.animationState.transition("update",h)})}updateSelections(e){return B(this,null,function*(){if(!(!e&&this.ctx.animationManager.isSkipped())&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();const t=this.isProcessedDataAnimatable();this._contextNodeData.forEach(n=>{var r;(r=n.animationValid)!=null||(n.animationValid=t)}),yield this.updateSeriesGroups();const{dataModel:i,processedData:s}=this;i!==void 0&&s!==void 0&&this.dispatch("data-update",{dataModel:i,processedData:s})}yield Promise.all(this.subGroups.map((t,i)=>this.updateSeriesGroupSelections(t,i)))}})}updateSeriesGroupSelections(e,t,i){return B(this,null,function*(){const{datumSelection:s,labelSelection:n,markerSelection:r,paths:a}=e,o=this._contextNodeData[t],{nodeData:l,labelData:c,itemId:h}=o;yield this.updatePaths({seriesHighlighted:i,itemId:h,contextData:o,paths:a,seriesIdx:t}),e.datumSelection=yield this.updateDatumSelection({nodeData:l,datumSelection:s,seriesIdx:t}),e.labelSelection=yield this.updateLabelSelection({labelData:c,labelSelection:n,seriesIdx:t}),r&&(e.markerSelection=yield this.updateMarkerSelection({nodeData:l,markerSelection:r,seriesIdx:t}))})}markerFactory(){const e=Hn();return new e}updateSeriesGroups(){return B(this,null,function*(){const{_contextNodeData:e,contentGroup:t,subGroups:i,opts:{pathsPerSeries:s,hasMarkers:n,datumSelectionGarbageCollection:r,markerSelectionGarbageCollection:a}}=this;if(e.length===i.length)return;e.length<i.length&&i.splice(e.length).forEach(({dataNodeGroup:l,markerGroup:c,labelGroup:h,paths:u})=>{t.removeChild(l),c&&t.removeChild(c),h&&t.removeChild(h);for(const d of u)t.removeChild(d)});const o=e.length;for(;o>i.length;){const c=this.subGroupId++,h=new at({name:`${this.id}-series-sub${c}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",c)}),u=n?new at({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",c)}):void 0,d=new at({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",c)});t.appendChild(h),t.appendChild(d),u&&t.appendChild(u);const p=[];for(let g=0;g<s;g++)p[g]=new ui,p[g].zIndex=4,p[g].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",g),t.appendChild(p[g]);i.push({paths:p,dataNodeGroup:h,markerGroup:u,labelGroup:d,labelSelection:Xt.select(d,Tt),datumSelection:Xt.select(h,()=>this.nodeFactory(),r),markerSelection:u?Xt.select(u,()=>this.markerFactory(),a):void 0})}})}getGroupZIndexSubOrder(e,t=0){var i;const s=super.getGroupZIndexSubOrder(e,t);if(e==="paths"){const n=(i=this.opts.pathsZIndexSubOrderOffset[t])!=null?i:0,r=s[0];typeof r=="function"?s[0]=()=>+r()+n:s[0]=+r+n}return s}updateNodes(e,t,i){return B(this,null,function*(){var s;const{highlightSelection:n,highlightLabelSelection:r,opts:{hasMarkers:a,hasHighlightedLabels:o}}=this,l=!this.ctx.animationManager.isSkipped(),c=this.visible&&((s=this._contextNodeData)==null?void 0:s.length)>0&&i;this.rootGroup.visible=l||c,this.contentGroup.visible=l||c,this.highlightGroup.visible=(l||c)&&!!t;const h=this.getOpacity();a?(yield this.updateMarkerNodes({markerSelection:n,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",n)):(yield this.updateDatumNodes({datumSelection:n,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",n)),o&&(yield this.updateLabelNodes({labelSelection:r,seriesIdx:-1})),yield Promise.all(this.subGroups.map((u,d)=>B(this,null,function*(){const{dataNodeGroup:p,markerGroup:g,datumSelection:f,labelSelection:m,markerSelection:y,paths:v,labelGroup:x}=u,{itemId:S}=this.contextNodeData[d],_=c;p.opacity=h,p.visible=l||_,x.visible=_,g&&(g.opacity=h,g.zIndex=p.zIndex>=4?p.zIndex:p.zIndex+1,g.visible=_),x&&(x.opacity=h),yield this.updatePathNodes({seriesHighlighted:t,itemId:S,paths:v,seriesIdx:d,opacity:h,visible:_,animationEnabled:l}),p.visible&&(yield this.updateDatumNodes({datumSelection:f,highlightedItems:e,isHighlight:!1,seriesIdx:d}),yield this.updateLabelNodes({labelSelection:m,seriesIdx:d}),a&&y&&(yield this.updateMarkerNodes({markerSelection:y,isHighlight:!1,seriesIdx:d})))})))})}getHighlightLabelData(e,t){const i=e.filter(s=>s.datum===t.datum&&s.itemId===t.itemId);return i.length!==0?i:void 0}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){return B(this,null,function*(){var t;const{highlightSelection:i,highlightLabelSelection:s,_contextNodeData:n}=this,r=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight(),a=e&&r?.datum?r:void 0;let o,l;if(a!=null){const c=this.isLabelEnabled();for(const{labelData:h,nodeData:u}of n)if(l=this.getHighlightData(u,a),o=c?this.getHighlightLabelData(h,a):void 0,(!c||o!=null)&&l!=null)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:l,highlightSelection:i}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:s}),l})}pickNodeExactShape(e){var t;const i=super.pickNodeExactShape(e);if(i)return i;const{x:s,y:n}=e,{opts:{hasMarkers:r}}=this;let a;for(const{dataNodeGroup:o,markerGroup:l}of this.subGroups){let c=o.pickNode(s,n);if(!c&&r&&(c=l?.pickNode(s,n)),c)break}if(a)return{datum:a.datum,distance:0};for(const o of this.moduleMap.modules){const{datum:l}=(t=o.pickNodeExact(e))!=null?t:{};if(l!==void 0)return{datum:l,distance:0}}}pickNodeClosestDatum(e){var t,i;const{x:s,y:n}=e,{axes:r,rootGroup:a,_contextNodeData:o}=this,l=r.x,c=r.y,h=a.transformPoint(s,n);let u=1/0,d;for(const p of o)for(const g of p.nodeData){const{point:{x:f=NaN,y:m=NaN}={}}=g;if(isNaN(f)||isNaN(m)||!(l?.inRange(f)&&c?.inRange(m)))continue;const v=Math.max(zt(h.x-f,2)+zt(h.y-m,2),0);v<u&&(u=v,d=g)}for(const p of this.moduleMap.modules){const g=p.pickNodeNearest(e);if(g!==void 0&&g.distanceSquared<u){u=g.distanceSquared,d=g.datum;break}}if(d){const p=Math.max(Math.sqrt(u)-((i=(t=d.point)==null?void 0:t.size)!=null?i:0),0);return{datum:d,distance:p}}}pickNodeMainAxisFirst(e,t){var i,s;const{x:n,y:r}=e,{axes:a,rootGroup:o,_contextNodeData:l}=this,c=a.x,h=a.y,u=[c,h].filter(y=>y instanceof Gs).map(y=>y.direction);if(t&&u.length===0)return;const[d="x"]=u,p=o.transformPoint(n,r),g=d==="x"?[p.x,p.y]:[p.y,p.x],f=[1/0,1/0];let m;for(const y of l)for(const v of y.nodeData){const{point:{x=NaN,y:S=NaN}={}}=v;if(isNaN(x)||isNaN(S)||!(c?.inRange(x)&&h?.inRange(S)))continue;const D=d==="x"?[x,S]:[S,x];let A=!0;for(let T=0;T<D.length;T++){const I=Math.abs(D[T]-g[T]);if(I>f[T]){A=!1;break}I<f[T]&&(f[T]=I,f.fill(1/0,T+1,f.length))}A&&(m=v)}if(m){let y=Math.max(zt(f[0],2)+zt(f[1],2)-((s=(i=m.point)==null?void 0:i.size)!=null?s:0),0);for(const v of this.moduleMap.modules){const x=v.pickNodeMainAxisFirst(e);if(x!==void 0&&x.distanceSquared<y){m=x.datum,y=x.distanceSquared;break}}return{datum:m,distance:Math.sqrt(y)}}}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:s,series:n}=e,r=t!=null&&t===e.legendItemName;(n.id===this.id||r)&&this.toggleSeriesItem(s,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:s,numVisibleItems:n}=e,{legendItemName:r}=this.properties,a=r!=null&&r===e.legendItemName;s.id===this.id||a?this.toggleSeriesItem(i,!0):t&&n===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRect(){const[e]=this._contextNodeData;if(!e?.nodeData.length)return;const t=e.nodeData.map(({midPoint:s})=>{var n;return(n=s?.x)!=null?n:0}).sort((s,n)=>s-n).reduce((s,n,r,a)=>r>0?Math.max(s,n-a[r-1]):s,0),i=e.nodeData.map(({midPoint:s})=>{var n;return(n=s?.y)!=null?n:0}).sort((s,n)=>s-n).reduce((s,n,r,a)=>r>0?Math.max(s,n-a[r-1]):s,0);return new ut(0,0,t,i)}updateHighlightSelectionItem(e){return B(this,null,function*(){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:s}=e,n=i??[];if(t){const r=s;return this.updateMarkerSelection({nodeData:n,markerSelection:r,seriesIdx:-1})}else return this.updateDatumSelection({nodeData:n,datumSelection:s,seriesIdx:-1})})}updateHighlightSelectionLabel(e){return B(this,null,function*(){var t;return this.updateLabelSelection({labelData:(t=e.items)!=null?t:[],labelSelection:e.highlightLabelSelection,seriesIdx:-1})})}updateDatumSelection(e){return B(this,null,function*(){return e.datumSelection})}updateDatumNodes(e){return B(this,null,function*(){})}updateMarkerSelection(e){return B(this,null,function*(){return e.markerSelection})}updateMarkerNodes(e){return B(this,null,function*(){})}updatePaths(e){return B(this,null,function*(){e.paths.forEach(t=>t.visible=!1)})}updatePathNodes(e){return B(this,null,function*(){const{paths:t,opacity:i,visible:s}=e;for(const n of t)n.opacity=i,n.visible=s})}resetAllAnimation(e){var t,i;const{path:s,datum:n,label:r,marker:a}=(i=(t=this.opts)==null?void 0:t.animationResetFns)!=null?i:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),s&&e.paths.forEach(o=>{me(o,s)}),n&&me(e.datumSelections,n),r&&me(e.labelSelections,r),a&&me(e.markerSelections,a),e.contextData.some(o=>o.animationValid===!1)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var t,i;const{datum:s}=(i=(t=this.opts)==null?void 0:t.animationResetFns)!=null?i:{};s&&me([e],s)}animateReadyHighlightMarkers(e){var t,i;const{marker:s}=(i=(t=this.opts)==null?void 0:t.animationResetFns)!=null?i:{};s&&me([e],s)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e,t){return{datumSelections:this.subGroups.map(({datumSelection:s})=>s),markerSelections:this.subGroups.filter(({markerSelection:s})=>s!==void 0).map(({markerSelection:s})=>s),labelSelections:this.subGroups.map(({labelSelection:s})=>s),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:t,paths:this.subGroups.map(({paths:s})=>s),seriesRect:e}}calculateScaling(){const e={},t=i=>{const s=this.axes[i];if(s){if(s.scale instanceof Yh){const{range:n,domain:r}=s.scale;e[i]={type:"log",convert:a=>s.scale.convert(a),domain:[r[0],r[1]],range:[n[0],n[1]]}}else if(s.scale instanceof Dt){const{range:n}=s.scale,r=s.scale.getDomain();e[i]={type:"continuous",domain:[r[0],r[1]],range:[n[0],n[1]]}}else if(s.scale){const{domain:n}=s.scale;e[i]={type:"category",domain:n,range:n.map(r=>s.scale.convert(r))}}}};return t("x"),t("y"),e}}}}),Ab,du,mf,yI=L({"packages/ag-charts-community/src/chart/cartesianChart.ts"(){"use strict";Bi(),ft(),zl(),Bg(),cu(),te(),Ni(),Ab=["top","right","bottom","left"],du=class mA extends mi{constructor(t,i){super(t,i),this.paired=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastVisibility={crossLines:!0,series:!0}}performLayout(){return B(this,null,function*(){const t=yield tn(mA.prototype,this,"performLayout").call(this),{animationRect:i,seriesRect:s,visibility:n,clipSeries:r}=this.updateAxes(t);this.seriesRoot.visible=n.series,this.seriesRect=s,this.animationRect=i,this.seriesRoot.translationX=Math.floor(s.x),this.seriesRoot.translationY=Math.floor(s.y);const{seriesArea:{padding:a}}=this,o=s.clone().grow({top:a.top,right:a.right,bottom:a.bottom,left:a.left});return this.hoverRect=o,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:r,series:{rect:s,paddedRect:o,visible:n.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(l=>R({id:l.id},l.getLayoutState()))}),t})}updateAxes(t){var i;const s=this.axes.flatMap(y=>{var v;return(v=y.crossLines)!=null?v:[]}).map(y=>y.id),n=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===s.length&&this._lastCrossLineIds.every((y,v)=>s[v]===y);let r,a;n?(r=R({},this._lastAxisWidths),a=R({},this._lastVisibility)):(r={top:0,bottom:0,left:0,right:0},a={crossLines:!0,series:!0},this._lastCrossLineIds=s);const o=new Set(this._axes.map(y=>y.position));for(const y of Object.keys(r))o.has(y)||delete r[y];const l=(y,v)=>Object.keys(y).some(x=>r[x]==null)?!1:a.crossLines===v.crossLines&&a.series===v.series&&Object.entries(r).every(([x,S])=>{const _=y[x];return S!=null||_!=null?S===_:!0}),c=y=>Object.entries(y).reduce((v,[x,S])=>(S&&Math.abs(S)===1/0&&(S=0),v[x]=S!=null?Math.ceil(S):S,v),{});let h={},u={},d=!1,p=(i=this.seriesRect)==null?void 0:i.clone(),g=0,f={};do{Object.assign(r,h),Object.assign(a,u);const y=this.updateAxesPass(r,t.clone(),p);if(h=c(y.axisWidths),u=y.visibility,d=y.clipSeries,p=y.seriesRect,f=y.primaryTickCounts,g++>10){q.warn("unable to find stable axis layout.");break}}while(!l(h,u));this.axes.forEach(y=>{const{direction:v}=y,x=f[v];y.update(x)});const m=5;return this.axes.forEach(y=>{if(y.setCrossLinesVisible(a.crossLines),!!p)switch(y.clipGrid(p.x,p.y,p.width+m,p.height+m),y.position){case"left":case"right":y.clipTickLines(t.x,p.y,t.width+m,p.height+m);break;case"top":case"bottom":y.clipTickLines(p.x,t.y,p.width+m,t.height+m);break}}),this._lastAxisWidths=r,this._lastVisibility=a,{seriesRect:p,animationRect:t,visibility:a,clipSeries:d}}updateAxesPass(t,i,s){const{axes:n}=this,r={},a={},o={series:!0,crossLines:!0};let l=!1;const c={},h=this.applySeriesPadding(i),u=s?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(h,t,u,o),p=this.buildSeriesRect(d,t);return n.forEach(g=>{var f,m;const{position:y="left"}=g,{clipSeries:v,axisThickness:x,axisOffset:S}=this.calculateAxisDimensions({axis:g,seriesRect:p,paddedBounds:h,axisWidths:t,newAxisWidths:a,primaryTickCounts:c,clipSeries:l,addInterAxisPadding:((f=r[y])!=null?f:0)>0});r[y]=((m=r[y])!=null?m:0)+1,l=l||v,this.positionAxis({axis:g,axisBound:d,axisOffset:S,axisThickness:x,axisWidths:t,primaryTickCounts:c,seriesRect:p})}),{clipSeries:l,seriesRect:p,axisWidths:a,visibility:o,primaryTickCounts:c}}buildCrossLinePadding(t){var i;const s={};this.axes.forEach(n=>{n.crossLines&&n.crossLines.forEach(r=>{r.calculatePadding(s)})});for(const[n,r=0]of Object.entries(s))s[n]=Math.max(r-((i=t[n])!=null?i:0),0);return s}applySeriesPadding(t){const i=t.clone(),s=this.axes.slice().reverse();return Ab.forEach(n=>{const r=this.seriesArea.padding[n],a=s.find(o=>o.position===n);a?a.seriesAreaPadding=r:i.shrink(r,n)}),i}buildAxisBound(t,i,s,n){var r,a,o,l;const c=t.clone(),{top:h=0,right:u=0,bottom:d=0,left:p=0}=s,g=p+u,f=h+d,m=((r=i.left)!=null?r:0)+((a=i.right)!=null?a:0)+g,y=((o=i.top)!=null?o:0)+((l=i.bottom)!=null?l:0)+f;return c.width<=m||c.height<=y?(n.crossLines=!1,n.series=!1,c):(c.x+=p,c.y+=h,c.width-=g,c.height-=f,c)}buildSeriesRect(t,i){const s=t.clone(),{top:n,bottom:r,left:a,right:o}=i;return s.x+=a??0,s.y+=n??0,s.width-=(a??0)+(o??0),s.height-=(n??0)+(r??0),s.width=Math.max(0,s.width),s.height=Math.max(0,s.height),s}clampToOutsideSeriesRect(t,i,s,n){const{x:r,y:a,width:o,height:l}=t,c=[r,a,r+o,a+l],h=n===1?Math.min:Math.max,u=c[(s==="x"?0:1)+(n===1?0:2)];return h(i,u)}calculateAxisDimensions(t){var i,s,n,r,a;const{axis:o,seriesRect:l,paddedBounds:c,axisWidths:h,newAxisWidths:u,primaryTickCounts:d,addInterAxisPadding:p}=t;let{clipSeries:g}=t;const{position:f="left",direction:m}=o,y=C=>C instanceof Gs||C instanceof Xn?[0,l.height]:[l.height,0],v=(i=u[f])!=null?i:0;switch(f){case"top":case"bottom":o.range=[0,l.width],o.gridLength=l.height;break;case"right":case"left":o.range=y(o),o.gridLength=l.width;break}const x=this.zoomManager.getAxisZoom(o.id),{min:S=0,max:_=1}=x??{};o.visibleRange=[S,_];const D=o.dataDomain.clipped||o.visibleRange[0]>0||o.visibleRange[1]<1;g||(g=D);let A=o.nice?d[m]:void 0;const T=.3;o.thickness!=null&&o.thickness>0?o.maxThickness=o.thickness:m==="y"?o.maxThickness=c.width*T:o.maxThickness=c.height*T;const I=o.calculateLayout(A);A=I.primaryTickCount,d[m]=(s=d[m])!=null?s:A;let E=0;if(o.thickness!=null&&o.thickness>0)E=o.thickness;else{const{bbox:C}=I;E=m==="x"?C.height:C.width}return p&&(E+=15),E=Math.ceil(E),u[f]=((n=u[f])!=null?n:0)+E,o.gridPadding=((r=h[f])!=null?r:0)-((a=u[f])!=null?a:0),{clipSeries:g,axisThickness:E,axisOffset:v,primaryTickCount:A}}positionAxis(t){var i,s,n,r;const{axis:a,axisBound:o,axisWidths:l,seriesRect:c,axisOffset:h,axisThickness:u}=t,{position:d}=a;switch(d){case"top":a.translation.x=o.x+((i=l.left)!=null?i:0),a.translation.y=this.clampToOutsideSeriesRect(c,o.y+1+h+u,"y",1);break;case"bottom":a.translation.x=o.x+((s=l.left)!=null?s:0),a.translation.y=this.clampToOutsideSeriesRect(c,o.y+o.height+1-u-h,"y",-1);break;case"left":a.translation.y=o.y+((n=l.top)!=null?n:0),a.translation.x=this.clampToOutsideSeriesRect(c,o.x+h+u,"x",1);break;case"right":a.translation.y=o.y+((r=l.top)!=null?r:0),a.translation.x=this.clampToOutsideSeriesRect(c,o.x+o.width-u-h,"x",-1);break}a.updatePosition({rotation:Mi(a.rotation),sideFlag:a.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(t=>!(t instanceof bn&&t.shouldFlipXY()))}},du.className="CartesianChart",du.type="cartesian",mf=du}}),mo,vI=L({"packages/ag-charts-community/src/chart/chartProxy.ts"(){"use strict";mo=class yA{constructor(t){this.chart=t}static isInstance(t){var i;return t instanceof yA||((i=t.constructor)==null?void 0:i.name)==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){var i,s;const n=["getOptions","destroy"],r=Object.keys((s=(i=t.constructor)==null?void 0:i.prototype)!=null?s:{});return n.every(a=>r.includes(a))}getOptions(){return this.chart.getOptions()}destroy(){this.chart.destroy()}}}});function xI(e,t,i){let s=Math.floor(Math.min(e[0],e[1])),n=Math.max(e[0],e[1]);s=bI(s,n,t);const r=_I(s,n,t),a=t-1;n=s+a*r;const o=i?[n,s]:[s,n],l=SI(s,r,t);return[o,l]}function bI(e,t,i){const s=Math.abs(t-e)/(i-1),n=Math.floor(Math.log10(s)),r=Math.pow(10,n);return Math.floor(e/r)*r}function SI(e,t,i){const s=Math.floor(Math.log10(t)),n=t>0&&t<1?Math.abs(s):0,r=Math.pow(10,n),a=io(n);for(let o=0;o<i;o++){const l=e+t*o;a[o]=Math.round(l*r)/r}return a}function _I(e,t,i){const s=i-1,n=(t-e)/s;return MI(n)}function MI(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),s=e/i*10;return s>0&&s<=1?i/10:s>1&&s<=2?2*i/10:s>1&&s<=5?5*i/10:s>5&&s<=10?10*i/10:s>10&&s<=20?20*i/10:s>20&&s<=40?40*i/10:s>40&&s<=50?50*i/10:s>50&&s<=100?100*i/10:s}var kI=L({"packages/ag-charts-community/src/util/secondaryAxisTicks.ts"(){"use strict";Cl()}}),yf,Jn,Lb=L({"packages/ag-charts-community/src/chart/axis/numberAxis.ts"(){"use strict";Ol(),li(),ro(),ft(),kI(),ht(),Xh(),Bl(),yf=class extends Wi{constructor(){super(...arguments),this.maxSpacing=NaN}},b([k(Rs(Di(Et.restrict({min:1}),Fn("minSpacing")),Br)),mn(NaN)],yf.prototype,"maxSpacing",2),Jn=class extends Kn{constructor(e,t=new Un){super(e,t),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:s,clipped:n}=il(e,t,i);return{domain:s,clipped:n}}formatDatum(e){return typeof e=="number"?e.toFixed(2):(q.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(e))}createTick(){return new yf}updateSecondaryAxisTicks(e){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];const[t,i]=xI(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),i}},Jn.className="NumberAxis",Jn.type="number",b([k(Di(Gr,ja("max"))),mn(NaN)],Jn.prototype,"min",2),b([k(Di(Gr,Fn("min"))),mn(NaN)],Jn.prototype,"max",2)}}),vf,Sn,xf=L({"packages/ag-charts-community/src/chart/axis/logAxis.ts"(){"use strict";Dg(),li(),ro(),ft(),Ns(),ht(),Lb(),vf=Lt(e=>Is(e)&&e!==0,"a non-zero number"),Sn=class extends Jn{constructor(e){super(e,new Yh),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:s,clipped:n}=il(e,t,i),r=s[0]>s[1],a=s[0]<0&&s[1]>0,o=s[0]===0&&s[1]===0;return(r||a||o)&&(e=[],a?q.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):o&&q.warn("the data domain has 0 extent, no data is rendered.")),s[0]===0&&(s[0]=1),s[1]===0&&(s[1]=-1),{domain:s,clipped:n}}set base(e){this.scale.base=e}get base(){return this.scale.base}},Sn.className="LogAxis",Sn.type="log",b([k(Di(Gr,vf,ja("max"))),mn(NaN)],Sn.prototype,"min",2),b([k(Di(Gr,vf,Fn("min"))),mn(NaN)],Sn.prototype,"max",2)}}),Tb,bf,tr,Eb=L({"packages/ag-charts-community/src/chart/axis/timeAxis.ts"(){"use strict";Ig(),li(),ro(),ht(),Xh(),Bl(),Tb=Rs(Di(Et.restrict({min:1}),Fn("minSpacing")),Br),bf=class extends Wi{constructor(){super(...arguments),this.maxSpacing=NaN}},b([k(Tb),mn(NaN)],bf.prototype,"maxSpacing",2),tr=class extends Kn{constructor(e){super(e,new Hh),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;const{scale:t}=this;this.refreshScale(),this.datumFormatter=t.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(e){var t;let{min:i,max:s}=this,n=!1;return typeof i=="number"&&(i=new Date(i)),typeof s=="number"&&(s=new Date(s)),e.length>2&&(e=((t=Es(e))!=null?t:[0,1e3]).map(r=>new Date(r))),i instanceof Date&&(n||(n=i>e[0]),e=[i,e[1]]),s instanceof Date&&(n||(n=s<e[1]),e=[e[0],s]),e[0]>e[1]&&(e=[]),{domain:e,clipped:n}}createTick(){return new bf}onLabelFormatChange(e,t){t?super.onLabelFormatChange(e,t):this.labelFormatter=this.scale.tickFormat({ticks:e})}formatDatum(e){var t;return(t=this.moduleCtx.callbackCache.call(this.datumFormatter,e))!=null?t:String(e)}calculatePadding(e,t,i){return i?[1,0]:[0,1]}},tr.className="TimeAxis",tr.type="time",b([k(Di(mh,ja("max")),{optional:!0})],tr.prototype,"min",2),b([k(Di(mh,Fn("min")),{optional:!0})],tr.prototype,"max",2)}});function DI(e,t){Xl[e]=t}function AI(e,t){const i=Xl[e];if(i)return new i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}function Ib(e,t){Sf[e]=t}function LI(e){var t;return(t=Sf[e])!=null?t:{}}var Xl,pu,Sf,$l=L({"packages/ag-charts-community/src/chart/factory/axisTypes.ts"(){"use strict";zl(),Bg(),xf(),Lb(),Eb(),Xl={[Jn.type]:Jn,[Gs.type]:Gs,[tr.type]:tr,[Xn.type]:Xn,[Sn.type]:Sn},pu={has(e){return Object.hasOwn(Xl,e)},get axesTypes(){return Object.keys(Xl)}},Sf={}}});function Nb(e){return ea.some(t=>t.type==="series"&&t.identifier===e)}function _f(e){var t;return(t=ea.find(i=>i.type==="series"&&i.identifier===e))==null?void 0:t.chartTypes}function TI(e){var t,i;return((i=(t=ea.find(s=>s.type==="series"&&s.identifier===e))==null?void 0:t.useCount)!=null?i:0)>0}function EI(e){var t;return((t=_f(e))==null?void 0:t.find(s=>s==="cartesian"))==="cartesian"}function II(e){var t;return((t=_f(e))==null?void 0:t.find(s=>s==="polar"))==="polar"}function NI(e){var t;return((t=_f(e))==null?void 0:t.find(s=>s==="hierarchy"))==="hierarchy"}function CI(e){var t;if(e.packageType!=="enterprise")throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const i=ea.find(s=>s.type===e.type&&s.optionsKey===e.optionsKey&&s.identifier===e.identifier&&e.chartTypes.every(n=>s.chartTypes.includes(n)));return i&&((t=i.useCount)!=null||(i.useCount=0),i.useCount++),i!=null}function OI(){return ea.filter(({useCount:e})=>e==null||e===0)}var ea,ql=L({"packages/ag-charts-community/src/chart/factory/expectedEnterpriseModules.ts"(){"use strict";ea=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}]}});function RI(e,t,i,s){Cb[e]=i,Mf[e]=t,kf[t]=s}function wI(){return kf}function PI(){return Mf}var Cb,Mf,kf,Df=L({"packages/ag-charts-community/src/chart/factory/legendTypes.ts"(){"use strict";rb(),Cb={category:Ui},Mf={category:"legend"},kf={}}}),Zl,Ob=L({"packages/ag-charts-community/src/chart/background/background.ts"(){"use strict";Or(),fe(),El(),hn(),ht(),ys(),Zl=class extends Jc{constructor(e){var t;super(),this.node=new at({name:"background",zIndex:0}),this.rectNode=new Ce,this.visible=!0,this.fill="white",this.image=void 0,this.node.appendChild(this.rectNode),(t=e.scene.root)==null||t.appendChild(this.node),this.destroyFns.push(()=>{var i;return(i=e.scene.root)==null?void 0:i.removeChild(this.node)},e.layoutService.addListener("layout-complete",i=>this.onLayoutComplete(i)))}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}},b([k(ct),It("node","visible")],Zl.prototype,"visible",2),b([k(bt,{optional:!0}),It("rectNode","fill")],Zl.prototype,"fill",2)}}),Af,Rb=L({"packages/ag-charts-community/src/chart/background/backgroundModule.ts"(){"use strict";Ob(),Af={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:Zl}}}),Lf,FI=L({"packages/ag-charts-community/src/chart/navigator/navigatorHandle.ts"(){"use strict";Lf=class{set fill(e){this.rh.fill=e}get fill(){return this.rh.fill}set stroke(e){this.rh.stroke=e}get stroke(){return this.rh.stroke}set strokeWidth(e){this.rh.strokeWidth=e}get strokeWidth(){return this.rh.strokeWidth}set width(e){this.rh.width=e}get width(){return this.rh.width}set height(e){this.rh.height=e}get height(){return this.rh.height}set gripLineGap(e){this.rh.gripLineGap=e}get gripLineGap(){return this.rh.gripLineGap}set gripLineLength(e){this.rh.gripLineLength=e}get gripLineLength(){return this.rh.gripLineLength}constructor(e){this.rh=e}}}}),wb,BI=L({"packages/ag-charts-community/src/chart/navigator/navigatorMask.ts"(){"use strict";wb=class{set fill(e){this.rm.fill=e}get fill(){return this.rm.fill}set stroke(e){this.rm.stroke=e}get stroke(){return this.rm.stroke}set strokeWidth(e){this.rm.strokeWidth=e}get strokeWidth(){return this.rm.strokeWidth}set fillOpacity(e){this.rm.fillOpacity=e}get fillOpacity(){return this.rm.fillOpacity}constructor(e){this.rm=e}}}}),Yi,zI=L({"packages/ag-charts-community/src/chart/navigator/shapes/rangeHandle.ts"(){"use strict";Pt(),Vn(),ht(),Yi=class extends ui{constructor(){super(...arguments),this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)}get height(){return this._height}computeBBox(){const{centerX:e,centerY:t,width:i,height:s}=this,n=e-i/2,r=t-s/2;return new ut(n,r,i,s)}isPointInPath(e,t){const i=this.transformPoint(e,t);return this.computeBBox().containsPoint(i.x,i.y)}updatePath(){const{path:e,centerX:t,centerY:i,width:s,height:n}=this;e.clear();const r=t-s/2,a=i-n/2,o=this.align(r),l=this.align(a),c=o+this.align(r,s),h=l+this.align(a,n);e.moveTo(o,l),e.lineTo(c,l),e.lineTo(c,h),e.lineTo(o,h),e.lineTo(o,l);const u=this.gripLineGap/2,d=this.gripLineLength/2;e.moveTo(this.align(t-u),this.align(i-d)),e.lineTo(this.align(t-u),this.align(i+d)),e.moveTo(this.align(t+u),this.align(i-d)),e.lineTo(this.align(t+u),this.align(i+d))}},Yi.className="RangeHandle",b([k(bt)],Yi.prototype,"_fill",2),b([k(bt)],Yi.prototype,"_stroke",2),b([k(K)],Yi.prototype,"_strokeWidth",2),b([k(Dp)],Yi.prototype,"_lineCap",2),b([k(K)],Yi.prototype,"_width",2),b([k(K)],Yi.prototype,"_gripLineGap",2),b([k(K)],Yi.prototype,"_gripLineLength",2),b([k(K)],Yi.prototype,"_height",2)}});function gu(e,t){e!==t&&(this.dirtyPath=!0)}var _n,GI=L({"packages/ag-charts-community/src/chart/navigator/shapes/rangeMask.ts"(){"use strict";Pt(),Vn(),Ee(),hn(),ht(),_n=class extends ui{constructor(){super(...arguments),this.x=0,this.y=0,this.width=200,this.height=30,this.minRange=.05,this._min=0,this._max=1}set min(e){var t;e=ki(0,e,this.max-this.minRange),this._min!==e&&!isNaN(e)&&(this._min=e,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get min(){return this._min}set max(e){var t;e=ki(this.min+this.minRange,e,1),this._max!==e&&!isNaN(e)&&(this._max=e,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get max(){return this._max}computeBBox(){const{x:e,y:t,width:i,height:s}=this;return new ut(e,t,i,s)}computeVisibleRangeBBox(){const{x:e,y:t,width:i,height:s,min:n,max:r}=this,a=e+i*n,o=e+i*r;return new ut(a,t,o-a,s)}updatePath(){const{path:e,x:t,y:i,width:s,height:n,min:r,max:a}=this;e.clear();const o=this.align(t),l=this.align(i),c=o+this.align(t,s),h=l+this.align(i,n);e.moveTo(o,l),e.lineTo(c,l),e.lineTo(c,h),e.lineTo(o,h),e.lineTo(o,l);const u=this.align(t+s*r),d=this.align(t+s*a);e.moveTo(u,l),e.lineTo(u,h),e.lineTo(d,h),e.lineTo(d,l),e.lineTo(u,l)}},_n.className="RangeMask",b([He({changeValue:gu}),k(K)],_n.prototype,"x",2),b([He({changeValue:gu}),k(K)],_n.prototype,"y",2),b([He({changeValue:gu}),k(K)],_n.prototype,"width",2),b([He({changeValue:gu}),k(K)],_n.prototype,"height",2),b([k(Et)],_n.prototype,"_min",2),b([k(Et)],_n.prototype,"_max",2)}}),fu,Pb,VI=L({"packages/ag-charts-community/src/chart/navigator/shapes/rangeSelector.ts"(){"use strict";fe(),Yt(),zI(),GI(),fu=class Nr extends at{constructor(){super({name:"rangeSelectorGroup"}),this.minHandle=new Yi,this.maxHandle=new Yi,this.mask=(()=>{const{x:t,y:i,width:s,height:n,min:r,max:a}=Nr.defaults,o=new _n;o.x=t,o.y=i,o.width=s,o.height=n,o.min=r,o.max=a;const{minHandle:l,maxHandle:c}=this;return l.centerX=t,c.centerX=t+s,l.centerY=c.centerY=i+n/2,this.append([o,l,c]),o.onRangeChange=()=>{var h;this.updateHandles(),(h=this.onRangeChange)==null||h.call(this)},o})(),this._x=Nr.defaults.x,this._y=Nr.defaults.y,this._width=Nr.defaults.width,this._height=Nr.defaults.height,this._min=Nr.defaults.min,this._max=Nr.defaults.max,this.isContainerNode=!0}set x(t){this.mask.x=t,this.updateHandles()}get x(){return this.mask.x}set y(t){this.mask.y=t,this.updateHandles()}get y(){return this.mask.y}set width(t){this.mask.width=t,this.updateHandles()}get width(){return this.mask.width}set height(t){this.mask.height=t,this.updateHandles()}get height(){return this.mask.height}set min(t){this.mask.min=t}get min(){return this.mask.min}set max(t){this.mask.max=t}get max(){return this.mask.max}updateHandles(){const{minHandle:t,maxHandle:i,x:s,y:n,width:r,height:a,mask:o}=this;t.centerX=s+r*o.min,i.centerX=s+r*o.max,t.centerY=i.centerY=n+a/2}computeBBox(){return this.mask.computeBBox()}computeVisibleRangeBBox(){return this.mask.computeVisibleRangeBBox()}render(t){const{ctx:i,forceRender:s,stats:n}=t;if(this.dirty===0&&!s){n&&n.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(i);const{mask:r,minHandle:a,maxHandle:o}=this;[r,a,o].forEach(l=>{l.visible&&(s||l.dirty>0)&&(i.save(),l.render(X(R({},t),{ctx:i,forceRender:s})),i.restore())}),this.markClean({force:!0}),n&&n.nodesRendered++}},fu.className="Range",fu.defaults={x:0,y:0,width:200,height:30,min:0,max:1},Pb=fu}}),mu,WI=L({"packages/ag-charts-community/src/chart/navigator/navigator.ts"(){"use strict";Or(),Pt(),hn(),ht(),FI(),BI(),VI(),mu=class extends Jc{constructor(e){var t;super(),this.ctx=e,this.rs=new Pb,this.mask=new wb(this.rs.mask),this.minHandle=new Lf(this.rs.minHandle),this.maxHandle=new Lf(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.enabled=!1,this.margin=10,this._visible=!0,this.rs.onRangeChange=()=>e.zoomManager.updateZoom("navigator",{x:{min:this.rs.min,max:this.rs.max},y:{min:0,max:1}}),(t=e.scene.root)==null||t.appendChild(this.rs);const i={bypassPause:["animation"]};this.destroyFns.push(e.interactionManager.addListener("drag-start",s=>this.onDragStart(s),i),e.interactionManager.addListener("drag",s=>this.onDrag(s),i),e.interactionManager.addListener("hover",s=>this.onDrag(s),i),e.interactionManager.addListener("drag-end",()=>this.onDragStop(),i),e.layoutService.addListener("before-series",s=>this.layout(s)),e.layoutService.addListener("layout-complete",s=>this.layoutComplete(s)),()=>{var s;return(s=e.scene.root)==null?void 0:s.removeChild(this.rs)},()=>this.ctx.zoomManager.updateZoom("navigator")),this.updateGroupVisibility()}set width(e){this.rs.width=e}get width(){return this.rs.width}set height(e){this.rs.height=e}get height(){return this.rs.height}set min(e){this.rs.min=e}get min(){return this.rs.min}set max(e){this.rs.max=e}get max(){return this.rs.max}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){const e=this.enabled&&this.visible;this.rs.visible=e,e?this.ctx.zoomManager.updateZoom("navigator",{x:{min:this.rs.min,max:this.rs.max},y:{min:0,max:1}}):this.ctx.zoomManager.updateZoom("navigator")}layout({shrinkRect:e}){if(this.enabled){const t=this.rs.height+this.margin;e.shrink(t,"bottom"),this.rs.y=e.y+e.height+this.margin}return{shrinkRect:e}}layoutComplete({series:{rect:e,visible:t}}){this.enabled&&t&&(this.rs.x=e.x,this.rs.width=e.width),this.visible=t}onDragStart(e){if(!this.enabled)return;const{offsetX:t,offsetY:i}=e,{rs:s}=this,{minHandle:n,maxHandle:r,x:a,width:o,min:l}=s,c=s.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(n.containsPoint(t,i)?this.minHandleDragging=!0:r.containsPoint(t,i)?this.maxHandleDragging=!0:c.containsPoint(t,i)&&(this.panHandleOffset=(t-a)/o-l))}onDrag(e){if(!this.enabled)return;const{rs:t,panHandleOffset:i}=this,{x:s,y:n,width:r,height:a,minHandle:o,maxHandle:l}=t,{offsetX:c,offsetY:h}=e,u=s+r*t.min,d=s+r*t.max,p=new ut(u,n,d-u,a),g=()=>Math.min(Math.max((c-s)/r,0),1);if(o.containsPoint(c,h)||l.containsPoint(c,h)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):p.containsPoint(c,h)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)t.min=g();else if(this.maxHandleDragging)t.max=g();else if(!isNaN(i)){const f=t.max-t.min,m=Math.min(g()-i,1-f);m<=t.min?(t.min=m,t.max=t.min+f):(t.max=m+f,t.min=t.max-f)}}onDragStop(){this.stopHandleDragging()}stopHandleDragging(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN}},b([He({changeValue(e){e&&(this.min=0,this.max=1),this.updateGroupVisibility()}}),k(ct)],mu.prototype,"enabled",2),b([k(K)],mu.prototype,"margin",2)}}),Fb,UI=L({"packages/ag-charts-community/src/chart/navigator/navigatorModule.ts"(){"use strict";WI(),Fb={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:mu,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}}}}),yu,yo,vo=L({"packages/ag-charts-community/src/util/theme.ts"(){"use strict";yu=({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},yo=e=>{const{fill:t,stroke:i}=yu(e);return{marker:{fill:t,stroke:i}}}}}),Mn,ia,vu,Bb,zb,Hi,Gb,Vb,Wb,Ub,ji,Yb,Hb,jb,Kb,Xb,$b,er=L({"packages/ag-charts-community/src/chart/themes/constants.ts"(){"use strict";Mn={SMALL:12,MEDIUM:13,LARGE:17},ia={NORMAL:"normal",BOLD:"bold",BOLDER:"bolder",LIGHTER:"lighter"},vu="bottom",Bb="left",zb="top",Hi={BOTTOM:vu,LEFT:Bb,TOP:zb},Gb="category",Vb="number",Wb="time",Ub="log",ji={CATEGORY:Gb,NUMBER:Vb,TIME:Wb,LOG:Ub},Yb="angle-category",Hb="angle-number",jb="radius-category",Kb="radius-number",Xb={ANGLE_CATEGORY:Yb,ANGLE_NUMBER:Hb,RADIUS_CATEGORY:jb,RADIUS_NUMBER:Kb},$b="circle"}});function YI(e,t){ir[e]=t}function HI(e,t){var i;xu[e]=Qt([(i=xu[e])!=null?i:{},t])}function qb(e){var t;return(t=xu[e])!=null?t:{}}function jI(e){var t;return(t=ir[e])!=null?t:"unknown"}var ir,xu,Ci,xo=L({"packages/ag-charts-community/src/chart/factory/chartTypes.ts"(){"use strict";Os(),ir={},xu={},Ci={has(e){return Object.hasOwn(ir,e)},isCartesian(e){return ir[e]==="cartesian"},isPolar(e){return ir[e]==="polar"},isHierarchy(e){return ir[e]==="hierarchy"},get seriesTypes(){return Object.keys(ir)},get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))},get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))},get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}}}});function sa(e){var t,i,s;return(s=(i=(t=e.series)==null?void 0:t[0])==null?void 0:i.type)!=null?s:"line"}function bo(e){const t=sa(e);return t==null?!0:t==="cartesian"?(q.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ci.isCartesian(t)||EI(t)}function bu(e){const t=sa(e);return t==null?!1:t==="hierarchy"?(q.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ci.isHierarchy(t)||NI(t)}function Su(e){const t=sa(e);return t==null?!1:t==="polar"?(q.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ci.isPolar(t)||II(t)}function KI(e){return e==null?!1:Ci.has(e)}function XI(e){return e==null?!1:pu.has(e)}var _u=L({"packages/ag-charts-community/src/chart/mapping/types.ts"(){"use strict";ft(),$l(),xo(),ql()}});function $I(e){var t;if(!bo(e))return e;const[i,s]=(t=e.axes)!=null?t:[];return X(R({},e),{axes:[X(R({},i),{position:s.position}),X(R({},s),{position:i.position})]})}function qI(e){var t,i,s,n;const r={};for(const[a,o]of th.entries())if(!(e[a]==null||!o.length)){(t=r[a])!=null||(r[a]={});for(const l of o)(i=e[a])!=null&&i.enabled&&((s=e[l])!=null&&s.enabled)?(q.warnOnce(`the [${a}] module can not be used at the same time as [${l}], it will be disabled.`),r[a].enabled=!1):r[a].enabled=(n=e[a])==null?void 0:n.enabled}return r}var Tf,Ef=L({"packages/ag-charts-community/src/chart/mapping/defaults.ts"(){"use strict";Or(),ft(),er(),_u(),Tf={axes:[{type:ji.NUMBER,position:Hi.LEFT},{type:ji.CATEGORY,position:Hi.BOTTOM}]}}}),If,Nf,Cf,Of,Rf,wf,Pf,Ff,Bf,Us,na,zf,ae,_e,Gf,ra,aa,Ql,Jl,So,_o,oa,Ki,Xi,$i,qi,Mu,Zi,ku,Du,Me=L({"packages/ag-charts-community/src/chart/themes/symbols.ts"(){"use strict";If=Symbol("extends-chart-defaults"),Nf=Symbol("extends-legend-defaults"),Cf=Symbol("extends-legend-item-defaults"),Of=Symbol("extends-legend-item-marker-defaults"),Rf=Symbol("extends-axes-defaults"),wf=Symbol("extends-axes-label-defaults"),Pf=Symbol("extends-axes-line-defaults"),Ff=Symbol("extends-axes-tick-defaults"),Bf=Symbol("extends-axes-grid-line-defaults"),Us=Symbol("extends-series-defaults"),na=Symbol("extends-cartesian-marker-defaults"),zf=Symbol("override-series-label-defaults"),ae=Symbol("default-font"),_e=Symbol("default-label-colour"),Gf=Symbol("default-inverted-label-colour"),ra=Symbol("default-inside-series-label-colour"),aa=Symbol("default-muted-label-colour"),Ql=Symbol("default-axis-grid-colour"),Jl=Symbol("default-axis-line-colour"),So=Symbol("default-cross-lines-colour"),_o=Symbol("default-background-colour"),oa=Symbol("default-shadow-colour"),Ki=Symbol("default-waterfall-series-positive-colors"),Xi=Symbol("default-waterfall-series-negative-colors"),$i=Symbol("default-waterfall-series-total-colors"),qi=Symbol("default-waterfall-series-connector-line-stroke"),Mu=Symbol("default-polar-series-stroke"),Zi=Symbol("default-diverging-series-colour-range"),ku=Symbol("default-hierarchy-fills"),Du=Symbol("default-hierarchy-strokes")}});function Zb(e,t,i,s,n){const{defaultDuration:r}=i,{addPhaseFn:a,updatePhaseFn:o,removePhaseFn:l}=n,c=(h,u,d)=>{i.animate({id:`${e}_${t}_${u.id}_${h}`,groupId:e,from:0,to:1,ease:qa,onUpdate(p,g){g&&h!=="removed"||(u.path.clear({trackChanges:!0}),d(p,u),u.checkPathDirty())},onStop(){h==="added"&&(u.path.clear({trackChanges:!0}),d(1,u),u.checkPathDirty())},duration:Ne[h].animationDuration*r,delay:Ne[h].animationDelay*r})};for(const h of s)i.isSkipped()||(c("removed",h,l),c("updated",h,o)),c("added",h,a)}var Qb=L({"packages/ag-charts-community/src/motion/pathMotion.ts"(){"use strict";Za(),ti()}});function $t({id:e},t,i,s){dn(e,t,i,s,{opacity:0},{opacity:1},Qa)}function Au({id:e},t,i,s){dn(e,t,i,s,{opacity:1},{opacity:0},Qa)}function sr(e){return{opacity:1}}var nr=L({"packages/ag-charts-community/src/chart/series/seriesLabelUtil.ts"(){"use strict";Wr(),ti()}}),Jb,si,tc=L({"packages/ag-charts-community/src/chart/series/seriesMarker.ts"(){"use strict";rl(),os(),ht(),wh(),zs(),pn(),Jb=Lt(e=>r0(e)||Object.getPrototypeOf(e)===pi,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),si=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.shape=Yn,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:e,fill:t,fillOpacity:i,stroke:s,strokeWidth:n,strokeOpacity:r}=this;return{size:e,fill:t,fillOpacity:i,stroke:s,strokeWidth:n,strokeOpacity:r}}getDiameter(){return this.size+this.strokeWidth}},b([k(ct),Z({redraw:3})],si.prototype,"enabled",2),b([k(Jb),Z({redraw:3})],si.prototype,"shape",2),b([k(K),Z({redraw:3})],si.prototype,"size",2),b([k(bt,{optional:!0}),Z({redraw:3})],si.prototype,"fill",2),b([k(Ot),Z({redraw:3})],si.prototype,"fillOpacity",2),b([k(bt,{optional:!0}),Z({redraw:3})],si.prototype,"stroke",2),b([k(K),Z({redraw:3})],si.prototype,"strokeWidth",2),b([k(Ot),Z({redraw:3})],si.prototype,"strokeOpacity",2),b([k(us,{optional:!0}),Z({redraw:3})],si.prototype,"formatter",2)}}),Vf,yi,rr=L({"packages/ag-charts-community/src/chart/series/seriesTooltip.ts"(){"use strict";os(),ht(),Sl(),Vf=class extends Te{constructor(){super(...arguments),this.enabled=!1}},b([k(ct)],Vf.prototype,"enabled",2),yi=class extends Te{constructor(){super(...arguments),this.enabled=!0,this.interaction=new Vf,this.position=new Ka}toTooltipHtml(e,t){return this.renderer?bl(this.renderer(t),e):bl(e)}},b([k(ct)],yi.prototype,"enabled",2),b([k(ct,{optional:!0})],yi.prototype,"showArrow",2),b([k(us,{optional:!0})],yi.prototype,"renderer",2),b([k(xt)],yi.prototype,"interaction",2),b([k(xt)],yi.prototype,"position",2)}}),ve,ZI=L({"packages/ag-charts-community/src/chart/series/cartesian/areaSeriesProperties.ts"(){"use strict";Ml(),ht(),ms(),tc(),rr(),Ni(),ve=class extends xn{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new vs,this.marker=new si,this.label=new Se,this.tooltip=new yi,this.connectMissingData=!1}},b([k($)],ve.prototype,"xKey",2),b([k($,{optional:!0})],ve.prototype,"xName",2),b([k($)],ve.prototype,"yKey",2),b([k($,{optional:!0})],ve.prototype,"yName",2),b([k(K,{optional:!0})],ve.prototype,"normalizedTo",2),b([k(bt)],ve.prototype,"fill",2),b([k(Ot)],ve.prototype,"fillOpacity",2),b([k(bt)],ve.prototype,"stroke",2),b([k(K)],ve.prototype,"strokeWidth",2),b([k(Ot)],ve.prototype,"strokeOpacity",2),b([k(an)],ve.prototype,"lineDash",2),b([k(K)],ve.prototype,"lineDashOffset",2),b([k(xt)],ve.prototype,"shadow",2),b([k(xt)],ve.prototype,"marker",2),b([k(xt)],ve.prototype,"label",2),b([k(xt)],ve.prototype,"tooltip",2),b([k(ct)],ve.prototype,"connectMissingData",2)}});function QI({id:e},t,i,s="unknown"){const n=R({},Ne[s]);dn(e,"markers",t,i,{opacity:0},{opacity:1},n),i.forEach(r=>r.cleanup())}function Wf({id:e},t,i){dn(e,"markers",t,i,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1}),i.forEach(s=>s.cleanup())}function Uf({id:e,nodeDataDependencies:t},i,s){const n=t.seriesRectWidth;ee(e,"markers",i,s,{fromFn:(o,l)=>{var c,h;const u=(h=(c=l.midPoint)==null?void 0:c.x)!=null?h:n,d=ki(0,Yp(u/n),1),p=Kt.check("animationImmediateMarkerSwipeScaleIn")?0:Th;return{scalingX:0,scalingY:0,animationDelay:d,animationDuration:p}},toFn:()=>({scalingX:1,scalingY:1})})}function ec(e){return{opacity:1,scalingX:1,scalingY:1}}function ic(e,t){var i,s,n,r;return{translationX:(s=(i=t.point)==null?void 0:i.x)!=null?s:NaN,translationY:(r=(n=t.point)==null?void 0:n.y)!=null?r:NaN}}function Yf(e,t){const i=(a,o)=>{const l=e[o][a];return Array.isArray(l)?l[0]:l},s=a=>{const{xValue:o}=a;return e.moved[o]?{point:i(o,"moved"),status:"updated"}:e.removed[o]?{point:i(o,"removed"),status:"removed"}:e.added[o]?{point:i(o,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(a,o)=>{var l,c,h,u,d,p;const{status:g,point:f}=s(o);if(g==="unknown")return{opacity:0};const m=R({translationX:(c=(l=f?.from)==null?void 0:l.x)!=null?c:a.translationX,translationY:(u=(h=f?.from)==null?void 0:h.y)!=null?u:a.translationY,opacity:a.opacity},Ne[g]);return t==="added"?R(X(R({},m),{opacity:0,translationX:(d=f?.to)==null?void 0:d.x,translationY:(p=f?.to)==null?void 0:p.y}),Ne.added):(g==="added"&&(m.opacity=0),m)},toFn:(a,o)=>{var l,c;const{status:h,point:u}=s(o);if(h==="unknown")return{opacity:0};const d=R({translationX:o.point.x,translationY:o.point.y,opacity:1},Ne[h]);return h==="removed"||t==="removed"?R(X(R({},d),{translationX:(l=u?.to)==null?void 0:l.x,translationY:(c=u?.to)==null?void 0:c.y,opacity:0}),Ne.removed):d}}}var la=L({"packages/ag-charts-community/src/chart/series/cartesian/markerUtil.ts"(){"use strict";Wr(),ti(),as(),Ee(),Za()}});function Hf(e){return e.reduce(({min:t,max:i},s)=>((t==null||t.point.x>s.point.x)&&(t=s),(i==null||i.point.x<s.point.x)&&(i=s),{min:t,max:i}),{})}function tS(e,t,i){const s=(t.y-e.y)/(t.x-e.x),n=(i-e.x)*s+e.y;return{x:i,y:n}}function eS(e,t,i,s){let n=-1,r=0;const a=[];for(;r<e.length;){if(e[r].change===t){a.push(e[r]),r++;continue}if(e[r].change===i){r++;continue}a.length>0&&(s(a,n,r),a.length=0),n=r,r++}a.length>0&&s(a,n,r)}function jf(e,t){eS(e,"out","in",(i,s,n)=>{var r,a;s===-1&&e[n]?i.forEach(o=>o.to=e[n].from):n===e.length&&e[s]?i.forEach(o=>o.to=e[s].from):t==="intersect"&&((r=e[s])!=null&&r.from)&&((a=e[n])!=null&&a.from)?i.forEach(o=>o.to=tS(e[s].from,e[n].from,o.from.x)):i.forEach(o=>o.to=o.from)}),eS(e,"in","out",(i,s,n)=>{var r,a;s===-1&&e[n]?i.forEach(o=>o.from=e[n].to):n===e.length&&e[s]?i.forEach(o=>o.from=e[s].to):t==="intersect"&&((r=e[s])!=null&&r.to)&&((a=e[n])!=null&&a.to)?i.forEach(o=>o.from=tS(e[s].to,e[n].to,o.to.x)):i.forEach(o=>o.from=o.to)})}function iS(e,t,i){const s=isNaN(e.x)?t.x:e.x,n=isNaN(e.y)?t.y:e.y,r=t.x-e.x,a=t.y-e.y,o=isNaN(r)?0:r*i,l=isNaN(a)?0:a*i;return{x:s+o,y:n+l}}function Kf(e,t,i){const{path:s}=i;let n;for(const r of e){const a=t[r.change];if(a==null)continue;const{from:o,to:l}=r;if(o==null||l==null)continue;const{x:c,y:h}=iS(o,l,a);if(r.moveTo===!1)s.lineTo(c,h);else if(r.moveTo===!0||!n)s.moveTo(c,h);else if(n){const u=r.moveTo==="in"?a:1-a,{x:d,y:p}=iS(n,{x:c,y:h},u);s.lineTo(d,p),s.moveTo(c,h)}n={x:c,y:h}}}function Xf({id:e,visible:t},i,s){dn(e,"path_properties",i,s,{clipScalingX:0},{clipScalingX:1},{start:{clipMode:"normal",visible:t},finish:{clipMode:void 0,visible:t}})}function sS({id:e},t,i,s){dn(e,t,i,s,{opacity:0},{opacity:1},Qa)}function JI({id:e},t,i,s){dn(e,t,i,s,{opacity:1},{opacity:0},Qa)}function $f(e){return t=>({opacity:e.getOpacity(),clipScalingX:1,clipMode:void 0})}function Lu({nodeDataDependencies:e},t){var i,s;const{seriesRectHeight:n,seriesRectWidth:r}=e;t.clipPath==null&&(t.clipPath=new Ja,t.clipScalingX=1,t.clipScalingY=1),(i=t.clipPath)==null||i.clear({trackChanges:!0}),(s=t.clipPath)==null||s.rect(-25,-25,ch(r)+50,ch(n)+50)}var sc=L({"packages/ag-charts-community/src/chart/series/cartesian/pathUtil.ts"(){"use strict";Wr(),ti(),Ch(),Ee()}});function nS(e){return e.type==="continuous"||e.type==="log"}function rS(e){return e.type==="category"}function aS(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every((i,s)=>i===t.domain[s])&&e.range.every((i,s)=>i===t.range[s])}function oS(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:nS(e)&&nS(t)?e.type===t.type&&aS(e,t):rS(e)&&rS(t)?aS(e,t):!1}var t2=L({"packages/ag-charts-community/src/chart/series/cartesian/scaling.ts"(){"use strict"}});function Tu(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);const i=t.domain.findIndex(s=>s===e);return i>=0?t.range[i]:NaN}function e2(e,t){return!oS(e.scales.x,t.scales.x)||!oS(e.scales.y,t.scales.y)}function i2(e,t){const i=Number(e),s=Number(t);return!isNaN(i)&&!isNaN(s)?Math.abs(s-i)<.25:e===t}function lS(e=!1,t=!1){return e===t?!!e:e?"in":"out"}function nc(e,t,i={}){var s,n,r,a;const{backfillSplitMode:o="intersect"}=i,l=x=>{var S,_;return{x:Tu((S=x.xValue)!=null?S:NaN,e.scales.x),y:Tu((_=x.yValue)!=null?_:NaN,e.scales.y)}},c=x=>{var S,_;return{x:Tu((S=x.xValue)!=null?S:NaN,t.scales.x),y:Tu((_=x.yValue)!=null?_:NaN,t.scales.y)}},h=[],u={added:{},moved:{},removed:{}},d=(x,S,_,D="move")=>{x&&(isNaN(x.point.x)||isNaN(x.point.y))&&(x=S);const A={from:x?.point,to:S?.point,moveTo:lS(x?.point.moveTo,S?.point.moveTo),change:D};D==="move"?(u.moved[_]=A,y++,v++):D==="in"?(u.added[_]=A,v++):D==="out"&&(u.removed[_]=A,y++),h.push(A)},{min:p,max:g}=Hf(t.nodeData),{min:f,max:m}=Hf(e.nodeData);let y=0,v=0;for(;y<t.nodeData.length||v<e.nodeData.length;){const x=t.nodeData[y],S=e.nodeData[v],_=x?l(x):void 0,D=S?c(S):void 0,A=void 0;if(_&&i2(_.x,S?.point.x))d(x,S,S.xValue,"move");else if(_&&_.x<((s=f?.point.x)!=null?s:-1/0))d(x,A,x.xValue,"out");else if(_&&_.x>((n=m?.point.x)!=null?n:1/0))d(x,A,x.xValue,"out");else if(D&&D.x<((r=p?.point.x)!=null?r:-1/0))d(A,S,S.xValue,"in");else if(D&&D.x>((a=g?.point.x)!=null?a:1/0))d(A,S,S.xValue,"in");else if(_&&_.x<S?.point.x)d(x,A,x.xValue,"out");else if(D&&D.x<x?.point.x)d(A,S,S.xValue,"in");else if(x)d(x,A,x.xValue,"out");else if(S)d(A,S,S.xValue,"in");else throw new Error("Unable to process points")}return jf(h,o),{result:h,resultMap:u}}function rc(e,t,i,s={}){var n,r,a;const{backfillSplitMode:o="intersect",multiDatum:l=!1}=s,c=[],h={added:{},moved:{},removed:{}},u={added:{},moved:{},removed:{}};let d,p;const g=(x,S)=>{var _,D;const A=S.change==="move"?"moved":S.change==="in"?"added":"removed";l?((D=(_=u[A])[x])!=null||(_[x]=[]),u[A][x].push(S)):h[A][x]=S,d=S,p=x};let f=0,m=0,y=!1;for(;f<t.nodeData.length||m<e.nodeData.length;){const x=t.nodeData[f],S=e.nodeData[m];let _;if(x?.xValue===S?.xValue)_={change:"move",moveTo:lS((n=x.point.moveTo)!=null?n:!1,S.point.moveTo),from:x.point,to:S.point},g(x.xValue,_),f++,m++;else if(i!==void 0&&i.removed.indexOf(x?.xValue)>=0)_={change:"out",moveTo:(r=x.point.moveTo)!=null?r:!1,from:x.point},g(x.xValue,_),f++;else if(i!==void 0&&i.added.indexOf(S?.xValue)>=0)_={change:"in",moveTo:(a=S.point.moveTo)!=null?a:!1,to:S.point},g(S.xValue,_),m++;else if(l&&d&&p===x?.xValue)_=R({},d),g(x.xValue,_),f++;else if(l&&d&&p===S?.xValue)_=R({},d),g(S.xValue,_),m++;else{y=!0;break}c.push(_)}let v=-1/0;return y||(y=c.some(x=>{const{change:S,to:{x:_=-1/0}={}}=x;if(S==="out")return;const D=_<v;return v=_,D})),y?{result:void 0,resultMap:void 0}:(jf(c,o),l?{result:c,resultMap:u}:{result:c,resultMap:h})}function cS(e,t){let i="updated";const s=n=>n.visible;return!s(t)&&s(e)?i="added":s(t)&&!s(e)&&(i="removed"),i}function s2(e,t){const i=t==="none"?"updated":e,s={fromFn:n=>{let r;return e==="removed"?r={finish:{visible:!1}}:e==="added"?r={start:{visible:!0}}:r={},R(R({},Ne[i]),r)},toFn:n=>R({},Ne[i])};return t==="fade"?{fromFn:n=>{const r=e==="added"?0:n.opacity;return R({opacity:r},s.fromFn(n))},toFn:n=>R({opacity:e==="removed"?0:1},s.toFn(n))}:s}function qf(e,t,i,s,n){const r=cS(e,t),a=(h,u)=>{n(i,{move:0,out:h},u)},o=(h,u)=>{n(i,{move:h},u)},l=(h,u)=>{n(i,{move:1,in:h},u)},c=s2(r,s);return{status:r,path:{addPhaseFn:l,updatePhaseFn:o,removePhaseFn:a},pathProperties:c}}function hS(e,t,i){var s,n;const r=((s=e.scales.x)==null?void 0:s.type)==="category",{result:a,resultMap:o}=r?rc(e,t,i):nc(e,t);let l="updated";if(t.visible&&!e.visible?l="removed":!t.visible&&e.visible&&(l="added"),a===void 0||o===void 0)return;const c=((n=i?.changed)!=null?n:!0)||e2(e,t),h=qf(e,t,a,"fade",Kf),u=Yf(o,l);return X(R({},h),{marker:u,hasMotion:c})}var Zf=L({"packages/ag-charts-community/src/chart/series/cartesian/lineUtil.ts"(){"use strict";ti(),la(),sc(),t2()}});function Eu(e){const{points:t}=e.fillData;return{top:t.slice(0,t.length/2),bottom:t.slice(t.length/2).reverse()}}function ar(e,t,i){return{scales:t.scales,nodeData:i[e],visible:t.visible}}function n2(e,t,i){const s=Eu(t),n=Eu(e),r={multiDatum:!0};return{top:rc(ar("top",e,n),ar("top",t,s),i,r),bottom:rc(ar("bottom",e,n),ar("bottom",t,s),i,r)}}function r2(e,t){const i=Eu(t),s=Eu(e);return{top:nc(ar("top",e,s),ar("top",t,i)),bottom:nc(ar("bottom",e,s),ar("bottom",t,i))}}function uS(e,t,i){var s;const n=((s=e.scales.x)==null?void 0:s.type)==="category";let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const a=()=>n?rc(e,t,i,{backfillSplitMode:"static",multiDatum:!0}):nc(e,t,{backfillSplitMode:"static"}),o=()=>n?n2(e,t,i):r2(e,t),{resultMap:l}=a(),{top:c,bottom:h}=o();if(l===void 0||c.result===void 0||h.result===void 0)return;const u=[...c.result,...h.result.reverse()],d=qf(e,t,u,"none",Kf),p=Yf(l,r);return{fill:d,marker:p}}var Qf,dS=L({"packages/ag-charts-community/src/chart/series/cartesian/areaUtil.ts"(){"use strict";Zf(),la(),sc(),Qf=(e=>(e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.Marker=2]="Marker",e[e.Label=3]="Label",e))(Qf||{})}}),Iu,pS,a2=L({"packages/ag-charts-community/src/chart/series/cartesian/areaSeries.ts"(){"use strict";ti(),Qb(),Gn(),gs(),fe(),Yt(),li(),vn(),$r(),Ns(),gn(),xf(),Eb(),te(),qn(),Zn(),pn(),Ii(),nr(),ZI(),dS(),Ni(),la(),sc(),Iu=class vA extends bn{constructor(t){super({moduleCtx:t,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:$f({getOpacity:()=>this.getOpacity()}),label:sr,marker:(i,s)=>R(R({},ec(i)),ic(i,s))}}),this.properties=new ve}processData(t){return B(this,null,function*(){if(this.data==null||!this.properties.isValid())return;const{data:i,visible:s,seriesGrouping:{groupIndex:n=this.id,stackCount:r=1}={}}=this,{xKey:a,yKey:o,connectMissingData:l,normalizedTo:c}=this.properties,h=!this.ctx.animationManager.isSkipped(),{isContinuousX:u,isContinuousY:d}=this.isContinuous(),p=[`area-stack-${n}-yValues`,`area-stack-${n}-yValues-trailing`,`area-stack-${n}-yValues-prev`,`area-stack-${n}-yValues-trailing-prev`,`area-stack-${n}-yValues-marker`],g=[];al(c)&&(g.push(ru(this,[p[0],p[1],p[4]],c,"range")),g.push(ru(this,[p[2],p[3]],c,"range"))),!u&&h&&this.processedData&&g.push(po(this.processedData)),h&&g.push(Hl(this));const f={invalidValue:null};l&&r>1&&(f.invalidValue=0),s||(f.forceValue=0),yield this.requestDataModel(t,i,{props:[fi(this,a,u,{id:"xValue"}),Ut(this,o,d,R({id:"yValueRaw"},f)),...Qn(this,o,d,"window","current",X(R({id:"yValueEnd"},f),{groupId:p[0]})),...Qn(this,o,d,"window-trailing","current",X(R({id:"yValueStart"},f),{groupId:p[1]})),...Qn(this,o,d,"window","last",X(R({id:"yValuePreviousEnd"},f),{groupId:p[2]})),...Qn(this,o,d,"window-trailing","last",X(R({id:"yValuePreviousStart"},f),{groupId:p[3]})),...Qn(this,o,d,"normal","current",X(R({id:"yValueCumulative"},f),{groupId:p[4]})),...g],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:i,dataModel:s,axes:n}=this;if(!i||!s||i.data.length===0)return[];const r=n.x,a=n.y,o=s.resolveProcessedDataDefById(this,"xValue"),l=s.getDomain(this,"xValue","key",i),c=s.getDomain(this,"yValueEnd","value",i);if(t==="x")return o?.def.type==="key"&&o.def.valueType==="category"?l:ii(Es(l),r);if(a instanceof Sn||a instanceof tr)return ii(c,a);{const h=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return ii(h,a)}}createNodeData(){return B(this,null,function*(){var t;const{axes:i,data:s,processedData:{data:n}={},dataModel:r}=this,a=i.x,o=i.y;if(!a||!o||!s||!r||!this.properties.isValid())return[];const{yKey:l,xKey:c,marker:h,label:u,fill:d,stroke:p,connectMissingData:g}=this.properties,{scale:f}=a,{scale:m}=o,y=Dt.is(m),v=((t=f.bandwidth)!=null?t:0)/2,x=r.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),S=P=>{const G=P,{point:j}=G,Y=ai(G,["point"]);return X(R({},Y),{point:X(R({},j),{moveTo:!0})})},_=(P,G,j)=>{const Y=f.convert(P)+v,Q=m.convert(G),J=m.convert(j);return[{point:{x:Y,y:J},yValue:j,xValue:P},{point:{x:Y,y:Q},yValue:G,xValue:P}]},D=(P,G,j)=>{let Y;return(al(this.properties.normalizedTo)?y&&dg(j):!isNaN(j))&&(Y=G),{x:f.convert(P)+v,y:m.convert(Y),size:h.size}},A=l,T=[],I=[],E={itemId:A,fillData:{itemId:A,points:[]},strokeData:{itemId:A,points:[]},labelData:T,nodeData:I,scales:tn(vA.prototype,this,"calculateScaling").call(this),visible:this.visible},N=E.fillData.points,C=[],O=E.strokeData.points;let w=-1,H,F=-1/0;return n?.forEach(P=>{const{keys:G,keys:[j],datum:Y,values:Q}=P;Q.forEach((J,et)=>{var it,U,st;w++;const nt=Y[et],ot=r.resolveProcessedDataDefsValues(x,{keys:G,values:J}),{yValueRaw:dt,yValueCumulative:gt}=ot;let{yValueStart:rt,yValueEnd:kt,yValuePreviousStart:vt,yValuePreviousEnd:de}=ot;const wt=dt!=null,Mt=D(j,+gt,dt);if(wt&&h&&I.push({index:w,series:this,itemId:A,datum:nt,midPoint:{x:Mt.x,y:Mt.y},cumulativeValue:kt,yValue:dt,xValue:j,yKey:l,xKey:c,point:Mt,fill:(it=h.fill)!=null?it:d,stroke:(U=h.stroke)!=null?U:p,strokeWidth:(st=h.strokeWidth)!=null?st:this.getStrokeWidth(this.properties.strokeWidth)}),wt&&u){const Zs=this.getLabelText(u,{value:dt,datum:nt,xKey:c,yKey:l,xName:this.properties.xName,yName:this.properties.yName},As=>ei(As)?As.toFixed(2):String(As));T.push({index:w,series:this,itemId:l,datum:nt,x:Mt.x,y:Mt.y,label:Zs?{text:Zs,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontSize:u.fontSize,fontFamily:u.fontFamily,textAlign:"center",textBaseline:"bottom",fill:u.color}:void 0})}const pe=H!=null&&j!=null,jt=F!=null&&wt;jt||(rt=rt??0,kt=rt??0,vt=vt??0,de=vt??0);const[We,ge]=_(H,vt,de),[Er,Ir]=_(j,rt,kt);pe&&(!g||jt)&&(N.push(We),C.push(ge),N.push(Er),C.push(Ir)),jt&&w>0&&(O.push(S(We)),O.push(Er)),H=j,F=dt})}),O.length>0&&(O[0]=S(O[0])),C.reverse(),N.push(...C),[E]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,i=Hn(t);return new i}updatePathNodes(t){return B(this,null,function*(){const{opacity:i,visible:s,animationEnabled:n}=t,[r,a]=t.paths,o=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:1,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:o,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:i,visible:s}),r.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:i,visible:s||n,strokeWidth:o}),Lu(this,a),Lu(this,r)})}updatePaths(t){return B(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,i){this.updateFillPath(t,i),this.updateStrokePath(t,i)}updateFillPath(t,i){i.forEach(({fillData:s},n)=>{const[r]=t[n],{path:a}=r;a.clear({trackChanges:!0});for(const{point:o}of s.points)o.moveTo?a.moveTo(o.x,o.y):a.lineTo(o.x,o.y);a.closePath(),r.checkPathDirty()})}updateStrokePath(t,i){i.forEach(({strokeData:s},n)=>{const[,r]=t[n],{path:a}=r;a.clear({trackChanges:!0});for(const{point:o}of s.points)o.moveTo?a.moveTo(o.x,o.y):a.lineTo(o.x,o.y);r.checkPathDirty()})}updateMarkerSelection(t){return B(this,null,function*(){const{nodeData:i,markerSelection:s}=t;return this.properties.marker.isDirty()&&(s.clear(),s.cleanup()),s.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(t){return B(this,null,function*(){const{markerSelection:i,isHighlight:s}=t,{xKey:n,yKey:r,marker:a,fill:o,stroke:l,strokeWidth:c,fillOpacity:h,strokeOpacity:u,highlightStyle:d}=this.properties,p=gi(s&&d.item,a.getStyle(),{fill:o,stroke:l,strokeWidth:c,fillOpacity:h,strokeOpacity:u});i.each((g,f)=>{this.updateMarkerStyle(g,a,{datum:f,highlighted:s,xKey:n,yKey:r},p)}),s||this.properties.marker.markClean()})}updateLabelSelection(t){return B(this,null,function*(){const{labelData:i,labelSelection:s}=t;return s.update(i,n=>{n.tag=3})})}updateLabelNodes(t){return B(this,null,function*(){const{labelSelection:i}=t,{enabled:s,fontStyle:n,fontWeight:r,fontSize:a,fontFamily:o,color:l}=this.properties.label;i.each((c,h)=>{const{x:u,y:d,label:p}=h;p&&s&&this.visible?(c.fontStyle=n,c.fontWeight=r,c.fontSize=a,c.fontFamily=o,c.textAlign=p.textAlign,c.textBaseline=p.textBaseline,c.text=p.text,c.x=u,c.y=d-10,c.fill=l,c.visible=!0):c.visible=!1})})}getTooltipHtml(t){const{id:i,axes:s,dataModel:n}=this,{xKey:r,xName:a,yName:o,tooltip:l,marker:c}=this.properties,{yKey:h,xValue:u,yValue:d,datum:p}=t,g=s.x,f=s.y;if(!this.properties.isValid()||!(g&&f&&ei(d))||!n)return"";const m=g.formatDatum(u),y=f.formatDatum(d),v=Wt(o),x=Wt(m+": "+y),S=gi({fill:this.properties.fill},c.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:_}=this.getMarkerStyle(c,{datum:t,xKey:r,yKey:h,highlighted:!1},S);return l.toTooltipHtml({title:v,content:x,backgroundColor:_},{datum:p,xKey:r,xName:a,yKey:h,yName:o,color:_,title:v,seriesId:i})}getLegendData(t){var i,s,n,r,a,o;if(!((i=this.data)!=null&&i.length)||!this.properties.isValid()||t!=="category")return[];const{yKey:l,yName:c,fill:h,stroke:u,fillOpacity:d,strokeOpacity:p,strokeWidth:g,lineDash:f,marker:m,visible:y}=this.properties;return[{legendType:t,id:this.id,itemId:l,seriesId:this.id,enabled:y,label:{text:c??l},marker:{shape:m.shape,fill:(s=m.fill)!=null?s:h,stroke:(n=m.stroke)!=null?n:u,fillOpacity:(r=m.fillOpacity)!=null?r:d,strokeOpacity:(a=m.strokeOpacity)!=null?a:p,strokeWidth:(o=m.strokeWidth)!=null?o:0,enabled:m.enabled||g<=0},line:{stroke:u,strokeOpacity:p,strokeWidth:g,lineDash:f}}]}animateEmptyUpdateReady(t){const{markerSelections:i,labelSelections:s,contextData:n,paths:r}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(r,n),Xf(this,a,r.flat()),me(i,ic),Uf(this,a,i),$t(this,"labels",a,s)}animateReadyResize(t){const{contextData:i,paths:s}=t;this.updateAreaPaths(s,i),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var i,s;const{animationManager:n}=this.ctx,{markerSelections:r,labelSelections:a,contextData:o,paths:l,previousContextData:c}=t;if(super.resetAllAnimation(t),o.length===0||!c||c.length===0){n.skipCurrentBatch(),this.updateAreaPaths(l,o);return}const[[h,u]]=l,[d]=o,[p]=c,g=uS(d,p,(s=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:s.diff);if(g===void 0){n.skipCurrentBatch(),this.updateAreaPaths(l,o);return}ee(this.id,"marker_update",n,r,g.marker),ee(this.id,"fill_path_properties",n,[h],g.fill.pathProperties),Zb(this.id,"fill_path_update",n,[h],g.fill.path),this.updateStrokePath(l,o),sS(this,"stroke",n,[u]),$t(this,"labels",n,a)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new at}},Iu.className="AreaSeries",Iu.type="area",pS=Iu}}),gS,o2=L({"packages/ag-charts-community/src/chart/series/cartesian/areaSeriesModule.ts"(){"use strict";vo(),Ef(),Me(),a2(),gS={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:pS,stackable:!0,seriesDefaults:Tf,themeTemplate:{__extends__:Us,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:oa,xOffset:3,yOffset:3,blur:5},marker:{__extends__:na,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ae,color:_e,formatter:void 0}},paletteFactory:e=>{const{marker:t}=yo(e);return{fill:t.fill,stroke:t.stroke,marker:t}}}}}),Nu,Jf,tm=L({"packages/ag-charts-community/src/chart/series/cartesian/abstractBarSeries.ts"(){"use strict";ht(),te(),Ni(),Nu=class extends xn{constructor(){super(...arguments),this.direction="vertical"}},b([k(Lp)],Nu.prototype,"direction",2),Jf=class extends bn{getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}}}}),em,oe,l2=L({"packages/ag-charts-community/src/chart/series/cartesian/barSeriesProperties.ts"(){"use strict";Ml(),ht(),ms(),rr(),tm(),em=class extends Se{constructor(){super(...arguments),this.placement="inside"}},b([k(Tp)],em.prototype,"placement",2),oe=class extends Nu{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new vs,this.label=new em,this.tooltip=new yi}},b([k($)],oe.prototype,"xKey",2),b([k($,{optional:!0})],oe.prototype,"xName",2),b([k($)],oe.prototype,"yKey",2),b([k($,{optional:!0})],oe.prototype,"yName",2),b([k($,{optional:!0})],oe.prototype,"stackGroup",2),b([k(Et,{optional:!0})],oe.prototype,"normalizedTo",2),b([k(bt)],oe.prototype,"fill",2),b([k(Ot)],oe.prototype,"fillOpacity",2),b([k(bt)],oe.prototype,"stroke",2),b([k(K)],oe.prototype,"strokeWidth",2),b([k(Ot)],oe.prototype,"strokeOpacity",2),b([k(an)],oe.prototype,"lineDash",2),b([k(K)],oe.prototype,"lineDashOffset",2),b([k(K)],oe.prototype,"cornerRadius",2),b([k(us,{optional:!0})],oe.prototype,"formatter",2),b([k(xt,{optional:!0})],oe.prototype,"shadow",2),b([k(xt)],oe.prototype,"label",2),b([k(xt)],oe.prototype,"tooltip",2)}});function fS({rect:e,config:t}){const{crisp:i=!0,fill:s,stroke:n,strokeWidth:r,fillOpacity:a,strokeOpacity:o,lineDash:l,lineDashOffset:c,fillShadow:h,cornerRadius:u=0,topLeftCornerRadius:d,topRightCornerRadius:p,bottomRightCornerRadius:g,bottomLeftCornerRadius:f,cornerRadiusBbox:m,visible:y=!0}=t;e.crisp=i,e.fill=s,e.stroke=n,e.strokeWidth=r,e.fillOpacity=a,e.strokeOpacity=o,e.lineDash=l,e.lineDashOffset=c,e.fillShadow=h,e.topLeftCornerRadius=d?u:0,e.topRightCornerRadius=p?u:0,e.bottomRightCornerRadius=g?u:0,e.bottomLeftCornerRadius=f?u:0,e.cornerRadiusBbox=m,e.visible=y}function mS(e){var t=e,{datum:i,isHighlighted:s,style:n,highlightStyle:r,formatter:a,seriesId:o,ctx:{callbackCache:l}}=t,c=ai(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]),h,u,d,p,g,f;const{fill:m,fillOpacity:y,stroke:v,strokeWidth:x}=gi(s&&r,n),{strokeOpacity:S,fillShadow:_,lineDash:D,lineDashOffset:A,cornerRadius:T=0,topLeftCornerRadius:I=!0,topRightCornerRadius:E=!0,bottomRightCornerRadius:N=!0,bottomLeftCornerRadius:C=!0,cornerRadiusBbox:O}=n;let w;return a&&(w=l.call(a,R({datum:i.datum,xKey:i.xKey,fill:m,stroke:v,strokeWidth:x,cornerRadius:T,highlighted:s,seriesId:o},c))),{fill:(h=w?.fill)!=null?h:m,stroke:(u=w?.stroke)!=null?u:v,strokeWidth:(d=w?.strokeWidth)!=null?d:x,fillOpacity:(p=w?.fillOpacity)!=null?p:y,strokeOpacity:(g=w?.strokeOpacity)!=null?g:S,lineDash:D,lineDashOffset:A,fillShadow:_,cornerRadius:(f=w?.cornerRadius)!=null?f:T,topLeftCornerRadius:I,topRightCornerRadius:E,bottomRightCornerRadius:N,bottomLeftCornerRadius:C,cornerRadiusBbox:O}}function yS(e=[]){const[t,i]=e;return!(t!==0||i!==1)}function ac(e,t){const{startingX:i,startingY:s}=h2(e,t),n=a=>{var o;return pl((o=a.yValue)!=null?o:0)};return{isVertical:e,calculate:(a,o)=>{let l=e?a.x:i,c=e?s:a.y,h=e?a.width:0,u=e?0:a.height;return o&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=o,h=e?o.width:0,u=e?0:o.height,e&&!n(o)?c+=o.height:!e&&n(o)&&(l+=o.width)),{x:l,y:c,width:h,height:u}}}}function c2(e){return{isVertical:e,calculate:t=>({x:e?t.x:t.x+t.width/2,y:e?t.y+t.height/2:t.y,width:e?t.width:0,height:e?0:t.height})}}function oc(e){const t=n=>n==null||isNaN(n.x)||isNaN(n.y);return{toFn:(n,r,a)=>a==="removed"||t(r)?e.calculate(r,n.previousDatum):{x:r.x,y:r.y,width:r.width,height:r.height},fromFn:(n,r,a)=>{a==="updated"&&t(r)?a="removed":a==="updated"&&t(n.previousDatum)&&(a="added");let o={x:n.x,y:n.y,width:n.width,height:n.height};return(a==="unknown"||a==="added")&&(o=e.calculate(r,n.previousDatum)),R(R({},o),Ne[a])}}}function h2(e,t){const i=t[e?"y":"x"];let s=1/0,n=0;return i?(e?n=i.scale.convert(Dt.is(i.scale)?0:Math.max(...i.range)):s=i.scale.convert(Dt.is(i.scale)?0:Math.min(...i.range)),{startingX:s,startingY:n}):{startingX:s,startingY:n}}function im(e,{x:t,y:i,width:s,height:n}){return{x:t,y:i,width:s,height:n}}var sm=L({"packages/ag-charts-community/src/chart/series/cartesian/barUtil.ts"(){"use strict";ti(),gs(),Ee(),vn(),te()}});function vS(e,t,i){if(t.enabled&&i){const{x:s,y:n,text:r,textAlign:a,textBaseline:o}=i,{color:l,fontStyle:c,fontWeight:h,fontSize:u,fontFamily:d}=t;e.setProperties({visible:!0,x:s,y:n,text:r,fill:l,fontStyle:c,fontWeight:h,fontSize:u,fontFamily:d,textAlign:a,textBaseline:o})}else e.visible=!1}function xS({isPositive:e,isVertical:t,placement:i,padding:s=0,rect:n}){let r=n.x+n.width/2,a=n.y+n.height/2,o="center",l="middle";switch(i){case"start":{t?(a=e?n.y+n.height+s:n.y-s,l=e?"top":"bottom"):(r=e?n.x-s:n.x+n.width+s,o=e?"start":"end");break}case"outside":case"end":{t?(a=e?n.y-s:n.y+n.height+s,l=e?"bottom":"top"):(r=e?n.x+n.width+s:n.x-s,o=e?"start":"end");break}}return{x:r,y:a,textAlign:o,textBaseline:l}}var bS=L({"packages/ag-charts-community/src/chart/series/cartesian/labelUtil.ts"(){"use strict"}}),Cu,SS,u2=L({"packages/ag-charts-community/src/chart/series/cartesian/barSeries.ts"(){"use strict";ti(),Ya(),gs(),Pt(),Yt(),El(),li(),$r(),gn(),zl(),Bg(),xf(),te(),qn(),Zn(),Ii(),nr(),tm(),l2(),sm(),bS(),Cu=class xA extends Jf{constructor(t){super({moduleCtx:t,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationResetFns:{datum:im,label:sr}}),this.properties=new oe,this.groupScale=new cs,this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}processData(t){return B(this,null,function*(){var i,s,n,r;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:a=this.id}={},data:o=[]}=this,{xKey:l,yKey:c,normalizedTo:h}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=Math.abs(h??NaN),p=Dt.is((i=this.getCategoryAxis())==null?void 0:i.scale),g=Dt.is((s=this.getValueAxis())==null?void 0:s.scale),f=`bar-stack-${a}-yValues`,m=`${f}-trailing`,y=d&&isFinite(d)?d:void 0,v=[];y&&v.push(ru(this,[f,m],y,"range")),u&&this.processedData&&v.push(po(this.processedData)),u&&v.push(Hl(this));const x=this.visible?{}:{forceValue:0},{processedData:S}=yield this.requestDataModel(t,o,{props:[fi(this,l,p,{id:"xValue"}),Ut(this,c,g,R({id:"yValue-raw",invalidValue:null},x)),...Qn(this,c,g,"normal","current",R({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:f,separateNegative:!0},x)),...Qn(this,c,g,"trailing","current",R({id:"yValue-start",invalidValue:null,missingValue:0,groupId:m,separateNegative:!0},x)),...p?[au]:[],...v],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:(r=(n=S.reduced)==null?void 0:n.smallestKeyInterval)!=null?r:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var i;const{processedData:s,dataModel:n}=this;if(!s||!n||s.data.length===0)return[];const{reduced:{[au.property]:r}={}}=s,a=this.getCategoryAxis(),o=this.getValueAxis(),l=n.resolveProcessedDataDefById(this,"xValue"),c=n.getDomain(this,"xValue","key",s),h=n.getDomain(this,"yValue-end","value",s);if(t===this.getCategoryDirection()){if(l?.def.type==="key"&&l?.def.valueType==="category")return c;const u=r!=null&&isFinite(r)?r:0,d=(i=Es(c))!=null?i:[NaN,NaN],p=a?.isReversed();if(t==="y"){const m=d[0]+(p?0:-u),y=d[1]+(p?u:0);return ii([m,y],a)}const g=d[0]+(p?-u:0),f=d[1]+(p?0:u);return ii([g,f],a)}else{if(this.getValueAxis()instanceof Sn)return ii(h,o);{const u=[h[0]>0?0:h[0],h[1]<0?0:h[1]];return ii(u,o)}}}createNodeData(){return B(this,null,function*(){const{dataModel:t}=this,i=this.getCategoryAxis(),s=this.getValueAxis();if(!(t&&i&&s&&this.properties.isValid()))return[];const n=i.scale,r=s.scale,{groupScale:a,processedData:o,smallestDataInterval:l,ctx:{seriesStateManager:c}}=this,{xKey:h,yKey:u,xName:d,yName:p,fill:g,stroke:f,strokeWidth:m,cornerRadius:y,legendItemName:v,label:x}=this.properties,S=s.isReversed(),_=Dt.is(n)?n.calcBandwidth(l?.x):n.bandwidth,D=[],{index:A,visibleGroupCount:T}=c.getVisiblePeerGroupIndex(this);for(let P=0;P<T;P++)D.push(String(P));a.domain=D,a.range=[0,_??0],i instanceof Gs?a.paddingInner=i.groupPaddingInner:i instanceof Xn?a.padding=.1:a.padding=0,a.round=a.padding!==0;const I=a.bandwidth>=1?a.bandwidth:a.rawBandwidth,E=t.resolveProcessedDataIndexById(this,"xValue").index,N=t.resolveProcessedDataIndexById(this,"yValue-raw").index,C=t.resolveProcessedDataIndexById(this,"yValue-start").index,O=t.resolveProcessedDataIndexById(this,"yValue-end").index,w=t.resolveProcessedDataDefById(this,"yValue-range").index,H=!this.ctx.animationManager.isSkipped(),F=[];return o?.data.forEach(({keys:P,datum:G,values:j,aggValues:Y})=>{j.forEach((Q,J)=>{var et,it;(et=F[J])!=null||(F[J]={itemId:u,nodeData:[],labelData:[],scales:tn(xA.prototype,this,"calculateScaling").call(this),visible:this.visible||H});const U=P[E],st=n.convert(U),nt=+Q[O],ot=+Q[C],dt=Q[N],gt=dt>=0,rt=gt!==S,kt=(it=Y?.[w][gt?1:0])!=null?it:0,vt=st+a.convert(String(A));if(isNaN(nt))return;const de=r.convert(nt),wt=r.convert(ot),Mt=this.getBarDirection()==="x",pe=r.convert(kt),jt=r.convert(0),We=new ut(Mt?Math.min(jt,pe):vt,Mt?vt:Math.min(jt,pe),Mt?Math.abs(jt-pe):I,Mt?I:Math.abs(jt-pe)),ge={x:Mt?Math.min(de,wt):vt,y:Mt?vt:Math.min(de,wt),width:Mt?Math.abs(wt-de):I,height:Mt?I:Math.abs(wt-de),cornerRadiusBbox:We},{fontStyle:Er,fontWeight:Ir,fontSize:Zs,fontFamily:As,color:Pc,placement:jd}=x,Rn=this.getLabelText(this.properties.label,{datum:G[J],value:dt,xKey:h,yKey:u,xName:d,yName:p,legendItemName:v},Fc=>ei(Fc)?Fc.toFixed(2):""),wn=Rn?R({text:Rn,fill:Pc,fontStyle:Er,fontWeight:Ir,fontSize:Zs,fontFamily:As},xS({isPositive:gt,isVertical:!Mt,placement:jd,rect:ge})):void 0,Le=this.shouldFlipXY()?ge.height:ge.width,Kd={series:this,itemId:u,datum:G[J],cumulativeValue:nt,xValue:U,yValue:dt,yKey:u,xKey:h,capDefaults:{lengthRatioMultiplier:Le,lengthMax:Le},x:ge.x,y:ge.y,width:ge.width,height:ge.height,midPoint:{x:ge.x+ge.width/2,y:ge.y+ge.height/2},fill:g,stroke:f,strokeWidth:m,cornerRadius:y,topLeftCornerRadius:Mt!==rt,topRightCornerRadius:rt,bottomRightCornerRadius:Mt===rt,bottomLeftCornerRadius:!rt,cornerRadiusBbox:We,label:wn};F[J].nodeData.push(Kd),F[J].labelData.push(Kd)})}),F})}nodeFactory(){return new Ce}updateDatumSelection(t){return B(this,null,function*(){return t.datumSelection.update(t.nodeData,i=>{i.tag=0},i=>i.xValue)})}updateDatumNodes(t){return B(this,null,function*(){if(!this.properties.isValid())return;const{yKey:i,stackGroup:s,fill:n,fillOpacity:r,stroke:a,strokeWidth:o,strokeOpacity:l,lineDash:c,lineDashOffset:h,formatter:u,shadow:d,highlightStyle:{item:p}}=this.properties,g=this.axes.x,f=yS(g?.visibleRange),m=this.getCategoryDirection()==="x";t.datumSelection.each((y,v)=>{const x={fill:n,stroke:a,fillOpacity:r,strokeOpacity:l,lineDash:c,lineDashOffset:h,fillShadow:d,strokeWidth:this.getStrokeWidth(o),cornerRadius:v.cornerRadius,topLeftCornerRadius:v.topLeftCornerRadius,topRightCornerRadius:v.topRightCornerRadius,bottomRightCornerRadius:v.bottomRightCornerRadius,bottomLeftCornerRadius:v.bottomLeftCornerRadius,cornerRadiusBbox:v.cornerRadiusBbox},S=m?v.width>0:v.height>0,_=mS({datum:v,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:p,yKey:i,style:x,formatter:u,stackGroup:s});_.crisp=f,_.visible=S,fS({rect:y,config:_})})})}updateLabelSelection(t){return B(this,null,function*(){const i=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(i,s=>{s.tag=1,s.pointerEvents=1})})}updateLabelNodes(t){return B(this,null,function*(){t.labelSelection.each((i,s)=>{vS(i,this.properties.label,s.label)})})}getTooltipHtml(t){var i;const{id:s,processedData:n,ctx:{callbackCache:r}}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!n||!this.properties.isValid()||!a||!o)return"";const{xKey:l,yKey:c,xName:h,yName:u,fill:d,stroke:p,strokeWidth:g,tooltip:f,formatter:m,stackGroup:y}=this.properties,{xValue:v,yValue:x,datum:S}=t,_=a.formatDatum(v),D=o.formatDatum(x),A=Wt(u),T=Wt(_+": "+D);let I;m&&(I=r.call(m,{seriesId:s,datum:S,xKey:l,yKey:c,stackGroup:y,fill:d,stroke:p,strokeWidth:this.getStrokeWidth(g),highlighted:!1}));const E=(i=I?.fill)!=null?i:d;return f.toTooltipHtml({title:A,content:T,backgroundColor:E},R({seriesId:s,datum:S,xKey:l,yKey:c,xName:h,yName:u,stackGroup:y,title:A,color:E},this.getModuleTooltipParams()))}getLegendData(t){var i,s;const{showInLegend:n}=this.properties;if(t!=="category"||!((i=this.data)!=null&&i.length)||!this.properties.isValid()||!n)return[];const{yKey:r,yName:a,fill:o,stroke:l,strokeWidth:c,fillOpacity:h,strokeOpacity:u,legendItemName:d,visible:p}=this.properties;return[{legendType:"category",id:this.id,itemId:r,seriesId:this.id,enabled:p,label:{text:(s=d??a)!=null?s:r},marker:{fill:o,fillOpacity:h,stroke:l,strokeWidth:c,strokeOpacity:u},legendItemName:d}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:i,annotationSelections:s}){const n=oc(ac(this.isVertical(),this.axes));ee(this.id,"nodes",this.ctx.animationManager,t,n),$t(this,"labels",this.ctx.animationManager,i),$t(this,"annotations",this.ctx.animationManager,s)}animateWaitingUpdateReady(t){var i,s;const{datumSelections:n,labelSelections:r,annotationSelections:a}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const o=(s=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:s.diff,l=oc(ac(this.isVertical(),this.axes));ee(this.id,"nodes",this.ctx.animationManager,n,l,(c,h)=>String(h.xValue),o),$t(this,"labels",this.ctx.animationManager,r),$t(this,"annotations",this.ctx.animationManager,a)}isLabelEnabled(){return this.properties.label.enabled}},Cu.className="BarSeries",Cu.type="bar",SS=Cu}}),_S,d2=L({"packages/ag-charts-community/src/chart/series/cartesian/barSeriesModule.ts"(){"use strict";vo(),er(),Me(),u2(),_S={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:SS,stackable:!0,groupable:!0,seriesDefaults:{axes:[{type:ji.NUMBER,position:Hi.LEFT},{type:ji.CATEGORY,position:Hi.BOTTOM}]},swapDefaultAxesCondition:e=>e?.direction==="horizontal",themeTemplate:{__extends__:Us,fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:ia.NORMAL,fontSize:12,fontFamily:ae,color:ra,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:oa,xOffset:3,yOffset:3,blur:5}},enterpriseThemeTemplate:{errorBar:{cap:{lengthRatio:.3}}},paletteFactory:yu}}}),Ou,ke,p2=L({"packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesProperties.ts"(){"use strict";rl(),ht(),ms(),tc(),rr(),Ni(),Ou=class extends si{constructor(){super(...arguments),this.maxSize=30}},b([k(K),Z({redraw:3})],Ou.prototype,"maxSize",2),b([k(yl,{optional:!0}),Z({redraw:3})],Ou.prototype,"domain",2),ke=class extends xn{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new Ou,this.label=new Se,this.tooltip=new yi}},b([k($)],ke.prototype,"xKey",2),b([k($)],ke.prototype,"yKey",2),b([k($)],ke.prototype,"sizeKey",2),b([k($,{optional:!0})],ke.prototype,"labelKey",2),b([k($,{optional:!0})],ke.prototype,"colorKey",2),b([k($,{optional:!0})],ke.prototype,"xName",2),b([k($,{optional:!0})],ke.prototype,"yName",2),b([k($,{optional:!0})],ke.prototype,"sizeName",2),b([k($,{optional:!0})],ke.prototype,"labelName",2),b([k($,{optional:!0})],ke.prototype,"colorName",2),b([k(yl,{optional:!0})],ke.prototype,"colorDomain",2),b([k(Ps)],ke.prototype,"colorRange",2),b([k($,{optional:!0})],ke.prototype,"title",2),b([k(xt)],ke.prototype,"marker",2),b([k(xt)],ke.prototype,"label",2),b([k(xt)],ke.prototype,"tooltip",2)}}),MS,Ru,kS,g2=L({"packages/ag-charts-community/src/chart/series/cartesian/bubbleSeries.ts"(){"use strict";Dl(),Ol(),cn(),fe(),li(),vn(),$r(),te(),qn(),Zn(),pn(),Ii(),nr(),p2(),Ni(),la(),MS=class extends uu{constructor(e,t,i,s){super(e,t,i,s),this.sizeKey=s.properties.sizeKey}},Ru=class bA extends bn{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:sr,marker:ec}}),this.NodeClickEvent=MS,this.properties=new ke,this.sizeScale=new Un,this.colorScale=new Wn}processData(t){return B(this,null,function*(){var i,s;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:n,isContinuousY:r}=this.isContinuous(),{xKey:a,yKey:o,sizeKey:l,labelKey:c,colorDomain:h,colorRange:u,colorKey:d,marker:p}=this.properties,{dataModel:g,processedData:f}=yield this.requestDataModel(t,this.data,{props:[fi(this,a,n,{id:"xKey-raw"}),fi(this,o,r,{id:"yKey-raw"}),...c?[fi(this,c,!1,{id:"labelKey-raw"})]:[],Ut(this,a,n,{id:"xValue"}),Ut(this,o,r,{id:"yValue"}),Ut(this,l,!0,{id:"sizeValue"}),...d?[Ut(this,d,!0,{id:"colorValue"})]:[],...c?[Ut(this,c,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),m=g.resolveProcessedDataIndexById(this,"sizeValue").index,y=(i=f.domain.values[m])!=null?i:[];if(this.sizeScale.domain=p.domain?p.domain:y,d){const v=g.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(s=h??f.domain.values[v])!=null?s:[],this.colorScale.range=u,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:i,processedData:s}=this;if(!s||!i)return[];const n=t==="x"?"xValue":"yValue",r=i.resolveProcessedDataDefById(this,n),a=i.getDomain(this,n,"value",s);if(r?.def.type==="value"&&r?.def.valueType==="category")return a;const o=this.axes[t];return ii(Es(a),o)}createNodeData(){return B(this,null,function*(){var t,i,s;const{axes:n,dataModel:r,processedData:a,colorScale:o,sizeScale:l}=this,{xKey:c,yKey:h,sizeKey:u,labelKey:d,xName:p,yName:g,sizeName:f,labelName:m,label:y,colorKey:v,marker:x,visible:S}=this.properties,_=n.x,D=n.y;if(!(r&&a&&S&&_&&D))return[];const A=r.resolveProcessedDataIndexById(this,"xValue").index,T=r.resolveProcessedDataIndexById(this,"yValue").index,I=u?r.resolveProcessedDataIndexById(this,"sizeValue").index:-1,E=v?r.resolveProcessedDataIndexById(this,"colorValue").index:-1,N=d?r.resolveProcessedDataIndexById(this,"labelValue").index:-1,C=_.scale,O=D.scale,w=((t=C.bandwidth)!=null?t:0)/2,H=((i=O.bandwidth)!=null?i:0)/2,F=[];l.range=[x.size,x.maxSize];const P=y.getFont();for(const{values:G,datum:j}of(s=a.data)!=null?s:[]){const Y=G[A],Q=G[T],J=C.convert(Y)+w,et=O.convert(Q)+H,it=this.getLabelText(y,{value:d?G[N]:Q,datum:j,xKey:c,yKey:h,sizeKey:u,labelKey:d,xName:p,yName:g,sizeName:f,labelName:m}),U=Ht.getTextSize(String(it),P),st=u?l.convert(G[I]):x.size,nt=v?o.convert(G[E]):void 0;F.push({series:this,itemId:h,yKey:h,xKey:c,datum:j,xValue:Y,yValue:Q,sizeValue:G[I],point:{x:J,y:et,size:st},midPoint:{x:J,y:et},fill:nt,label:R({text:it},U)})}return[{itemId:h,nodeData:F,labelData:F,scales:tn(bA.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((i,s)=>i.concat(s.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker,i=Hn(t);return new i}updateMarkerSelection(t){return B(this,null,function*(){const{nodeData:i,markerSelection:s}=t;this.properties.marker.isDirty()&&(s.clear(),s.cleanup());const n=this.properties.marker.enabled?i:[];return s.update(n,void 0,r=>this.getDatumId(r))})}updateMarkerNodes(t){return B(this,null,function*(){const{markerSelection:i,isHighlight:s}=t,{xKey:n,yKey:r,sizeKey:a,labelKey:o,marker:l}=this.properties,c=gi(s&&this.properties.highlightStyle.item,l.getStyle());this.sizeScale.range=[l.size,l.maxSize],i.each((h,u)=>{this.updateMarkerStyle(h,l,{datum:u,highlighted:s,xKey:n,yKey:r,sizeKey:a,labelKey:o},c)}),s||this.properties.marker.markClean()})}updateLabelSelection(t){return B(this,null,function*(){var i,s;const n=this.properties.label.enabled?(s=(i=this.chart)==null?void 0:i.placeLabels().get(this))!=null?s:[]:[];return t.labelSelection.update(n.map(r=>X(R({},r.datum),{point:{x:r.x,y:r.y,size:r.datum.point.size}})))})}updateLabelNodes(t){return B(this,null,function*(){const{label:i}=this.properties;t.labelSelection.each((s,n)=>{var r,a,o,l;s.text=n.label.text,s.fill=i.color,s.x=(a=(r=n.point)==null?void 0:r.x)!=null?a:0,s.y=(l=(o=n.point)==null?void 0:o.y)!=null?l:0,s.fontStyle=i.fontStyle,s.fontWeight=i.fontWeight,s.fontSize=i.fontSize,s.fontFamily=i.fontFamily,s.textAlign="left",s.textBaseline="top"})})}getTooltipHtml(t){var i;const s=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!s||!n)return"";const{xKey:r,yKey:a,sizeKey:o,labelKey:l,xName:c,yName:h,sizeName:u,labelName:d,marker:p,tooltip:g}=this.properties,f=(i=this.properties.title)!=null?i:h,m=gi({fill:t.fill,strokeWidth:this.getStrokeWidth(p.strokeWidth)},p.getStyle()),{fill:y="gray"}=this.getMarkerStyle(p,{datum:t,highlighted:!1,xKey:r,yKey:a,sizeKey:o,labelKey:l},m),{datum:v,xValue:x,yValue:S,sizeValue:_,label:{text:D}}=t,A=Wt(s.formatDatum(x)),T=Wt(n.formatDatum(S));let I=`<b>${Wt(c??r)}</b>: ${A}<br><b>${Wt(h??a)}</b>: ${T}`;return o&&(I+=`<br><b>${Wt(u??o)}</b>: ${Wt(String(_))}`),l&&(I=`<b>${Wt(d??l)}</b>: ${Wt(D)}<br>`+I),g.toTooltipHtml({title:f,content:I,backgroundColor:y},{datum:v,xKey:r,xName:c,yKey:a,yName:h,sizeKey:o,sizeName:u,labelKey:l,labelName:d,title:f,color:y,seriesId:this.id})}getLegendData(){var t,i;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid())return[];const{yKey:s,yName:n,title:r,marker:a,visible:o}=this.properties,{shape:l,fill:c,stroke:h,fillOpacity:u,strokeOpacity:d,strokeWidth:p}=a;return[{legendType:"category",id:this.id,itemId:s,seriesId:this.id,enabled:o,label:{text:(i=r??n)!=null?i:s},marker:{shape:l,fill:c??"rgba(0, 0, 0, 0)",stroke:h??"rgba(0, 0, 0, 0)",fillOpacity:u??1,strokeOpacity:d??1,strokeWidth:p??0}}]}animateEmptyUpdateReady({markerSelections:t,labelSelections:i}){Wf(this,this.ctx.animationManager,t),$t(this,"labels",this.ctx.animationManager,i)}getDatumId(t){return go([`${t.xValue}`,`${t.yValue}`,t.label.text])}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new at}},Ru.className="BubbleSeries",Ru.type="bubble",kS=Ru}}),DS,f2=L({"packages/ag-charts-community/src/chart/series/cartesian/bubbleSeriesModule.ts"(){"use strict";vo(),er(),Me(),g2(),DS={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:kS,seriesDefaults:{axes:[{type:ji.NUMBER,position:Hi.BOTTOM},{type:ji.NUMBER,position:Hi.LEFT}]},themeTemplate:{__extends__:Us,tooltip:{position:{type:"node"}},marker:{__extends__:na,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ae,color:_e}},paletteFactory:yo}}}),le,m2=L({"packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesProperties.ts"(){"use strict";Ml(),ht(),ms(),rr(),Ni(),le=class extends xn{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new vs,this.label=new Se,this.tooltip=new yi}},b([k($)],le.prototype,"xKey",2),b([k($,{optional:!0})],le.prototype,"yKey",2),b([k($,{optional:!0})],le.prototype,"xName",2),b([k($,{optional:!0})],le.prototype,"yName",2),b([k(bt,{optional:!0})],le.prototype,"fill",2),b([k(Ot)],le.prototype,"fillOpacity",2),b([k(bt,{optional:!0})],le.prototype,"stroke",2),b([k(K)],le.prototype,"strokeWidth",2),b([k(Ot)],le.prototype,"strokeOpacity",2),b([k(an)],le.prototype,"lineDash",2),b([k(K)],le.prototype,"lineDashOffset",2),b([k(ct)],le.prototype,"areaPlot",2),b([k(Ha,{optional:!0})],le.prototype,"bins",2),b([k(Jt(["count","sum","mean"],"a histogram aggregation"))],le.prototype,"aggregation",2),b([k(K,{optional:!0})],le.prototype,"binCount",2),b([k(xt)],le.prototype,"shadow",2),b([k(xt)],le.prototype,"label",2),b([k(xt)],le.prototype,"tooltip",2)}}),nm,wu,AS,y2=L({"packages/ag-charts-community/src/chart/series/cartesian/histogramSeries.ts"(){"use strict";ti(),Yt(),El(),jh(),Ee(),te(),of(),qn(),Zn(),Ii(),nr(),sm(),Ni(),m2(),nm=10,wu=class SA extends bn{constructor(t){super({moduleCtx:t,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:im,label:sr}}),this.properties=new le,this.calculatedBins=[]}deriveBins(t){if(this.properties.binCount)return this.calculateNiceBins(t,this.properties.binCount);const i=Rh(t[0],t[1],nm),s=eo(t[0],t[1],nm),[n]=i,r=a=>[a,a+s];return[[n-s,n],...i.map(r)]}calculateNiceBins(t,i){const s=Math.floor(t[0]),n=t[1],r=i||1,{start:a,binSize:o}=this.calculateNiceStart(s,n,r);return this.getBins(a,n,o,r)}getBins(t,i,s,n){const r=[],a=this.calculatePrecision(s);for(let o=0;o<n;o++){const l=Math.round((t+o*s)*a)/a;let c=Math.round((t+(o+1)*s)*a)/a;o===n-1&&(c=Math.max(c,i)),r[o]=[l,c]}return r}calculatePrecision(t){let i=10;if(lh(t)&&t>0)for(;t<1;)i*=10,t*=10;return i}calculateNiceStart(t,i,s){const n=Math.abs(i-t)/s,r=Math.floor(Math.log10(n)),a=Math.pow(10,r);return{start:Math.floor(t/a)*a,binSize:n}}processData(t){return B(this,null,function*(){var i;const{xKey:s,yKey:n,areaPlot:r,aggregation:a}=this.properties,o=[fi(this,s,!0),cf];if(n){let c=rf(this,"groupCount");a==="count"||(a==="sum"?c=lb(this,"groupAgg"):a==="mean"&&(c=hb(this,"groupAgg"))),r&&(c=af(this,"groupAgg",c)),o.push(Ut(this,n,!0,{invalidValue:void 0}),c)}else{let c=rf(this,"groupAgg");r&&(c=af(this,"groupAgg",c)),o.push(c)}const l=c=>{var h;const u=ii(c.domain.keys[0]);if(u.length===0)return c.domain.groups=[],()=>[];const d=(h=this.properties.bins)!=null?h:this.deriveBins(u),p=d.length;return this.calculatedBins=[...d],g=>{const f=g.keys[0];for(let m=0;m<p;m++){const y=d[m];if(f>=y[0]&&f<y[1]||m===p-1&&f<=y[1])return y}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&o.push(po(this.processedData,!1)),yield this.requestDataModel(t,(i=this.data)!=null?i:[],{props:o,dataVisible:this.visible,groupByFn:l}),this.animationState.transition("updateData")})}getSeriesDomain(t){var i,s,n,r;const{processedData:a,dataModel:o}=this;if(!a||!o||!this.calculatedBins.length)return[];const l=o.getDomain(this,"groupAgg","aggregate",a),c=(i=this.calculatedBins)==null?void 0:i[0][0],h=(r=this.calculatedBins)==null?void 0:r[((n=(s=this.calculatedBins)==null?void 0:s.length)!=null?n:0)-1][1];return ii(t==="x"?[c,h]:l)}createNodeData(){return B(this,null,function*(){var t;const{id:i,axes:s,processedData:n,ctx:{callbackCache:r}}=this,a=s.x,o=s.y;if(!this.visible||!a||!o||!n||n.type!=="grouped")return[];const{scale:l}=a,{scale:c}=o,{xKey:h,yKey:u,xName:d,yName:p,fill:g,stroke:f,strokeWidth:m}=this.properties,{formatter:y=T=>String(T.value),fontStyle:v,fontWeight:x,fontSize:S,fontFamily:_,color:D}=this.properties.label,A=[];return n.data.forEach(T=>{var I;const{aggValues:[[E,N]]=[[0,0]],datum:C,datum:{length:O},keys:w,keys:[H,F]}=T,P=l.convert(H),G=l.convert(F),j=E+N,Y=c.convert(0),Q=c.convert(j),J=Math.abs(G-P),et=Math.abs(Q-Y),it=Math.min(P,G),U=Math.min(Y,Q),st=j!==0?{text:(I=r.call(y,{value:j,datum:C,seriesId:i,xKey:h,yKey:u,xName:d,yName:p}))!=null?I:String(j),fontStyle:v,fontWeight:x,fontSize:S,fontFamily:_,fill:D,x:it+J/2,y:U+et/2}:void 0,nt={x:it+J/2,y:U+et/2};A.push({series:this,datum:C,aggregatedValue:j,frequency:O,domain:w,yKey:u,xKey:h,x:it,y:U,xValue:P,yValue:Q,width:J,height:et,midPoint:nt,fill:g,stroke:f,strokeWidth:m,label:st})}),[{itemId:(t=this.properties.yKey)!=null?t:this.id,nodeData:A,labelData:A,scales:tn(SA.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new Ce}updateDatumSelection(t){return B(this,null,function*(){const{nodeData:i,datumSelection:s}=t;return s.update(i,n=>{n.tag=0,n.crisp=!0},n=>n.domain.join("_"))})}updateDatumNodes(t){return B(this,null,function*(){const{isHighlight:i}=t,{fillOpacity:s,strokeOpacity:n,lineDash:r,lineDashOffset:a,shadow:o,highlightStyle:{item:{fill:l,fillOpacity:c=s,stroke:h,strokeWidth:u}}}=this.properties;t.datumSelection.each((d,p,g)=>{var f,m;const y=i&&u!==void 0?u:p.strokeWidth,v=i?c:s;d.fill=(f=i?l:void 0)!=null?f:p.fill,d.stroke=(m=i?h:void 0)!=null?m:p.stroke,d.fillOpacity=v,d.strokeOpacity=n,d.strokeWidth=y,d.lineDash=r,d.lineDashOffset=a,d.fillShadow=o,d.zIndex=i?ta.highlightedZIndex:g,d.visible=p.height>0})})}updateLabelSelection(t){return B(this,null,function*(){const{labelData:i,labelSelection:s}=t;return s.update(i,n=>{n.tag=1,n.pointerEvents=1,n.textAlign="center",n.textBaseline="middle"})})}updateLabelNodes(t){return B(this,null,function*(){const i=this.isLabelEnabled();t.labelSelection.each((s,n)=>{const r=n.label;r&&i?(s.text=r.text,s.x=r.x,s.y=r.y,s.fontStyle=r.fontStyle,s.fontWeight=r.fontWeight,s.fontSize=r.fontSize,s.fontFamily=r.fontFamily,s.fill=r.fill,s.visible=!0):s.visible=!1})})}getTooltipHtml(t){const i=this.axes.x,s=this.axes.y;if(!this.properties.isValid()||!i||!s)return"";const{xKey:n,yKey:r,xName:a,yName:o,fill:l,aggregation:c,tooltip:h}=this.properties,{aggregatedValue:u,frequency:d,domain:[p,g]}=t,f=`${Wt(a??n)}: ${i.formatDatum(p)} - ${i.formatDatum(g)}`;let m=r?`<b>${Wt(o??r)} (${c})</b>: ${s.formatDatum(u)}<br>`:"";m+=`<b>Frequency</b>: ${d}`;const y={title:f,backgroundColor:l,content:m};return h.toTooltipHtml(y,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:n,xName:a,yKey:r,yName:o,color:l,title:f,seriesId:this.id})}getLegendData(t){var i,s;if(!((i=this.data)!=null&&i.length)||t!=="category")return[];const{xKey:n,yName:r,fill:a,fillOpacity:o,stroke:l,strokeWidth:c,strokeOpacity:h,visible:u}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:u,label:{text:(s=r??n)!=null?s:"Frequency"},marker:{fill:a??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:o,strokeOpacity:h,strokeWidth:c}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:i}){const s=oc(ac(!0,this.axes));ee(this.id,"datums",this.ctx.animationManager,t,s),$t(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){var i,s;const n=(s=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:s.diff,r=oc(ac(!0,this.axes));ee(this.id,"datums",this.ctx.animationManager,t.datumSelections,r,(a,o)=>this.getDatumId(o),n),$t(this,"labels",this.ctx.animationManager,t.labelSelections)}getDatumId(t){return go(t.domain.map(i=>`${i}`))}isLabelEnabled(){return this.properties.label.enabled}},wu.className="HistogramSeries",wu.type="histogram",AS=wu}}),LS,v2=L({"packages/ag-charts-community/src/chart/series/cartesian/histogramSeriesModule.ts"(){"use strict";er(),Me(),y2(),LS={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:AS,seriesDefaults:{axes:[{type:ji.NUMBER,position:Hi.BOTTOM},{type:ji.NUMBER,position:Hi.LEFT}]},themeTemplate:{__extends__:Us,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ae,color:ra,formatter:void 0},shadow:{enabled:!1,color:oa,xOffset:3,yOffset:3,blur:5}},paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}}}}}),Ke,x2=L({"packages/ag-charts-community/src/chart/series/cartesian/lineSeriesProperties.ts"(){"use strict";ht(),ms(),tc(),rr(),Ni(),Ke=class extends xn{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new si,this.label=new Se,this.tooltip=new yi,this.connectMissingData=!1}},b([k($)],Ke.prototype,"xKey",2),b([k($)],Ke.prototype,"yKey",2),b([k($,{optional:!0})],Ke.prototype,"xName",2),b([k($,{optional:!0})],Ke.prototype,"yName",2),b([k($,{optional:!0})],Ke.prototype,"title",2),b([k(bt)],Ke.prototype,"stroke",2),b([k(K)],Ke.prototype,"strokeWidth",2),b([k(Ot)],Ke.prototype,"strokeOpacity",2),b([k(an)],Ke.prototype,"lineDash",2),b([k(K)],Ke.prototype,"lineDashOffset",2),b([k(xt)],Ke.prototype,"marker",2),b([k(xt)],Ke.prototype,"label",2),b([k(xt)],Ke.prototype,"tooltip",2),b([k(ct)],Ke.prototype,"connectMissingData",2)}}),Pu,TS,b2=L({"packages/ag-charts-community/src/chart/series/cartesian/lineSeries.ts"(){"use strict";ti(),Qb(),Gn(),fe(),Yt(),li(),vn(),$r(),gn(),te(),qn(),Zn(),pn(),Ii(),nr(),Ni(),x2(),Zf(),la(),sc(),Pu=class _A extends bn{constructor(t){super({moduleCtx:t,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:$f({getOpacity:()=>this.getOpacity()}),label:sr,marker:(i,s)=>R(R({},ec(i)),ic(i,s))}}),this.properties=new Ke}processData(t){return B(this,null,function*(){if(!this.properties.isValid()||this.data==null)return;const{xKey:i,yKey:s}=this.properties,n=!this.ctx.animationManager.isSkipped(),{isContinuousX:r,isContinuousY:a}=this.isContinuous(),o=[];r||(o.push(fi(this,i,r,{id:"xKey"})),n&&this.processedData&&o.push(po(this.processedData))),n&&o.push(Hl(this,r?["xValue"]:[])),o.push(Ut(this,i,r,{id:"xValue"}),Ut(this,s,a,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(t,this.data,{props:o}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{axes:i,dataModel:s,processedData:n}=this;if(!n||!s)return[];const r=i.x,a=i.y,o=s.resolveProcessedDataDefById(this,"xValue");if(t==="x"){const l=s.getDomain(this,"xValue","value",n);return o?.def.type==="value"&&o.def.valueType==="category"?l:ii(Es(l),r)}else{const l=s.getDomain(this,"yValue","value",n);return ii(l,a)}}createNodeData(){return B(this,null,function*(){var t,i,s;const{processedData:n,dataModel:r,axes:a}=this,o=a.x,l=a.y;if(!n||!r||!o||!l)return[];const{xKey:c,yKey:h,xName:u,yName:d,marker:p,label:g,connectMissingData:f}=this.properties,m=o.scale,y=l.scale,v=((t=m.bandwidth)!=null?t:0)/2,x=((i=y.bandwidth)!=null?i:0)/2,S=[],_=p.enabled?p.size:0,D=r.resolveProcessedDataIndexById(this,"xValue").index,A=r.resolveProcessedDataIndexById(this,"yValue").index;let T=!0,I;for(let E=0;E<n.data.length;E++){const{datum:N,values:C}=I??n.data[E],O=C[D],w=C[A];if(w===void 0)T=!f;else{const H=m.convert(O)+v;if(isNaN(H)){T=!f,I=void 0;continue}I=((s=n.data[E+1])==null?void 0:s.values[A])===void 0?void 0:n.data[E+1];const F=y.convert(w)+x,P=this.getLabelText(g,{value:w,datum:N,xKey:c,yKey:h,xName:u,yName:d},G=>ei(G)?G.toFixed(2):String(G));S.push({series:this,datum:N,yKey:h,xKey:c,point:{x:H,y:F,moveTo:T,size:_},midPoint:{x:H,y:F},yValue:w,xValue:O,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:P?{text:P,fontStyle:g.fontStyle,fontWeight:g.fontWeight,fontSize:g.fontSize,fontFamily:g.fontFamily,textAlign:"center",textBaseline:"bottom",fill:g.color}:void 0}),T=!1}}return[{itemId:h,nodeData:S,labelData:S,scales:tn(_A.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,i=Hn(t);return new i}updatePathNodes(t){return B(this,null,function*(){const{paths:[i],opacity:s,visible:n,animationEnabled:r}=t;i.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:s,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),r||(i.visible=n),Lu(this,i)})}updateMarkerSelection(t){return B(this,null,function*(){let{nodeData:i}=t;const{markerSelection:s}=t,{shape:n,enabled:r}=this.properties.marker;return i=n&&r?i:[],this.properties.marker.isDirty()&&(s.clear(),s.cleanup()),s.update(i,void 0,a=>this.getDatumId(a))})}updateMarkerNodes(t){return B(this,null,function*(){const{markerSelection:i,isHighlight:s}=t,{xKey:n,yKey:r,stroke:a,strokeWidth:o,strokeOpacity:l,marker:c,highlightStyle:h}=this.properties,u=gi(s&&h.item,c.getStyle(),{stroke:a,strokeWidth:o,strokeOpacity:l}),d=this.ctx.animationManager.isSkipped();i.each((p,g)=>{this.updateMarkerStyle(p,c,{datum:g,highlighted:s,xKey:n,yKey:r},u,{applyTranslation:d})}),s||c.markClean()})}updateLabelSelection(t){return B(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return B(this,null,function*(){const{enabled:i,fontStyle:s,fontWeight:n,fontSize:r,fontFamily:a,color:o}=this.properties.label;t.labelSelection.each((l,c)=>{const{point:h,label:u}=c;c&&u&&i?(l.fontStyle=s,l.fontWeight=n,l.fontSize=r,l.fontFamily=a,l.textAlign=u.textAlign,l.textBaseline=u.textBaseline,l.text=u.text,l.x=h.x,l.y=h.y-10,l.fill=o,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){var i;const s=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!s||!n)return"";const{xKey:r,yKey:a,xName:o,yName:l,strokeWidth:c,marker:h,tooltip:u}=this.properties,{datum:d,xValue:p,yValue:g}=t,f=s.formatDatum(p),m=n.formatDatum(g),y=Wt((i=this.properties.title)!=null?i:l),v=Wt(f+": "+m),x=gi({fill:h.stroke},h.getStyle(),{strokeWidth:c}),{fill:S}=this.getMarkerStyle(h,{datum:t,xKey:r,yKey:a,highlighted:!1},x);return u.toTooltipHtml({title:y,content:v,backgroundColor:S},R({datum:d,xKey:r,xName:o,yKey:a,yName:l,title:y,color:S,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var i,s,n,r,a,o,l,c,h;if(!((i=this.data)!=null&&i.length&&this.properties.isValid()&&t==="category"))return[];const{yKey:u,yName:d,stroke:p,strokeOpacity:g,strokeWidth:f,lineDash:m,title:y,marker:v,visible:x}=this.properties,S="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:u,seriesId:this.id,enabled:x,label:{text:(s=y??d)!=null?s:u},marker:{shape:v.shape,fill:(n=v.fill)!=null?n:S,stroke:(a=(r=v.stroke)!=null?r:p)!=null?a:S,fillOpacity:(o=v.fillOpacity)!=null?o:1,strokeOpacity:(c=(l=v.strokeOpacity)!=null?l:g)!=null?c:1,strokeWidth:(h=v.strokeWidth)!=null?h:0,enabled:v.enabled},line:{stroke:p??S,strokeOpacity:g,strokeWidth:f,lineDash:m}}]}updatePaths(t){return B(this,null,function*(){this.updateLinePaths([t.paths],[t.contextData])})}updateLinePaths(t,i){i.forEach(({nodeData:s},n)=>{const[r]=t[n],{path:a}=r;a.clear({trackChanges:!0});for(const o of s)o.point.moveTo?a.moveTo(o.point.x,o.point.y):a.lineTo(o.point.x,o.point.y);r.checkPathDirty()})}animateEmptyUpdateReady(t){const{markerSelections:i,labelSelections:s,annotationSelections:n,contextData:r,paths:a}=t,{animationManager:o}=this.ctx;this.updateLinePaths(a,r),Xf(this,o,a.flat()),me(i,ic),Uf(this,o,i),$t(this,"labels",o,s),$t(this,"annotations",o,n)}animateReadyResize(t){const{contextData:i,paths:s}=t;this.updateLinePaths(s,i),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var i,s;const{animationManager:n}=this.ctx,{markerSelections:r,labelSelections:a,annotationSelections:o,contextData:l,paths:c,previousContextData:h}=t;if(super.resetAllAnimation(t),l.length===0||!h||h.length===0){n.skipCurrentBatch(),this.updateLinePaths(c,l);return}const[u]=c,[d]=l,[p]=h,g=hS(d,p,(s=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:s.diff);if(g===void 0){n.skipCurrentBatch(),this.updateLinePaths(c,l);return}ee(this.id,"marker",n,r,g.marker),ee(this.id,"path_properties",n,u,g.pathProperties),Zb(this.id,"path_update",n,u,g.path),g.hasMotion&&($t(this,"labels",n,a),$t(this,"annotations",n,o))}getDatumId(t){return go([`${t.xValue}`])}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new at}},Pu.className="LineSeries",Pu.type="line",TS=Pu}}),ES,S2=L({"packages/ag-charts-community/src/chart/series/cartesian/lineSeriesModule.ts"(){"use strict";vo(),Ef(),Me(),b2(),ES={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:TS,seriesDefaults:Tf,themeTemplate:{__extends__:Us,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:na,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ae,color:_e,formatter:void 0}},enterpriseThemeTemplate:{errorBar:{cap:{lengthRatio:1}}},paletteFactory:e=>{const{marker:t}=yo(e);return{stroke:t.fill,marker:t}}}}}),Xe,_2=L({"packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesProperties.ts"(){"use strict";ht(),ms(),tc(),rr(),Ni(),Xe=class extends xn{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new si,this.label=new Se,this.tooltip=new yi}},b([k($)],Xe.prototype,"xKey",2),b([k($)],Xe.prototype,"yKey",2),b([k($,{optional:!0})],Xe.prototype,"labelKey",2),b([k($,{optional:!0})],Xe.prototype,"colorKey",2),b([k($,{optional:!0})],Xe.prototype,"xName",2),b([k($,{optional:!0})],Xe.prototype,"yName",2),b([k($,{optional:!0})],Xe.prototype,"labelName",2),b([k($,{optional:!0})],Xe.prototype,"colorName",2),b([k(yl,{optional:!0})],Xe.prototype,"colorDomain",2),b([k(Ps)],Xe.prototype,"colorRange",2),b([k($,{optional:!0})],Xe.prototype,"title",2),b([k(xt)],Xe.prototype,"marker",2),b([k(xt)],Xe.prototype,"label",2),b([k(xt)],Xe.prototype,"tooltip",2)}}),Fu,IS,M2=L({"packages/ag-charts-community/src/chart/series/cartesian/scatterSeries.ts"(){"use strict";Dl(),cn(),fe(),Yt(),li(),vn(),$r(),te(),qn(),pn(),Ii(),nr(),Ni(),la(),_2(),Fu=class MA extends bn{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:ec,label:sr}}),this.properties=new Xe,this.colorScale=new Wn}processData(t){return B(this,null,function*(){var i;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:s,isContinuousY:n}=this.isContinuous(),{xKey:r,yKey:a,labelKey:o,colorKey:l,colorDomain:c,colorRange:h}=this.properties,{dataModel:u,processedData:d}=yield this.requestDataModel(t,this.data,{props:[fi(this,r,s,{id:"xKey-raw"}),fi(this,a,n,{id:"yKey-raw"}),...o?[fi(this,o,!1,{id:"labelKey-raw"})]:[],Ut(this,r,s,{id:"xValue"}),Ut(this,a,n,{id:"yValue"}),...l?[Ut(this,l,!0,{id:"colorValue"})]:[],...o?[Ut(this,o,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(l){const p=u.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(i=c??d.domain.values[p])!=null?i:[],this.colorScale.range=h,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:i,processedData:s}=this;if(!s||!i)return[];const n=t==="x"?"xValue":"yValue",r=i.resolveProcessedDataDefById(this,n),a=i.getDomain(this,n,"value",s);if(r?.def.type==="value"&&r?.def.valueType==="category")return a;const o=this.axes[t];return ii(Es(a),o)}createNodeData(){return B(this,null,function*(){var t,i,s;const{axes:n,dataModel:r,processedData:a,colorScale:o}=this,{xKey:l,yKey:c,labelKey:h,colorKey:u,xName:d,yName:p,labelName:g,marker:f,label:m,visible:y}=this.properties,v=n.x,x=n.y;if(!(r&&a&&y&&v&&x))return[];const S=r.resolveProcessedDataIndexById(this,"xValue").index,_=r.resolveProcessedDataIndexById(this,"yValue").index,D=u?r.resolveProcessedDataIndexById(this,"colorValue").index:-1,A=h?r.resolveProcessedDataIndexById(this,"labelValue").index:-1,T=v.scale,I=x.scale,E=((t=T.bandwidth)!=null?t:0)/2,N=((i=I.bandwidth)!=null?i:0)/2,C=[],O=m.getFont();for(const{values:w,datum:H}of(s=a.data)!=null?s:[]){const F=w[S],P=w[_],G=T.convert(F)+E,j=I.convert(P)+N,Y=this.getLabelText(m,{value:h?w[A]:P,datum:H,xKey:l,yKey:c,labelKey:h,xName:d,yName:p,labelName:g}),Q=Ht.getTextSize(Y,O),J=u?o.convert(w[D]):void 0;C.push({series:this,itemId:c,yKey:c,xKey:l,datum:H,xValue:F,yValue:P,capDefaults:{lengthRatioMultiplier:f.getDiameter(),lengthMax:1/0},point:{x:G,y:j,size:f.size},midPoint:{x:G,y:j},fill:J,label:R({text:Y},Q)})}return[{itemId:c,nodeData:C,labelData:C,scales:tn(MA.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((i,s)=>i.concat(s.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker,i=Hn(t);return new i}updateMarkerSelection(t){return B(this,null,function*(){const{nodeData:i,markerSelection:s}=t;return this.properties.marker.isDirty()&&(s.clear(),s.cleanup()),s.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(t){return B(this,null,function*(){const{markerSelection:i,isHighlight:s}=t,{xKey:n,yKey:r,labelKey:a,marker:o,highlightStyle:l}=this.properties,c=gi(s&&l.item,o.getStyle());i.each((h,u)=>{this.updateMarkerStyle(h,o,{datum:u,highlighted:s,xKey:n,yKey:r,labelKey:a},c)}),s||o.markClean()})}updateLabelSelection(t){return B(this,null,function*(){var i,s;const n=this.isLabelEnabled()?(s=(i=this.chart)==null?void 0:i.placeLabels().get(this))!=null?s:[]:[];return t.labelSelection.update(n.map(({datum:r,x:a,y:o})=>X(R({},r),{point:{x:a,y:o,size:r.point.size}})),r=>{r.pointerEvents=1})})}updateLabelNodes(t){return B(this,null,function*(){const{label:i}=this.properties;t.labelSelection.each((s,n)=>{var r,a,o,l;s.text=n.label.text,s.fill=i.color,s.x=(a=(r=n.point)==null?void 0:r.x)!=null?a:0,s.y=(l=(o=n.point)==null?void 0:o.y)!=null?l:0,s.fontStyle=i.fontStyle,s.fontWeight=i.fontWeight,s.fontSize=i.fontSize,s.fontFamily=i.fontFamily,s.textAlign="left",s.textBaseline="top"})})}getTooltipHtml(t){const i=this.axes.x,s=this.axes.y;if(!this.properties.isValid()||!i||!s)return"";const{xKey:n,yKey:r,labelKey:a,xName:o,yName:l,labelName:c,title:h=l,marker:u,tooltip:d}=this.properties,{datum:p,xValue:g,yValue:f,label:m}=t,y=gi({fill:t.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:v="gray"}=this.getMarkerStyle(u,{datum:t,highlighted:!1,xKey:n,yKey:r,labelKey:a},y),x=Wt(i.formatDatum(g)),S=Wt(s.formatDatum(f));let _=`<b>${Wt(o??n)}</b>: ${x}<br><b>${Wt(l??r)}</b>: ${S}`;return a&&(_=`<b>${Wt(c??a)}</b>: ${Wt(m.text)}<br>`+_),d.toTooltipHtml({title:h,content:_,backgroundColor:v},R({datum:p,xKey:n,xName:o,yKey:r,yName:l,labelKey:a,labelName:c,title:h,color:v,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var i,s,n,r,a,o;const{yKey:l,yName:c,title:h,marker:u,visible:d}=this.properties,{fill:p,stroke:g,fillOpacity:f,strokeOpacity:m,strokeWidth:y}=u;return!((i=this.data)!=null&&i.length)||!this.properties.isValid()||t!=="category"?[]:[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:d,label:{text:(s=h??c)!=null?s:l},marker:{shape:u.shape,fill:(r=(n=u.fill)!=null?n:p)!=null?r:"rgba(0, 0, 0, 0)",stroke:(o=(a=u.stroke)!=null?a:g)!=null?o:"rgba(0, 0, 0, 0)",fillOpacity:f??1,strokeOpacity:m??1,strokeWidth:y??0}}]}animateEmptyUpdateReady(t){const{markerSelections:i,labelSelections:s,annotationSelections:n}=t;Wf(this,this.ctx.animationManager,i),$t(this,"labels",this.ctx.animationManager,s),$t(this,"annotations",this.ctx.animationManager,n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new at}},Fu.className="ScatterSeries",Fu.type="scatter",IS=Fu}}),NS,k2=L({"packages/ag-charts-community/src/chart/series/cartesian/scatterSeriesModule.ts"(){"use strict";vo(),er(),Me(),M2(),NS={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:IS,seriesDefaults:{axes:[{type:ji.NUMBER,position:Hi.BOTTOM},{type:ji.NUMBER,position:Hi.LEFT}]},themeTemplate:{__extends__:Us,tooltip:{position:{type:"node"}},marker:{__extends__:na,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ae,color:_e}},enterpriseThemeTemplate:{errorBar:{cap:{lengthRatio:1}}},paletteFactory:yo}}}),Ys,ca,rm=L({"packages/ag-charts-community/src/chart/themes/defaultColors.ts"(){"use strict";Ys={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},ca={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"}}}),am,Bu,zu,ha,Gu,lc,mt,D2=L({"packages/ag-charts-community/src/chart/series/polar/pieSeriesProperties.ts"(){"use strict";Ml(),os(),ht(),Xa(),ms(),rm(),hu(),rr(),am=class extends Vt{constructor(){super(...arguments),this.showInLegend=!1}},b([k(ct)],am.prototype,"showInLegend",2),Bu=class extends Se{constructor(){super(...arguments),this.margin=2}set(e,t){return super.set(e)}},b([k($)],Bu.prototype,"text",2),b([k(Et)],Bu.prototype,"margin",2),zu=class extends Te{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}},b([k(bt)],zu.prototype,"fill",2),b([k(Ot)],zu.prototype,"fillOpacity",2),ha=class extends Se{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}},b([k(K)],ha.prototype,"offset",2),b([k(zr)],ha.prototype,"minAngle",2),b([k(K)],ha.prototype,"minSpacing",2),b([k(K)],ha.prototype,"maxCollisionOffset",2),b([k(ct)],ha.prototype,"avoidCollisions",2),Gu=class extends Se{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}},b([k(Et)],Gu.prototype,"positionOffset",2),b([k(Ot)],Gu.prototype,"positionRatio",2),lc=class extends Te{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}},b([k(Ps,{optional:!0})],lc.prototype,"colors",2),b([k(K)],lc.prototype,"length",2),b([k(K)],lc.prototype,"strokeWidth",2),mt=class extends bs{constructor(){super(...arguments),this.fills=Object.values(Ys),this.strokes=Object.values(ca),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.innerRadiusOffset=0,this.innerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new ll(Bu),this.title=new am,this.innerCircle=new zu,this.shadow=new vs,this.calloutLabel=new ha,this.sectorLabel=new Gu,this.calloutLine=new lc,this.tooltip=new yi,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}},b([k($)],mt.prototype,"angleKey",2),b([k($,{optional:!0})],mt.prototype,"angleName",2),b([k($,{optional:!0})],mt.prototype,"radiusKey",2),b([k($,{optional:!0})],mt.prototype,"radiusName",2),b([k(K,{optional:!0})],mt.prototype,"radiusMin",2),b([k(K,{optional:!0})],mt.prototype,"radiusMax",2),b([k($,{optional:!0})],mt.prototype,"calloutLabelKey",2),b([k($,{optional:!0})],mt.prototype,"calloutLabelName",2),b([k($,{optional:!0})],mt.prototype,"sectorLabelKey",2),b([k($,{optional:!0})],mt.prototype,"sectorLabelName",2),b([k($,{optional:!0})],mt.prototype,"legendItemKey",2),b([k(Ps)],mt.prototype,"fills",2),b([k(Ps)],mt.prototype,"strokes",2),b([k(Ot)],mt.prototype,"fillOpacity",2),b([k(Ot)],mt.prototype,"strokeOpacity",2),b([k(an)],mt.prototype,"lineDash",2),b([k(K)],mt.prototype,"lineDashOffset",2),b([k(us,{optional:!0})],mt.prototype,"formatter",2),b([k(zr)],mt.prototype,"rotation",2),b([k(Et)],mt.prototype,"outerRadiusOffset",2),b([k(Ot)],mt.prototype,"outerRadiusRatio",2),b([k(Et)],mt.prototype,"innerRadiusOffset",2),b([k(Ot)],mt.prototype,"innerRadiusRatio",2),b([k(K)],mt.prototype,"strokeWidth",2),b([k(K,{optional:!0})],mt.prototype,"sectorSpacing",2),b([k(kp)],mt.prototype,"innerLabels",2),b([k(xt)],mt.prototype,"title",2),b([k(xt)],mt.prototype,"innerCircle",2),b([k(xt)],mt.prototype,"shadow",2),b([k(xt)],mt.prototype,"calloutLabel",2),b([k(xt)],mt.prototype,"sectorLabel",2),b([k(xt)],mt.prototype,"calloutLine",2),b([k(xt)],mt.prototype,"tooltip",2),b([k($,{optional:!0})],mt.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2)}});function om(e,t,i,s){const n=[i.convert(0),i.convert(1)],r=[s.convert(0),s.convert(1)],a=Math.PI/-2+Mi(t),o=({radius:d})=>({innerRadius:n[0],outerRadius:n[0]+(n[1]-n[0])*d}),l=({radius:d})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*d});return{nodes:{toFn:(d,p,g,{prevLive:f})=>{var m,y;let{startAngle:v,endAngle:x,innerRadius:S,outerRadius:_}=p;const{stroke:D,fill:A}=p.sectorFormat;if(g==="removed"&&f?(v=(m=f.datum)==null?void 0:m.endAngle,x=(y=f.datum)==null?void 0:y.endAngle):g==="removed"&&!f&&(v=a,x=a),g==="removed"){const T=o(p);S=T.innerRadius,_=T.outerRadius}return{startAngle:v,endAngle:x,outerRadius:_,innerRadius:S,stroke:D,fill:A}},fromFn:(d,p,g,{prevFromProps:f})=>{var m,y,v,x,S,_;let{startAngle:D,endAngle:A,innerRadius:T,outerRadius:I}=d,{fill:E,stroke:N}=p.sectorFormat;if(g==="unknown"||g==="added"&&!f?(D=a,A=a,T=p.innerRadius,I=p.outerRadius):g==="added"&&f&&(D=(m=f.endAngle)!=null?m:a,A=(y=f.endAngle)!=null?y:a,T=(v=f.innerRadius)!=null?v:p.innerRadius,I=(x=f.outerRadius)!=null?x:p.outerRadius),g==="added"&&!e){const C=l(p);T=C.innerRadius,I=C.outerRadius}return g==="updated"&&(E=(S=d.fill)!=null?S:E,N=(_=d.stroke)!=null?_:N),{startAngle:D,endAngle:A,innerRadius:T,outerRadius:I,fill:E,stroke:N}}},innerCircle:{fromFn:(d,p)=>{var g,f,m;return{size:(m=(f=(g=d.previousDatum)==null?void 0:g.radius)!=null?f:d.size)!=null?m:0}},toFn:(d,p)=>{var g;return{size:(g=p.radius)!=null?g:0}}}}}function A2(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}var L2=L({"packages/ag-charts-community/src/chart/series/polar/pieUtil.ts"(){"use strict";Bi()}}),Vu,lm=L({"packages/ag-charts-community/src/chart/series/polar/polarSeries.ts"(){"use strict";Gn(),wl(),fe(),Ur(),hi(),te(),Mb(),Ii(),Vu=class extends gf{constructor(e){var t=e,{useLabelLayer:i=!1,pickModes:s=[0],canHaveAxes:n=!1,animationResetFns:r}=t,a=ai(t,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(X(R({},a),{useLabelLayer:i,pickModes:s,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n})),this.sectorGroup=this.contentGroup.appendChild(new at),this.itemSelection=Xt.select(this.sectorGroup,()=>this.nodeFactory(),!1),this.labelSelection=Xt.select(this.labelGroup,Tt,!1),this.highlightSelection=Xt.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.sectorGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=r,this.animationState=new so("empty",{empty:{update:{target:"ready",action:o=>this.animateEmptyUpdateReady(o)}},ready:{updateData:"waiting",clear:"clearing",highlight:o=>this.animateReadyHighlight(o),highlightMarkers:o=>this.animateReadyHighlightMarkers(o),resize:o=>this.animateReadyResize(o)},waiting:{update:{target:"ready",action:o=>this.animateWaitingUpdateReady(o)}},clearing:{update:{target:"empty",action:o=>this.animateClearingUpdateEmpty(o)}}},()=>this.checkProcessedDataAnimatable())}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){var e;const{item:t,label:i}=(e=this.animationResetFns)!=null?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&me([this.itemSelection,this.highlightSelection],t),i&&me([this.labelSelection],i),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){var t;const{item:i}=(t=this.animationResetFns)!=null?t:{};i&&me([this.highlightSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}}}}),CS,cc,OS=L({"packages/ag-charts-community/src/chart/series/polar/pieSeries.ts"(){"use strict";ti(),Ol(),Pt(),fe(),Yt(),Ur(),to(),Kx(),hi(),Bi(),Os(),ft(),Ee(),vn(),$r(),jx(),gn(),te(),Zn(),ys(),wh(),Ii(),nr(),D2(),L2(),lm(),CS=class extends jl{constructor(e,t,i,s){super(e,t,i,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey,this.calloutLabelKey=s.properties.calloutLabelKey,this.sectorLabelKey=s.properties.sectorLabelKey}},cc=class extends Vu{constructor(e){super({moduleCtx:e,useLabelLayer:!0,animationResetFns:{item:A2,label:sr}}),this.properties=new mt,this.previousRadiusScale=new Un,this.radiusScale=new Un,this.backgroundGroup=this.rootGroup.appendChild(new at({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new at({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Yn),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Yn),this.innerCircleGroup=this.backgroundGroup.appendChild(new at({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=CS,this.angleScale=new Un,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(n=>n+Math.PI/2);const t=new at({name:"pieCalloutLabels"}),i=new at({name:"pieSectorLabels"}),s=new at({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(i),this.labelGroup.append(s),this.calloutLabelSelection=Xt.select(t,at),this.sectorLabelSelection=Xt.select(i,Tt),this.innerLabelsSelection=Xt.select(s,Tt),this.innerCircleSelection=Xt.select(this.innerCircleGroup,Yn);for(const n of[this.zerosumInnerRing,this.zerosumOuterRing])n.fillOpacity=0,n.stroke=this.properties.calloutLabel.color,n.strokeWidth=1,n.strokeOpacity=1}addChartEventListeners(){var e;(e=this.ctx.chartEventManager)==null||e.addListener("legend-item-click",t=>this.onLegendItemClick(t))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(e=>e):super.visible}processSeriesItemEnabled(){var e;const{data:t,visible:i}=this;this.seriesItemEnabled=(e=t?.map(()=>i))!=null?e:[]}nodeFactory(){return new Vi}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}processData(e){return B(this,null,function*(){var t,i,s,n,r;if(this.data==null||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:o}=this,{angleKey:l,radiusKey:c,calloutLabelKey:h,sectorLabelKey:u,legendItemKey:d}=this.properties,p=!this.ctx.animationManager.isSkipped(),g=[],f=[];d?g.push(fi(this,d,!1,{id:"legendItemKey"})):h?g.push(fi(this,h,!1,{id:"calloutLabelKey"})):u&&g.push(fi(this,u,!1,{id:"sectorLabelKey"})),c&&f.push(mb(this,c,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),Ut(this,c,!0,{id:"radiusRaw"}),lf(this,{id:"radiusValue"},[0,1],1,(i=this.properties.radiusMin)!=null?i:0,this.properties.radiusMax)),h&&f.push(Ut(this,h,!1,{id:"calloutLabelValue"})),u&&f.push(Ut(this,u,!1,{id:"sectorLabelValue"})),d&&f.push(Ut(this,d,!1,{id:"legendItemValue"})),p&&this.processedData&&g.length>0&&f.push(po(this.processedData)),f.push(Hl(this)),a=a.map((m,y)=>o[y]?m:X(R({},m),{[l]:0})),yield this.requestDataModel(e,a,{props:[...g,vb(this,l,!0,{id:"angleValue",onlyPositive:!0}),Ut(this,l,!0,{id:"angleRaw"}),lf(this,{id:"angleValue"},[0,1],0,0),...f]});for(const m of(r=(n=(s=this.processedData)==null?void 0:s.defs)==null?void 0:n.values)!=null?r:[]){const{id:y,missing:v,property:x}=m;y!=="angleRaw"&&v!==void 0&&v>0&&q.warnOnce(`no value was found for the key '${String(x)}' on ${v} data element${v>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return B(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:e=[]}={}]=yield this.createNodeData();this.nodeData=e,this.nodeDataRefresh=!1})}getProcessedDataIndexes(e){const t=e.resolveProcessedDataIndexById(this,"angleValue").index,i=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue").index:-1,s=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,n=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,r=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:i,calloutLabelIdx:s,sectorLabelIdx:n,legendItemIdx:r}}createNodeData(){return B(this,null,function*(){const{id:e,processedData:t,dataModel:i,angleScale:s}=this,{rotation:n}=this.properties;if(!t||!i||t.type!=="ungrouped")return[];const{angleIdx:r,radiusIdx:a,calloutLabelIdx:o,sectorLabelIdx:l,legendItemIdx:c}=this.getProcessedDataIndexes(i);let h=0,u=0;const d=t.data.map((p,g)=>{var f;const{datum:m,values:y}=p,v=y[r],x=s.convert(h)+Mi(n);h=v,u+=v;const S=s.convert(h)+Mi(n),_=Math.abs(S-x),D=x+_/2,A=y[r+1],T=a>=0&&(f=y[a])!=null?f:1,I=a>=0?y[a+1]:void 0,E=c>=0?y[c]:void 0,N=this.getLabels(m,D,_,!0,y[o],y[l],E),C=this.getSectorFormat(m,g,!1);return R({itemId:g,series:this,datum:m,index:g,angleValue:A,midAngle:D,midCos:Math.cos(D),midSin:Math.sin(D),startAngle:x,endAngle:S,sectorFormat:C,radiusValue:I,radius:T,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(T),0),legendItemValue:E},N)});return this.zerosumOuterRing.visible=u===0,this.zerosumInnerRing.visible=u===0&&this.properties.innerRadiusRatio!==1&&this.properties.innerRadiusRatio>0,[{itemId:e,nodeData:d,labelData:d}]})}getLabels(e,t,i,s,n,r,a){const{calloutLabel:o,sectorLabel:l,legendItemKey:c}=this.properties,h=!s||o.enabled?this.properties.calloutLabelKey:void 0,u=!s||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!u&&!c)return{};const d={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return h&&i>Mi(o.minAngle)&&(p.calloutLabel=X(R({},this.getTextAlignment(t)),{text:this.getLabelText(o,X(R({},d),{value:n})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),u&&(p.sectorLabel={text:this.getLabelText(l,X(R({},d),{value:r}))}),c!=null&&a!=null&&(p.legendItem={key:c,text:a}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=rh(e),s=-3*Math.PI/4,n=i-s,r=Math.floor(n/(Math.PI/2)),a=Sp(r,t.length);return t[a]}getSectorFormat(e,t,i){var s,n,r,a,o;const{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:h,radiusKey:u,fills:d,strokes:p,formatter:g,sectorSpacing:f,__BACKGROUND_COLOR_DO_NOT_USE:m}=this.properties,y=c.getActiveHighlight(),v=i&&y?.series===this&&t===y.itemId,{fill:x,fillOpacity:S,stroke:_,strokeWidth:D,strokeOpacity:A}=gi(v&&this.properties.highlightStyle.item,{fill:d.length>0?d[t%d.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:f!=null?p.length>0?p[t%p.length]:void 0:p.length>0?p[t%p.length]:m,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let T;return g&&(T=l.call(g,{datum:e,angleKey:h,radiusKey:u,fill:x,stroke:_,fills:d,strokes:p,strokeWidth:D,highlighted:v,seriesId:this.id})),{fill:(s=T?.fill)!=null?s:x,fillOpacity:(n=T?.fillOpacity)!=null?n:S,stroke:(r=T?.stroke)!=null?r:_,strokeWidth:(a=T?.strokeWidth)!=null?a:D,strokeOpacity:(o=T?.strokeOpacity)!=null?o:A}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t,innerRadiusOffset:i}=this.properties,s=e*t+i;return s===e||s<0?0:s}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(i=>{var s=i,{radius:n}=s,r=ai(s,["radius"]);return X(R({},r),{radius:n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n),0)})})}getTitleTranslationY(){var e,t;const i=Math.max(0,this.radiusScale.range[1]);if(i===0)return NaN;const n=2+((t=(e=this.properties.title)==null?void 0:e.spacing)!=null?t:0),r=Math.max(0,-i);return-i-n-r}update(e){return B(this,arguments,function*({seriesRect:t}){const{title:i}=this.properties,s={seriesRectWidth:t?.width,seriesRectHeight:t?.height},n=Cs(this.nodeDataDependencies,s)!=null;if(n&&(this._nodeDataDependencies=s),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(n),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const r=this.getTitleTranslationY(),a=i.node.computeBBox();i.node.visible=i.enabled&&isFinite(r)&&!this.bboxIntersectsSurroundingSeries(a,0,r),i.node.translationY=isFinite(r)?r:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var e,t;const{oldTitle:i}=this,{title:s}=this.properties;i!==s&&(i&&((e=this.labelGroup)==null||e.removeChild(i.node)),s&&(s.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(s.node)),this.oldTitle=s)}updateNodeMidPoint(){this.nodeData.forEach(e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}})}updateSelections(){return B(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return B(this,null,function*(){const{itemSelection:e,highlightSelection:t,calloutLabelSelection:i,sectorLabelSelection:s,innerLabelsSelection:n}=this,r=(a,o)=>{let l=this.nodeData;o&&(l=l.map(c=>X(R({},c),{sectorFormat:R({},c.sectorFormat)}))),a.update(l),this.ctx.animationManager.isSkipped()&&a.cleanup()};r(e,!1),r(t,!0),i.update(this.nodeData,a=>{const o=new ye;o.tag=1,o.pointerEvents=1,a.appendChild(o);const l=new Tt;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),s.update(this.nodeData,a=>{a.pointerEvents=1}),n.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const n=Math.min(i,this.getOuterRadius()),r=1;t=Math.ceil(n*2+r)}const s=e?[{radius:t}]:[];this.innerCircleSelection.update(s)}updateNodes(e){return B(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((n,{radius:r})=>{var a,o;n.setProperties({fill:(a=this.properties.innerCircle)==null?void 0:a.fill,opacity:(o=this.properties.innerCircle)==null?void 0:o.fillOpacity,size:r})});const s=(n,r,a,o)=>{const l=this.getSectorFormat(r.datum,r.itemId,o);r.sectorFormat.fill=l.fill,r.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(n.startAngle=r.startAngle,n.endAngle=r.endAngle,n.innerRadius=r.innerRadius,n.outerRadius=r.outerRadius),(o||c)&&(n.fill=l.fill,n.stroke=l.stroke),n.strokeWidth=l.strokeWidth,n.fillOpacity=l.fillOpacity,n.strokeOpacity=this.properties.strokeOpacity,n.lineDash=this.properties.lineDash,n.lineDashOffset=this.properties.lineDashOffset,n.fillShadow=this.properties.shadow,n.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,n.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((n,r,a)=>s(n,r,a,!1)),this.highlightSelection.each((n,r,a)=>{const o=t?.series===this&&n.datum.itemId===t.itemId;s(n,r,a,o),n.visible=o}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var e;const{calloutLine:t}=this.properties,i=t.length,s=t.strokeWidth,n=(e=t.colors)!=null?e:this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,o)=>{const l=a.datum,{calloutLabel:c,outerRadius:h}=l;if(c?.text&&!c.hidden&&h!==0){a.visible=!0,a.strokeWidth=s,a.stroke=n[o%n.length],a.fill=void 0;const u=l.midCos*h,d=l.midSin*h;let p=l.midCos*(h+i),g=l.midSin*(h+i);if((c.collisionTextAlign||c.collisionOffsetY!==0)&&c.box!=null){const m=c.box;let y=p,v=g;p<m.x?y=m.x:p>m.x+m.width&&(y=m.x+m.width),g<m.y?v=m.y:g>m.y+m.height&&(v=m.y+m.height);const x=y-p,S=v-g,_=Math.sqrt(Math.pow(x,2)+Math.pow(S,2)),D=_-r;D>0&&(p=p+x*D/_,g=g+S*D/_)}a.x1=u,a.y1=d,a.x2=p,a.y2=g}else a.visible=!1})}getLabelOverflow(e,t,i){const s=i.x-this.centerX,n=i.x+i.width-this.centerX,r=i.y-this.centerY,a=i.y+i.height-this.centerY,o=1;let l=1;t.x+o<s?l=(t.x+t.width-s)/t.width:t.x+t.width-o>n&&(l=(n-t.x)/t.width);const c=t.y+o<r||t.y+t.height-o>a,h=l===1?e.length:Math.floor(e.length*l)-1,u=this.bboxIntersectsSurroundingSeries(t);return{textLength:h,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:u}}bboxIntersectsSurroundingSeries(e,t=0,i=0){const{surroundingRadius:s}=this;if(s==null)return!1;const n=[{x:e.x+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+e.height+i},{x:e.x+t,y:e.y+e.height+i}],r=zt(s,2);return n.some(a=>zt(a.x,2)+zt(a.y,2)>r)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:s,minSpacing:n}=t,r=e.convert(0),a=v=>!v.calloutLabel||v.outerRadius===0,o=this.nodeData,l=this.nodeData.filter(v=>!a(v));if(l.forEach(v=>{const x=v.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(v=>v.midCos<0).sort((v,x)=>v.midSin-x.midSin),h=l.filter(v=>v.midCos>=0).sort((v,x)=>v.midSin-x.midSin),u=l.filter(v=>{var x;return v.midSin<0&&((x=v.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((v,x)=>v.midCos-x.midCos),d=l.filter(v=>{var x;return v.midSin>=0&&((x=v.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((v,x)=>v.midCos-x.midCos),p=new Tt,g=v=>{var x;const S=v.calloutLabel;if(S==null)return new ut(0,0,0,0);const _=v.outerRadius+i.length+s,D=v.midCos*_,A=v.midSin*_+S.collisionOffsetY;return p.text=S.text,p.x=D,p.y=A,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:(x=S.collisionTextAlign)!=null?x:S.textAlign,textBaseline:S.textBaseline}),p.computeBBox()},f=(v,x,S)=>{const _=g(v).grow(n/2),D=g(x).grow(n/2);if(_.x<D.x+D.width&&_.x+_.width>D.x&&(S==="to-top"?_.y<D.y+D.height:_.y+_.height>D.y)){const T=S==="to-top"?_.y-D.y-D.height:_.y+_.height-D.y;x.calloutLabel.collisionOffsetY=T}},m=v=>{const x=v.slice().sort((_,D)=>Math.abs(_.midSin)-Math.abs(D.midSin))[0],S=v.indexOf(x);for(let _=S-1;_>=0;_--){const D=v[_+1],A=v[_];f(D,A,"to-top")}for(let _=S+1;_<v.length;_++){const D=v[_-1],A=v[_];f(D,A,"to-bottom")}},y=v=>{const x=l.some(I=>I.calloutLabel.collisionOffsetY!==0),S=v.map(I=>g(I)),_=S.map(I=>I.clone().grow(n/2));let D=!1;for(let I=0;I<_.length&&!D;I++){const E=_[I];for(let N=I+1;N<v.length;N++){const C=_[N];if(E.collidesBBox(C)){D=!0;break}}}const A=o.map(I=>{const{startAngle:E,endAngle:N,outerRadius:C}=I;return{startAngle:E,endAngle:N,innerRadius:r,outerRadius:C}}),T=S.some(I=>A.some(E=>QT(I,E)));!D&&!x&&!T||v.filter(I=>I.calloutLabel.textAlign==="center").forEach(I=>{const E=I.calloutLabel;I.midCos<0?E.collisionTextAlign="right":I.midCos>0?E.collisionTextAlign="left":E.collisionTextAlign="center"})};m(c),m(h),y(u),y(d)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,color:a}=i,o=new Tt;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var c;const{datum:h}=l,u=h.calloutLabel,d=t.convert(h.radius),p=Math.max(0,d);if(!u?.text||p===0||u.hidden){l.visible=!1;return}const g=p+n+r,f=h.midCos*g,m=h.midSin*g+u.collisionOffsetY,y={textAlign:(c=u.collisionTextAlign)!=null?c:u.textAlign,textBaseline:u.textBaseline};o.text=u.text,o.x=f,o.y=m,o.setFont(this.properties.calloutLabel),o.setAlign(y);const v=o.computeBBox();let x=u.text,S=!0;if(i.avoidCollisions){const{textLength:_,hasVerticalOverflow:D}=this.getLabelOverflow(u.text,v,e);x=u.text.length===_?u.text:`${u.text.substring(0,_)}\u2026`,S=!D}l.text=x,l.x=f,l.y=m,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=a,l.visible=S})}computeLabelsBBox(e,t){return B(this,null,function*(){const{calloutLabel:i,calloutLine:s}=this.properties,n=s.length,{offset:r,maxCollisionOffset:a,minSpacing:o}=i;if(!i.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Tt;let h;const{title:u}=this.properties;if(u?.text&&u.enabled){const d=this.getTitleTranslationY();isFinite(d)&&(c.text=u.text,c.x=0,c.y=d,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),h=c.computeBBox(),l.push(h))}return this.nodeData.forEach(d=>{var p;const g=d.calloutLabel;if(!g||d.outerRadius===0)return null;const f=d.outerRadius+n+r,m=d.midCos*f,y=d.midSin*f+g.collisionOffsetY;c.text=g.text,c.x=m,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:(p=g.collisionTextAlign)!=null?p:g.textAlign,textBaseline:g.textBaseline});const v=c.computeBBox();if(g.box=v,Math.abs(g.collisionOffsetY)>a){g.hidden=!0;return}if(h){const x=t.y-this.centerY,S=new ut(h.x-o,x,h.width+2*o,h.y+h.height+o-x);if(v.collidesBBox(S)){g.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:x,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:_}=this.getLabelOverflow(g.text,v,t),D=g.text.length>2&&x<2;if(S||D||_){g.hidden=!0;return}}g.hidden=!1,l.push(v)}),l.length===0?null:ut.merge(l)})}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:s,fontWeight:n,fontFamily:r,positionOffset:a,positionRatio:o,color:l}=this.properties.sectorLabel,c=t>0,h=this.seriesItemEnabled.filter(Boolean).length===1;this.sectorLabelSelection.each((u,d)=>{const{sectorLabel:p,outerRadius:g}=d;let f=!1;if(p&&g!==0){const m=t*(1-o)+g*o+a;u.fill=l,u.fontStyle=s,u.fontWeight=n,u.fontSize=i,u.fontFamily=r,u.text=p.text,!c&&h?(u.x=0,u.y=0):(u.x=d.midCos*m,u.y=d.midSin*m),u.textAlign="center",u.textBaseline="middle";const v=u.computeBBox(),x=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:S,endAngle:_}=d,D={startAngle:S,endAngle:_,innerRadius:t,outerRadius:g};x.every(([A,T])=>Yx(A,T,D))&&(f=!0)}u.visible=f})}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((h,u)=>{const{fontStyle:d,fontWeight:p,fontSize:g,fontFamily:f,color:m}=u;h.fontStyle=d,h.fontWeight=p,h.fontSize=g,h.fontFamily=f,h.text=u.text,h.x=0,h.y=0,h.fill=m,h.textAlign="center",h.textBaseline="alphabetic",e.push(h.computeBBox()),t.push(u.margin)});const i=h=>h===0?0:t[h],s=h=>h===t.length-1?0:t[h],n=e.reduce((h,u,d)=>h+u.height+i(d)+s(d),0),r=Math.max(...e.map(h=>h.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(r/2,2)+Math.pow(n/2,2))<=(a>0?a:this.getOuterRadius()),c=[];for(let h=0,u=-n/2;h<e.length;h++){const p=e[h].height+u+i(h);c.push(p),u=p+s(h)}this.innerLabelsSelection.each((h,u,d)=>{h.y=c[d],h.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:s,legendItemKey:n}=this.properties,{sectorLabel:r,calloutLabel:a,legendItem:o}=e;if(n&&o!==void 0)return o.text;if(i&&i!==t&&a?.text!==void 0)return a.text;if(s&&s!==t&&r?.text!==void 0)return r.text}getTooltipHtml(e){var t;if(!this.properties.isValid())return"";const{datum:i,angleValue:s,sectorFormat:{fill:n}}=e,r=Wt((t=this.properties.title)==null?void 0:t.text),a=ei(s)?bp(s):String(s),o=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:r??o,content:r&&o?`${o}: ${a}`:a,backgroundColor:n},{datum:i,title:r,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(e){var t,i,s,n,r;const{processedData:a,dataModel:o}=this;if(!o||!a?.data.length||e!=="category")return[];const{angleKey:l,calloutLabelKey:c,sectorLabelKey:h,legendItemKey:u}=this.properties;if(!u&&(!c||c===l)&&(!h||h===l))return[];const{calloutLabelIdx:d,sectorLabelIdx:p,legendItemIdx:g}=this.getProcessedDataIndexes(o),f=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,m=[];for(let y=0;y<a.data.length;y++){const{datum:v,values:x}=a.data[y],S=[];f&&S.push(f);const _=this.getLabels(v,2*Math.PI,2*Math.PI,!1,x[d],x[p],x[g]);if(u&&_.legendItem!==void 0?S.push(_.legendItem.text):c&&c!==l&&((i=_.calloutLabel)==null?void 0:i.text)!==void 0?S.push((s=_.calloutLabel)==null?void 0:s.text):h&&h!==l&&((n=_.sectorLabel)==null?void 0:n.text)!==void 0&&S.push((r=_.sectorLabel)==null?void 0:r.text),S.length===0)continue;const D=this.getSectorFormat(v,y,!1);m.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:this.seriesItemEnabled[y],label:{text:S.join(" - ")},marker:{fill:D.fill,stroke:D.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}})}return m}onLegendItemClick(e){const{enabled:t,itemId:i,series:s}=e;s.id===this.id?this.toggleSeriesItem(i,t):s.type==="pie"&&this.toggleOtherSeriesItems(s,i,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t,i){var s,n;if(!this.properties.legendItemKey||!this.dataModel)return;const r=e.properties.legendItemKey&&((s=e.data)==null?void 0:s.find((o,l)=>l===t)[e.properties.legendItemKey]);if(!r)return;const a=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(n=this.processedData)==null||n.data.forEach(({values:o},l)=>{o[a]===r&&this.toggleSeriesItem(l,i)})}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=om(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);ee(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],i.nodes),ee(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),$t(this,"callout",t,[this.calloutLabelSelection]),$t(this,"sector",t,[this.sectorLabelSelection]),$t(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var e,t,i,s,n,r;const{itemSelection:a,highlightSelection:o,processedData:l,radiusScale:c,previousRadiusScale:h}=this,{animationManager:u}=this.ctx,d=(e=l?.reduced)==null?void 0:e.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=((t=d?.moved.length)!=null?t:0)===0&&d?.addedIndices.every(y=>!d.removedIndices.includes(y)),g=((i=l?.defs.keys.length)!=null?i:0)>0,f=(r=(n=(s=l?.reduced)==null?void 0:s.animationValidation)==null?void 0:n.uniqueKeys)!=null?r:!0;(!p||!g||!f)&&this.ctx.animationManager.skipCurrentBatch();const m=om(!1,this.properties.rotation,c,h);ee(this.id,"nodes",u,[a,o],m.nodes,(y,v)=>this.getDatumId(v),d),ee(this.id,"innerCircle",u,[this.innerCircleSelection],m.innerCircle),$t(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),$t(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),$t(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,radiusScale:i,previousRadiusScale:s}=this,{animationManager:n}=this.ctx,r=om(!1,this.properties.rotation,i,s);ee(this.id,"nodes",n,[e,t],r.nodes),ee(this.id,"innerCircle",n,[this.innerCircleSelection],r.innerCircle),Au(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Au(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Au(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var t,i,s;const{calloutLabelKey:n,sectorLabelKey:r,legendItemKey:a}=this.properties;if((s=(i=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:i.animationValidation)!=null&&s.uniqueKeys){if(a)return e[a];if(n)return e[n];if(r)return e[r]}}getDatumId(e){var t;const{index:i}=e;return(t=this.getDatumIdFromData(e.datum))!=null?t:`${i}`}onDataChange(){this.processSeriesItemEnabled()}},cc.className="PieSeries",cc.type="pie"}}),RS,T2=L({"packages/ag-charts-community/src/chart/series/polar/pieSeriesModule.ts"(){"use strict";er(),Me(),OS(),RS={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:cc,seriesDefaults:{},themeTemplate:{__extends__:Us,title:{enabled:!0,fontStyle:void 0,fontWeight:ia.NORMAL,fontSize:14,fontFamily:ae,color:aa,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ae,color:_e,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:ia.NORMAL,fontSize:12,fontFamily:ae,color:ra,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:oa,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ae,color:_e,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:_o},paletteFactory:({takeColors:e,colorsCount:t,userPalette:i})=>{const{fills:s,strokes:n}=e(t);return{fills:s,strokes:i?n:[],calloutLine:{colors:n}}}}}});function E2(){Ts(Af),Ts(Fb),Ts(gS),Ts(_S),Ts(DS),Ts(ES),Ts(NS),Ts(RS),Ts(LS)}var I2=L({"packages/ag-charts-community/src/chart/factory/registerInbuiltModules.ts"(){"use strict";Or(),Rb(),UI(),o2(),d2(),f2(),v2(),S2(),k2(),T2()}});function N2(...e){for(const t of e)if(t instanceof Ce){const{x:i,y:s,width:n,height:r}=t;t.setProperties({x:s,y:i,width:r,height:n})}else if(t instanceof ye){const{x1:i,y1:s,x2:n,y2:r}=t;t.setProperties({x1:s,y1:i,x2:r,y2:n})}}var C2=L({"packages/ag-charts-community/src/util/shapes.ts"(){"use strict";to(),El()}}),O2=L({"packages/ag-charts-community/src/util/types.ts"(){"use strict"}}),R2=L({"packages/ag-charts-community/src/module/baseModule.ts"(){"use strict"}}),w2=L({"packages/ag-charts-community/src/module/coreModules.ts"(){"use strict"}}),P2=L({"packages/ag-charts-community/src/module/optionModules.ts"(){"use strict"}}),F2=L({"packages/ag-charts-community/src/module/moduleContext.ts"(){"use strict"}}),B2=L({"packages/ag-charts-community/src/chart/series/seriesEvents.ts"(){"use strict"}}),z2=L({"packages/ag-charts-community/src/chart/series/seriesTypes.ts"(){"use strict"}}),cm,hc,wS,G2=L({"packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeries.ts"(){"use strict";Gn(),wl(),Dl(),Ii(),cm=class $d{constructor(t,i,s,n,r,a,o,l,c,h,u){this.series=t,this.index=i,this.datum=s,this.size=n,this.colorValue=r,this.fill=a,this.stroke=o,this.sumSize=l,this.depth=c,this.parent=h,this.children=u,this.midPoint={x:0,y:0}}contains(t){let i=t;for(;i!=null&&i.index>=this.index;){if(i===this)return!0;i=i.parent}return!1}walk(t,i=$d.Walk.PreOrder){i===$d.Walk.PreOrder&&t(this),this.children.forEach(s=>{s.walk(t,i)}),i===$d.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*zA(t)}},cm.Walk={PreOrder:0,PostOrder:1},hc=cm,wS=class extends ta{constructor(e){super({moduleCtx:e,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new hc(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new so("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)}},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t)},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)}},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)}}},()=>this.checkProcessedDataAnimatable())}hasData(){return Array.isArray(this.data)&&this.data.length>0}processData(){return B(this,null,function*(){var e,t;const{childrenKey:i,sizeKey:s,colorKey:n,fills:r,strokes:a,colorRange:o}=this.properties;let l=0;const c=()=>(l+=1,l);let h=0,u=1/0,d=-1/0;const p=new Array(((t=(e=this.data)==null?void 0:e.length)!=null?t:0)+1).fill(void 0),g=(x,S)=>{const _=c(),D=S.depth!=null?S.depth+1:0,A=i!=null?x[i]:void 0,T=A==null||A.length===0;let I=s!=null?x[s]:void 0;Number.isFinite(I)?I=Math.max(I,0):I=T?1:0;const E=I;h=Math.max(h,D);const N=n!=null?x[n]:void 0;return typeof N=="number"&&(p[_]=N,u=Math.min(u,N),d=Math.max(d,N)),f(new hc(this,_,x,I,N,void 0,void 0,E,D,S,[]),A)},f=(x,S)=>(S?.forEach(_=>{const D=g(_,x);x.children.push(D),x.sumSize+=D.sumSize}),x),m=f(new hc(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),y=[u,d];let v;o!=null&&Number.isFinite(u)&&Number.isFinite(d)&&(v=new Wn,v.domain=y,v.range=o,v.update()),m.children.forEach((x,S)=>{x.walk(_=>{let D;const A=p[_.index];A!=null&&(D=v?.convert(A)),D??(D=r?.[S%r.length]),_.fill=D,_.stroke=v==null?a?.[S%a.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=m,this.maxDepth=h,this.colorDomain=y})}update(e){return B(this,arguments,function*({seriesRect:t}){yield this.updateSelections(),yield this.updateNodes();const i=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)})}resetAllAnimation(e){var t;const i=(t=this.animationResetFns)==null?void 0:t.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),i!=null&&me(e.datumSelections,i)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var t;const i=(t=this.animationResetFns)==null?void 0:t.datum;i!=null&&me([e],i)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:s,visible:n}=this.properties;return e==="gradient"&&t!=null&&s!=null?[{legendType:"gradient",enabled:n,seriesId:this.id,colorName:i,colorRange:s,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}}}}),kn,V2=L({"packages/ag-charts-community/src/chart/series/hierarchy/hierarchySeriesProperties.ts"(){"use strict";ht(),rm(),hu(),kn=class extends bs{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Ys),this.strokes=Object.values(ca)}},b([k($)],kn.prototype,"childrenKey",2),b([k($,{optional:!0})],kn.prototype,"sizeKey",2),b([k($,{optional:!0})],kn.prototype,"colorKey",2),b([k($,{optional:!0})],kn.prototype,"colorName",2),b([k(Ps)],kn.prototype,"fills",2),b([k(Ps)],kn.prototype,"strokes",2),b([k(Ps,{optional:!0})],kn.prototype,"colorRange",2)}}),hm,ua,PS=L({"packages/ag-charts-community/src/chart/axis/polarAxis.ts"(){"use strict";ht(),Rg(),hm=Jt(["polygon","circle"],"a polar axis shape"),ua=class extends qh{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}},b([k(hm)],ua.prototype,"shape",2),b([k(Ot)],ua.prototype,"innerRadiusRatio",2)}}),W2=L({"packages/ag-charts-community/src/chart/chartAxis.ts"(){"use strict"}}),FS,U2=L({"packages/ag-charts-community/src/chart/legendDatum.ts"(){"use strict";FS=0}}),BS={};Ls(BS,{ADD_PHASE:()=>Xp,AGG_VALUES_EXTENT:()=>gb,AND:()=>Di,ARRAY:()=>Ha,ARRAY_OF:()=>ws,AbstractBarSeries:()=>Jf,AbstractBarSeriesProperties:()=>Nu,ActionOnSet:()=>He,Animation:()=>qp,AnimationManager:()=>Yg,AreaSeriesTag:()=>Qf,Axis:()=>qh,AxisLabel:()=>ie,AxisTick:()=>Wi,BOOLEAN:()=>ct,BOOLEAN_ARRAY:()=>lx,Background:()=>Zl,BackgroundModule:()=>Af,BaseModuleInstance:()=>Jc,BaseProperties:()=>Te,COLOR_STRING:()=>bt,COLOR_STRING_ARRAY:()=>Ps,CartesianAxis:()=>Kn,CartesianSeries:()=>bn,CartesianSeriesNodeClickEvent:()=>uu,CartesianSeriesProperties:()=>xn,CategoryAxis:()=>Gs,ChartAxisDirection:()=>Ip,ChartEventManager:()=>jg,ChartUpdateType:()=>oo,CursorManager:()=>Kg,DATE:()=>fh,DATE_ARRAY:()=>cx,DATE_OR_DATETIME_MS:()=>mh,DEGREE:()=>zr,DIRECTION:()=>Lp,DataController:()=>Wg,DataModel:()=>Vg,Default:()=>mn,Deprecated:()=>pT,DeprecatedAndRenamedTo:()=>gT,FONT_STYLE:()=>on,FONT_WEIGHT:()=>ln,FROM_TO_MIXINS:()=>Ne,FUNCTION:()=>us,GREATER_THAN:()=>Fn,HierarchyNode:()=>hc,HierarchySeries:()=>wS,HierarchySeriesProperties:()=>kn,HighlightManager:()=>Xg,HighlightStyle:()=>fo,INITIAL_LOAD:()=>Hp,INTERACTION_RANGE:()=>vh,InteractionManager:()=>Zg,LABEL_PHASE:()=>Qa,LESS_THAN:()=>ja,LINE_CAP:()=>Dp,LINE_DASH:()=>an,LINE_JOIN:()=>hx,Layers:()=>Gp,LayoutService:()=>Jg,MATCHING_CROSSLINE_TYPE:()=>Vh,MAX_SPACING:()=>px,MIN_SPACING:()=>Ep,MODULE_CONFLICTS:()=>th,Motion:()=>Wp,NAN:()=>Br,NODE_UPDATE_PHASES:()=>Zp,NUMBER:()=>Et,NUMBER_ARRAY:()=>yl,NUMBER_OR_NAN:()=>Gr,OBJECT:()=>xt,OBJECT_ARRAY:()=>kp,OR:()=>Rs,OVERFLOW_STRATEGY:()=>dx,PLACEMENT:()=>Tp,POLAR_AXIS_SHAPE:()=>hm,POSITION:()=>yh,POSITIVE_NUMBER:()=>K,PolarAxis:()=>ua,PolarSeries:()=>Vu,PropertiesArray:()=>ll,ProxyOnWrite:()=>OT,ProxyProperty:()=>CT,ProxyPropertyOnWrite:()=>It,QUICK_TRANSITION:()=>Th,RATIO:()=>Ot,REGISTERED_MODULES:()=>rs,REMOVE_PHASE:()=>jp,RepeatType:()=>$p,SMALLEST_KEY_INTERVAL:()=>au,SORT_DOMAIN_GROUPS:()=>cf,STRING:()=>$,STRING_ARRAY:()=>Mp,Series:()=>ta,SeriesItemHighlightStyle:()=>Ws,SeriesMarker:()=>si,SeriesNodeClickEvent:()=>jl,SeriesNodePickMode:()=>uf,SeriesProperties:()=>bs,SeriesTooltip:()=>yi,StateMachine:()=>so,TEXT_ALIGN:()=>Ap,TEXT_WRAP:()=>vl,Tags:()=>Og,TooltipManager:()=>eu,UNION:()=>Jt,UPDATE_PHASE:()=>Kp,UpdateService:()=>pf,VERTICAL_ALIGN:()=>ux,Validate:()=>k,ZoomManager:()=>Qg,__FORCE_MODULE_DETECTION:()=>FS,accumulateGroup:()=>pb,accumulatedValue:()=>ub,accumulativeValueProperty:()=>vb,adjustLabelPlacement:()=>xS,animationValidation:()=>Hl,area:()=>af,arraysEqual:()=>sl,assignJsonApplyConstructedArray:()=>Lx,average:()=>rI,backfillPathPointData:()=>jf,buildResetPathFn:()=>$f,checkCrisp:()=>yS,clamp:()=>ki,clampArray:()=>ah,collapsedStartingBarPosition:()=>ac,count:()=>nI,countFractionDigits:()=>hh,createDatumId:()=>go,createDeprecationWarning:()=>sh,deconstructSelectionsOrNodes:()=>Lh,deepMerge:()=>Ei,determinePathStatus:()=>cS,diff:()=>po,enterpriseModule:()=>el,extent:()=>Es,extractDecoratedProperties:()=>uT,fixNumericExtent:()=>ii,fromToMotion:()=>ee,getRectConfig:()=>mS,groupAccumulativeValueProperty:()=>Qn,groupAverage:()=>hb,groupCount:()=>rf,groupSum:()=>lb,hasRegisteredEnterpriseModules:()=>Qc,injectStyle:()=>Rp,invertShapeDirection:()=>N2,isArray:()=>Si,isBoolean:()=>rx,isDate:()=>fp,isDecoratedObject:()=>ih,isDefined:()=>al,isEqual:()=>oh,isFiniteNumber:()=>ol,isFunction:()=>nh,isHtmlElement:()=>ax,isNegative:()=>pl,isNumber:()=>Is,isObject:()=>Pr,isObjectLike:()=>vT,isPlainObject:()=>Va,isProperties:()=>Fi,isReal:()=>lh,isString:()=>Wa,isValidDate:()=>mp,keyProperty:()=>fi,listDecoratedProperties:()=>Ga,markerFadeInAnimation:()=>QI,markerPaletteFactory:()=>yo,markerScaleInAnimation:()=>Wf,markerSwipeScaleInAnimation:()=>Uf,mergeDefaults:()=>gi,midpointStartingBarPosition:()=>c2,minMax:()=>Hf,mod:()=>Sp,normaliseGroupTo:()=>ru,normalisePropertyTo:()=>lf,normalisedExtent:()=>Qv,normalisedExtentWithMetadata:()=>il,pairCategoryData:()=>rc,pairContinuousData:()=>nc,partialAssign:()=>iI,pathFadeInAnimation:()=>sS,pathFadeOutAnimation:()=>JI,pathSwipeInAnimation:()=>Xf,predicateWithMessage:()=>Lt,prepareAreaPathAnimation:()=>uS,prepareAxisAnimationContext:()=>Cg,prepareAxisAnimationFunctions:()=>C0,prepareBarAnimationFunctions:()=>oc,prepareLinePathAnimation:()=>hS,prepareLinePathAnimationFns:()=>qf,prepareMarkerAnimation:()=>Yf,range:()=>cb,rangedValueProperty:()=>mb,registerModule:()=>Ts,registerModuleConflicts:()=>Zv,renderPartialPath:()=>Kf,resetAxisGroupFn:()=>O0,resetAxisLabelSelectionFn:()=>w0,resetAxisLineSelectionFn:()=>P0,resetAxisSelectionFn:()=>R0,resetBarSelectionsFn:()=>im,resetIds:()=>gx,resetLabelFn:()=>sr,resetMarkerFn:()=>ec,resetMarkerPositionFn:()=>ic,resetMotion:()=>me,round:()=>xp,seriesLabelFadeInAnimation:()=>$t,seriesLabelFadeOutAnimation:()=>Au,singleSeriesPaletteFactory:()=>yu,staticFromToMotion:()=>dn,stringify:()=>fl,sum:()=>sI,toArray:()=>eh,toFixed:()=>bp,toReal:()=>ch,trailingAccumulatedValue:()=>db,trailingAccumulatedValueProperty:()=>dI,trailingValue:()=>yb,trailingValueProperty:()=>uI,unique:()=>lT,updateClipPath:()=>Lu,updateLabelNode:()=>vS,updateRect:()=>fS,validateCrossLineValues:()=>gg,valueProperty:()=>Ut});var zS=L({"packages/ag-charts-community/src/module-support.ts"(){"use strict";li(),ht(),ro(),wr(),wp(),sx(),Ee(),vn(),os(),hn(),C2(),O2(),Ns(),vo(),R2(),w2(),P2(),Or(),F2(),hp(),Ob(),Rb(),te(),kh(),B0(),qn(),X0(),Zn(),of(),_b(),nb(),$0(),q0(),Z0(),Q0(),tb(),eb(),sb(),ys(),Ii(),B2(),nr(),hu(),tc(),rr(),z2(),tm(),Ni(),Zf(),sm(),dS(),la(),bS(),sc(),lm(),G2(),V2(),Rg(),Kh(),Xh(),PS(),zl(),Bl(),W2(),u0(),U2(),Wr(),Za(),wl(),Gn(),ti(),ds(),lo()}});function Y2(e,t,i,s,n,r,a,o,l,c,h,u,d){pm[e]=i,gm[e]=s,GS(e,n,r),a&&K2(e,a),o&&Z2(e),l&&Q2(e),c&&q2(e),h&&J2(e),u&&tN(e,u),d&&eN(e,d),YI(e,t)}function GS(e,t,i={}){const s=Uu[e];Uu[e]=Qt([s,t]),fm[e]=Qt([s,t,i])}function H2(e,t){const i=pm[e];if(i)return new i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}function VS(e){return gm[e]}function j2(e){return Qc()?fm[e]:Uu[e]}function K2(e,t){mm[e]=t}function X2(e){return mm[e]}function Wu(e){return ym.has(e)}function um(e){return vm.has(e)}function dm(e){return xm.has(e)}function $2(e){return bm.has(e)}function q2(e){xm.add(e)}function Z2(e){ym.add(e)}function Q2(e){vm.add(e)}function J2(e){bm.add(e)}function tN(e,t){Yu[e]=t}function eN(e,t){Sm[e]=t}function iN(e){var t,i;let s;for(const n of(t=e.series)!=null?t:[]){const{type:r="line"}=n,a=(i=Yu[r])==null?void 0:i.call(Yu,n);if(a!=null){if(s!=null&&s!=a)throw new Error("AG Charts - The provided series have incompatible directions");s=a}}return s}function sN(e,t){var i;let s=t;for(const n of(i=e.series)!=null?i:[]){const{type:r}=n,a=r!=null?Sm[r]:void 0;a!==void 0&&(s=R(R({},s),a(n)))}return s}var pm,gm,Uu,fm,mm,ym,vm,xm,bm,Yu,Sm,uc=L({"packages/ag-charts-community/src/chart/factory/seriesTypes.ts"(){"use strict";zS(),jh(),xo(),pm={},gm={},Uu={},fm={},mm={},ym=new Set,vm=new Set,xm=new Set,bm=new Set,Yu={},Sm={}}});function nN(){var e;for(const t of rs){if(t.packageType==="enterprise"&&!CI(t)&&q.errorOnce("Unexpected enterprise module registered: "+t.identifier),$a.constructors!=null&&t.optionConstructors!=null&&Object.assign($a.constructors,t.optionConstructors),t.type==="root"&&t.themeTemplate)for(const i of t.chartTypes)HI(i,t.themeTemplate);if(t.type==="root"&&((e=t.conflicts)!=null&&e.length)&&Zv(t.optionsKey,t.conflicts),t.type==="series"){if(t.chartTypes.length>1)throw new Error("AG Charts - Module definition error: "+t.identifier);Y2(t.identifier,t.chartTypes[0],t.instanceConstructor,t.seriesDefaults,t.themeTemplate,t.enterpriseThemeTemplate,t.paletteFactory,t.solo,t.stackable,t.groupable,t.stackedByDefault,t.swapDefaultAxesCondition,t.customDefaultsFunction)}if(t.type==="series-option"&&t.themeTemplate)for(const i of t.seriesTypes)GS(i,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(const i of t.axisTypes){const s=t.themeTemplate[i],n=R(R({},t.themeTemplate),typeof s=="object"?s:{});for(const r of t.axisTypes)delete n[r];Ib(i,n)}t.type==="axis"&&(DI(t.identifier,t.instanceConstructor),t.themeTemplate&&Ib(t.identifier,t.themeTemplate)),t.type==="legend"&&RI(t.identifier,t.optionsKey,t.instanceConstructor,t.themeTemplate)}if(Qc()){const t=OI();t.length>0&&q.errorOnce("Enterprise modules expected but not registered: ",t)}}var rN=L({"packages/ag-charts-community/src/chart/factory/setupModules.ts"(){"use strict";Or(),ft(),kh(),$l(),xo(),ql(),Df(),uc()}}),Hu,_m,aN=L({"packages/ag-charts-community/src/chart/hierarchyChart.ts"(){"use strict";Pt(),cu(),Hu=class kA extends mi{constructor(t,i){super(t,i),this._data={}}performLayout(){return B(this,null,function*(){const t=yield tn(kA.prototype,this,"performLayout").call(this),{seriesArea:{padding:i},seriesRoot:s}=this,n=t.clone();return t.shrink(i.left,"left"),t.shrink(i.top,"top"),t.shrink(i.right,"right"),t.shrink(i.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t,s.translationX=Math.floor(t.x),s.translationY=Math.floor(t.y),yield Promise.all(this.series.map(r=>B(this,null,function*(){yield r.update({seriesRect:t})}))),s.visible=this.series[0].visible,s.setClipRectInGroupCoordinateSpace(new ut(t.x,t.y,t.width,t.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:n,paddedRect:t,visible:!0},axes:[]}),t})}},Hu.className="HierarchyChart",Hu.type="hierarchy",_m=Hu}});function oN(e){var t,i,s,n;const r=[],a=jI(sa(e));for(const{type:o,chartTypes:l,optionsKey:c,optionsInnerKey:h,identifier:u}of ea)if(!(a!=="unknown"&&!l.includes(a))){if(o==="root"||o==="legend"){const d=e[c];if(d==null)continue;h?d[h]&&(r.push(`${c}.${h}`),delete d[h]):(r.push(c),delete e[c])}else if(o==="axis"){if(!("axes"in e)||!((t=e.axes)!=null&&t.some(d=>d.type===u)))continue;r.push(`axis[type=${u}]`),e.axes=e.axes.filter(d=>d.type!==u)}else if(o==="axis-option"){if(!("axes"in e)||!((i=e.axes)!=null&&i.some(d=>d[c])))continue;r.push(`axis.${c}`),e.axes.forEach(d=>{d[c]&&delete d[c]})}else if(o==="series"){if(!((s=e.series)!=null&&s.some(d=>d.type===u)))continue;r.push(`series[type=${u}]`),e.series=e.series.filter(d=>d.type!==u)}else if(o==="series-option"){if(!((n=e.series)!=null&&n.some(d=>d[c])))continue;r.push(`series.${c}`),e.series.forEach(d=>{d[c]&&delete d[c]})}}r.length>0&&q.warnOnce(["unable to use these enterprise features as 'ag-charts-enterprise' has not been loaded:","",...r,"","See: https://charts.ag-grid.com/javascript/installation/"].join(`
`))}var lN=L({"packages/ag-charts-community/src/chart/factory/processEnterpriseOptions.ts"(){"use strict";ft(),_u(),xo(),ql()}});function WS(e,t){var i,s;return e==null?null:{fills:(i=e.fills)!=null?i:t.fills,strokes:(s=e.strokes)!=null?s:t.strokes}}var ju,US,Ku,YS,Oi,Hs,or=L({"packages/ag-charts-community/src/chart/themes/chartTheme.ts"(){"use strict";Os(),vn(),$l(),xo(),Df(),uc(),er(),rm(),Me(),ju="white",US={fills:Array.from(Object.values(Ys)),strokes:Array.from(Object.values(ca))},Ku={get cartesian(){return{seriesTypes:Ci.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Ci.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Ci.hierarchyTypes,commonOptions:[]}}},YS=Object.values(Ku).reduce((e,{commonOptions:t})=>[...e,...t],[]),Oi=class Zt{getPalette(){return US}static getAxisDefaults(){return{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontStyle:void 0,fontWeight:ia.NORMAL,fontSize:Mn.MEDIUM,fontFamily:ae,color:_e},label:{fontStyle:void 0,fontWeight:void 0,fontSize:Mn.SMALL,fontFamily:ae,padding:5,rotation:void 0,color:_e,formatter:void 0,avoidCollisions:!0},line:{enabled:!0,width:1,color:Jl},tick:{enabled:!1,width:1,color:Jl},gridLine:{enabled:!0,style:[{stroke:Ql,lineDash:[]}]},crossLines:{enabled:!1,fill:So,stroke:So,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:Mn.SMALL,fontFamily:ae,padding:5,color:_e}}}}static getSeriesDefaults(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1,formatter:void 0}}static getLegendItemMarkerDefaults(){return{shape:void 0,size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:_o},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:ia.NORMAL,fontSize:Mn.LARGE,fontFamily:ae,color:_e,wrapping:Zt.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontStyle:void 0,fontWeight:void 0,fontSize:Mn.MEDIUM,fontFamily:ae,color:aa,wrapping:Zt.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontStyle:void 0,fontWeight:void 0,fontSize:Mn.MEDIUM,fontFamily:ae,color:"rgb(140, 140, 140)",wrapping:Zt.getCaptionWrappingDefaults()},legend:{position:vu,spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:Zt.getLegendItemMarkerDefaults(),label:{color:_e,fontStyle:void 0,fontWeight:void 0,fontSize:Mn.SMALL,fontFamily:ae,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:_e},inactiveStyle:{fill:aa},highlightStyle:{fill:_e},label:{color:_e}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}}constructor(t){var i;t=Ei({},t??{});const{overrides:s=null,palette:n=null}=t,r=this.createChartConfigPerChartType(this.getDefaults());if(s){const{common:o}=s,l=(c,h)=>{if(h)for(const u of c){const d=u;r[d]=Ei(r[d],h)}};for(const[,{seriesTypes:c,commonOptions:h}]of Object.entries(Ku)){const u=R({},o);for(const d of YS)h.includes(d)||delete u[d];l(c,u)}Ci.seriesTypes.forEach(c=>{const h=c;s[h]&&(r[h]=Ei(r[h],s[h]))})}const a=this.getPalette();this.palette=(i=WS(n,a))!=null?i:a,this.config=Object.freeze(this.templateTheme(r))}createChartConfigPerChartType(t){return Object.entries(Ku).forEach(([i,{seriesTypes:s}])=>{const n=qb(i);s.forEach(r=>{const a=r;t[a]||(t[a]={},Ei(t[a],n))})}),t}getDefaults(){let t={};const i=n=>R(R(R({},wI()),Zt.getChartDefaults()),qb(n)),s=(n,r)=>{var a,o,l,c;const h=i(n),u={};for(const d of r){(a=u[d])!=null||(u[d]=Ei({},h));const p=(l=(o=u[d]).axes)!=null?l:o.axes={},g=j2(d);g&&(u[d].series=Ei(u[d].series,g));for(const f of pu.axesTypes){const m=LI(f);n==="cartesian"&&(p[f]=Ei(p[f],(c=Zt.cartesianAxisDefault[f])!=null?c:{})),m&&(p[f]=Ei(p[f],m))}}return u};return t=Ei(t,s("cartesian",Ci.cartesianTypes)),t=Ei(t,s("polar",Ci.polarTypes)),t=Ei(t,s("hierarchy",Ci.hierarchyTypes)),t}templateTheme(t){const i=cl(t),{extensions:s,properties:n}=this.getTemplateParameters();return Fr(i,r=>{if(r.__extends__){const a=r.__extends__,o=s.get(a);if(o==null)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.keys(o).forEach(l=>{l in r||(r[l]=o[l])}),delete r.__extends__}if(r.__overrides__){const a=r.__overrides__,o=s.get(a);if(o==null)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.assign(r,o),delete r.__overrides__}if(Array.isArray(r))for(let a=0;a<r.length;a++){const o=r[a];n.has(o)&&(r[a]=n.get(o))}else for(const[a,o]of Object.entries(r))n.has(o)&&(r[a]=n.get(o))}),i}static getWaterfallSeriesDefaultPositiveColors(){return{fill:Ys.BLUE,stroke:ca.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Ys.ORANGE,stroke:ca.ORANGE}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Ys.GRAY,stroke:ca.GRAY}}getTemplateParameters(){const t=new Map;t.set(If,Zt.getChartDefaults()),t.set(Rf,Zt.getAxisDefaults()),t.set(Nf,Zt.getChartDefaults().legend),t.set(Cf,Zt.getChartDefaults().legend.item),t.set(Of,Zt.getLegendItemMarkerDefaults()),t.set(wf,Zt.getAxisDefaults().label),t.set(Pf,Zt.getAxisDefaults().line),t.set(Ff,Zt.getAxisDefaults().tick),t.set(Bf,Zt.getAxisDefaults().gridLine),t.set(Us,Zt.getSeriesDefaults()),t.set(zf,{}),t.set(na,Zt.getCartesianSeriesMarkerDefaults());const i=new Map;return i.set(ae,"Verdana, sans-serif"),i.set(_e,"rgb(70, 70, 70)"),i.set(Gf,"white"),i.set(aa,"rgb(140, 140, 140)"),i.set(Ql,"rgb(224,234,241)"),i.set(Jl,"rgb(195, 195, 195)"),i.set(So,"rgb(70, 70, 70)"),i.set(ra,ju),i.set(_o,ju),i.set(oa,"rgba(0, 0, 0, 0.5)"),i.set(Zi,[Ys.ORANGE,Ys.YELLOW,Ys.GREEN]),i.set(ku,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),i.set(Du,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),i.set(Mu,ju),i.set(Ki,Zt.getWaterfallSeriesDefaultPositiveColors()),i.set(Xi,Zt.getWaterfallSeriesDefaultNegativeColors()),i.set($i,Zt.getWaterfallSeriesDefaultTotalColors()),i.set(qi,Zt.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:t,properties:i}}},Oi.cartesianAxisDefault={number:X(R({},Oi.getAxisDefaults()),{line:X(R({},Oi.getAxisDefaults().line),{enabled:!1})}),log:X(R({},Oi.getAxisDefaults()),{base:10,line:X(R({},Oi.getAxisDefaults().line),{enabled:!1})}),category:X(R({},Oi.getAxisDefaults()),{groupPaddingInner:.1,label:X(R({},Oi.getAxisDefaults().label),{autoRotate:!0}),gridLine:X(R({},Oi.getAxisDefaults().gridLine),{enabled:!1})}),"grouped-category":R({},Oi.getAxisDefaults()),time:X(R({},Oi.getAxisDefaults()),{gridLine:X(R({},Oi.getAxisDefaults().gridLine),{enabled:!1})})},Hs=Oi}});function cN(e){var t,i,s;const n={},r={},a="default-ag-charts-group",o=[];for(const l of e){const c=(t=l.type)!=null?t:"line",h=um(c),u=dm(c);if(!h&&!u){o.push({type:"ungrouped",opts:[l]});continue}const{stacked:d,stackGroup:p,grouped:g=void 0,xKey:f}=l,m=p!=null||d===!0,y=g===!0;let v=[p??(d===!0?"stacked":void 0),y?"grouped":void 0].filter(S=>S!=null).join("-");v||(v=a);const x=`${c}-${f}-${v}`;if(m&&h){const S=(i=r[x])!=null?i:r[x]={type:"stack",opts:[]};S.opts.length===0&&o.push(S),S.opts.push(l)}else if(y&&u){const S=(s=n[x])!=null?s:n[x]={type:"group",opts:[]};S.opts.length===0&&o.push(S),S.opts.push(l)}else o.push({type:"ungrouped",opts:[l]})}return o}function hN(e,t){var i;const s=[],n=t.map(c=>{var h;const u=(h=c.type)!=null?h:"line",d=dm(u),p=um(u),g=$2(u);if(c.grouped&&!d&&q.warnOnce(`unsupported grouping of series type: ${u}`),c.stacked&&!p&&q.warnOnce(`unsupported stacking of series type: ${u}`),!d&&!p)return c;let f=!1,m=!1;return c.stacked===void 0&&c.grouped===void 0?(f=p&&g,m=d&&!f):c.stacked===void 0?(f=p&&g&&!(c.grouped&&d),m=d&&!f&&!!c.grouped):c.grouped===void 0?(f=p&&c.stacked,m=d&&!f):(f=p&&c.stacked,m=d&&!f&&c.grouped),X(R({},c),{stacked:f,grouped:m})}),r=cN(n),a=r.reduce((c,h)=>{var u,d;if(h.type==="ungrouped")return c;const p=(u=h.opts[0].type)!=null?u:"line";return(d=c[p])!=null||(c[p]=0),c[p]+=h.type==="stack"?1:h.opts.length,c},{}),o={},l=c=>{var h,u;let d=0;const p=(h=c.opts[0].type)!=null?h:"line";if((u=o[p])!=null||(o[p]=0),c.type==="stack"){for(const g of c.opts)g.seriesGrouping={groupIndex:o[p],groupCount:a[p],stackIndex:d++,stackCount:c.opts.length};o[p]++}else if(c.type==="group")for(const g of c.opts)g.seriesGrouping={groupIndex:o[p],groupCount:a[p],stackIndex:0,stackCount:0},o[p]++;else for(const g of c.opts)g.seriesGrouping=void 0;return c.opts};Kt.create(!0,"opts")("processSeriesOptions() - series grouping: ",r);for(const c of r){const h=(i=c.opts[0].type)!=null?i:"line";dm(h)||um(h)?s.push(...l(c)):s.push(...c.opts)}return s}var uN=L({"packages/ag-charts-community/src/chart/mapping/prepareSeries.ts"(){"use strict";as(),ft(),uc()}}),Xu,lr,dc,HS,Mo,pc=L({"packages/ag-charts-community/src/chart/themes/darkTheme.ts"(){"use strict";or(),Me(),Xu="#192232",lr={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},dc={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},HS={fills:Array.from(Object.values(lr)),strokes:Array.from(Object.values(dc))},Mo=class Vc extends Hs{static getWaterfallSeriesDefaultPositiveColors(){return{fill:lr.BLUE,stroke:dc.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:lr.ORANGE,stroke:dc.ORANGE}}static getWaterfallSeriesDefaultTotalColors(){return{fill:lr.GRAY,stroke:dc.GRAY}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,Vc.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Vc.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,Vc.getWaterfallSeriesDefaultTotalColors()),t.properties.set(qi,Vc.getWaterfallSeriesDefaultTotalColors().stroke),t.properties.set(Mu,Xu),t.properties.set(_e,"white"),t.properties.set(aa,"#7D91A0"),t.properties.set(Ql,"#545A6E"),t.properties.set(So,"white"),t.properties.set(Zi,[lr.ORANGE,lr.YELLOW,lr.GREEN]),t.properties.set(ku,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.properties.set(Du,["#192834","#3b5164","#496275","#577287","#668399"]),t.properties.set(_o,Xu),t.properties.set(ra,Xu),t}getPalette(){return HS}constructor(t){super(t)}}}}),cr,gc,jS,KS,dN=L({"packages/ag-charts-community/src/chart/themes/materialDark.ts"(){"use strict";pc(),Me(),cr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},gc={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},jS={fills:Array.from(Object.values(cr)),strokes:Array.from(Object.values(gc))},KS=class Wc extends Mo{static getWaterfallSeriesDefaultPositiveColors(){return{fill:cr.BLUE,stroke:gc.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:cr.RED,stroke:gc.RED}}static getWaterfallSeriesDefaultTotalColors(){return{fill:cr.GRAY,stroke:gc.GRAY}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,Wc.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Wc.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,Wc.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,[cr.ORANGE,cr.YELLOW,cr.GREEN]),t.properties.set(qi,Wc.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return jS}}}}),hr,fc,XS,$S,pN=L({"packages/ag-charts-community/src/chart/themes/materialLight.ts"(){"use strict";or(),Me(),hr={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},fc={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},XS={fills:Array.from(Object.values(hr)),strokes:Array.from(Object.values(fc))},$S=class Uc extends Hs{static getWaterfallSeriesDefaultPositiveColors(){return{fill:hr.BLUE,stroke:fc.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:hr.RED,stroke:fc.RED}}static getWaterfallSeriesDefaultTotalColors(){return{fill:hr.GRAY,stroke:fc.GRAY}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,Uc.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Uc.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,Uc.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,[hr.ORANGE,hr.YELLOW,hr.GREEN]),t.properties.set(qi,Uc.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return XS}}}}),ko,$u,qS,ZS,QS,JS,gN=L({"packages/ag-charts-community/src/chart/themes/polychromaDark.ts"(){"use strict";pc(),Me(),ko={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},$u={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},qS="#bbbbbb",ZS="#eeeeee",QS={fills:Array.from(Object.values(ko)),strokes:Array.from(Object.values($u))},JS=class Yc extends Mo{static getWaterfallSeriesDefaultPositiveColors(){return{fill:ko.BLUE,stroke:$u.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:ko.RED,stroke:$u.RED}}static getWaterfallSeriesDefaultTotalColors(){return{fill:qS,stroke:ZS}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,Yc.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Yc.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,Yc.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,[ko.BLUE,ko.RED]),t.properties.set(qi,Yc.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return QS}}}}),Do,qu,t_,e_,i_,s_,fN=L({"packages/ag-charts-community/src/chart/themes/polychromaLight.ts"(){"use strict";or(),Me(),Do={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},qu={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},t_="#bbbbbb",e_="#888888",i_={fills:Array.from(Object.values(Do)),strokes:Array.from(Object.values(qu))},s_=class Hc extends Hs{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Do.BLUE,stroke:qu.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Do.RED,stroke:qu.RED}}static getWaterfallSeriesDefaultTotalColors(){return{fill:t_,stroke:e_}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,Hc.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Hc.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,Hc.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,[Do.BLUE,Do.RED]),t.properties.set(qi,Hc.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return i_}}}}),ur,mc,n_,r_,mN=L({"packages/ag-charts-community/src/chart/themes/sheetsDark.ts"(){"use strict";pc(),Me(),ur={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},mc={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},n_={fills:Array.from(Object.values(ur)),strokes:Array.from(Object.values(mc))},r_=class jc extends Mo{static getWaterfallSeriesDefaultPositiveColors(){return{fill:ur.BLUE,stroke:mc.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:ur.ORANGE,stroke:mc.ORANGE}}static getWaterfallSeriesDefaultTotalColors(){return{fill:ur.GRAY,stroke:mc.GRAY}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,jc.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,jc.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,jc.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,[ur.ORANGE,ur.YELLOW,ur.GREEN]),t.properties.set(qi,jc.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return n_}}}}),dr,yc,a_,o_,yN=L({"packages/ag-charts-community/src/chart/themes/sheetsLight.ts"(){"use strict";or(),Me(),dr={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},yc={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},a_={fills:Array.from(Object.values(dr)),strokes:Array.from(Object.values(yc))},o_=class Kc extends Hs{static getWaterfallSeriesDefaultPositiveColors(){return{fill:dr.BLUE,stroke:yc.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:dr.ORANGE,stroke:yc.ORANGE}}static getWaterfallSeriesDefaultTotalColors(){return{fill:dr.GRAY,stroke:yc.GRAY}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,Kc.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Kc.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,Kc.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,[dr.ORANGE,dr.YELLOW,dr.GREEN]),t.properties.set(qi,Kc.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return a_}}}}),pr,vc,l_,c_,vN=L({"packages/ag-charts-community/src/chart/themes/vividDark.ts"(){"use strict";pc(),Me(),pr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},vc={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},l_={fills:Array.from(Object.values(pr)),strokes:Array.from(Object.values(vc))},c_=class Xc extends Mo{static getWaterfallSeriesDefaultPositiveColors(){return{fill:pr.BLUE,stroke:vc.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:pr.ORANGE,stroke:vc.ORANGE}}static getWaterfallSeriesDefaultTotalColors(){return{fill:pr.GRAY,stroke:vc.GRAY}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,Xc.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Xc.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,Xc.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,[pr.ORANGE,pr.YELLOW,pr.GREEN]),t.properties.set(qi,Xc.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return l_}}}}),gr,xc,h_,u_,xN=L({"packages/ag-charts-community/src/chart/themes/vividLight.ts"(){"use strict";or(),Me(),gr={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},xc={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},h_={fills:Array.from(Object.values(gr)),strokes:Array.from(Object.values(xc))},u_=class $c extends Hs{static getWaterfallSeriesDefaultPositiveColors(){return{fill:gr.BLUE,stroke:xc.BLUE}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:gr.ORANGE,stroke:xc.ORANGE}}static getWaterfallSeriesDefaultTotalColors(){return{fill:gr.GRAY,stroke:xc.GRAY}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Ki,$c.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,$c.getWaterfallSeriesDefaultNegativeColors()),t.properties.set($i,$c.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,[gr.ORANGE,gr.YELLOW,gr.GREEN]),t.properties.set(qi,$c.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return h_}}}});function bN(e){if(e===null)return;let t=!0;const{baseTheme:i,palette:s,overrides:n}=e;if(i!==void 0&&typeof i!="string"&&typeof i!="object"&&(q.warn(`invalid theme.baseTheme type ${typeof i}, expected (string | object).`),t=!1),n!==void 0&&typeof n!="object"&&(q.warn(`invalid theme.overrides type ${typeof n}, expected object.`),t=!1),typeof s=="object"){if(s!==null){const{fills:r,strokes:a}=s;r!==void 0&&!Array.isArray(r)&&(q.warn("theme.overrides.fills must be undefined or an array"),t=!1),a!==void 0&&!Array.isArray(a)&&(q.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else s!==void 0&&(q.warn(`invalid theme.palette type ${typeof s}, expected object.`),t=!1);if(t)return e}function SN(e){if(e===void 0||typeof e=="string"||e instanceof Hs)return e;if(typeof e=="object")return bN(e);q.warn(`invalid theme value type ${typeof e}, expected object.`)}function Mm(e){var t;let i=SN(e);if(i instanceof Hs)return i;if(i===void 0||typeof i=="string"){const o=km[i];return o?o():(q.warnOnce(`the theme [${i}] is invalid, using [ag-default] instead.`),Ao())}const s=[];let n;for(;typeof i=="object";)s.push((t=i.overrides)!=null?t:{}),i.palette&&n==null&&(n=i.palette),i=i.baseTheme;s.reverse();const r=R({baseTheme:i,overrides:Qt(s)},n?{palette:n}:{}),a=r.baseTheme?Mm(r.baseTheme):Ao();return new a.constructor(r)}var Ao,Zu,d_,p_,km,Dm=L({"packages/ag-charts-community/src/chart/mapping/themes.ts"(){"use strict";Os(),ft(),or(),pc(),dN(),pN(),gN(),fN(),mN(),yN(),vN(),xN(),Ao=()=>new Hs,Zu=()=>new Mo,d_={undefined:Ao,null:Ao,"ag-default":Ao,"ag-sheets":()=>new o_,"ag-polychroma":()=>new s_,"ag-vivid":()=>new u_,"ag-material":()=>new $S},p_={undefined:Zu,null:Zu,"ag-default-dark":Zu,"ag-sheets-dark":()=>new r_,"ag-polychroma-dark":()=>new JS,"ag-vivid-dark":()=>new c_,"ag-material-dark":()=>new KS},km=R(R({},p_),d_)}});function g_(e,t,i){const s=[];for(let n=0;n<i;n++)s.push(t[(n+e.colourIndex)%t.length]);return s}function _N(e){if(e===void 0||typeof e!="object"||e===null)return{};const{type:t,xOffset:i,yOffset:s}=e,n={pointer:!0,node:!0},r={};return typeof t=="string"&&(o=>Object.keys(n).includes(o))(t)&&(r.type=t),typeof i=="number"&&!isNaN(i)&&isFinite(i)&&(r.xOffset=i),typeof s=="number"&&!isNaN(s)&&isFinite(s)&&(r.yOffset=s),r}function MN(e){var t,i,s,n;kN(e);const r=sa(e),a=y=>{if(y!=null&&!(KI(y)||Nb(y)||VS(y)))throw new Error(`AG Charts - unknown series type: ${y}; expected one of: ${Ci.seriesTypes}`)};for(const{type:y}of(t=e.series)!=null?t:[])y!=null&&a(y);e=AN(e);let o="line";bo(e)?o="line":bu(e)?o="treemap":Su(e)&&(o="pie");let l=VS(r);iN(e)&&(l=$I(l)),l=sN(e,l);const c=qI(e);ON(e);const h=_N((i=e.tooltip)==null?void 0:i.position),{context:u,mergedOptions:d,axesThemes:p,seriesThemes:g,theme:f}=TN(l,e,c);d.series=hN(d,((s=d.series)!=null?s:[]).map(y=>{var v;const x=(v=y.type)!=null?v:o,S=LN(y,x,g,h);return x==="pie"&&PN(g.pie,y,S),S})).map(y=>IN(u,y)).map(y=>f.templateTheme(y));const m=y=>{const v=XI(y);return v||q.warnOnce(`unknown axis type: ${y}; expected one of: ${pu.axesTypes}, ignoring.`),v};if("axes"in d){let y=!0;for(const{type:x}of(n=d.axes)!=null?n:[])y&&(y=m(x));const v=y?d.axes:l.axes;d.axes=v?.map(x=>{var S,_,D,A,T;const I=x.type;let E;y&&(E=(S=l.axes)==null?void 0:S.find(({type:C})=>C===I));const N=Qt([(_=p[I])!=null?_:{},(T=(A=p[I])==null?void 0:A[(D=x.position)!=null?D:"unknown"])!=null?T:{},E]);return CN(x,N)}),RN(e,d)}return wN(e,d),d}function kN(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([i,s])=>{var n;(n=e.series)!=null&&n.some(r=>r[i]!=null)&&q.warnOnce(`Property [series.${i}] is deprecated, please use [series.${s}] and multiple series instead.`)})}function DN(e){return e.some(t=>Wu(t.type))}function AN(e){if(e.series===void 0||e.series.length<=1||!DN(e.series))return e;let t=[...e.series];if(Wu(t[0].type))q.warn(`series[0] of type '${t[0].type}' is incompatible with other series types. Only processing series[0]`),t=t.slice(0,1);else{const i=Array.from(new Set(t.filter(s=>Wu(s.type)).map(s=>s.type)));q.warnOnce(`Unable to mix these series types with the lead series type: ${i}`),t=t.filter(s=>!Wu(s.type))}return X(R({},e),{series:t})}function LN(e,t,i,s){var n,r;const a=Qt([R({},s),(n=e.tooltip)==null?void 0:n.position],fr);return Qt([(r=i[t])!=null?r:{},X(R({},e),{type:t,tooltip:X(R({},e.tooltip),{position:a})})],fr)}function TN(e,t,i){const{theme:s,cleanedTheme:n,axesThemes:r,seriesThemes:a,userPalette:o}=EN(t),l=WS(o,s.palette),c={colourIndex:0,palette:s.palette,userPalette:l,theme:s};e=s.templateTheme(e);const h=Qt([e,n,t,i],fr);return el.isEnterprise||oN(h),{context:c,mergedOptions:h,axesThemes:r,seriesThemes:a,theme:s}}function EN(e){var t;const i=Mm(e.theme),s=i.config[sa(e)],n=Object.entries(i.config).reduce((o,[l,{series:c}])=>(o[l]=c,o),{}),r=e.theme,a=typeof r=="object"&&r.palette?r.palette:null;return{theme:i,axesThemes:(t=s?.axes)!=null?t:{},seriesThemes:n,cleanedTheme:Qt([s??{},{axes:_i,series:_i}]),userPalette:a}}function IN(e,t,...i){const s=NN(e,t),n={stacked:_i,grouped:_i};return Qt([...i,s,t,n],fr)}function NN(e,t){const i=X2(t.type);if(!i)return{};const{palette:{fills:s=[],strokes:n=[]},userPalette:r,theme:a}=e,o=Math.max(s.length,n.length);return i({userPalette:r,themeTemplateParameters:a.getTemplateParameters(),colorsCount:o,takeColors:l=>{const c={fills:g_(e,s,l),strokes:g_(e,n,l)};return e.colourIndex+=l,c}})}function CN(e,t){var i,s;const n={top:_i,bottom:_i,left:_i,right:_i};e.crossLines&&(Array.isArray(e.crossLines)||(q.warn("axis[].crossLines should be an array."),e.crossLines=[]),e.crossLines=e.crossLines.map(o=>{var l;return Qt([(l=t.crossLines)!=null?l:{},o])}));const r=(i=t.gridLine)==null?void 0:i.style;return((s=e.gridLine)==null?void 0:s.style)!==void 0&&r!==void 0&&r.length>0&&(Array.isArray(e.gridLine.style)||(q.warn("axis[].gridLine.style should be an array."),e.gridLine.style=[]),e.gridLine.style=e.gridLine.style.map((o,l)=>{if(o.stroke===void 0&&o.lineDash===void 0)return o;const c=r[l%r.length];return Qt([c,o])})),Qt([t,{crossLines:_i},e,n],fr)}function ON(e){Fr(e,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(i=>{i!=="enabled"&&delete t[i]})},{skip:["data","theme"]})}function RN(e,t){var i,s,n,r;!al((i=e.legend)==null?void 0:i.enabled)&&!al((s=t.legend)==null?void 0:s.enabled)&&((n=t.legend)!=null||(t.legend={}),t.legend.enabled=((r=e.series)!=null?r:[]).length>1)}function wN(e,t){Fr(e,(i,s)=>{s&&"enabled"in s&&!s._enabledFromTheme&&i.enabled==null&&(s.enabled=!0)},{skip:["data","theme"]},t),Fr(t,i=>{i._enabledFromTheme!=null&&delete i._enabledFromTheme},{skip:["data","theme"]})}function PN(e,t,i){Si(t.innerLabels)?i.innerLabels=t.innerLabels.map(s=>Qt([e.innerLabels,s])):i.innerLabels=_i}var fr,FN=L({"packages/ag-charts-community/src/chart/mapping/prepare.ts"(){"use strict";hp(),Os(),ft(),Ns(),$l(),xo(),ql(),lN(),uc(),or(),Ef(),uN(),Dm(),_u(),fr={avoidDeepClone:["data"]}}});function BN(e){return Am.includes(e.type)}function zN(e){return Am.includes(e.type)}function GN(e){return typeof e=="string"&&f_.includes(e)}var f_,Am,m_,VN=L({"packages/ag-charts-community/src/chart/mapping/prepareAxis.ts"(){"use strict";f_=["top","right","bottom","left"],Am=["category","grouped-category","number","log","time"],m_=class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(e,t){const{result:i,valid:s,invalid:n}=this;zN(t)&&(GN(t.position)?s.push(e):n.push(e)),i.push(e)}guessInvalidPositions(){const e=this.valid.filter(i=>BN(i)).map(i=>i.position).filter(i=>i!==void 0),t=["top","right","bottom","left"];for(const i of this.invalid){let s=t.pop();for(;e.includes(s)&&s!==void 0;)s=t.pop();if(s===void 0)break;i.position=s}return this.result}}}}),Qu,Lm,WN=L({"packages/ag-charts-community/src/chart/polarChart.ts"(){"use strict";Pt(),Ng(),PS(),cu(),te(),ys(),OS(),lm(),Qu=class DA extends mi{constructor(t,i){super(t,i),this.padding=new fn(40),this.axisGroup.zIndex=5}performLayout(){return B(this,null,function*(){const t=yield tn(DA.prototype,this,"performLayout").call(this),i=t.clone();return this.computeSeriesRect(t),yield this.computeCircle(t),this.axes.forEach(s=>s.update()),this.hoverRect=t,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:i,paddedRect:t,visible:!0},axes:[]}),t})}updateAxes(t,i,s){var n,r;const a=this.axes.find(u=>u.direction==="x"),o=this.axes.find(u=>u.direction==="y");if(!(a instanceof ua)||!(o instanceof ua))return;const l=a.scale,c=(n=l.ticks)==null?void 0:n.call(l).map(u=>l.convert(u)),h=o.innerRadiusRatio;a.innerRadiusRatio=h,(r=a.computeRange)==null||r.call(a),a.gridLength=s,o.gridAngles=c,o.gridRange=a.range,o.range=[s,s*h],[a,o].forEach(u=>{u.translation.x=t,u.translation.y=i,u.calculateLayout()})}computeSeriesRect(t){const{seriesArea:{padding:i}}=this;t.shrink(i.left,"left"),t.shrink(i.top,"top"),t.shrink(i.right,"right"),t.shrink(i.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}computeCircle(t){return B(this,null,function*(){const i=this.series.filter(h=>h instanceof Vu),s=this.axes.filter(h=>h instanceof ua),n=(h,u,d)=>{this.updateAxes(h,u,d),i.forEach(g=>{g.centerX=h,g.centerY=u,g.radius=d});const p=i.filter(g=>g instanceof cc);if(p.length>1){const g=p.map(f=>{const m=f.getInnerRadius();return{series:f,innerRadius:m}}).sort((f,m)=>f.innerRadius-m.innerRadius);g[g.length-1].series.surroundingRadius=void 0;for(let f=0;f<g.length-1;f++)g[f].series.surroundingRadius=g[f+1].innerRadius}},r=t.x+t.width/2,a=t.y+t.height/2,o=Math.max(0,Math.min(t.width,t.height)/2);let l=o;n(r,a,l);const c=(...h)=>B(this,[...h],function*({hideWhenNecessary:u=!1}={}){const d=[];for(const f of[...s,...i]){const m=yield f.computeLabelsBBox({hideWhenNecessary:u},t);m&&d.push(m)}if(d.length===0){n(r,a,o);return}const p=ut.merge(d),g=this.refineCircle(p,l,t);n(g.centerX,g.centerY,g.radius),g.radius!==l&&(l=g.radius)});return yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0}),{radius:l,centerX:r,centerY:a}})}refineCircle(t,i,s){const r=-i,a=-i,o=i,l=i;let c=Math.max(0,r-t.x),h=Math.max(0,a-t.y),u=Math.max(0,t.x+t.width-o),d=Math.max(0,t.y+t.height-l);c=u=Math.max(c,u),h=d=Math.max(h,d);const p=s.width-c-u,g=s.height-h-d;let f=Math.min(p,g)/2;const m=.5*s.width/2,y=.5*s.height/2,v=Math.min(m,y);if(f<v){f=v;const _=c+u,D=h+d;if(2*f+D>s.height){const A=s.height-2*f;Math.min(h,d)*2>A?(h=A/2,d=A/2):h>d?h=A-d:d=A-h}if(2*f+_>s.width){const A=s.width-2*f;Math.min(c,u)*2>A?(c=A/2,u=A/2):c>u?c=A-u:u=A-c}}const x=c+2*f+u,S=h+2*f+d;return{centerX:s.x+(s.width-x)/2+c+f,centerY:s.y+(s.height-S)/2+h+f,radius:f}}},Qu.className="PolarChart",Qu.type="polar",Lm=Qu}});function y_(e){if(bo(e))return"cartesian";if(Su(e))return"polar";if(bu(e))return"hierarchy";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}function UN(e,t,i){var s,n,r;const a=Qt([(s=e.processedOptions)!=null?s:{},t],fr),o=YN(e,a),l=["type","data","series","listeners","theme","legend.listeners"];if(bo(t)||Su(t))l.push("axes");else if(!bu(t))throw new Error(`AG Charts - couldn't apply configuration, check type of options and chart: ${t.type}`);t.listeners&&v_(e,t.listeners),Tm(e,e.getModuleContext(),t,{skip:l});let c=!1,h=!1;t.series&&t.series.length>0&&(h=HN(e,t),c=!0),"axes"in a&&Array.isArray(a.axes)&&jN(e,a,h)&&(c=!0);const u=t.series,d=!!t.data||u?.some(v=>v.data!=null),p=PI(),g=Object.values(p).some(v=>t[v]!=null),f=t.title!=null&&t.subtitle!=null;c=c||d||g||f,t.data&&(e.data=t.data),(n=t.legend)!=null&&n.listeners&&Object.assign(e.legend.listeners,t.legend.listeners),t.listeners&&e.updateAllSeriesListeners(),e.processedOptions=a,e.userOptions=Qt([(r=e.userOptions)!=null?r:{},i],fr);const y=c||o?1:2;Dn("AgChartV2.applyChartOptions() - update type",oo[y]),e.update(y,{forceNodeDataRefresh:c,newAnimationBatch:!0})}function YN(e,t){const i=({chartTypes:n})=>e instanceof mf&&n.includes("cartesian")||e instanceof Lm&&n.includes("polar")||e instanceof _m&&n.includes("hierarchy");let s=!1;for(const n of rs){if(n.type!=="root"&&n.type!=="legend")continue;const r=i(n)&&t[n.optionsKey]!=null,a=e.isModuleEnabled(n);r!==a&&(r?(e.addModule(n),e[n.optionsKey]=e.modules.get(n.optionsKey)):(e.removeModule(n),delete e[n.optionsKey]),s=!0)}return s}function HN(e,t){const i=t.series;if(!i)return!1;const s=["direction","xKey","yKey","sizeKey","angleKey","stacked","stackGroup"];let n=e.series.length===i.length;for(let r=0;r<e.series.length&&n;r++){n&&(n=e.series[r].type===i[r].type);for(const a of s)n&&(n=e.series[r].properties[a]===i[r][a])}return n?(e.series.forEach((r,a)=>{var o,l,c,h;const u=(c=(l=(o=e.processedOptions)==null?void 0:o.series)==null?void 0:l[a])!=null?c:{},d=Cs(u,(h=i[a])!=null?h:{});d&&(Dn(`AgChartV2.applySeries() - applying series diff idx ${a}`,d),x_(r,d),r.markNodeDataDirty())}),!1):(Dn("AgChartV2.applySeries() - creating new series instances"),e.series=KN(e,i),!0)}function jN(e,t,i){const s=t.axes;if(!s)return!1;if(!i&&e.axes.length===s.length&&e.axes.every((r,a)=>r.type===s[a].type)){const r=e.processedOptions,a=e.getModuleContext();if(bo(r))return e.axes.forEach((o,l)=>{var c,h;const u=(h=(c=r.axes)==null?void 0:c[l])!=null?h:{},d=Cs(u,s[l]);Dn(`AgChartV2.applyAxes() - applying axis diff idx ${l}`,d);const p=`axes[${l}]`;Tm(o,a,d,{path:p,skip:["axes[].type"]})}),!0}return e.axes=$N(e,s),!0}function KN(e,t){var i;const s=[],n=e.getModuleContext();for(const r of t??[]){const a=(i=r.type)!=null?i:"unknown";if(Nb(a)&&!TI(a))continue;const o=H2(a,n);XN(o,r),x_(o,r),s.push(o)}return s}function XN(e,t){const i=rs.filter(r=>r.type==="series-option"),s=e.createModuleContext(),n=e.getModuleMap();for(const r of i){const a=r.seriesTypes;r.optionsKey in t&&a.includes(e.type)&&(n.addModule(r,o=>new o.instanceConstructor(s)),e[r.optionsKey]=n.getModule(r))}}function $N(e,t){const i=new m_,s=e.getModuleContext(),n=["axes[].type"];let r=0;for(const a of t??[]){const o=AI(a.type,s),l=`axes[${r++}]`;qN(o,a),Tm(o,s,a,{path:l,skip:n}),i.push(o,a)}return i.guessInvalidPositions()}function qN(e,t){let i=!1;const s=rs.filter(r=>r.type==="axis-option"),n=e.createModuleContext();for(const r of s){const a=t[r.optionsKey]!=null,o=e.getModuleMap(),l=o.isModuleEnabled(r);a!==l&&(i=!0,a?(o.addModule(r,c=>new c.instanceConstructor(n)),e[r.optionsKey]=o.getModule(r)):(o.removeModule(r),delete e[r.optionsKey]))}return i}function v_(e,t){e.clearEventListeners();const i=Object.entries(t??{});for(const[s,n]of i)typeof n=="function"&&e.addEventListener(s,n)}function Tm(e,t,i,{skip:s,path:n}={}){const r=R(X(R({},wT(t)),{skip:s}),n?{path:n}:{});return hl(e,i,r)}function x_(e,t){const i=e.getModuleMap(),s=t,{type:n,data:r,errorBar:a,listeners:o,seriesGrouping:l}=s,c=ai(s,["type","data","errorBar","listeners","seriesGrouping"]);e.properties.set(c),"data"in t&&(e.data=t.data),"errorBar"in t&&i.isModuleEnabled("errorBar")&&i.getModule("errorBar").properties.set(t.errorBar),t?.listeners!=null&&v_(e,t.listeners),"seriesGrouping"in t&&(e.seriesGrouping=l?Object.freeze(R(R({},e.seriesGrouping),l)):void 0)}var Dn,Ju,da,b_,td,Em,pa,ZN=L({"packages/ag-charts-community/src/chart/agChartV2.ts"(){"use strict";hp(),Or(),as(),sx(),Os(),ft(),yI(),cu(),kh(),vI(),lo(),$l(),ql(),Df(),I2(),uc(),rN(),aN(),FN(),VN(),_u(),WN(),Dn=Kt.create(!0,"opts"),Ju=class qc{static licenseCheck(t){var i,s,n,r;this.licenseChecked||(this.licenseManager=(s=(i=el).licenseManager)==null?void 0:s.call(i,t),(n=this.licenseManager)==null||n.setLicenseKey(this.licenseKey),(r=this.licenseManager)==null||r.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static getInstance(t){return pa.getInstance(t)}static create(t){var i,s,n,r;this.licenseCheck(t);const a=pa.createOrUpdate(t);return(i=this.licenseManager)!=null&&i.isDisplayWatermark()&&((r=(n=el).injectWatermark)==null||r.call(n,(s=t.document)!=null?s:document,a.chart.element,this.licenseManager.getWatermarkMessage())),a}static update(t,i){if(!mo.isInstance(t))throw new Error(qc.INVALID_CHART_REF_MESSAGE);pa.createOrUpdate(i,t)}static updateDelta(t,i){if(!mo.isInstance(t))throw new Error(qc.INVALID_CHART_REF_MESSAGE);pa.updateUserDelta(t,i)}static download(t,i){if(!(t instanceof mo))throw new Error(qc.INVALID_CHART_REF_MESSAGE);pa.download(t,i)}static getImageDataURL(t,i){if(!(t instanceof mo))throw new Error(qc.INVALID_CHART_REF_MESSAGE);return pa.getImageDataURL(t,i)}},Ju.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed",Ju.licenseChecked=!1,da=Ju,b_=class Zo{static warnDeprecated(t){sh()(`AgChart.${t}`,`Use AgCharts.${t} instead`)}static create(t){return Zo.warnDeprecated("create"),da.create(t)}static update(t,i){return Zo.warnDeprecated("update"),da.update(t,i)}static updateDelta(t,i){return Zo.warnDeprecated("updateDelta"),da.updateDelta(t,i)}static download(t,i){return Zo.warnDeprecated("download"),da.download(t,i)}static getImageDataURL(t,i){return Zo.warnDeprecated("getImageDataURL"),da.getImageDataURL(t,i)}},td=new WeakMap,Em=class Js{static getInstance(t){const i=mi.getInstance(t);return i!=null?td.get(i):void 0}static initialiseModules(){Js.initialised||(E2(),nN(),Js.initialised=!0)}static createOrUpdate(t,i){var s;Js.initialiseModules(),Dn(">>> AgChartV2.createOrUpdate() user options",t);const n=t,{overrideDevicePixelRatio:r,document:a,window:o}=n,l=ai(n,["overrideDevicePixelRatio","document","window"]),c={overrideDevicePixelRatio:r,document:a,window:o},h=MN(l);let u=i?.chart;u!=null&&td.delete(u),(u==null||y_(l)!==y_(u.processedOptions))&&(u=Js.createChartInstance(h,c,u)),i==null?i=new mo(u):i.chart=u,td.set(u,i),Kt.check()&&typeof window<"u"&&((s=window.agChartInstances)!=null||(window.agChartInstances={}),window.agChartInstances[u.id]=u);const d=u;d.queuedUserOptions.push(l);const p=()=>{const g=d.queuedUserOptions.indexOf(l);d.queuedUserOptions.splice(0,g)};return d.requestFactoryUpdate(()=>B(this,null,function*(){if(d.destroyed)return;const g=Cs(d.processedOptions,h);if(g==null){p();return}yield Js.updateDelta(d,g,l),p()})),i}static updateUserDelta(t,i){var s;const{chart:n,chart:{queuedUserOptions:r}}=t,a=(s=r[r.length-1])!=null?s:n.userOptions,o=Qt([a,i]);Dn(">>> AgChartV2.updateUserDelta() user delta",i),Dn("AgChartV2.updateUserDelta() - base options",a),Js.createOrUpdate(o,t)}static download(t,i){B(this,null,function*(){const n=yield Js.prepareResizedChart(t,i),{chart:r}=n;r.scene.download(i?.fileName,i?.fileFormat),n!==t&&n.destroy()}).catch(n=>q.errorOnce(n))}static getImageDataURL(t,i){return B(this,null,function*(){const s=yield Js.prepareResizedChart(t,i),{chart:n}=s,r=n.scene.canvas.getDataURL(i?.fileFormat);return s!==t&&s.destroy(),r})}static prepareResizedChart(t,i){return B(this,null,function*(){var s;const{chart:n}=t;let{width:r,height:a}=i??{};const o=n.width,l=n.height;if(r===void 0&&a===void 0||n.scene.canvas.pixelRatio===1&&o===r&&l===a)return t;r??(r=o),a??(a=l);const h=X(R({},n.userOptions),{container:document.createElement("div"),width:r,height:a,autoSize:!1,overrideDevicePixelRatio:1});Qc()&&((s=h.animation)!=null||(h.animation={}),h.animation.enabled=!1);const u=Js.createOrUpdate(h);return yield u.chart.waitForUpdate(),u})}static createChartInstance(t,i,s){const n=s?.destroy({keepTransferableResources:!0});if(bo(t))return new mf(i,n);if(bu(t))return new _m(i,n);if(Su(t))return new Lm(i,n);throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}static updateDelta(t,i,s){return B(this,null,function*(){var n;i.type==null&&(i=X(R({},i),{type:(n=t.processedOptions.type)!=null?n:sa(i)})),!t.destroyed&&(Dn("AgChartV2.updateDelta() - applying delta",i),UN(t,i,s))})}},Em.initialised=!1,pa=Em}}),S_,QN=L({"packages/ag-charts-community/src/version.ts"(){"use strict";S_="9.0.2"}}),__={};Ls(__,{BOTTOM:()=>vu,CARTESIAN_AXIS_POSITIONS:()=>Hi,CARTESIAN_AXIS_TYPES:()=>ji,CIRCLE:()=>$b,ChartTheme:()=>Hs,DEFAULT_AXIS_GRID_COLOUR:()=>Ql,DEFAULT_AXIS_LINE_COLOUR:()=>Jl,DEFAULT_BACKGROUND_COLOUR:()=>_o,DEFAULT_CROSS_LINES_COLOUR:()=>So,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Zi,DEFAULT_FONT_FAMILY:()=>ae,DEFAULT_HIERARCHY_FILLS:()=>ku,DEFAULT_HIERARCHY_STROKES:()=>Du,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>ra,DEFAULT_INVERTED_LABEL_COLOUR:()=>Gf,DEFAULT_LABEL_COLOUR:()=>_e,DEFAULT_MUTED_LABEL_COLOUR:()=>aa,DEFAULT_POLAR_SERIES_STROKE:()=>Mu,DEFAULT_SHADOW_COLOUR:()=>oa,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>qi,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>Xi,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>Ki,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>$i,EXTENDS_AXES_DEFAULTS:()=>Rf,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>Bf,EXTENDS_AXES_LABEL_DEFAULTS:()=>wf,EXTENDS_AXES_LINE_DEFAULTS:()=>Pf,EXTENDS_AXES_TICK_DEFAULTS:()=>Ff,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>na,EXTENDS_CHART_DEFAULTS:()=>If,EXTENDS_LEGEND_DEFAULTS:()=>Nf,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>Cf,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>Of,EXTENDS_SERIES_DEFAULTS:()=>Us,FONT_SIZE:()=>Mn,FONT_WEIGHT:()=>ia,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>zf,POLAR_AXIS_TYPES:()=>Xb,getChartTheme:()=>Mm,themes:()=>M_});var M_,JN=L({"packages/ag-charts-community/src/integrated-charts-theme.ts"(){"use strict";Dm(),Dm(),or(),Me(),er(),M_=Object.entries(km).reduce((e,[t,i])=>(e[t]=i(),e),{})}}),tC=L({"packages/ag-charts-community/src/scale/scale.ts"(){"use strict"}}),k_={};Ls(k_,{BandScale:()=>cs,ColorScale:()=>Wn,ContinuousScale:()=>Dt,Invalidating:()=>Qe,LinearScale:()=>Un,TimeScale:()=>Hh});var eC=L({"packages/ag-charts-community/src/sparklines-scale.ts"(){"use strict";Ig(),Ya(),gs(),Dl(),Ol(),tC(),dl()}}),z={};Ls(z,{AgChart:()=>b_,AgCharts:()=>da,AgErrorBarSupportedSeriesTypes:()=>Sv,Marker:()=>pi,VERSION:()=>S_,_ModuleSupport:()=>BS,_Scale:()=>k_,_Scene:()=>o0,_Theme:()=>__,_Util:()=>D0,__FORCE_MODULE_DETECTION:()=>_v,time:()=>qv});var W=L({"packages/ag-charts-community/src/main.ts"(){"use strict";IL(),oT(),ZN(),QN(),zs(),ug(),JN(),eC(),jh(),zS()}}),bc=Object.defineProperty,iC=Object.defineProperties,D_=Object.getOwnPropertyDescriptor,sC=Object.getOwnPropertyDescriptors,nC=Object.getOwnPropertyNames,ed=Object.getOwnPropertySymbols,rC=Object.getPrototypeOf,Im=Object.prototype.hasOwnProperty,A_=Object.prototype.propertyIsEnumerable,aC=Reflect.get,Rt=Math.pow,L_=(e,t,i)=>t in e?bc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,pt=(e,t)=>{for(var i in t||(t={}))Im.call(t,i)&&L_(e,i,t[i]);if(ed)for(var i of ed(t))A_.call(t,i)&&L_(e,i,t[i]);return e},De=(e,t)=>iC(e,sC(t)),T_=(e,t)=>{var i={};for(var s in e)Im.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&ed)for(var s of ed(e))t.indexOf(s)<0&&A_.call(e,s)&&(i[s]=e[s]);return i},oC=(e,t)=>{for(var i in t)bc(e,i,{get:t[i],enumerable:!0})},Nm=(e,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of nC(t))!Im.call(e,n)&&n!==i&&bc(e,n,{get:()=>t[n],enumerable:!(s=D_(t,n))||s.enumerable});return e},lC=(e,t,i)=>(Nm(e,t,"default"),i&&Nm(i,t,"default")),cC=e=>Nm(bc({},"__esModule",{value:!0}),e),M=(e,t,i,s)=>{for(var n=s>1?void 0:s?D_(t,i):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,i,n):a(n))||n);return s&&n&&bc(t,i,n),n},An=(e,t,i)=>aC(rC(e),i,t),tt=(e,t,i)=>new Promise((s,n)=>{var r=l=>{try{o(i.next(l))}catch(c){n(c)}},a=l=>{try{o(i.throw(l))}catch(c){n(c)}},o=l=>l.done?s(l.value):Promise.resolve(l.value).then(r,a);o((i=i.apply(e,t)).next())}),Cm={};oC(Cm,{AgCharts:()=>E_.AgCharts,time:()=>E_.time}),ss.exports=cC(Cm);var Nt=(W(),V(z)),E_=(W(),V(z)),I_=(W(),V(z)),N_={__extends__:I_._Theme.EXTENDS_AXES_DEFAULTS,gridLine:{enabled:!1,__extends__:I_._Theme.EXTENDS_AXES_GRID_LINE_DEFAULTS}},Om=(W(),V(z));function Rm(e,t,i){const s=(r,a,o,l)=>{let c=e[0];for(let h=r;o>0?h<=a:h>a;h+=o){const u=e[h];if(l(c,u))return!0;c=u}return!1},n=Math.floor(e.length/2);return s(t,n,t,i)?!0:s(e.length-t,n,-t,i)}var Lo=(W(),V(z)),Sc=(W(),V(z)),wm=(W(),V(z)),{ChartAxisDirection:hC,Layers:Pm,ARRAY:uC,BOOLEAN:Fm,COLOR_STRING:Bm,FONT_STYLE:dC,FONT_WEIGHT:pC,LINE_DASH:gC,NUMBER:C_,POSITIVE_NUMBER:fC,RATIO:O_,STRING:R_,UNION:mC,AND:yC,Validate:xe,MATCHING_CROSSLINE_TYPE:w_}=wm._ModuleSupport,{Group:P_}=wm._Scene,{createId:vC}=wm._Util,Ss=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.parallel=void 0}};M([xe(Fm,{optional:!0})],Ss.prototype,"enabled",2),M([xe(R_,{optional:!0})],Ss.prototype,"text",2),M([xe(dC,{optional:!0})],Ss.prototype,"fontStyle",2),M([xe(pC,{optional:!0})],Ss.prototype,"fontWeight",2),M([xe(fC)],Ss.prototype,"fontSize",2),M([xe(R_)],Ss.prototype,"fontFamily",2),M([xe(C_)],Ss.prototype,"padding",2),M([xe(Bm,{optional:!0})],Ss.prototype,"color",2),M([xe(Fm,{optional:!0})],Ss.prototype,"parallel",2);var vi=class pv{constructor(){this.id=vC(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.shape="polygon",this.label=new Ss,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=hC.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.group=new P_({name:`${this.id}`,layer:!0,zIndex:pv.LINE_LAYER_ZINDEX}),this.labelGroup=new P_({name:`${this.id}`,layer:!0,zIndex:pv.LABEL_LAYER_ZINDEX})}calculatePadding(){}setSectorNodeProps(t){var i,s,n;t.fill=this.fill,t.fillOpacity=(i=this.fillOpacity)!=null?i:1,t.stroke=this.stroke,t.strokeOpacity=(s=this.strokeOpacity)!=null?s:1,t.strokeWidth=(n=this.strokeWidth)!=null?n:1,t.lineDash=this.lineDash}setLabelNodeProps(t,i,s,n,r){const{label:a}=this;t.x=i,t.y=s,t.text=a.text,t.textAlign="center",t.textBaseline=n,t.rotation=r,t.rotationCenterX=i,t.rotationCenterY=s,t.fill=a.color,t.fontFamily=a.fontFamily,t.fontSize=a.fontSize,t.fontStyle=a.fontStyle,t.visible=!0}calculateLayout(t){}};vi.LINE_LAYER_ZINDEX=Pm.SERIES_CROSSLINE_LINE_ZINDEX,vi.RANGE_LAYER_ZINDEX=Pm.SERIES_CROSSLINE_RANGE_ZINDEX,vi.LABEL_LAYER_ZINDEX=Pm.SERIES_LABEL_ZINDEX,M([xe(Fm,{optional:!0})],vi.prototype,"enabled",2),M([xe(mC(["range","line"],"a crossLine type"),{optional:!0})],vi.prototype,"type",2),M([xe(yC(w_("range"),uC.restrict({length:2})),{optional:!0})],vi.prototype,"range",2),M([xe(w_("value"),{optional:!0})],vi.prototype,"value",2),M([xe(Bm,{optional:!0})],vi.prototype,"fill",2),M([xe(O_,{optional:!0})],vi.prototype,"fillOpacity",2),M([xe(Bm,{optional:!0})],vi.prototype,"stroke",2),M([xe(C_,{optional:!0})],vi.prototype,"strokeWidth",2),M([xe(O_,{optional:!0})],vi.prototype,"strokeOpacity",2),M([xe(gC,{optional:!0})],vi.prototype,"lineDash",2);var F_=vi,{ChartAxisDirection:xC,validateCrossLineValues:bC}=Sc._ModuleSupport,{Path:B_,Sector:SC,Text:_C}=Sc._Scene,{normalizeAngle360:zm,isNumberEqual:z_}=Sc._Util,G_=class qd extends F_{constructor(){super(),this.direction=xC.X,this.polygonNode=new B_,this.sectorNode=new SC,this.lineNode=new B_,this.labelNode=new _C,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.group.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:i,shape:s,type:n,value:r,range:a}=this;if(!i||!n||!bC(n,r,a,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,n==="line"&&s==="circle"&&i instanceof Sc._Scale.BandScale&&(this.type="range",this.range=[r,r]),this.updateLineNode(t),this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t)}updateLineNode(t){var i,s;const{scale:n,type:r,value:a,lineNode:o}=this;let l;if(!t||r!=="line"||!n||isNaN(l=n.convert(a))){o.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:h}=this;o.visible=!0,o.stroke=this.stroke,o.strokeOpacity=(i=this.strokeOpacity)!=null?i:1,o.strokeWidth=(s=this.strokeWidth)!=null?s:1,o.fill=void 0,o.lineDash=this.lineDash;const u=h*Math.cos(l),d=h*Math.sin(l),p=c*Math.cos(l),g=c*Math.sin(l);o.path.clear({trackChanges:!0}),o.path.moveTo(p,g),o.path.lineTo(u,d),this.group.zIndex=qd.LINE_LAYER_ZINDEX}updatePolygonNode(t){var i;const{polygonNode:s,range:n,scale:r,shape:a,type:o}=this;let l;if(!t||o!=="range"||a!=="polygon"||!r||!n||!(l=(i=r.ticks)==null?void 0:i.call(r))){s.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:h}=this,u=l.indexOf(n[0]),d=l.indexOf(n[1]),g=(u<=d?l.slice(u,d+1):l.slice(u).concat(l.slice(0,d+1))).map(m=>r.convert(m));s.visible=!0,this.setSectorNodeProps(s);const{path:f}=s;f.clear({trackChanges:!0}),g.forEach((m,y)=>{const v=h*Math.cos(m),x=h*Math.sin(m);y===0?f.moveTo(v,x):f.lineTo(v,x)}),c===0?f.lineTo(0,0):g.slice().reverse().forEach(m=>{const y=c*Math.cos(m),v=c*Math.sin(m);f.lineTo(y,v)}),s.path.closePath(),this.group.zIndex=qd.RANGE_LAYER_ZINDEX}updateSectorNode(t){var i;const{sectorNode:s,range:n,scale:r,shape:a,type:o}=this;if(!t||o!=="range"||a!=="circle"||!r||!n){s.visible=!1;return}const{axisInnerRadius:l,axisOuterRadius:c}=this,h=n.map(p=>r.convert(p)),u=(i=r.step)!=null?i:0,d=r instanceof Sc._Scale.BandScale?u/2:0;s.visible=!0,this.setSectorNodeProps(s),s.centerX=0,s.centerY=0,s.innerRadius=l,s.outerRadius=c,s.startAngle=h[0]-d,s.endAngle=h[1]+d,this.group.zIndex=qd.RANGE_LAYER_ZINDEX}updateLabelNode(t){var i,s;const{label:n,labelNode:r,range:a,scale:o,type:l}=this;if(!t||n.enabled===!1||!n.text||!o||l==="range"&&!a){r.visible=!0;return}const{axisInnerRadius:c,axisOuterRadius:h}=this;let u,d,p,g;if(l==="line"){const f=zm(o.convert(this.value)),m=3*Math.PI/2,y=z_(f,m)||f>m||f<Math.PI/2,v=(c+h)/2*Math.cos(f),x=(c+h)/2*Math.sin(f);u=v+n.padding*Math.cos(f+Math.PI/2),d=x+n.padding*Math.sin(f+Math.PI/2),g=y?"top":"bottom",p=y?f:f-Math.PI}else{const[f,m]=a.map(_=>zm(o.convert(_)));let y=(f+m)/2;f>m&&(y-=Math.PI),y=zm(y);const v=(z_(y,0)||y>0)&&y<Math.PI;let x;const S=(s=(i=o.ticks)==null?void 0:i.call(o))!=null?s:[];this.shape==="circle"||S.length<3?x=h-n.padding:x=h*Math.cos(Math.PI/S.length)-n.padding,u=x*Math.cos(y),d=x*Math.sin(y),g=v?"bottom":"top",p=v?y-Math.PI/2:y+Math.PI/2}this.setLabelNodeProps(r,u,d,g,p)}};G_.className="AngleCrossLine";var V_=G_,{AND:MC,assignJsonApplyConstructedArray:kC,ChartAxisDirection:DC,GREATER_THAN:AC,NUMBER:W_,UNION:LC,ProxyOnWrite:TC,Validate:Gm}=Lo._ModuleSupport,{Path:EC,Text:U_}=Lo._Scene,{angleBetween:IC,isNumberEqual:To,toRadians:Vm,normalizeAngle360:Eo}=Lo._Util,Wm=class extends Lo._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};M([Gm(LC(["fixed","parallel","perpendicular"],"a label orientation"))],Wm.prototype,"orientation",2);var id=class extends Lo._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new EC),this.computeRange=()=>{const i=Eo(-Math.PI/2+Vm(this.startAngle));let s=this.endAngle==null?i+Math.PI*2:-Math.PI/2+Vm(this.endAngle);s<i&&(s+=2*Math.PI),this.range=[i,s]},this.includeInvisibleDomains=!0}get direction(){return DC.X}assignCrossLineArrayConstructor(e){kC(e,V_)}createLabel(){return new Wm}update(){return this.updateScale(),this.updatePosition(),this.updateGridLines(),this.updateTickLines(),this.updateLabels(),this.updateRadiusLine(),this.updateCrossLines(),this.tickData.length}calculateAvailableRange(){const{range:e,gridLength:t}=this;return IC(e[0],e[1])*t}updatePosition(){const{translation:e,axisGroup:t,gridGroup:i,crossLineGroup:s}=this,n=Math.floor(e.x),r=Math.floor(e.y);t.translationX=n,t.translationY=r,i.translationX=n,i.translationY=r,s.translationX=n,s.translationY=r}updateRadiusLine(){const e=this.radiusLine,{path:t}=e;t.clear({trackChanges:!0});const{points:i,closePath:s}=this.getAxisLinePoints();i.forEach(({x:n,y:r,moveTo:a,arc:o,radius:l=0,startAngle:c=0,endAngle:h=0})=>{o?t.arc(n,r,l,c,h):a?t.moveTo(n,r):t.lineTo(n,r)}),s&&t.closePath(),e.visible=this.line.enabled,e.stroke=this.line.color,e.strokeWidth=this.line.width,e.fill=void 0}getAxisLinePoints(){var e;const{scale:t,shape:i,gridLength:s}=this,[n,r]=this.range,a=To(r-n,2*Math.PI),o=[];if(i==="circle")a?(o.push({x:s,y:0,moveTo:!0}),o.push({x:0,y:0,radius:s,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1})):(o.push({x:s*Math.cos(n),y:s*Math.sin(n),moveTo:!0}),o.push({x:0,y:0,radius:s,startAngle:Eo(n),endAngle:Eo(r),arc:!0,moveTo:!1}));else if(i==="polygon"){const l=(((e=t.ticks)==null?void 0:e.call(t))||[]).map(c=>t.convert(c));l.length>2&&l.forEach((c,h)=>{const u=s*Math.cos(c),d=s*Math.sin(c),p=h===0;o.push({x:u,y:d,moveTo:p})})}return{points:o,closePath:a}}updateGridLines(){const{scale:e,gridLength:t,gridLine:{enabled:i,style:s,width:n},innerRadiusRatio:r}=this;if(!(s&&t>0))return;const a=this.tickData,o=t*r,l=s.length,c=h=>h.value;this.gridLineGroupSelection.update(i?a:[],void 0,c).each((h,u,d)=>{const{value:p}=u,{stroke:g,lineDash:f}=s[d%l],m=e.convert(p);h.x1=o*Math.cos(m),h.y1=o*Math.sin(m),h.x2=t*Math.cos(m),h.y2=t*Math.sin(m),h.stroke=g,h.strokeWidth=n,h.lineDash=f,h.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:e,tickLabelGroupSelection:t}=this,i=this.tickData;t.update(e.enabled?i:[]).each((s,n,r)=>{const a=this.labelData[r];if(!a||a.hidden){s.visible=!1;return}s.text=a.text,s.setFont(e),s.fill=e.color,s.x=a.x,s.y=a.y,s.textAlign=a.textAlign,s.textBaseline=a.textBaseline,s.visible=!0,a.rotation?(s.rotation=a.rotation,s.rotationCenterX=a.x,s.rotationCenterY=a.y):s.rotation=0})}updateTickLines(){const{scale:e,gridLength:t,tick:i,tickLineGroupSelection:s}=this,n=this.tickData;s.update(i.enabled?n:[]).each((r,a)=>{const{value:o}=a,l=e.convert(o),c=Math.cos(l),h=Math.sin(l);r.x1=t*c,r.y1=t*h,r.x2=(t+i.size)*c,r.y2=(t+i.size)*h,r.stroke=i.color,r.strokeWidth=i.width})}createLabelNodeData(e,t,i){const{label:s,gridLength:n,scale:r,tick:a}=this;if(!s.enabled)return[];const o=new U_,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,h=e.map((u,d)=>{var p;const{value:g}=u,f=n+s.padding+a.size,m=r.convert(g),y=Math.cos(m),v=Math.sin(m),x=f*y,S=f*v,{textAlign:_,textBaseline:D}=this.getLabelAlign(m),A=d===e.length-1&&g!==e[0]&&To(Eo(m),Eo(r.convert(e[0]))),T=this.getLabelRotation(m);let I=String(g);if(s.formatter){const{callbackCache:N}=this.moduleCtx;I=(p=N.call(s.formatter,{value:g,index:d}))!=null?p:""}o.text=I,o.x=x,o.y=S,o.setFont(s),o.textAlign=_,o.textBaseline=D,o.rotation=T,T&&(o.rotationCenterX=x,o.rotationCenterY=S);let E=T?o.computeTransformedBBox():o.computeBBox();if(E&&t.hideWhenNecessary&&!T){const N=l-E.x,C=E.x+E.width-c,O=1;if(N>O||C>O){const w=E.width-Math.max(N,C);({text:I}=U_.wrap(I,w,1/0,s,"never")),I==="\u2026"&&(I="",E=void 0),o.text=I,E=o.computeBBox()}}return{text:I,x,y:S,textAlign:_,textBaseline:D,hidden:I===""||u.hidden||A,rotation:T,box:E}});return s.avoidCollisions&&this.avoidLabelCollisions(h),h}computeLabelsBBox(e,t){this.tickData=this.generateAngleTicks(),this.labelData=this.createLabelNodeData(this.tickData,e,t);const i=this.labelData.map(({box:s})=>s).filter(s=>s!=null);return!this.label.enabled||i.length===0?null:Lo._Scene.BBox.merge(i)}getLabelOrientation(){const{label:e}=this;return e instanceof Wm?e.orientation:"fixed"}getLabelRotation(e){var t;let i=Vm((t=this.label.rotation)!=null?t:0);e=Eo(e);const s=this.getLabelOrientation();return s==="parallel"?(i+=e,e>=0&&e<Math.PI?i-=Math.PI/2:i+=Math.PI/2):s==="perpendicular"&&(i+=e,e>=Math.PI/2&&e<3*Math.PI/2&&(i+=Math.PI)),i}getLabelAlign(e){const t=Math.cos(e),i=Math.sin(e);let s,n;const r=this.getLabelOrientation(),a=To(t,0),o=To(i,0),l=To(t,1),c=To(i,-1),h=t>0&&!a,u=i>0&&!o;return r==="parallel"?(s="center",n=l&&o||u?"top":"bottom"):r==="perpendicular"?(s=c||h?"left":"right",n="middle"):(s=a?"center":h?"left":"right",n=o?"middle":u?"top":"bottom"),{textAlign:s,textBaseline:n}}updateCrossLines(){var e;(e=this.crossLines)==null||e.forEach(t=>{if(t instanceof V_){const{shape:i,gridLength:s,innerRadiusRatio:n}=this;t.shape=i,t.axisOuterRadius=s,t.axisInnerRadius=s*n}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}};M([TC("rotation"),Gm(W_.restrict({min:0,max:360}))],id.prototype,"startAngle",2),M([Gm(MC(W_.restrict({min:0,max:720}),AC("startAngle")),{optional:!0})],id.prototype,"endAngle",2);var{RATIO:Y_,Validate:H_}=Om._ModuleSupport,{BandScale:NC}=Om._Scale,{isNumberEqual:j_}=Om._Util,Io=class extends id{constructor(e){super(e,new NC),this.groupPaddingInner=0,this.paddingInner=0}generateAngleTicks(){var e,t;const{scale:i,tick:s,gridLength:n}=this,r=(t=(e=s.values)!=null?e:i.ticks())!=null?t:[];if(r.length<2||isNaN(s.minSpacing))return r.map(h=>({value:h,visible:!0}));const a=r[0],o=i.convert(a),l=n*Math.cos(o),c=n*Math.sin(o);for(let h=1;h<r.length-1;h++){const u=r[h],d=i.convert(u);if(d-o>Math.PI)break;const p=n*Math.cos(d),g=n*Math.sin(d);if(Math.sqrt(Rt(p-l,2)+Rt(g-c,2))>s.minSpacing){const m=new Set([a]);return Rm(r,h,(y,v)=>{m.add(v)}),r.map(y=>{const v=m.has(y);return{value:y,visible:v}})}}return[{value:a,visible:!0}]}avoidLabelCollisions(e){let{minSpacing:t}=this.label;if(Number.isFinite(t)||(t=0),e.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;const h=l.box.clone().grow(t/2),u=c.box.clone().grow(t/2);return h.collidesBBox(u)},s=e[0],n=e[e.length-1],r=new Set([s]),a=j_(s.x,n.x)&&j_(s.y,n.y),o=Math.floor(e.length/2);for(let l=1;l<=o;l++){const c=a?e.slice(0,-1):e;if(!Rm(c,l,i)){Rm(c,l,(u,d)=>{r.add(d)});break}}e.forEach(l=>{r.has(l)||(l.hidden=!0,l.box=void 0)})}};Io.className="AngleCategoryAxis",Io.type="angle-category",M([H_(Y_)],Io.prototype,"groupPaddingInner",2),M([H_(Y_)],Io.prototype,"paddingInner",2);var CC={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",instanceConstructor:Io,themeTemplate:N_},Um=(W(),V(z)),K_=(W(),V(z)),{LinearScale:OC,Invalidating:RC}=K_._Scale,{isNumberEqual:wC,range:X_}=K_._Util,$_=class extends OC{constructor(){super(...arguments),this.arcLength=0,this.niceTickStep=0}ticks(){if(!this.domain||this.domain.length<2||this.domain.some(n=>!isFinite(n)))return[];this.refresh();const[e,t]=this.getDomain(),{interval:i}=this;if(i){const n=Math.abs(i);if(!this.isDenseInterval({start:e,stop:t,interval:n}))return X_(e,t,n)}const s=this.nice&&this.niceTickStep?this.niceTickStep:this.getTickStep(e,t);return X_(e,t,s)}hasNiceRange(){const e=this.range.slice().sort((i,s)=>i-s);return[Math.PI,2*Math.PI].some(i=>wC(i,e[1]-e[0]))}getNiceStepAndTickCount(){const[e,t]=this.niceDomain;let i=this.getTickStep(e,t);const s=isNaN(this.maxTickCount)?1/0:this.maxTickCount,n=Math.abs(t-e)/i;let r=Math.pow(2,Math.ceil(Math.log(n)/Math.log(2)));return r>s&&(r/=2,i*=2),{count:r,step:i}}updateNiceDomain(){if(super.updateNiceDomain(),!this.hasNiceRange())return;const e=this.niceDomain[0]>this.niceDomain[1],t=e?this.niceDomain[1]:this.niceDomain[0],{step:i,count:s}=this.getNiceStepAndTickCount(),n=1/i,r=i>=1?Math.ceil(t/i+s)*i:Math.ceil((t+s*i)*n)/n;this.niceDomain=e?[r,t]:[t,r],this.niceTickStep=i}getPixelRange(){return this.arcLength}};M([RC],$_.prototype,"arcLength",2);var{AND:q_,Default:Ym,GREATER_THAN:PC,LESS_THAN:FC,NUMBER_OR_NAN:Z_,MIN_SPACING:BC,Validate:Hm}=Um._ModuleSupport,{angleBetween:zC,isNumberEqual:Q_,normalisedExtentWithMetadata:GC}=Um._Util,J_=class extends Um._ModuleSupport.AxisTick{constructor(){super(...arguments),this.maxSpacing=NaN}};M([Hm(BC),Ym(NaN)],J_.prototype,"maxSpacing",2);var _c=class extends id{constructor(e){super(e,new $_),this.shape="circle",this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:s,clipped:n}=GC(e,t,i);return{domain:s,clipped:n}}createTick(){return new J_}getRangeArcLength(){const{range:e}=this,t=Math.min(...e),i=Math.max(...e),s=zC(t,i)||2*Math.PI,n=this.gridLength;return s*n}generateAngleTicks(){var e;const t=this.getRangeArcLength(),{scale:i,tick:s,range:n}=this,{minSpacing:r=NaN,maxSpacing:a=NaN}=s,o=a?Math.floor(t/a):1,l=r?Math.floor(t/r):1/0,c=Math.floor(4/Math.PI*Math.abs(n[0]-n[1]));return i.tickCount=Math.max(o,Math.min(l,c)),i.minTickCount=o,i.maxTickCount=l,i.arcLength=t,((e=s.values)!=null?e:i.ticks()).map(u=>({value:u,visible:!0}))}avoidLabelCollisions(e){let{minSpacing:t}=this.label;Number.isFinite(t)||(t=0);const i=(r,a)=>{if(r.hidden||a.hidden)return!1;const o=r.box.clone().grow(t/2),l=a.box.clone().grow(t/2);return o.collidesBBox(l)},s=e[0],n=e[e.length-1];s!==n&&Q_(s.x,n.x)&&Q_(s.y,n.y)&&(n.hidden=!0);for(let r=1;r<e.length;r*=2){let a=!1;for(let o=r;o<e.length;o+=r){const l=e[o],c=e[o-r];if(i(c,l)){a=!0;break}}if(!a){e.forEach((o,l)=>{l%r>0&&(o.hidden=!0,o.box=void 0)});return}}e.forEach((r,a)=>{a>0&&(r.hidden=!0,r.box=void 0)})}};_c.className="AngleNumberAxis",_c.type="angle-number",M([Hm(q_(Z_,FC("max"))),Ym(NaN)],_c.prototype,"min",2),M([Hm(q_(Z_,PC("min"))),Ym(NaN)],_c.prototype,"max",2);var VC={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",instanceConstructor:_c,themeTemplate:N_},jm=(W(),V(z)),tM={__extends__:jm._Theme.EXTENDS_AXES_DEFAULTS,line:{enabled:!1,__extends__:jm._Theme.EXTENDS_AXES_LINE_DEFAULTS},tick:{enabled:!1,__extends__:jm._Theme.EXTENDS_AXES_TICK_DEFAULTS}},eM=(W(),V(z)),No=(W(),V(z)),ga=(W(),V(z)),{ChartAxisDirection:WC,Validate:UC,DEGREE:YC,validateCrossLineValues:HC}=ga._ModuleSupport,{Path:jC,Sector:KC,Text:XC}=ga._Scene,{normalizeAngle360:$C,toRadians:qC,isNumberEqual:ZC}=ga._Util,iM=class extends Ss{constructor(){super(...arguments),this.positionAngle=void 0}};M([UC(YC,{optional:!0})],iM.prototype,"positionAngle",2);var sM=class gv extends F_{constructor(){super(),this.direction=WC.Y,this.label=new iM,this.polygonNode=new jC,this.sectorNode=new KC,this.labelNode=new XC,this.outerRadius=0,this.innerRadius=0,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:i,type:s,value:n,range:r}=this;if(!i||!s||!HC(s,n,r,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}s==="line"&&i instanceof ga._Scale.BandScale&&(this.type="range",this.range=[n,n]),this.updateRadii();const{innerRadius:a,outerRadius:o}=this;t&&(t=a>=this.axisInnerRadius&&o<=this.axisOuterRadius),this.group.visible=t,this.labelGroup.visible=t,this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t),this.group.zIndex=this.type==="line"?gv.LINE_LAYER_ZINDEX:gv.RANGE_LAYER_ZINDEX}updateRadii(){var t;const{range:i,scale:s,type:n,axisInnerRadius:r,axisOuterRadius:a}=this;if(!s)return{innerRadius:0,outerRadius:0};const o=h=>a+r-h;let l=0,c=0;if(n==="line")l=o(s.convert(this.value)),c=l;else{const h=Math.abs((t=s?.bandwidth)!=null?t:0),u=i.map(d=>s.convert(d));l=o(Math.max(...u)),c=o(Math.min(...u))+h}this.outerRadius=l,this.innerRadius=c}drawPolygon(t,i,s){i.forEach((n,r)=>{const a=t*Math.cos(n),o=t*Math.sin(n);r===0?s.path.moveTo(a,o):s.path.lineTo(a,o)}),s.path.closePath()}updatePolygonNode(t){const{gridAngles:i,polygonNode:s,scale:n,shape:r,type:a,innerRadius:o,outerRadius:l}=this;if(!t||r!=="polygon"||!n||!i){s.visible=!1;return}s.visible=!0;const c=this.getPadding();s.path.clear({trackChanges:!0}),this.drawPolygon(l-c,i,s);const h=i.slice().reverse(),u=a==="line"?l-c:o+c;this.drawPolygon(u,h,s),this.setSectorNodeProps(s)}updateSectorNode(t){const{axisInnerRadius:i,axisOuterRadius:s,scale:n,sectorNode:r,shape:a,innerRadius:o,outerRadius:l}=this;if(!t||a!=="circle"||!n){r.visible=!1;return}r.visible=!0,r.startAngle=0,r.endAngle=2*Math.PI;const c=this.getPadding();r.innerRadius=ga._Util.clamp(i,o+c,s),r.outerRadius=ga._Util.clamp(i,l-c,s),this.setSectorNodeProps(r)}updateLabelNode(t){var i,s;const{innerRadius:n,label:r,labelNode:a,scale:o,shape:l,type:c}=this;if(!t||r.enabled===!1||!r.text||!o){a.visible=!1;return}const h=$C(qC(((i=r.positionAngle)!=null?i:0)-90)),u=(ZC(h,0)||h>0)&&h<Math.PI,d=u?h-Math.PI/2:h+Math.PI/2;let p=0;const g=(s=this.gridAngles)!=null?s:[];c==="line"?p=n+r.padding:l==="circle"||g.length<3?p=n-r.padding:p=n*Math.cos(Math.PI/g.length)-r.padding;const f=p*Math.cos(h),m=p*Math.sin(h);let y;c==="line"?y=u?"top":"bottom":y=u?"bottom":"top",this.setLabelNodeProps(a,f,m,y,d)}getPadding(){var t,i;const{scale:s}=this;if(!s)return 0;const n=Math.abs((t=s.bandwidth)!=null?t:0),r=Math.abs((i=s.step)!=null?i:0);return s instanceof ga._Scale.BandScale?(r-n)/2:0}};sM.className="RadiusCrossLine";var nM=sM,{assignJsonApplyConstructedArray:QC,ChartAxisDirection:JC,Default:rM,Layers:tO,DEGREE:aM,MIN_SPACING:eO,BOOLEAN:iO,Validate:sd}=No._ModuleSupport,{Caption:sO,Group:nO,Path:rO,Selection:aO}=No._Scene,{isNumberEqual:oO,normalizeAngle360:oM,toRadians:lO}=No._Util,lM=class extends No._ModuleSupport.AxisTick{constructor(){super(...arguments),this.maxSpacing=NaN}};M([sd(eO),rM(NaN)],lM.prototype,"maxSpacing",2);var Km=class extends No._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};M([sd(iO,{optional:!0})],Km.prototype,"autoRotate",2),M([sd(aM)],Km.prototype,"autoRotateAngle",2);var Xm=class extends No._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.positionAngle=0,this.gridPathGroup=this.gridGroup.appendChild(new nO({name:`${this.id}-gridPaths`,zIndex:tO.AXIS_GRID_ZINDEX})),this.gridPathSelection=aO.select(this.gridPathGroup,rO)}get direction(){return JC.Y}assignCrossLineArrayConstructor(e){QC(e,nM)}getAxisTransform(){const e=this.scale.range[0],{translation:t,positionAngle:i,innerRadiusRatio:s}=this,n=e*s,r=lO(i);return{translationX:t.x,translationY:t.y-e-n,rotation:r,rotationCenterX:0,rotationCenterY:e+n}}updateSelections(e,t,i){var s;super.updateSelections(e,t,i);const{gridLine:{enabled:n,style:r,width:a},shape:o}=this;if(!r)return;const l=this.prepareTickData(t),c=r.length,h=(m,y)=>{const{stroke:v,lineDash:x}=r[y%c];m.stroke=v,m.strokeWidth=a,m.lineDash=x,m.fill=void 0},[u,d]=(s=this.gridRange)!=null?s:[0,2*Math.PI],p=oO(d-u,2*Math.PI),g=(m,y)=>{const{path:v}=m;v.clear({trackChanges:!0});const x=this.getTickRadius(y);p?(v.moveTo(x,0),v.arc(0,0,x,0,2*Math.PI)):(v.moveTo(x*Math.cos(u),x*Math.sin(u)),v.arc(0,0,x,oM(u),oM(d))),p&&v.closePath()},f=(m,y)=>{const{path:v}=m,x=this.gridAngles;if(v.clear({trackChanges:!0}),!x||x.length<3)return;const S=this.getTickRadius(y);x.forEach((_,D)=>{const A=S*Math.cos(_),T=S*Math.sin(_);D===0?v.moveTo(A,T):v.lineTo(A,T),x.forEach((I,E)=>{const N=S*Math.cos(I),C=S*Math.sin(I);E===0?v.moveTo(N,C):v.lineTo(N,C)}),v.closePath()}),v.closePath()};this.gridPathSelection.update(n?l:[]).each((m,y,v)=>{h(m,v),o==="circle"?g(m,y):f(m,y)})}updateTitle(){var e;const t=c=>c.defaultValue,{title:i,_titleCaption:s,range:n,moduleCtx:{callbackCache:r}}=this,{formatter:a=t}=(e=this.title)!=null?e:{};if(!i){s.enabled=!1;return}s.enabled=i.enabled,s.fontFamily=i.fontFamily,s.fontSize=i.fontSize,s.fontStyle=i.fontStyle,s.fontWeight=i.fontWeight,s.color=i.color,s.wrapping=i.wrapping;let o=!1;const l=s.node;i.enabled&&(o=!0,l.rotation=Math.PI/2,l.x=Math.floor((n[0]+n[1])/2),l.y=-sO.SMALL_PADDING,l.textAlign="center",l.textBaseline="bottom",l.text=r.call(a,this.getTitleFormatterParams())),l.visible=o}createTick(){return new lM}updateCrossLines(){var e;(e=this.crossLines)==null||e.forEach(t=>{if(t instanceof nM){const{shape:i,gridAngles:s,range:n,innerRadiusRatio:r}=this,a=n[0];t.shape=i,t.gridAngles=s,t.axisOuterRadius=a,t.axisInnerRadius=a*r}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}createLabel(){return new Km}};M([sd(aM),rM(0)],Xm.prototype,"positionAngle",2);var{RATIO:$m,ProxyPropertyOnWrite:cM,Validate:qm}=eM._ModuleSupport,{BandScale:cO}=eM._Scale,fa=class extends Xm{constructor(e){super(e,new cO),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}prepareTickData(e){return e.slice().reverse()}getTickRadius(e){const{scale:t}=this,i=t.range[0],s=i*this.innerRadiusRatio,n=(i-s)/t.domain.length;return i-e.translationY+s-n/2}};fa.className="RadiusCategoryAxis",fa.type="radius-category",M([qm($m)],fa.prototype,"groupPaddingInner",2),M([cM("scale","paddingInner"),qm($m)],fa.prototype,"paddingInner",2),M([cM("scale","paddingOuter"),qm($m)],fa.prototype,"paddingOuter",2);var hO={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",instanceConstructor:fa,themeTemplate:tM},Zm=(W(),V(z)),{AND:hM,Default:uM,GREATER_THAN:uO,LESS_THAN:dO,NUMBER_OR_NAN:dM,Validate:pM}=Zm._ModuleSupport,{LinearScale:pO}=Zm._Scale,{normalisedExtentWithMetadata:gO}=Zm._Util,Mc=class extends Xm{constructor(e){super(e,new pO),this.shape="polygon",this.min=NaN,this.max=NaN}prepareTickData(e){var t;const{scale:i}=this,s=(t=i.getDomain)==null?void 0:t.call(i)[1];return e.filter(({tick:n})=>n!==s).sort((n,r)=>r.tick-n.tick)}getTickRadius(e){const{scale:t}=this,i=t.range[0],s=i*this.innerRadiusRatio;return i-e.translationY+s}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:s,clipped:n}=gO(e,t,i);return{domain:s,clipped:n}}};Mc.className="RadiusNumberAxis",Mc.type="radius-number",M([pM(hM(dM,dO("max"))),uM(NaN)],Mc.prototype,"min",2),M([pM(hM(dM,uO("min"))),uM(NaN)],Mc.prototype,"max",2);var fO={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",instanceConstructor:Mc,themeTemplate:tM},gM=(W(),V(z)),{BOOLEAN:mO,POSITIVE_NUMBER:yO,ActionOnSet:fM,Validate:mM}=gM._ModuleSupport,Qm=class extends gM._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,this.animationManager=e.animationManager,this.animationManager.skip(!1)}};M([fM({newValue(e){this.animationManager&&this.animationManager.skip(!e)}}),mM(mO)],Qm.prototype,"enabled",2),M([fM({newValue(e){this.animationManager&&(this.animationManager.defaultDuration=e,this.animationManager.skip(e===0))}}),mM(yO)],Qm.prototype,"duration",2);var vO={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:Qm,themeTemplate:{animation:{enabled:!0}}},Jm=(W(),V(z)),{ActionOnSet:xO}=Jm._ModuleSupport,yM=class extends Jm._ModuleSupport.Background{constructor(e){super(e),this.updateService=e.updateService}onLayoutComplete(e){if(super.onLayoutComplete(e),this.image){const{width:t,height:i}=e.chart;this.image.performLayout(t,i)}}onImageLoad(){this.updateService.update(Jm._ModuleSupport.ChartUpdateType.SCENE_RENDER)}};M([xO({newValue(e){this.node.appendChild(e.node),e.onload=()=>this.onImageLoad()},oldValue(e){this.node.removeChild(e.node),e.onload=void 0}})],yM.prototype,"image",2);var bO=(W(),V(z)),{Image:SO}=bO._Scene,_O=class{constructor(){this._image=document.createElement("img"),this.loadedSynchronously=!0,this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,this.opacity=1,this.containerWidth=0,this.containerHeight=0,this.onload=void 0,this.onImageLoad=()=>{this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),this.onload&&this.onload())},this.node=new SO(this._image),this._image.onload=this.onImageLoad}get url(){return this._image.src}set url(e){this._image.src=e,this.loadedSynchronously=this.complete}get complete(){return this._image.width>0&&this._image.height>0}performLayout(e,t){if(this.containerWidth=e,this.containerHeight=t,!this.complete){this.node.visible=!1;return}const i=this.calculatePosition(this._image.width,this._image.height);Object.assign(this.node,i),this.node.visible=!0,this.node.opacity=this.opacity}calculatePosition(e,t){let i=this.left,s=this.right,n=this.width,r=this.top,a=this.bottom,o=this.height;return i!=null?n!=null?s=this.containerWidth-i+n:s!=null&&(n=this.containerWidth-i-s):s!=null&&n!=null&&(i=this.containerWidth-s-n),r!=null?o!=null?a=this.containerHeight-r-o:a!=null&&(o=this.containerHeight-a-r):a!=null&&o!=null&&(r=this.containerHeight-a-o),n==null?o==null?(n=e,o=t):n=Math.ceil(e*o/t):o==null&&(o=Math.ceil(t*n/e)),i==null&&(s==null?i=Math.floor((this.containerWidth-n)/2):i=this.containerWidth-s-n),r==null&&(a==null?r=Math.floor((this.containerHeight-o)/2):r=this.containerHeight-o-a),{x:i,y:r,width:n,height:o}}},MO={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy"],optionConstructors:{"background.image":_O},instanceConstructor:yM},vM=(W(),V(z)),ni="ag-chart-context-menu",kO=`
.${ni} {
    background: rgb(248, 248, 248);
    border: 1px solid #babfc7;
    border-radius: 5px;
    box-shadow: 0 1px 4px 1px rgba(186, 191, 199, 0.4);
    color: rgb(24, 29, 31);
    font: 13px Verdana, sans-serif;
    position: fixed;
    transition: transform 0.1s ease;
    white-space: nowrap;
    z-index: 99999;
}

.${ni}__cover {
    position: fixed;
    left: 0px;
    top: 0px;
}

.${ni}__menu {
    display: flex;
    flex-direction: column;
    padding: 0.5em 0;
}

.${ni}__item {
    background: none;
    border: none;
    box-sizing: border-box;
    font: inherit;
    padding: 0.5em 1em;
    text-align: left;
    -webkit-appearance: none;
    -moz-appearance: none;
}

.${ni}__item:hover {
    background: rgb(33, 150, 243, 0.1);
}

.${ni}__item:active {
    background: rgb(33, 150, 243, 0.2);
}

.${ni}__item[disabled] {
    border: none;
    opacity: 0.5;
    text-align: left;
}

.${ni}__item[disabled]:hover {
    background: inherit;
    cursor: inherit;
}

.${ni}__divider {
    margin: 5px 0;
    background: #babfc7;
    height: 1px;
}
`,{BOOLEAN:DO,Validate:AO}=vM._ModuleSupport,xM="context-menu",bM="context-menu",Co=class Pa extends vM._ModuleSupport.BaseModuleInstance{constructor(t){if(super(),this.ctx=t,this.enabled=!0,this.extraActions=[],this.extraNodeActions=[],this.x=0,this.y=0,this.highlightManager=t.highlightManager,this.interactionManager=t.interactionManager,this.tooltipManager=t.tooltipManager,this.scene=t.scene,this.destroyFns.push(t.interactionManager.addListener("contextmenu",i=>this.onContextMenu(i))),this.groups={default:[],node:[],extra:[],extraNode:[]},this.canvasElement=t.scene.canvas.element,this.container=t.document.body,this.element=this.container.appendChild(t.document.createElement("div")),this.element.classList.add(ni),this.destroyFns.push(()=>{var i;return(i=this.element.parentNode)==null?void 0:i.removeChild(this.element)}),this.coverElement=this.container.appendChild(t.document.createElement("div")),this.coverElement.classList.add(`${ni}__cover`),this.hide(),this.coverElement.onclick=()=>this.hide(),this.coverElement.oncontextmenu=i=>{this.hide(),i.preventDefault(),this.x=i.pageX,this.y=i.pageY,this.show(),this.reposition()},typeof IntersectionObserver<"u"){const i=new IntersectionObserver(s=>{for(const n of s)n.target===this.canvasElement&&n.intersectionRatio===0&&this.hide()},{root:this.container});i.observe(this.canvasElement),this.intersectionObserver=i}if(typeof MutationObserver<"u"){const i=new MutationObserver(()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()});i.observe(this.element,{childList:!0}),this.mutationObserver=i}if(Pa.contextMenuDocuments.indexOf(t.document)<0){const i=t.document.createElement("style");i.innerHTML=kO,t.document.head.insertBefore(i,t.document.head.querySelector("style")),Pa.contextMenuDocuments.push(t.document)}Pa.registerDefaultAction({id:"download",label:"Download",action:()=>{const i=t.chartService.title;let s="image";i!==void 0&&i.enabled&&i.text!==void 0&&(s=i.text),this.scene.download(s)}})}static registerDefaultAction(t){t.id&&this.defaultActions.find(({id:i})=>i===t.id)||this.defaultActions.push(t)}static registerNodeAction(t){t.id&&this.defaultActions.find(({id:i})=>i===t.id)||this.nodeActions.push(t)}static enableAction(t){this.disabledActions.delete(t)}static disableAction(t){this.disabledActions.add(t)}onContextMenu(t){if(!this.enabled)return;this.showEvent=t.sourceEvent,this.x=t.pageX,this.y=t.pageY,this.groups.default=[...Pa.defaultActions],this.pickedNode=this.highlightManager.getActivePicked(),this.pickedNode&&(this.groups.node=[...Pa.nodeActions]),this.extraActions.length>0&&(this.groups.extra=[...this.extraActions]),this.extraNodeActions.length>0&&this.pickedNode&&(this.groups.extraNode=[...this.extraNodeActions]);const{default:i,node:s,extra:n,extraNode:r}=this.groups;i.length+s.length+n.length+r.length!==0&&(t.consume(),t.sourceEvent.preventDefault(),this.show())}show(){var t,i;if(!this.coverElement)return;const s=this.renderMenu();this.menuElement?this.element.replaceChild(s,this.menuElement):this.element.appendChild(s),this.menuElement=s,this.interactionManager.pause(bM),this.tooltipManager.updateTooltip(xM),this.element.style.display="block",this.coverElement.style.display="block",this.coverElement.style.left=`${(t=this.canvasElement.parentElement)==null?void 0:t.offsetLeft}px`,this.coverElement.style.top=`${(i=this.canvasElement.parentElement)==null?void 0:i.offsetTop}px`,this.coverElement.style.width=`${this.canvasElement.clientWidth}px`,this.coverElement.style.height=`${this.canvasElement.clientHeight}px`}hide(){this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0),this.interactionManager.resume(bM),this.tooltipManager.removeTooltip(xM),this.element.style.display="none",this.coverElement.style.display="none"}renderMenu(){const t=this.ctx.document.createElement("div");return t.classList.add(`${ni}__menu`),this.groups.default.forEach(i=>{const s=this.renderItem(i);s&&t.appendChild(s)}),["node","extra","extraNode"].forEach(i=>{this.groups[i].length===0||["node","extraNode"].includes(i)&&!this.pickedNode||(t.appendChild(this.createDividerElement()),this.groups[i].forEach(s=>{const n=this.renderItem(s);n&&t.appendChild(n)}))}),t}renderItem(t){if(t&&typeof t=="object"&&t.constructor===Object)return this.createActionElement(t)}createDividerElement(){const t=this.ctx.document.createElement("div");return t.classList.add(`${ni}__divider`),t}createActionElement({id:t,label:i,action:s}){return t&&Pa.disabledActions.has(t)?this.createDisabledElement(i):this.createButtonElement(i,s)}createButtonElement(t,i){const s=this.ctx.document.createElement("button");return s.classList.add(`${ni}__item`),s.innerHTML=t,s.onclick=()=>{var n,r,a;const o={event:this.showEvent,datum:(n=this.pickedNode)==null?void 0:n.datum,itemId:(r=this.pickedNode)==null?void 0:r.itemId,seriesId:(a=this.pickedNode)==null?void 0:a.series.id};i(o),this.hide()},s}createDisabledElement(t){const i=this.ctx.document.createElement("button");return i.classList.add(`${ni}__item`),i.disabled=!0,i.innerHTML=t,i}reposition(){const{x:t,y:i,ctx:{window:s}}=this;this.element.style.top="unset",this.element.style.bottom="unset",this.element.style.left="unset",this.element.style.right="unset",t+this.element.offsetWidth>s.innerWidth?this.element.style.right=`calc(100% - ${t-1}px)`:this.element.style.left=`${t+1}px`,i+this.element.offsetHeight>s.innerHeight?this.element.style.bottom=`calc(100% - ${i}px - 0.5em)`:this.element.style.top=`calc(${i}px - 0.5em)`}destroy(){var t,i;super.destroy(),(t=this.intersectionObserver)==null||t.unobserve(this.canvasElement),(i=this.mutationObserver)==null||i.disconnect()}};Co.contextMenuDocuments=[],Co.defaultActions=[],Co.nodeActions=[],Co.disabledActions=new Set,M([AO(DO)],Co.prototype,"enabled",2);var Ln=Co,LO={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy"],optionsKey:"contextMenu",instanceConstructor:Ln,themeTemplate:{contextMenu:{enabled:!0}}},ty=(W(),V(z)),ey=(W(),V(z)),{ActionOnSet:TO,Validate:Oo,NUMBER:SM,BOOLEAN:EO,STRING:_M,FUNCTION:IO}=ey._ModuleSupport,{BBox:NO}=ey._Scene,Ro="ag-crosshair-label",CO=`
.${Ro} {
    position: absolute;
    left: 0px;
    top: 0px;
    user-select: none;
    pointer-events: none;
    font: 12px Verdana, sans-serif;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    box-sizing: border-box;
}

.${Ro}-content {
    padding: 0 7px;
    border-radius: 2px;
    line-height: 1.7em;
    background-color: rgb(71,71,71);
    color: rgb(255, 255, 255);
}

.${Ro}-hidden {
    top: -10000px !important;
}
`,mr=class fv{constructor(t,i){this.enabled=!0,this.className=void 0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0,this.labelRoot=i;const s=t.createElement("div");if(this.element=this.labelRoot.appendChild(s),this.element.classList.add(Ro),fv.labelDocuments.indexOf(t)<0){const n=t.createElement("style");n.innerHTML=CO,t.head.insertBefore(n,t.head.querySelector("style")),fv.labelDocuments.push(t)}}show(t){const{element:i}=this;let s=t.x+this.xOffset,n=t.y+this.yOffset;const r=(c,h,u)=>Math.max(Math.min(h,u),c),a=this.getContainerBoundingBox(),o=a.x+a.width-i.clientWidth-1,l=a.y+a.height-i.clientHeight;s=r(a.x+1,s,o),n=r(a.y,n,l),i.style.transform=`translate(${Math.round(s)}px, ${Math.round(n)}px)`,this.toggle(!0)}setLabelHtml(t){t!==void 0&&(this.element.innerHTML=t)}computeBBox(){const{element:t}=this;return new ey._Scene.BBox(t.clientLeft,t.clientTop,t.clientWidth,t.clientHeight)}getContainerBoundingBox(){const{width:t,height:i}=this.labelRoot.getBoundingClientRect();return new NO(0,0,t,i)}toggle(t){this.element.classList.toggle(`${Ro}-hidden`,!t)}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element)}toLabelHtml(t,i){var s,n;if(typeof t=="string")return t;i=i??{};const{text:r=(s=i.text)!=null?s:"",color:a=i.color,backgroundColor:o=i.backgroundColor,opacity:l=(n=i.opacity)!=null?n:1}=t,c=`opacity: ${l}; background-color: ${o?.toLowerCase()}; color: ${a}`;return`<div class="${Ro}-content" style="${c}">
                    <span>${r}</span>
                </div>`}};mr.labelDocuments=[],M([Oo(EO)],mr.prototype,"enabled",2),M([Oo(_M,{optional:!0}),TO({changeValue(e,t){e!==t&&(t&&this.element.classList.remove(t),e&&this.element.classList.add(e))}})],mr.prototype,"className",2),M([Oo(SM)],mr.prototype,"xOffset",2),M([Oo(SM)],mr.prototype,"yOffset",2),M([Oo(_M,{optional:!0})],mr.prototype,"format",2),M([Oo(IO,{optional:!0})],mr.prototype,"renderer",2);var OO=mr,{Group:RO,Line:wO,BBox:iy}=ty._Scene,{Validate:ma,POSITIVE_NUMBER:MM,RATIO:PO,BOOLEAN:kM,COLOR_STRING:FO,LINE_DASH:BO,Layers:zO}=ty._ModuleSupport,yr=class extends ty._ModuleSupport.BaseModuleInstance{constructor(e){var t,i;super(),this.ctx=e,this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.seriesRect=new iy(0,0,0,0),this.hoverRect=new iy(0,0,0,0),this.bounds=new iy(0,0,0,0),this.visible=!1,this.crosshairGroup=new RO({layer:!0,zIndex:zO.SERIES_CROSSHAIR_ZINDEX}),this.lineNode=this.crosshairGroup.appendChild(new wO),this.activeHighlight=void 0,(t=e.scene.root)==null||t.appendChild(this.crosshairGroup),this.axisCtx=e.parent,this.crosshairGroup.visible=!1,this.label=new OO(e.document,(i=e.scene.canvas.container)!=null?i:e.document.body),this.destroyFns.push(e.interactionManager.addListener("hover",s=>this.onMouseMove(s)),e.interactionManager.addListener("leave",()=>this.onMouseOut()),e.highlightManager.addListener("highlight-change",s=>this.onHighlightChange(s)),e.layoutService.addListener("layout-complete",s=>this.layout(s)),()=>{var s;return(s=e.scene.root)==null?void 0:s.removeChild(this.crosshairGroup)},()=>this.label.destroy())}layout({series:{rect:e,paddedRect:t,visible:i},axes:s}){var n;if(this.hideCrosshair(),!(i&&s&&this.enabled)){this.visible=!1;return}this.visible=!0,this.seriesRect=e,this.hoverRect=t;const{position:r="left",axisId:a}=this.axisCtx,o=s.find(p=>p.id===a);if(!o)return;this.axisLayout=o;const l=o.gridPadding+o.seriesAreaPadding;this.bounds=this.buildBounds(e,r,l);const{crosshairGroup:c,bounds:h}=this;c.translationX=Math.round(h.x),c.translationY=Math.round(r==="top"||r==="bottom"?h.y+h.height:h.y);const u=r==="top"||r==="bottom"?-Math.PI/2:0;c.rotation=u,this.updateLine();const d=(n=this.label.format)!=null?n:o.label.format;this.labelFormatter=d?this.axisCtx.scaleValueFormatter(d):void 0}buildBounds(e,t,i){const s=e.clone();return s.x+=t==="left"?-i:0,s.y+=t==="top"?-i:0,s.width+=t==="left"||t==="right"?i:0,s.height+=t==="top"||t==="bottom"?i:0,s}updateLine(){const{lineNode:e,bounds:t,stroke:i,strokeWidth:s,strokeOpacity:n,lineDash:r,lineDashOffset:a,axisCtx:o,axisLayout:l}=this;l&&(e.stroke=i,e.strokeWidth=s,e.strokeOpacity=n,e.lineDash=r,e.lineDashOffset=a,e.y1=e.y2=0,e.x1=0,e.x2=o.direction==="x"?t.height:t.width)}formatValue(e){var t;const{labelFormatter:i,axisLayout:s,ctx:{callbackCache:n}}=this;if(i){const o=n.call(i,e);if(o!==void 0)return o}const r=e%1===0,a=((t=s?.label.fractionDigits)!=null?t:0)+(r?0:1);return typeof e=="number"?e.toFixed(a):String(e)}onMouseMove(e){const{crosshairGroup:t,snap:i,seriesRect:s,hoverRect:n,axisCtx:r,visible:a,activeHighlight:o}=this;if(i||!this.enabled)return;const{offsetX:l,offsetY:c}=e;if(a&&n.containsPoint(l,c)){t.visible=!0;const h=o?this.getActiveHighlight(o):void 0;let u,d=0,p=0;r.direction==="x"?(d=Math.max(Math.min(s.x+s.width,l),s.x),t.translationX=Math.round(d),u=r.continuous?r.scaleInvert(l-s.x):h?.value):(p=Math.max(Math.min(s.y+s.height,c),s.y),t.translationY=Math.round(p),u=r.continuous?r.scaleInvert(c-s.y):h?.value),u&&this.label.enabled?this.showLabel(d,p,u):this.hideLabel()}else this.hideCrosshair()}onMouseOut(){this.hideCrosshair()}onHighlightChange(e){var t,i;const{enabled:s,crosshairGroup:n,snap:r,seriesRect:a,axisCtx:o,visible:l}=this;if(!s)return;const{currentHighlight:c}=e;if(c?.datum&&(((t=c.series.axes.x)==null?void 0:t.id)===o.axisId||((i=c.series.axes.y)==null?void 0:i.id)===o.axisId)?this.activeHighlight=c:this.activeHighlight=void 0,!!r)if(l&&this.activeHighlight){n.visible=!0;const{value:u,position:d}=this.getActiveHighlight(this.activeHighlight);let p=0,g=0;o.direction==="x"?(p=d,n.translationX=Math.round(p+a.x)):(g=d,n.translationY=Math.round(g+a.y)),this.label.enabled?this.showLabel(p+a.x,g+a.y,u):this.hideLabel()}else this.hideCrosshair()}getActiveHighlight(e){var t,i;const{axisCtx:s}=this,{datum:n,xKey:r="",yKey:a="",aggregatedValue:o,series:l,cumulativeValue:c,midPoint:h}=e,u=s.scaleBandwidth()/2;if(o!==void 0&&((t=l.axes.y)==null?void 0:t.id)===s.axisId)return{value:o,position:s.scaleConvert(o)+u};const d=s.keys().indexOf(a)>=0;if(c!==void 0&&d)return{value:c,position:s.scaleConvert(c)+u};const p=d?a:r,g=(i=s.direction==="x"?h?.x:h?.y)!=null?i:0;return{value:s.continuous?s.scaleInvert(g):n[p],position:g}}getLabelHtml(e){const{label:t,axisLayout:{label:{fractionDigits:i=0}={}}={}}=this,{renderer:s}=t,n={text:this.formatValue(e)};if(s){const r={value:e,fractionDigits:i};return t.toLabelHtml(s(r),n)}return t.toLabelHtml(n)}showLabel(e,t,i){const{axisCtx:s,bounds:n,label:r,axisLayout:a}=this;if(!a)return;const{label:{padding:o},tickSize:l}=a,c=o+l,h=this.getLabelHtml(i);r.setLabelHtml(h);const u=r.computeBBox();let d;if(s.direction==="x"){const p=-u.width/2,g=s.position==="bottom"?0:-u.height,f=s.position==="bottom"?n.y+n.height+c:n.y-c;d={x:e+p,y:f+g}}else{const p=-u.height/2,g=s.position==="right"?0:-u.width;d={x:(s.position==="right"?n.x+n.width+c:n.x-c)+g,y:t+p}}r.show(d)}hideCrosshair(){this.crosshairGroup.visible=!1,this.hideLabel()}hideLabel(){this.label.toggle(!1)}};M([ma(kM)],yr.prototype,"enabled",2),M([ma(FO,{optional:!0})],yr.prototype,"stroke",2),M([ma(BO,{optional:!0})],yr.prototype,"lineDash",2),M([ma(MM)],yr.prototype,"lineDashOffset",2),M([ma(MM)],yr.prototype,"strokeWidth",2),M([ma(PO)],yr.prototype,"strokeOpacity",2),M([ma(kM)],yr.prototype,"snap",2);var DM=(W(),V(z)),GO={crosshair:{enabled:!0,snap:!0,stroke:DM._Theme.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}},category:{crosshair:{enabled:!1,snap:!0,stroke:DM._Theme.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},VO={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","number","log","time"],instanceConstructor:yr,themeTemplate:GO},WO=(W(),V(z)),wo=(W(),V(z)),ya=(W(),V(z)),{partialAssign:UO,mergeDefaults:nd}=ya._ModuleSupport,{BBox:Tn}=ya._Scene,YO=class{constructor(e){this.components=e,this.union=Tn.merge(e)}containsPoint(e,t){if(!this.union.containsPoint(e,t))return!1;for(const i of this.components)if(i.containsPoint(e,t))return!0;return!1}},HO=class extends ya._Scene.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new ya._Scene.Path,this.capsPath=new ya._Scene.Path,this.bboxes=new YO([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(e){this._datum=e}calculateCapLength(e,t){const{lengthRatio:i=1,length:s}=e,{lengthRatioMultiplier:n,lengthMax:r}=t,a=s??i*n;return Math.min(a,r)}getFormatterParams(e,t){const{datum:i}=this;if(i===void 0||e.formatter===void 0&&e.cap.formatter===void 0)return;const{xLowerKey:s,xLowerName:n,xUpperKey:r,xUpperName:a,yLowerKey:o,yLowerName:l,yUpperKey:c,yUpperName:h}=e;return{datum:i.datum,seriesId:i.datum.seriesId,xKey:i.xKey,yKey:i.yKey,xLowerKey:s,xLowerName:n,xUpperKey:r,xUpperName:a,yLowerKey:o,yLowerName:l,yUpperKey:c,yUpperName:h,highlighted:t}}formatStyles(e,t,i){let s=e,{cap:n}=s,r=T_(s,["cap"]);const a=this.getFormatterParams(t,i);if(a!==void 0){if(t.formatter!==void 0){const o=t.formatter(a);r=nd(o,r),n=nd(o,n),n=nd(o?.cap,n)}if(t.cap.formatter!==void 0){const o=t.cap.formatter(a);n=nd(o,n)}}return{whiskerStyle:r,capsStyle:n}}applyStyling(e,t){UO(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],e,t)}update(e,t,i){if(this.datum===void 0)return;const{whiskerStyle:s,capsStyle:n}=this.formatStyles(e,t,i),{xBar:r,yBar:a,capDefaults:o}=this.datum,l=this.whiskerPath;this.applyStyling(l,s),l.path.clear(),a!==void 0&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),r!==void 0&&(l.path.moveTo(r.lowerPoint.x,r.lowerPoint.y),l.path.lineTo(r.upperPoint.x,r.upperPoint.y)),l.path.closePath(),l.markDirtyTransform(),this.capLength=this.calculateCapLength(n??{},o);const c=this.capLength/2,h=this.capsPath;this.applyStyling(h,n),h.path.clear(),a!==void 0&&(h.path.moveTo(a.lowerPoint.x-c,a.lowerPoint.y),h.path.lineTo(a.lowerPoint.x+c,a.lowerPoint.y),h.path.moveTo(a.upperPoint.x-c,a.upperPoint.y),h.path.lineTo(a.upperPoint.x+c,a.upperPoint.y)),r!==void 0&&(h.path.moveTo(r.lowerPoint.x,r.lowerPoint.y-c),h.path.lineTo(r.lowerPoint.x,r.lowerPoint.y+c),h.path.moveTo(r.upperPoint.x,r.upperPoint.y-c),h.path.lineTo(r.upperPoint.x,r.upperPoint.y+c)),h.path.closePath(),h.markDirtyTransform()}updateBBoxes(){var e;const{capLength:t,whiskerPath:i,capsPath:s}=this,{yBar:n,xBar:r}=(e=this.datum)!=null?e:{},a=t/2,o=[];if(n!==void 0){const l=n.lowerPoint.y-n.upperPoint.y;o.push(new Tn(n.lowerPoint.x,n.upperPoint.y,i.strokeWidth,l),new Tn(n.lowerPoint.x-a,n.lowerPoint.y,t,s.strokeWidth),new Tn(n.upperPoint.x-a,n.upperPoint.y,t,s.strokeWidth))}if(r!==void 0){const l=r.upperPoint.x-r.lowerPoint.x;o.push(new Tn(r.lowerPoint.x,r.upperPoint.y,l,i.strokeWidth),new Tn(r.lowerPoint.x,r.lowerPoint.y-a,s.strokeWidth,t),new Tn(r.upperPoint.x,r.upperPoint.y-a,s.strokeWidth,t))}this.bboxes.components=o,this.bboxes.union=Tn.merge(o)}containsPoint(e,t){return this.bboxes.containsPoint(e,t)}pickNode(e,t){return this.containsPoint(e,t)?this:void 0}nearestSquared(e,t){const{bboxes:i}=this;if(i.union.distanceSquared(e)>t)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:s}=Tn.nearestBox(e,i.components);return{nearest:this,distanceSquared:s}}},jO=class extends ya._Scene.Group{get children(){return super.children}nearestSquared(e){const{nearest:t,distanceSquared:i}=ya._Scene.nearestSquaredInContainer(e,this);if(t!==void 0&&!isNaN(i))return{datum:t.datum,distanceSquared:i}}},KO=(W(),V(z)),{BaseProperties:AM,Validate:Ft,BOOLEAN:LM,COLOR_STRING:TM,FUNCTION:EM,LINE_DASH:IM,NUMBER:XO,OBJECT:$O,POSITIVE_NUMBER:rd,RATIO:sy,STRING:vr}=KO._ModuleSupport,js=class extends AM{};M([Ft(LM,{optional:!0})],js.prototype,"visible",2),M([Ft(TM,{optional:!0})],js.prototype,"stroke",2),M([Ft(rd,{optional:!0})],js.prototype,"strokeWidth",2),M([Ft(sy,{optional:!0})],js.prototype,"strokeOpacity",2),M([Ft(IM,{optional:!0})],js.prototype,"lineDash",2),M([Ft(rd,{optional:!0})],js.prototype,"lineDashOffset",2),M([Ft(XO,{optional:!0})],js.prototype,"length",2),M([Ft(sy,{optional:!0})],js.prototype,"lengthRatio",2),M([Ft(EM,{optional:!0})],js.prototype,"formatter",2);var Re=class extends AM{constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new js}};M([Ft(vr,{optional:!0})],Re.prototype,"yLowerKey",2),M([Ft(vr,{optional:!0})],Re.prototype,"yLowerName",2),M([Ft(vr,{optional:!0})],Re.prototype,"yUpperKey",2),M([Ft(vr,{optional:!0})],Re.prototype,"yUpperName",2),M([Ft(vr,{optional:!0})],Re.prototype,"xLowerKey",2),M([Ft(vr,{optional:!0})],Re.prototype,"xLowerName",2),M([Ft(vr,{optional:!0})],Re.prototype,"xUpperKey",2),M([Ft(vr,{optional:!0})],Re.prototype,"xUpperName",2),M([Ft(LM,{optional:!0})],Re.prototype,"visible",2),M([Ft(TM,{optional:!0})],Re.prototype,"stroke",2),M([Ft(rd,{optional:!0})],Re.prototype,"strokeWidth",2),M([Ft(sy,{optional:!0})],Re.prototype,"strokeOpacity",2),M([Ft(IM,{optional:!0})],Re.prototype,"lineDash",2),M([Ft(rd,{optional:!0})],Re.prototype,"lineDashOffset",2),M([Ft(EM,{optional:!0})],Re.prototype,"formatter",2),M([Ft($O)],Re.prototype,"cap",2);var{isDefined:Ks,fixNumericExtent:qO,mergeDefaults:ZO,valueProperty:ad,ChartAxisDirection:ny}=wo._ModuleSupport;function QO(e){for(const t of wo.AgErrorBarSupportedSeriesTypes)if(t==e.series.type)return e.series;throw new Error(`AG Charts - unsupported series type '${e.series.type}', error bars supported series types: ${wo.AgErrorBarSupportedSeriesTypes.join(", ")}`)}var JO=class extends wo._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.properties=new Re;const t=QO(e),{annotationGroup:i,annotationSelections:s}=t;this.cartesianSeries=t,this.groupNode=new jO({name:`${i.id}-errorBars`,zIndex:wo._ModuleSupport.Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}),i.appendChild(this.groupNode),this.selection=wo._Scene.Selection.select(this.groupNode,()=>this.errorBarFactory()),s.add(this.selection),this.destroyFns.push(t.addListener("data-processed",n=>this.onDataProcessed(n)),t.addListener("data-update",n=>this.onDataUpdate(n)),t.addListener("visibility-changed",n=>this.onToggleSeriesItem(n)),e.highlightManager.addListener("highlight-change",n=>this.onHighlightChange(n)),()=>i.removeChild(this.groupNode),()=>s.delete(this.selection))}getPropertyDefinitions(e){const t=[],{cartesianSeries:i}=this,{xLowerKey:s,xUpperKey:n,yLowerKey:r,yUpperKey:a,xErrorsID:o,yErrorsID:l}=this.getMaybeFlippedKeys(),{isContinuousX:c,isContinuousY:h}=e;return r!==void 0&&a!==void 0&&t.push(ad(i,r,h,{id:l}),ad(i,a,h,{id:l})),s!==void 0&&n!==void 0&&t.push(ad(i,s,c,{id:o}),ad(i,n,c,{id:o})),t}onDataProcessed(e){this.dataModel=e.dataModel,this.processedData=e.processedData}getDomain(e){const{xLowerKey:t,xUpperKey:i,xErrorsID:s,yLowerKey:n,yUpperKey:r,yErrorsID:a}=this.getMaybeFlippedKeys();if(e===ny.X?Ks(t)&&Ks(i):Ks(n)&&Ks(r)){const{dataModel:l,processedData:c,cartesianSeries:h}=this,u=h.axes[e],d={x:s,y:a}[e];if(l!==void 0&&c!==void 0){const p=l.getDomain(h,d,"value",c);return qO(p,u)}}return[]}onDataUpdate(e){this.dataModel=e.dataModel,this.processedData=e.processedData,Ks(e.dataModel)&&Ks(e.processedData)&&(this.createNodeData(),this.update())}getNodeData(){const{contextNodeData:e}=this.cartesianSeries;if(e.length>0)return e[0].nodeData}createNodeData(){var e,t;const i=this.getNodeData(),s=(e=this.cartesianSeries.axes[ny.X])==null?void 0:e.scale,n=(t=this.cartesianSeries.axes[ny.Y])==null?void 0:t.scale;if(!(!s||!n||!i))for(let r=0;r<i.length;r++){const{midPoint:a,xLower:o,xUpper:l,yLower:c,yUpper:h}=this.getDatum(i,r);if(a!==void 0){let u,d;Ks(o)&&Ks(l)&&(u={lowerPoint:{x:this.convert(s,o),y:a.y},upperPoint:{x:this.convert(s,l),y:a.y}}),Ks(c)&&Ks(h)&&(d={lowerPoint:{x:a.x,y:this.convert(n,c)},upperPoint:{x:a.x,y:this.convert(n,h)}}),i[r].xBar=u,i[r].yBar=d}}}getMaybeFlippedKeys(){let{xLowerKey:e,xUpperKey:t,yLowerKey:i,yUpperKey:s}=this.properties,[n,r]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([e,i]=[i,e],[t,s]=[s,t],[n,r]=[r,n]),{xLowerKey:e,xUpperKey:t,xErrorsID:n,yLowerKey:i,yUpperKey:s,yErrorsID:r}}getDatum(e,t){const{xLowerKey:i,xUpperKey:s,yLowerKey:n,yUpperKey:r}=this.getMaybeFlippedKeys(),a=e[t];return{midPoint:a.midPoint,xLower:a.datum[i??""],xUpper:a.datum[s??""],yLower:a.datum[n??""],yUpper:a.datum[r??""]}}convert(e,t){var i;const s=((i=e.bandwidth)!=null?i:0)/2;return e.convert(t)+s}update(){const e=this.getNodeData();e!==void 0&&(this.selection.update(e),this.selection.each((t,i,s)=>this.updateNode(t,i,s)))}updateNode(e,t,i){e.datum=t,e.update(this.getDefaultStyle(),this.properties,!1),e.updateBBoxes()}pickNodeExact(e){const{x:t,y:i}=this.groupNode.transformPoint(e.x,e.y),s=this.groupNode.pickNode(t,i);if(s!==void 0)return{datum:s.datum,distanceSquared:0}}pickNodeNearest(e){return this.groupNode.nearestSquared(e)}pickNodeMainAxisFirst(e){return this.groupNode.nearestSquared(e)}getTooltipParams(){const{xLowerKey:e,xUpperKey:t,yLowerKey:i,yUpperKey:s,xLowerName:n=e,xUpperName:r=t,yLowerName:a=i,yUpperName:o=s}=this.properties;return{xLowerKey:e,xLowerName:n,xUpperKey:t,xUpperName:r,yLowerKey:i,yLowerName:a,yUpperKey:s,yUpperName:o}}onToggleSeriesItem(e){this.groupNode.visible=e.enabled}makeStyle(e){return{visible:e.visible,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity,cap:ZO(this.properties.cap,e)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(e,t,i){const s=this.getNodeData();if(s!==void 0){for(let n=0;n<s.length;n++)if(e===s[n]){this.selection.nodes()[n].update(t,this.properties,i);break}}}onHighlightChange(e){const{previousHighlight:t,currentHighlight:i}=e;i?.series===this.cartesianSeries&&this.restyleHighlightChange(i,this.getHighlightStyle(),!0),t?.series===this.cartesianSeries&&this.restyleHighlightChange(t,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new HO}getWhiskerProperties(){const{stroke:e,strokeWidth:t,visible:i,strokeOpacity:s,lineDash:n,lineDashOffset:r}=this.properties;return{stroke:e,strokeWidth:t,visible:i,strokeOpacity:s,lineDash:n,lineDashOffset:r}}},tR=(W(),V(z)),eR={errorBar:{visible:!0,stroke:tR._Theme.DEFAULT_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}},iR={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:WO.AgErrorBarSupportedSeriesTypes,instanceConstructor:JO,themeTemplate:eR},od=(W(),V(z)),NM=(W(),V(z)),{COLOR_STRING:sR,RATIO:nR,Validate:CM}=NM._ModuleSupport,ld=class extends NM._Scene.Rect{constructor(){super(...arguments),this.fill="rgb(33, 150, 243)",this.fillOpacity=.2}};ld.className="ZoomRect",M([CM(sR)],ld.prototype,"fill",2),M([CM(nR)],ld.prototype,"fillOpacity",2);var ry=(W(),V(z)),qt={min:0,max:1},cd=(e,t=0,i=1)=>Math.max(t,Math.min(i,e));function ay(){return{x:pt({},qt),y:pt({},qt)}}function we(e){var t,i,s,n,r,a,o,l;return{x:{min:(i=(t=e?.x)==null?void 0:t.min)!=null?i:qt.min,max:(n=(s=e?.x)==null?void 0:s.max)!=null?n:qt.max},y:{min:(a=(r=e?.y)==null?void 0:r.min)!=null?a:qt.min,max:(l=(o=e?.y)==null?void 0:o.max)!=null?l:qt.max}}}function va(e,t,i){if(!e)return{x:0,y:0};const s=cd(t-e.x,0,e.x+e.width),n=cd(i-e.y,0,e.y+e.height),r=1/e.width*s,a=1-1/e.height*n;return{x:cd(r),y:cd(a)}}function hd(e,t,i){return{x:{min:e.x.min+t,max:e.x.max+t},y:{min:e.y.min+i,max:e.y.max+i}}}function rR(e,t,i){const s=e.x.max-e.x.min,n=e.y.max-e.y.min;return{x:{min:e.x.min,max:e.x.min+s*t},y:{min:e.y.min,max:e.y.min+n*i}}}function OM(e,t,i){const s=e.x.max-e.x.min,n=e.y.max-e.y.min,r=e.x.min+s/2,a=e.y.min+n/2;return{x:{min:r-s*t/2,max:r+s*t/2},y:{min:a-n*i/2,max:a+n*i/2}}}function ud(e,t,i,s){let{min:n,max:r}=t;const a=n+(r-n)/2,o=e.max-e.min;if(i==="start")r=t.min+o;else if(i==="end")n=t.max-o;else if(i==="middle")n=a-o/2,r=a+o/2;else if(i==="pointer"){const l=oy(e,t,s??a);n=l.min,r=l.max}return{min:n,max:r}}function oy(e,t,i){const s=i*(1-(t.max-t.min-(e.max-e.min))),n=i-s,r=e.min+n,a=e.max+n;return{min:r,max:a}}function xa(e){const t=ay();return t.x=RM(e.x),t.y=RM(e.y),t}function RM(e){const t=e.max-e.min;let i=e.max>qt.max?qt.max-t:e.min,s=e.min<qt.min?t:e.max;return i=Math.max(qt.min,i),s=Math.min(qt.max,s),{min:i,max:s}}var aR=class{constructor(){this.isAxisDragging=!1}update(e,t,i,s,n,r){return this.isAxisDragging=!0,this.oldZoom==null&&(t===ry._ModuleSupport.ChartAxisDirection.X?this.oldZoom=we(De(pt({},n),{x:r})):this.oldZoom=we(De(pt({},n),{y:r}))),this.updateCoords(e.offsetX,e.offsetY),this.updateZoom(t,i,s)}stop(){this.isAxisDragging=!1,this.coords=void 0,this.oldZoom=void 0}updateCoords(e,t){this.coords?(this.coords.x2=e,this.coords.y2=t):this.coords={x1:e,y1:t,x2:e,y2:t}}updateZoom(e,t,i){const{coords:s,oldZoom:n}=this;let r=we(n);if(!s||!n)return e===ry._ModuleSupport.ChartAxisDirection.X?r.x:r.y;const a=va(i,s.x1,s.y1),o=va(i,s.x2,s.y2);if(e===ry._ModuleSupport.ChartAxisDirection.X){const c=(o.x-a.x)*(n.x.max-n.x.min);return r.x.max+=c,r.x=ud(r.x,n.x,t,a.x),r=xa(r),r.x}const l=(o.y-a.y)*(n.y.max-n.y.min);return r.y.max-=l,r.y=ud(r.y,n.y,t,a.y),r=xa(r),r.y}},wM=(W(),V(z)),oR=class{constructor(){this.isPanning=!1}update(e,t,i){return this.isPanning=!0,this.updateCoords(e.offsetX,e.offsetY),this.translateZooms(t,i)}stop(){this.isPanning=!1,this.coords=void 0}updateCoords(e,t){this.coords?(this.coords.x1=this.coords.x2,this.coords.y1=this.coords.y2,this.coords.x2=e,this.coords.y2=t):this.coords={x1:e,y1:t,x2:e,y2:t}}translateZooms(e,t){var i;const{x1:s=0,y1:n=0,x2:r=0,y2:a=0}=(i=this.coords)!=null?i:{},o=s<=r?r-s:s-r,l=n<=a?a-n:n-a,c=va(e,e.x+o,e.y+e.height-l),h=s<=r?-c.x:c.x,u=n<=a?c.y:-c.y,d={};for(const[p,{direction:g,zoom:f}]of Object.entries(t)){let m;g===wM._ModuleSupport.ChartAxisDirection.X?m=we({x:f}):m=we({y:f});const y=m.x.max-m.x.min,v=m.y.max-m.y.min;m=xa(hd(m,h*y,u*v)),g===wM._ModuleSupport.ChartAxisDirection.X?d[p]={direction:g,zoom:m.x}:d[p]={direction:g,zoom:m.y}}return d}},lR=class{update(e,t,i,s,n,r,a,o){const l=we(o),c=e.sourceEvent,h=c.deltaY<0?-1:1;let u=we(l);return u.x.max+=n?t*h*(l.x.max-l.x.min):0,u.y.max+=r?t*h*(l.y.max-l.y.min):0,i==="pointer"&&n||s==="pointer"&&r?u=this.scaleZoomToPointer(c,n,r,a,l,u):(n&&(u.x=ud(u.x,l.x,i)),r&&(u.y=ud(u.y,l.y,s))),u=xa(u),u}scaleZoomToPointer(e,t,i,s,n,r){var a,o;const l=va(s,(a=e.offsetX)!=null?a:e.clientX,(o=e.offsetY)!=null?o:e.clientY);return r.x=t?oy(r.x,n.x,l.x):r.x,r.y=i?oy(r.y,n.y,l.y):r.y,r}},cR=class{constructor(e){this.rect=e,this.rect.visible=!1}update(e,t,i,s,n,r,a){this.rect.visible=!0,this.updateCoords(e.offsetX,e.offsetY,t,i,s,n,r,a),this.updateRect(r)}stop(e,t){let i=we();return e&&(this.coords&&(i=this.createZoomFromCoords(e,t)),this.reset()),i}reset(){this.coords=void 0,this.rect.visible=!1}updateCoords(e,t,i,s,n,r,a,o){if(!this.coords){this.coords={x1:e,y1:t,x2:e,y2:t};return}if(this.coords.x2=e,this.coords.y2=t,!a)return;const l=we(o),c=this.getNormalisedDimensions(),h=a.width/a.height,u=l.x.max-l.x.min,d=l.y.max-l.y.min,p=i/u,g=s/d;c.width/a.width<p&&(this.coords.x2<this.coords.x1?this.coords.x2=this.coords.x1-a.width*p:this.coords.x2=this.coords.x1+a.width*p),r&&!n?c.height/a.height<g&&(this.coords.y2<this.coords.y1?this.coords.y2=this.coords.y1-a.width*p:this.coords.y2=this.coords.y1+a.height*g):this.coords.y2<this.coords.y1?this.coords.y2=Math.min(this.coords.y1-c.width/h,this.coords.y1-a.height*g):this.coords.y2=Math.max(this.coords.y1+c.width/h,this.coords.y1+a.height*g),n||(this.coords.x1=a.x,this.coords.x2=a.x+a.width),r||(this.coords.y1=a.y,this.coords.y2=a.y+a.height)}updateRect(e){if(!e)return;const{rect:t}=this,i=this.getNormalisedDimensions(),{width:s,height:n}=i;let{x:r,y:a}=i;r=Math.max(r,e.x),r-=Math.max(0,r+s-(e.x+e.width)),a=Math.max(a,e.y),a-=Math.max(0,a+n-(e.y+e.height)),t.x=r,t.y=a,t.width=s,t.height=n}createZoomFromCoords(e,t){const i=we(t),s=this.getNormalisedDimensions(),n=va(e,s.x,s.y+s.height),r=s.width/e.width,a=s.height/e.height;let o=rR(i,r,a);const l=n.x*(i.x.max-i.x.min),c=n.y*(i.y.max-i.y.min);return o=hd(o,l,c),o=xa(o),o}getNormalisedDimensions(){var e;const{x1:t=0,y1:i=0,x2:s=0,y2:n=0}=(e=this.coords)!=null?e:{},r=t<=s?t:s,a=i<=n?i:n,o=t<=s?s-t:t-s,l=i<=n?n-i:i-n;return{x:r,y:a,width:o,height:l}}},{BOOLEAN:Po,NUMBER:PM,RATIO:hR,UNION:ly,ActionOnSet:uR,ChartAxisDirection:dd,ChartUpdateType:dR,Validate:Ri}=od._ModuleSupport,FM=ly(["pointer","start","middle","end"],"an anchor cord"),pd="zoom-action",gd="pan-action",fd="zoom-cursor",BM="zoom-tooltip",zM="zoom",pR=3,ba=(e,t=pR)=>{const i=Math.pow(10,t);return Math.round(e*i)/i},xi=class extends od._ModuleSupport.BaseModuleInstance{constructor(e){var t;super(),this.ctx=e,this.enabled=!1,this.enableAxisDragging=!0,this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.panKey="alt",this.axes="x",this.scrollingStep=qt.max/10,this.minVisibleItemsX=2,this.minVisibleItemsY=2,this.anchorPointX="end",this.anchorPointY="middle",this.axisDragger=new aR,this.panner=new oR,this.scroller=new lR,this.isDragging=!1,this.minRatioX=0,this.minRatioY=0,this.enableSecondaryAxis=!1,this.scene=e.scene,this.cursorManager=e.cursorManager,this.highlightManager=e.highlightManager,this.tooltipManager=e.tooltipManager,this.zoomManager=e.zoomManager,this.updateService=e.updateService;const i={bypassPause:["animation"]};this.destroyFns.push(e.interactionManager.addListener("dblclick",n=>this.onDoubleClick(n),i),e.interactionManager.addListener("drag",n=>this.onDrag(n),i),e.interactionManager.addListener("drag-end",()=>this.onDragEnd(),i),e.interactionManager.addListener("wheel",n=>this.onWheel(n),i),e.interactionManager.addListener("hover",()=>this.onHover(),i),e.chartEventManager.addListener("axis-hover",n=>this.onAxisHover(n)),e.layoutService.addListener("layout-complete",n=>this.onLayoutComplete(n)),e.updateService.addListener("update-complete",n=>this.onUpdateComplete(n)));const s=new ld;this.selector=new cR(s),(t=this.scene.root)==null||t.appendChild(s),this.destroyFns.push(()=>{var n;return(n=this.scene.root)==null?void 0:n.removeChild(s)})}registerContextMenuActions(){Ln.registerDefaultAction({id:pd,label:"Zoom to here",action:t=>this.onContextMenuZoomToHere(t)}),Ln.registerDefaultAction({id:gd,label:"Pan to here",action:t=>this.onContextMenuPanToHere(t)});const e=we(this.zoomManager.getZoom());this.toggleContextMenuActions(e)}toggleContextMenuActions(e){this.isMinZoom(e)?Ln.disableAction(pd):Ln.enableAction(pd),this.isMaxZoom(e)?Ln.disableAction(gd):Ln.enableAction(gd)}onDoubleClick(e){var t;if(!(!this.enabled||!this.enableDoubleClickToReset))if(this.hoveredAxis){const{id:i,direction:s}=this.hoveredAxis;this.updateAxisZoom(i,s,pt({},qt))}else(t=this.seriesRect)!=null&&t.containsPoint(e.offsetX,e.offsetY)&&this.highlightManager.getActivePicked()===void 0&&this.updateZoom(ay())}onDrag(e){var t;if(!this.enabled||!this.seriesRect)return;const i=e.sourceEvent;if(!(i.button===0))return;this.isDragging=!0,this.tooltipManager.updateTooltip(BM);const n=we(this.zoomManager.getZoom());if(this.enableAxisDragging&&this.hoveredAxis){const{id:r,direction:a}=this.hoveredAxis,o=a===od._ModuleSupport.ChartAxisDirection.X?this.anchorPointX:this.anchorPointY,l=(t=this.zoomManager.getAxisZoom(r))!=null?t:pt({},qt),c=this.axisDragger.update(e,a,o,this.seriesRect,n,l);this.updateAxisZoom(r,a,c);return}if(this.seriesRect.containsPoint(e.offsetX,e.offsetY)){if(this.enablePanning&&(!this.enableSelecting||this.isPanningKeyPressed(i))){const r=this.panner.update(e,this.seriesRect,this.zoomManager.getAxisZooms());for(const[a,{direction:o,zoom:l}]of Object.entries(r))this.updateAxisZoom(a,o,l);this.cursorManager.updateCursor(fd,"grabbing");return}!this.enableSelecting||this.isPanningKeyPressed(i)||this.panner.isPanning||this.isMinZoom(n)||(this.selector.update(e,this.minRatioX,this.minRatioY,this.isScalingX(),this.isScalingY(),this.seriesRect,n),this.updateService.update(dR.PERFORM_LAYOUT,{skipAnimations:!0}))}}onDragEnd(){if(!this.enabled||!this.isDragging)return;const e=we(this.zoomManager.getZoom());if(this.cursorManager.updateCursor(fd),this.enableAxisDragging&&this.axisDragger.isAxisDragging)this.axisDragger.stop();else if(this.enablePanning&&this.panner.isPanning)this.panner.stop();else if(this.enableSelecting&&!this.isMinZoom(e)){const t=this.selector.stop(this.seriesRect,e);this.updateZoom(t)}this.isDragging=!1,this.tooltipManager.removeTooltip(BM)}onWheel(e){if(!this.enabled||!this.enableScrolling||!this.seriesRect)return;const t=this.zoomManager.getZoom(),i=this.seriesRect.containsPoint(e.offsetX,e.offsetY),s=this.enableAxisDragging&&this.hoveredAxis!=null;let n=this.isScalingX(),r=this.isScalingY();if(s&&(n=this.hoveredAxis.direction===od._ModuleSupport.ChartAxisDirection.X,r=!n),i||s){e.consume(),e.sourceEvent.preventDefault();const a=this.scroller.update(e,this.scrollingStep,this.getAnchorPointX(),this.getAnchorPointY(),n,r,this.seriesRect,t);this.updateZoom(a)}}onHover(){this.enabled&&(this.hoveredAxis=void 0,this.cursorManager.updateCursor(fd))}onAxisHover(e){this.enabled&&(this.hoveredAxis={id:e.axisId,direction:e.direction},this.enableAxisDragging&&this.cursorManager.updateCursor(fd,e.direction===dd.X?"ew-resize":"ns-resize"))}onLayoutComplete(e){if(!this.enabled)return;const{series:{paddedRect:t,shouldFlipXY:i}}=e;this.seriesRect=t,this.shouldFlipXY=i}onUpdateComplete({minRect:e}){if(!this.enabled||!this.seriesRect||!e)return;const t=we(this.zoomManager.getZoom()),i=this.shouldFlipXY?this.minVisibleItemsY:this.minVisibleItemsX,s=this.shouldFlipXY?this.minVisibleItemsX:this.minVisibleItemsY,n=e.width*i/this.seriesRect.width,r=e.height*s/this.seriesRect.height,a=n*(t.x.max-t.x.min),o=r*(t.y.max-t.y.min);this.isScalingX()&&(this.minRatioX||(this.minRatioX=Math.min(1,ba(a)))),this.isScalingY()&&(this.minRatioY||(this.minRatioY=Math.min(1,ba(o)))),this.minRatioX||(this.minRatioX=this.minRatioY||0),this.minRatioY||(this.minRatioY=this.minRatioX||0)}onContextMenuZoomToHere({event:e}){if(!this.enabled||!this.seriesRect||!e||!e.target)return;const t=we(this.zoomManager.getZoom()),i=va(this.seriesRect,e.clientX,e.clientY),s=i.x*(t.x.max-t.x.min),n=i.y*(t.y.max-t.y.min),r=qt.max-qt.min,a=r/2;let o={x:{min:i.x-a,max:i.x+a},y:{min:i.y-a,max:i.y+a}};o=OM(o,this.isScalingX()?this.minRatioX:r,this.isScalingY()?this.minRatioY:r),o=hd(o,t.x.min-i.x+s,t.y.min-i.y+n),this.updateZoom(xa(o))}onContextMenuPanToHere({event:e}){if(!this.enabled||!this.seriesRect||!e||!e.target)return;const t=we(this.zoomManager.getZoom()),i=va(this.seriesRect,e.clientX,e.clientY),s=t.x.max-t.x.min,n=t.y.max-t.y.min,r=i.x*s,a=i.y*n,o=(qt.max-qt.min)/2;let l={x:{min:i.x-o,max:i.x+o},y:{min:i.y-o,max:i.y+o}};l=OM(l,s,n),l=hd(l,t.x.min-i.x+r,t.y.min-i.y+a),this.updateZoom(xa(l))}isPanningKeyPressed(e){switch(this.panKey){case"alt":return e.altKey;case"ctrl":return e.ctrlKey;case"shift":return e.shiftKey;case"meta":return e.metaKey}}isScalingX(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="y":this.axes==="x"}isScalingY(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="x":this.axes==="y"}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMinZoom(e){const t=this.enableScrolling?(e.x.max-e.x.min)*(1-this.scrollingStep):ba(e.x.max-e.x.min),i=this.enableScrolling?(e.y.max-e.y.min)*(1-this.scrollingStep):ba(e.y.max-e.y.min),s=!this.isScalingX()||t<=this.minRatioX,n=!this.isScalingY()||i<=this.minRatioX;return s&&n}isMaxZoom(e){return e.x.min===qt.min&&e.x.max===qt.max&&e.y.min===qt.min&&e.y.max===qt.max}updateZoom(e){const t=ba(e.x.max-e.x.min),i=ba(e.y.max-e.y.min);if(t<this.minRatioX||i<this.minRatioY){Ln.disableAction(pd),Ln.enableAction(gd);return}this.toggleContextMenuActions(e),this.zoomManager.updateZoom(zM,e)}updateAxisZoom(e,t,i){if(!i)return;if(!this.enableSecondaryAxis){const n=we(this.zoomManager.getZoom());t===dd.X?n.x=i:n.y=i,this.updateZoom(n);return}const s=ba(i.max-i.min);t===dd.X&&s<this.minRatioX||t===dd.Y&&s<this.minRatioY||this.zoomManager.updateAxisZoom(zM,e,i)}};M([uR({changeValue(e){e&&(this.updateZoom(ay()),this.registerContextMenuActions())}}),Ri(Po)],xi.prototype,"enabled",2),M([Ri(Po)],xi.prototype,"enableAxisDragging",2),M([Ri(Po)],xi.prototype,"enableDoubleClickToReset",2),M([Ri(Po)],xi.prototype,"enablePanning",2),M([Ri(Po)],xi.prototype,"enableScrolling",2),M([Ri(Po)],xi.prototype,"enableSelecting",2),M([Ri(ly(["alt","ctrl","meta","shift"],"a pan key"))],xi.prototype,"panKey",2),M([Ri(ly(["x","y","xy"],"an axis"))],xi.prototype,"axes",2),M([Ri(hR)],xi.prototype,"scrollingStep",2),M([Ri(PM.restrict({min:1}))],xi.prototype,"minVisibleItemsX",2),M([Ri(PM.restrict({min:1}))],xi.prototype,"minVisibleItemsY",2),M([Ri(FM)],xi.prototype,"anchorPointX",2),M([Ri(FM)],xi.prototype,"anchorPointY",2);var gR={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:xi,conflicts:["navigator"],themeTemplate:{zoom:{enabled:!1}}},Fo=(W(),V(z)),{BOOLEAN:GM,Layers:fR,POSITION:mR,Validate:Sa,Default:yR,MIN_SPACING:vR,POSITIVE_NUMBER:cy,ProxyProperty:Qi,DeprecatedAndRenamedTo:xR}=Fo._ModuleSupport,{BBox:bR,Group:hy,Rect:SR,LinearGradientFill:_R,Triangle:MR}=Fo._Scene,{createId:kR,Logger:DR}=Fo._Util,uy=class{constructor(){this.thickness=16,this.preferredLength=100}};M([Sa(cy)],uy.prototype,"thickness",2),M([Sa(cy)],uy.prototype,"preferredLength",2);var VM=class extends Fo._ModuleSupport.AxisTick{constructor(){super(...arguments),this.enabled=!1,this.size=0,this.maxSpacing=NaN}};M([Sa(vR),yR(NaN)],VM.prototype,"maxSpacing",2);var AR=class extends Fo._ModuleSupport.CartesianAxis{constructor(e){super(e,new Fo._Scale.LinearScale),this.colorDomain=[],this.nice=!1,this.line.enabled=!1}calculateDomain(){this.dataDomain=this.normaliseDataDomain(this.colorDomain)}formatDatum(e){return typeof e=="number"?e.toFixed(2):(DR.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(e))}createTick(){return new VM}},xr=class{constructor(e){this.label=e}};M([Qi("label","fontStyle")],xr.prototype,"fontStyle",2),M([Qi("label","fontWeight")],xr.prototype,"fontWeight",2),M([Qi("label","fontSize")],xr.prototype,"fontSize",2),M([Qi("label","fontFamily")],xr.prototype,"fontFamily",2),M([Qi("label","color")],xr.prototype,"color",2),M([Qi("label","format")],xr.prototype,"format",2),M([Qi("label","formatter")],xr.prototype,"formatter",2);var kc=class{constructor(e){this.tick=e}};M([Qi("tick","values")],kc.prototype,"values",2),M([Qi("tick","minSpacing")],kc.prototype,"minSpacing",2),M([Qi("tick","maxSpacing")],kc.prototype,"maxSpacing",2),M([Qi("tick","interval")],kc.prototype,"step",2);var WM=class{constructor(e){this.axis=e,this.label=new xr(e.label),this.interval=new kc(e.tick)}};M([Qi("axis","seriesAreaPadding")],WM.prototype,"padding",2);var _a=class{constructor(e){this.ctx=e,this.id=kR(this),this.group=new hy({name:"legend",layer:!0,zIndex:fR.LEGEND_ZINDEX}),this.gradient=new uy,this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=void 0,this.pagination=void 0,this.spacing=20,this.data=[],this.listeners={},this.latestGradientBox=void 0,this.layoutService=e.layoutService,this.destroyFns.push(this.layoutService.addListener("start-layout",t=>this.update(t.shrinkRect))),this.highlightManager=e.highlightManager,this.destroyFns.push(this.highlightManager.addListener("highlight-change",()=>this.onChartHoverChange())),this.gradientRect=new SR,this.gradientFill=new _R,this.gradientFill.mask=this.gradientRect,this.group.append(this.gradientFill),this.arrow=new MR,this.group.append(this.arrow),this.axisGridGroup=new hy({name:"legend-axis-grid-group"}),this.group.append(this.axisGridGroup),this.axisGroup=new hy({name:"legend-axis-group"}),this.group.append(this.axisGroup),this.axis=new AR(e),this.axis.attachAxis(this.axisGroup,this.axisGridGroup),this.scale=new WM(this.axis),this.stop=this.scale,this.destroyFns.push(()=>this.detachLegend())}getOrientation(){switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}destroy(){this.destroyFns.forEach(e=>e())}attachLegend(e){e.append(this.group)}detachLegend(){var e;(e=this.group.parent)==null||e.removeChild(this.group)}update(e){const t=this.data[0];if(!this.enabled||!t||!t.enabled)return this.group.visible=!1,{shrinkRect:e.clone()};const{colorRange:i}=this.normalizeColorArrays(t),s=this.updateGradientRect(e,i),n=this.updateAxis(t,s),{newShrinkRect:r,translateX:a,translateY:o}=this.getMeasurements(e,s,n);return this.updateArrow(s),this.group.visible=!0,this.group.translationX=a,this.group.translationY=o,this.latestGradientBox=s,{shrinkRect:r}}normalizeColorArrays(e){let t=e.colorDomain.slice();const i=e.colorRange.slice();if(t.length===i.length)return{colorDomain:t,colorRange:i};t.length>i.length&&i.splice(t.length);const s=i.length;return t=i.map((n,r)=>{const[a,o]=t;return r===0?a:r===s-1?o:a+(o-a)*r/(s-1)}),{colorDomain:t,colorRange:i}}updateGradientRect(e,t){const{preferredLength:i,thickness:s}=this.gradient,n=new bR(0,0,0,0),r=this.getOrientation()==="vertical";if(r){const a=e.height,o=i;n.x=0,n.y=0,n.width=s,n.height=Math.min(a,o)}else{const a=e.width,o=i;n.x=0,n.y=0,n.width=Math.min(a,o),n.height=s}return this.reverseOrder&&(t=t.slice().reverse()),this.gradientFill.stops=t,this.gradientFill.direction=r?"to-bottom":"to-right",this.gradientRect.x=n.x,this.gradientRect.y=n.y,this.gradientRect.width=n.width,this.gradientRect.height=n.height,n}updateAxis(e,t){const{reverseOrder:i,axis:s}=this,n=this.getOrientation()==="vertical";s.position=n?"right":"bottom",s.colorDomain=i?e.colorDomain.slice().reverse():e.colorDomain,s.calculateDomain(),s.range=n?[0,t.height]:[0,t.width],s.gridLength=0,s.translation.x=t.x+(n?t.width:0),s.translation.y=t.y+(n?0:t.height);const r=s.calculateLayout().bbox;return s.update(),r}updateArrow(e){var t;const{arrow:i,axis:{label:s,scale:n}}=this,r=this.highlightManager.getActiveHighlight(),a=r?.colorValue;if(r==null||a==null){i.visible=!1;return}const o=this.getOrientation()==="vertical",l=(t=s.fontSize)!=null?t:0,c=n.convert(a);let h,u,d;o?(h=e.x-l/2,u=e.y+c,d=Math.PI/2):(h=e.x+c,u=e.y-l/2,d=Math.PI),i.fill=s.color,i.size=l,i.translationX=h,i.translationY=u,i.rotation=d,i.visible=!0}getMeasurements(e,t,i){let s,n;this.getOrientation()==="vertical"?(s=t.width+i.width,n=t.height):(s=t.width,n=t.height+i.height);const{spacing:a}=this,o=e.clone();let l,c;return this.position==="left"?(l=e.x,c=e.y+e.height/2-n/2,o.shrink(s+a,"left")):this.position==="right"?(l=e.x+e.width-s,c=e.y+e.height/2-n/2,o.shrink(s+a,"right")):this.position==="top"?(l=e.x+e.width/2-s/2,c=e.y,o.shrink(n+a,"top")):(l=e.x+e.width/2-s/2,c=e.y+e.height-n,o.shrink(n+a,"bottom")),{translateX:l,translateY:c,gradientBox:t,newShrinkRect:o}}computeBBox(){return this.group.computeBBox()}onChartHoverChange(){this.enabled&&this.latestGradientBox!=null&&this.updateArrow(this.latestGradientBox)}};_a.className="GradientLegend",M([Sa(GM)],_a.prototype,"enabled",2),M([Sa(mR)],_a.prototype,"position",2),M([Sa(GM,{optional:!0})],_a.prototype,"reverseOrder",2),M([Sa(cy)],_a.prototype,"spacing",2),M([xR("scale")],_a.prototype,"stop",2);var UM=(W(),V(z)),LR="bottom",TR={position:LR,spacing:20,scale:{padding:8,label:{color:UM._Theme.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:UM._Theme.DEFAULT_FONT_FAMILY,formatter:void 0},interval:{minSpacing:1,maxSpacing:50}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1},ER={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient",instanceConstructor:_a,themeTemplate:TR},IR=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let i=e[0],s=e[1],n=e[2],r=e[3];i=this.ff(i,s,n,r,t[0],7,-680876936),r=this.ff(r,i,s,n,t[1],12,-389564586),n=this.ff(n,r,i,s,t[2],17,606105819),s=this.ff(s,n,r,i,t[3],22,-1044525330),i=this.ff(i,s,n,r,t[4],7,-176418897),r=this.ff(r,i,s,n,t[5],12,1200080426),n=this.ff(n,r,i,s,t[6],17,-1473231341),s=this.ff(s,n,r,i,t[7],22,-45705983),i=this.ff(i,s,n,r,t[8],7,1770035416),r=this.ff(r,i,s,n,t[9],12,-1958414417),n=this.ff(n,r,i,s,t[10],17,-42063),s=this.ff(s,n,r,i,t[11],22,-1990404162),i=this.ff(i,s,n,r,t[12],7,1804603682),r=this.ff(r,i,s,n,t[13],12,-40341101),n=this.ff(n,r,i,s,t[14],17,-1502002290),s=this.ff(s,n,r,i,t[15],22,1236535329),i=this.gg(i,s,n,r,t[1],5,-165796510),r=this.gg(r,i,s,n,t[6],9,-1069501632),n=this.gg(n,r,i,s,t[11],14,643717713),s=this.gg(s,n,r,i,t[0],20,-373897302),i=this.gg(i,s,n,r,t[5],5,-701558691),r=this.gg(r,i,s,n,t[10],9,38016083),n=this.gg(n,r,i,s,t[15],14,-660478335),s=this.gg(s,n,r,i,t[4],20,-405537848),i=this.gg(i,s,n,r,t[9],5,568446438),r=this.gg(r,i,s,n,t[14],9,-1019803690),n=this.gg(n,r,i,s,t[3],14,-187363961),s=this.gg(s,n,r,i,t[8],20,1163531501),i=this.gg(i,s,n,r,t[13],5,-1444681467),r=this.gg(r,i,s,n,t[2],9,-51403784),n=this.gg(n,r,i,s,t[7],14,1735328473),s=this.gg(s,n,r,i,t[12],20,-1926607734),i=this.hh(i,s,n,r,t[5],4,-378558),r=this.hh(r,i,s,n,t[8],11,-2022574463),n=this.hh(n,r,i,s,t[11],16,1839030562),s=this.hh(s,n,r,i,t[14],23,-35309556),i=this.hh(i,s,n,r,t[1],4,-1530992060),r=this.hh(r,i,s,n,t[4],11,1272893353),n=this.hh(n,r,i,s,t[7],16,-155497632),s=this.hh(s,n,r,i,t[10],23,-1094730640),i=this.hh(i,s,n,r,t[13],4,681279174),r=this.hh(r,i,s,n,t[0],11,-358537222),n=this.hh(n,r,i,s,t[3],16,-722521979),s=this.hh(s,n,r,i,t[6],23,76029189),i=this.hh(i,s,n,r,t[9],4,-640364487),r=this.hh(r,i,s,n,t[12],11,-421815835),n=this.hh(n,r,i,s,t[15],16,530742520),s=this.hh(s,n,r,i,t[2],23,-995338651),i=this.ii(i,s,n,r,t[0],6,-198630844),r=this.ii(r,i,s,n,t[7],10,1126891415),n=this.ii(n,r,i,s,t[14],15,-1416354905),s=this.ii(s,n,r,i,t[5],21,-57434055),i=this.ii(i,s,n,r,t[12],6,1700485571),r=this.ii(r,i,s,n,t[3],10,-1894986606),n=this.ii(n,r,i,s,t[10],15,-1051523),s=this.ii(s,n,r,i,t[1],21,-2054922799),i=this.ii(i,s,n,r,t[8],6,1873313359),r=this.ii(r,i,s,n,t[15],10,-30611744),n=this.ii(n,r,i,s,t[6],15,-1560198380),s=this.ii(s,n,r,i,t[13],21,1309151649),i=this.ii(i,s,n,r,t[4],6,-145523070),r=this.ii(r,i,s,n,t[11],10,-1120210379),n=this.ii(n,r,i,s,t[2],15,718787259),s=this.ii(s,n,r,i,t[9],21,-343485551),e[0]=this.add32(i,e[0]),e[1]=this.add32(s,e[1]),e[2]=this.add32(n,e[2]),e[3]=this.add32(r,e[3])}cmn(e,t,i,s,n,r){return t=this.add32(this.add32(t,e),this.add32(s,r)),this.add32(t<<n|t>>>32-n,i)}ff(e,t,i,s,n,r,a){return this.cmn(t&i|~t&s,e,t,n,r,a)}gg(e,t,i,s,n,r,a){return this.cmn(t&s|i&~s,e,t,n,r,a)}hh(e,t,i,s,n,r,a){return this.cmn(t^i^s,e,t,n,r,a)}ii(e,t,i,s,n,r,a){return this.cmn(i^(t|~s),e,t,n,r,a)}md51(e){const t=e.length,i=[1732584193,-271733879,-1732584194,271733878];let s;for(s=64;s<=e.length;s+=64)this.md5cycle(i,this.md5blk(e.substring(s-64,s)));e=e.substring(s-64);const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<e.length;s++)n[s>>2]|=e.charCodeAt(s)<<(s%4<<3);if(n[s>>2]|=128<<(s%4<<3),s>55)for(this.md5cycle(i,n),s=0;s<16;s++)n[s]=0;return n[14]=t*8,this.md5cycle(i,n),i}md5blk(e){const t=[];for(let i=0;i<64;i+=4)t[i>>2]=e.charCodeAt(i)+(e.charCodeAt(i+1)<<8)+(e.charCodeAt(i+2)<<16)+(e.charCodeAt(i+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let i="",s=0;for(;s<4;s++)i+=t[e>>s*8+4&15]+t[e>>s*8&15];return i}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const i=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(i>>16)<<16|i&65535}};function dy(e){return e==null||e.length===0}function NR(e,t=!1){return e!=null&&(e!==""||t)}var md={"01":"GRID","02":"CHARTS","0102":"BOTH"},YM=class is{constructor(t){this.watermarkMessage=void 0,this.document=t,this.md5=new IR,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(this.licenseKey);if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey();else if(!t.valid)this.outputInvalidLicenseKey(t.incorrectLicenseType,t.licenseType);else if(t.isTrial&&t.trialExpired)this.outputExpiredTrialKey(t.expiry);else if(t.expired){const i=is.getchartsReleaseDate(),s=is.formatDate(i);this.outputIncompatibleVersion(t.expiry,s)}}static extractExpiry(t){const i=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(is.decode(i),10))}static extractLicenseComponents(t){let i=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const s=i.length-32,n=i.substring(s),r=i.substring(0,s),[a,o,l]=is.extractBracketedInformation(i);return{md5:n,license:r,version:a,isTrial:o,type:l}}getLicenseDetails(t){if(dy(t))return{licenseKey:t,valid:!1,missing:!0};const i=is.getchartsReleaseDate(),{md5:s,license:n,version:r,isTrial:a,type:o}=is.extractLicenseComponents(t);let l=s===this.md5.md5(n)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,c,h,u=null,d,p;function g(){c=u<new Date,h=void 0}if(l&&(u=is.extractExpiry(n),l=!isNaN(u.getTime()),l))switch(h=i>u,r){case"legacy":case"2":{l=!1;break}case"3":dy(o)?l=!1:o!==md["02"]&&o!==md["0102"]?(l=!1,d=!0,p=o):a&&g()}return l?{licenseKey:t,valid:l,expiry:is.formatDate(u),expired:h,version:r,isTrial:a,trialExpired:c}:{licenseKey:t,valid:l,incorrectLicenseType:d,licenseType:p}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!dy(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){if(!this.document)return"localhost";const t=this.document.defaultView||window;if(!t)return"localhost";const i=t.location,{hostname:s=""}=i;return s}isForceWatermark(){var t,i;if(!this.document)return!1;const s=((i=(t=this.document)==null?void 0:t.defaultView)!=null?i:typeof window<"u")?window:void 0;if(!s)return!1;const{pathname:n}=s.location;return n?n.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=t.getDate(),n=t.getMonth(),r=t.getFullYear();return s+" "+i[n]+" "+r}static getchartsReleaseDate(){return new Date(parseInt(is.decode(is.RELEASE_INFORMATION),10))}static decode(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,a,o,l,c,h,u=0;const d=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;u<d.length;)o=i.indexOf(d.charAt(u++)),l=i.indexOf(d.charAt(u++)),c=i.indexOf(d.charAt(u++)),h=i.indexOf(d.charAt(u++)),n=o<<2|l>>4,r=(l&15)<<4|c>>2,a=(c&3)<<6|h,s=s+String.fromCharCode(n),c!=64&&(s=s+String.fromCharCode(r)),h!=64&&(s=s+String.fromCharCode(a));return s=is.utf8_decode(s),s}static utf8_decode(t){t=t.replace(/rn/g,"n");let i="";for(let s=0;s<t.length;s++){const n=t.charCodeAt(s);n<128?i+=String.fromCharCode(n):n>127&&n<2048?(i+=String.fromCharCode(n>>6|192),i+=String.fromCharCode(n&63|128)):(i+=String.fromCharCode(n>>12|224),i+=String.fromCharCode(n>>6&63|128),i+=String.fromCharCode(n&63|128))}return i}setLicenseKey(t){this.licenseKey=t}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const i=t.match(/\[(.*?)\]/g).map(o=>o.replace("[","").replace("]",""));if(!i||i.length===0)return["legacy",!1,void 0];const s=i.filter(o=>o==="TRIAL").length===1,n=i.filter(o=>o.indexOf("v")===0)[0],r=n?n.replace("v",""):"legacy",a=md[i.filter(o=>md[o])[0]];return[r,s,a]}outputInvalidLicenseKey(t,i){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Charts Enterprise License *******************************************"),console.error("********************************************* Invalid License ***************************************************"),NR(t)&&t&&i==="GRID"&&console.error("* The license supplied is for AG Grid Enterprise Only and does not cover AG Charts Enterprise                    *"),console.error("* Your license for AG Charts Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t){console.error("****************************************************************************************************************"),console.error("***************************************** AG Charts Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error(`* Your license for AG Charts Enterprise expired on ${t}.                                                *`),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Charts Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Charts Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"}outputIncompatibleVersion(t,i){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Charts Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Charts Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Charts License entitles you to all versions of AG Charts that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Charts within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Charts released after the    *"),console.error(`* license end date. The license key that you have expires on ${t}, however the version of AG Charts you    *`),console.error(`* are trying to use was released on ${i}.                                                               *`),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Charts.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"}};YM.RELEASE_INFORMATION="MTcwMDc2MzcxODkzNg==";var CR=YM,OR=(W(),V(z)),{injectStyle:RR}=OR._ModuleSupport,wR=`
.ag-watermark {
    position: absolute;
    bottom: 20px;
    right: 25px;
    font-weight: bold;
    font-family: Impact, sans-serif;
    font-size: 19px;
    opacity: 0.7;
    animation: 1s ease-out 3s ag-watermark-fadeout;
    color: #9B9B9B;

    &::before {
        content: '';
        display: block;
        height: 40px;
        width: 170px;
        background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);
        background-repeat: no-repeat;
        background-size: 170px 40px;
    }

    > span {
        padding-left: 0.7rem;
    }
}

@keyframes ag-watermark-fadeout {
    from { opacity: 0.5; }
    to { opacity: 0; }
}
`;function PR(e,t,i){RR(e,wR);const s=e.createElement("div"),n=e.createElement("span");n.innerText=i,s.addEventListener("animationend",()=>t.removeChild(s)),s.classList.add("ag-watermark"),s.appendChild(n),t.appendChild(s)}var HM=(W(),V(z)),FR=(W(),V(z)),{CARTESIAN_AXIS_TYPES:jM,CARTESIAN_AXIS_POSITIONS:KM}=FR._Theme,BR={axes:[{type:jM.NUMBER,position:KM.LEFT,crosshair:{snap:!1}},{type:jM.CATEGORY,position:KM.BOTTOM,groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}]},Xs=(W(),V(z));function zR(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function GR(e){return(t,i)=>e?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var Ji=(W(),V(z)),VR=class extends Ji._Scene.Group{constructor(){super(),this.append([new Ji._Scene.Rect({tag:0}),new Ji._Scene.Rect({tag:0}),new Ji._Scene.Rect({tag:2}),new Ji._Scene.Rect({tag:1}),new Ji._Scene.Line({tag:3}),new Ji._Scene.Line({tag:3}),new Ji._Scene.Line({tag:4}),new Ji._Scene.Line({tag:4})])}updateDatumStyles(e,t,i,s){const{bandwidth:n,scaledValues:{xValue:r,medianValue:a}}=e;let{minValue:o,q1Value:l,q3Value:c,maxValue:h}=e.scaledValues;(i&&!s||!i&&s)&&([h,c,l,o]=[o,l,c,h]);const{fill:u,fillOpacity:d,stroke:p,strokeWidth:g,strokeOpacity:f,lineDash:m,lineDashOffset:y,cap:v,whisker:x}=t,S=Ji._Scene.Selection.select(this,Ji._Scene.Rect),_=S.selectByTag(0),[D]=S.selectByTag(2),[A]=S.selectByTag(1),T=S.selectByTag(3),I=S.selectByTag(4);x.strokeWidth>n&&(x.strokeWidth=n),D.setProperties({x:l,y:r,width:c-l,height:n}),_[0].setProperties({x:l,y:r,width:Math.round(a-l+g/2),height:n}),_[1].setProperties({x:Math.round(a-g/2),y:r,width:Math.floor(c-a+g/2),height:n});const E=Math.max(Math.round(a-g/2),l+g),N=Math.min(Math.round(a+g/2),c-g);A.setProperties({visible:E<N,x:E,y:r+g,width:N-E,height:Math.max(0,n-g*2)});const C=Math.floor(r+n*(1-v.lengthRatio)/2),O=Math.ceil(r+n*(1+v.lengthRatio)/2);I[0].setProperties({x:o,y1:C,y2:O}),I[1].setProperties({x:h,y1:C,y2:O}),T[0].setProperties({x1:Math.round(o+x.strokeWidth/2),x2:l,y:Math.floor(r+n/2)}),T[1].setProperties({x1:c,x2:Math.round(h-x.strokeWidth/2),y:Math.floor(r+n/2)}),i&&Ji._ModuleSupport.invertShapeDirection(D,A,..._,...I,...T);for(const w of _)w.setProperties({fill:u,fillOpacity:d,strokeWidth:g*2,strokeOpacity:0});A.setProperties({fill:p,fillOpacity:f,strokeWidth:0});for(const w of[...T,...I])w.setProperties(x);D.setProperties({stroke:p,strokeWidth:g,strokeOpacity:f,lineDash:m,lineDashOffset:y,fillOpacity:0})}},WR=(W(),V(z)),{BaseProperties:XM,AbstractBarSeriesProperties:UR,SeriesTooltip:YR,Validate:At,COLOR_STRING:py,FUNCTION:HR,LINE_DASH:$M,OBJECT:gy,POSITIVE_NUMBER:yd,RATIO:vd,STRING:wi}=WR._ModuleSupport,qM=class extends XM{constructor(){super(...arguments),this.lengthRatio=.5}};M([At(vd)],qM.prototype,"lengthRatio",2);var Bo=class extends XM{};M([At(py,{optional:!0})],Bo.prototype,"stroke",2),M([At(yd)],Bo.prototype,"strokeWidth",2),M([At(vd)],Bo.prototype,"strokeOpacity",2),M([At($M,{optional:!0})],Bo.prototype,"lineDash",2),M([At(yd)],Bo.prototype,"lineDashOffset",2);var Bt=class extends UR{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cap=new qM,this.whisker=new Bo,this.tooltip=new YR}};M([At(wi)],Bt.prototype,"xKey",2),M([At(wi)],Bt.prototype,"minKey",2),M([At(wi)],Bt.prototype,"q1Key",2),M([At(wi)],Bt.prototype,"medianKey",2),M([At(wi)],Bt.prototype,"q3Key",2),M([At(wi)],Bt.prototype,"maxKey",2),M([At(wi,{optional:!0})],Bt.prototype,"xName",2),M([At(wi,{optional:!0})],Bt.prototype,"yName",2),M([At(wi,{optional:!0})],Bt.prototype,"minName",2),M([At(wi,{optional:!0})],Bt.prototype,"q1Name",2),M([At(wi,{optional:!0})],Bt.prototype,"medianName",2),M([At(wi,{optional:!0})],Bt.prototype,"q3Name",2),M([At(wi,{optional:!0})],Bt.prototype,"maxName",2),M([At(py,{optional:!0})],Bt.prototype,"fill",2),M([At(vd)],Bt.prototype,"fillOpacity",2),M([At(py)],Bt.prototype,"stroke",2),M([At(yd)],Bt.prototype,"strokeWidth",2),M([At(vd)],Bt.prototype,"strokeOpacity",2),M([At($M)],Bt.prototype,"lineDash",2),M([At(yd)],Bt.prototype,"lineDashOffset",2),M([At(HR,{optional:!0})],Bt.prototype,"formatter",2),M([At(gy)],Bt.prototype,"cap",2),M([At(gy)],Bt.prototype,"whisker",2),M([At(gy)],Bt.prototype,"tooltip",2);var{extent:jR,extractDecoratedProperties:ZM,fixNumericExtent:fy,keyProperty:KR,mergeDefaults:my,SeriesNodePickMode:XR,SMALLEST_KEY_INTERVAL:$R,valueProperty:Dc,diff:qR,animationValidation:ZR,ChartAxisDirection:QR}=Xs._ModuleSupport,{motion:QM}=Xs._Scene,JR=class extends Xs._ModuleSupport.SeriesNodeClickEvent{constructor(e,t,i,s){super(e,t,i,s),this.xKey=s.properties.xKey,this.minKey=s.properties.minKey,this.q1Key=s.properties.q1Key,this.medianKey=s.properties.medianKey,this.q3Key=s.properties.q3Key,this.maxKey=s.properties.maxKey}},tw=class AA extends Xs._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[XR.EXACT_SHAPE_MATCH],pathsPerSeries:1,hasHighlightedLabels:!0}),this.properties=new Bt,this.NodeClickEvent=JR,this.groupScale=new Xs._Scale.BandScale,this.smallestDataInterval=void 0}processData(t){return tt(this,null,function*(){var i,s,n,r;if(!this.properties.isValid())return;const{xKey:a,minKey:o,q1Key:l,medianKey:c,q3Key:h,maxKey:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),p=((i=this.getCategoryAxis())==null?void 0:i.scale)instanceof Xs._Scale.ContinuousScale,g=[];d&&this.processedData&&g.push(qR(this.processedData)),d&&g.push(ZR(this));const{processedData:f}=yield this.requestDataModel(t,(s=this.data)!=null?s:[],{props:[KR(this,a,p,{id:"xValue"}),Dc(this,o,!0,{id:"minValue"}),Dc(this,l,!0,{id:"q1Value"}),Dc(this,c,!0,{id:"medianValue"}),Dc(this,h,!0,{id:"q3Value"}),Dc(this,u,!0,{id:"maxValue"}),...p?[$R]:[],...g],dataVisible:this.visible});this.smallestDataInterval={x:(r=(n=f.reduced)==null?void 0:n.smallestKeyInterval)!=null?r:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var i;const{processedData:s,dataModel:n,smallestDataInterval:r}=this;if(!(s&&n))return[];if(t===this.getBarDirection()){const f=n.getDomain(this,"minValue","value",s),m=n.getDomain(this,"maxValue","value",s);return fy([Math.min(...f),Math.max(...m)],this.getValueAxis())}const{index:a,def:o}=n.resolveProcessedDataIndexById(this,"xValue"),l=s.domain.keys[a];if(o.type==="key"&&o.valueType==="category")return l;const c=this.getCategoryAxis(),h=c?.isReversed(),u=(i=jR(l))!=null?i:[NaN,NaN],d=r&&isFinite(r.x)?r.x:0;if(t===QR.Y){const f=u[0]+(h?0:-d),m=u[1]+(h?d:0);return fy([f,m],c)}const p=u[0]+(h?-d:0),g=u[1]+(h?0:d);return fy([p,g],c)}createNodeData(){return tt(this,null,function*(){var t;const{visible:i,dataModel:s}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!(s&&i&&n&&r))return[];const{xKey:a,fill:o,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:u,lineDash:d,lineDashOffset:p,cap:g,whisker:f}=this.properties,{groupScale:m,smallestDataInterval:y,ctx:{seriesStateManager:v}}=this,x=n.scale instanceof Xs._Scale.ContinuousScale?n.scale.calcBandwidth(y?.x):n.scale.bandwidth,S=[],{index:_,visibleGroupCount:D}=v.getVisiblePeerGroupIndex(this);for(let E=0;E<D;E++)S.push(String(E));m.domain=S,m.range=[0,x??0],n instanceof Xs._ModuleSupport.CategoryAxis&&(m.paddingInner=n.groupPaddingInner);const A=m.bandwidth>=1?m.bandwidth:m.rawBandwidth,T=[],I=s.resolveProcessedDataDefsByIds(this,["xValue","minValue","q1Value","medianValue","q3Value","maxValue"]);return(t=this.processedData)==null||t.data.forEach(({datum:E,keys:N,values:C})=>{const{xValue:O,minValue:w,q1Value:H,medianValue:F,q3Value:P,maxValue:G}=s.resolveProcessedDataDefsValues(I,{keys:N,values:C});if([w,H,F,P,G].some(Y=>typeof Y!="number")||w>H||H>F||F>P||P>G)return;const j=this.convertValuesToScaleByDefs(I,{xValue:O,minValue:w,q1Value:H,medianValue:F,q3Value:P,maxValue:G});j.xValue+=Math.round(m.convert(String(_))),T.push({series:this,itemId:O,datum:E,xKey:a,bandwidth:Math.round(A),scaledValues:j,cap:g,whisker:f,fill:o,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:u,lineDash:d,lineDashOffset:p})}),[{itemId:a,nodeData:T,labelData:[],scales:An(AA.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}getLegendData(t){var i;const{id:s,data:n}=this,{xKey:r,yName:a,fill:o,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:u,showInLegend:d,legendItemName:p,visible:g}=this.properties;return!d||!n?.length||!r||t!=="category"?[]:[{legendType:"category",id:s,itemId:s,seriesId:s,enabled:g,label:{text:(i=p??a)!=null?i:s},marker:{fill:o,fillOpacity:l,stroke:c,strokeOpacity:u,strokeWidth:h},legendItemName:p}]}getTooltipHtml(t){const{xKey:i,minKey:s,q1Key:n,medianKey:r,q3Key:a,maxKey:o,xName:l,yName:c,minName:h,q1Name:u,medianName:d,q3Name:p,maxName:g,tooltip:f}=this.properties,{datum:m}=t,y=this.getCategoryAxis(),v=this.getValueAxis();if(!y||!v||!this.properties.isValid())return"";const x=Xs._Util.sanitizeHtml(c),_=[[i,l,y],[s,h,v],[n,u,v],[r,d,v],[a,p,v],[o,g,v]].map(([A,T,I])=>Xs._Util.sanitizeHtml(`${T??A}: ${I.formatDatum(m[A])}`)).join(x?"<br/>":", "),{fill:D}=this.getFormattedStyles(t);return f.toTooltipHtml({title:x,content:_,backgroundColor:D},{seriesId:this.id,datum:m,fill:D,xKey:i,minKey:s,q1Key:n,medianKey:r,q3Key:a,maxKey:o,xName:l,minName:h,q1Name:u,medianName:d,q3Name:p,maxName:g})}animateEmptyUpdateReady({datumSelections:t}){const i=this.isVertical(),{from:s,to:n}=zR(i);QM.resetMotion(t,GR(i)),QM.staticFromToMotion(this.id,"datums",this.ctx.animationManager,t,s,n)}isLabelEnabled(){return!1}updateDatumSelection(t){return tt(this,null,function*(){var i;const s=(i=t.nodeData)!=null?i:[];return t.datumSelection.update(s)})}updateDatumNodes(t){return tt(this,arguments,function*({datumSelection:i,isHighlight:s}){var n;const r=this.isVertical(),a=(n=this.getValueAxis())==null?void 0:n.isReversed();i.each((o,l)=>{let c=this.getFormattedStyles(l,s);s&&(c=my(this.properties.highlightStyle.item,c));const{stroke:h,strokeWidth:u,strokeOpacity:d,lineDash:p,lineDashOffset:g}=c;c.whisker=my(c.whisker,{stroke:h,strokeWidth:u,strokeOpacity:d,lineDash:p,lineDashOffset:g}),o.updateDatumStyles(l,c,r,a)})})}updateLabelNodes(t){return tt(this,null,function*(){})}updateLabelSelection(t){return tt(this,null,function*(){const{labelData:i,labelSelection:s}=t;return s.update(i)})}nodeFactory(){return new VR}getFormattedStyles(t,i=!1){const{id:s,ctx:{callbackCache:n}}=this,{xKey:r,minKey:a,q1Key:o,medianKey:l,q3Key:c,maxKey:h,formatter:u}=this.properties,{datum:d,fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v,lineDashOffset:x,cap:S,whisker:_}=t,D={fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:v,lineDashOffset:x,cap:ZM(S),whisker:ZM(_)};if(u){const A=n.call(u,De(pt({datum:d,seriesId:s,highlighted:i},D),{xKey:r,minKey:a,q1Key:o,medianKey:l,q3Key:c,maxKey:h}));if(A)return my(A,D)}return D}convertValuesToScaleByDefs(t,i){const s=this.getCategoryAxis(),n=this.getValueAxis();if(!(s&&n))throw new Error("Axes must be defined");const r={};for(const[a,[{def:o}]]of t)if(Object.hasOwn(i,a)){const{scale:l}=o.type==="key"?s:n;r[a]=Math.round(l.convert(i[a]))}return r}},ew=(W(),V(z)),iw={__extends__:ew._Theme.EXTENDS_SERIES_DEFAULTS,strokeWidth:2},sw={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",instanceConstructor:tw,seriesDefaults:BR,themeTemplate:iw,groupable:!0,paletteFactory:({takeColors:e,userPalette:t,themeTemplateParameters:i})=>{var s;const n=i.properties.get(HM._Theme.DEFAULT_BACKGROUND_COLOUR),r=(s=Array.isArray(n)?n[0]:n)!=null?s:"white",{fills:[a],strokes:[o]}=e(1);return{fill:t?a:HM._Util.Color.interpolate(a,r)(.7),stroke:o}},swapDefaultAxesCondition({direction:e}){return e==="horizontal"}},xd=(W(),V(z)),nw=(W(),V(z)),{CARTESIAN_AXIS_TYPES:JM,CARTESIAN_AXIS_POSITIONS:tk}=nw._Theme,bd={axes:[{type:JM.NUMBER,position:tk.LEFT,nice:!1,max:void 0,crosshair:{enabled:!1}},{type:JM.CATEGORY,position:tk.BOTTOM}]},Pe=(W(),V(z)),rw=(W(),V(z)),{BaseProperties:yy,AbstractBarSeriesProperties:aw,PropertiesArray:ow,SeriesTooltip:lw,Validate:Ct,ARRAY:cw,COLOR_STRING:Ac,LINE_DASH:ek,OBJECT:vy,POSITIVE_NUMBER:zo,RATIO:Go,STRING:Sd}=rw._ModuleSupport,En=class extends yy{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.lengthRatio=.75}};M([Ct(Ac)],En.prototype,"fill",2),M([Ct(Go)],En.prototype,"fillOpacity",2),M([Ct(Ac)],En.prototype,"stroke",2),M([Ct(zo)],En.prototype,"strokeWidth",2),M([Ct(Go)],En.prototype,"strokeOpacity",2),M([Ct(ek)],En.prototype,"lineDash",2),M([Ct(zo)],En.prototype,"lineDashOffset",2),M([Ct(Go)],En.prototype,"lengthRatio",2);var ik=class extends yy{};M([Ct(zo,{optional:!0})],ik.prototype,"max",2);var _d=class extends yy{constructor(){super(...arguments),this.color="lightgrey"}};M([Ct(Ac)],_d.prototype,"color",2),M([Ct(zo,{optional:!0})],_d.prototype,"stop",2);var Fe=class extends aw{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.widthRatio=.5,this.colorRanges=new ow(_d,{}),this.target=new En,this.scale=new ik,this.tooltip=new lw}};M([Ct(Sd)],Fe.prototype,"valueKey",2),M([Ct(Sd,{optional:!0})],Fe.prototype,"valueName",2),M([Ct(Sd,{optional:!0})],Fe.prototype,"targetKey",2),M([Ct(Sd,{optional:!0})],Fe.prototype,"targetName",2),M([Ct(Ac)],Fe.prototype,"fill",2),M([Ct(Go)],Fe.prototype,"fillOpacity",2),M([Ct(Ac)],Fe.prototype,"stroke",2),M([Ct(zo)],Fe.prototype,"strokeWidth",2),M([Ct(Go)],Fe.prototype,"strokeOpacity",2),M([Ct(ek)],Fe.prototype,"lineDash",2),M([Ct(zo)],Fe.prototype,"lineDashOffset",2),M([Ct(Go)],Fe.prototype,"widthRatio",2),M([Ct(cw.restrict({minLength:1}))],Fe.prototype,"colorRanges",2),M([Ct(vy)],Fe.prototype,"target",2),M([Ct(vy)],Fe.prototype,"scale",2),M([Ct(vy)],Fe.prototype,"tooltip",2);var{animationValidation:hw,collapsedStartingBarPosition:sk,diff:uw,keyProperty:dw,partialAssign:xy,prepareBarAnimationFunctions:nk,resetBarSelectionsFn:pw,seriesLabelFadeInAnimation:Md,valueProperty:rk}=Pe._ModuleSupport,{fromToMotion:ak}=Pe._Scene.motion,{sanitizeHtml:ok}=Pe._Util,lk=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],gw=class mv extends Pe._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[Pe._ModuleSupport.SeriesNodePickMode.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,animationResetFns:{datum:pw}}),this.properties=new Fe,this.normalizedColorRanges=[],this.colorRangesGroup=new Pe._Scene.Group({name:`${this.id}-colorRanges`}),this.colorRangesSelection=Pe._Scene.Selection.select(this.colorRangesGroup,Pe._Scene.Rect,!1),this.rootGroup.append(this.colorRangesGroup),this.targetLinesSelection=Pe._Scene.Selection.select(this.annotationGroup,Pe._Scene.Line,!1)}destroy(){this.rootGroup.removeChild(this.colorRangesGroup),super.destroy()}processData(t){return tt(this,null,function*(){var i,s;if(!this.properties.isValid()||!this.data)return;const{valueKey:n,targetKey:r}=this.properties,a=Pe._Scale.ContinuousScale.is((i=this.getCategoryAxis())==null?void 0:i.scale),o=Pe._Scale.ContinuousScale.is((s=this.getValueAxis())==null?void 0:s.scale),l=[];r!==void 0&&l.push(rk(this,r,o,{id:"target"})),this.ctx.animationManager.isSkipped()||(this.processedData!==void 0&&l.push(uw(this.processedData)),l.push(hw(this))),yield this.requestDataModel(t,this.data.slice(0,1),{props:[dw(this,n,a,{id:"xValue"}),rk(this,n,o,{id:"value"}),...l],groupByKeys:!0,dataVisible:this.visible}),this.animationState.transition("updateData")})}getBandScalePadding(){return{inner:0,outer:0}}getMaxValue(){var t,i;return Math.max(...(i=(t=this.getValueAxis())==null?void 0:t.dataDomain.domain)!=null?i:[0])}getSeriesDomain(t){var i;const{dataModel:s,processedData:n}=this;if(!s||!n)return[];const{valueKey:r,targetKey:a,valueName:o}=this.properties;if(t===this.getCategoryDirection())return[o??r];if(t==((i=this.getValueAxis())==null?void 0:i.direction)){const l=s.getDomain(this,"value","value",n),c=a===void 0?[]:s.getDomain(this,"target","value",n);return[0,Math.max(...l,...c)]}else throw new Error(`unknown direction ${t}`)}getKeys(t){return t===this.getBarDirection()?[this.properties.valueKey]:super.getKeys(t)}createNodeData(){return tt(this,null,function*(){var t,i,s,n;const{dataModel:r,processedData:a}=this,{valueKey:o,targetKey:l,widthRatio:c,target:{lengthRatio:h}}=this.properties,u=(t=this.getCategoryAxis())==null?void 0:t.scale,d=(i=this.getValueAxis())==null?void 0:i.scale;if(!o||!r||!a||!u||!d)return[];if(c===void 0||h===void 0)return[];const p=(s=u.bandwidth)!=null?s:NaN,g=this.getMaxValue(),f=r.resolveProcessedDataIndexById(this,"value").index,m=l===void 0?NaN:r.resolveProcessedDataIndexById(this,"target").index,y={itemId:o,nodeData:[],labelData:[],scales:An(mv.prototype,this,"calculateScaling").call(this),visible:this.visible};for(const{datum:S,values:_}of a.data){if(!Array.isArray(S)||S.length<1)continue;_[0][f]<0&&Pe._Util.Logger.warnOnce("negative values are not supported, clipping to 0.");const D=(n=this.properties.valueName)!=null?n:this.properties.valueKey,A=Math.min(g,Math.max(0,_[0][f])),T=d.convert(A),I=c*p,E=d.convert(0),N=this.getBarDirection()===Pe._ModuleSupport.ChartAxisDirection.X,C={x:p*(1-c)/2,y:Math.min(T,E),width:I,height:Math.abs(E-T)};N&&([C.x,C.y,C.width,C.height]=[C.y,C.x,C.height,C.width]);let O;if(_[0][m]<0&&Pe._Util.Logger.warnOnce("negative targets are not supported, ignoring."),this.properties.targetKey&&_[0][m]>=0){const H=h*p,F=Math.min(g,_[0][m]);if(!isNaN(F)&&F!==void 0){const P=d.convert(F);let G=p*(1-h)/2,j=G+H,[Y,Q]=[P,P];N&&([G,j,Y,Q]=[Y,Q,G,j]),O={value:F,x1:G,x2:j,y1:Y,y2:Q}}}const w=De(pt({series:this,datum:S[0],xKey:o,xValue:D,yKey:o,yValue:A,cumulativeValue:A,target:O},C),{midPoint:{x:C.x+C.width/2,y:C.y+C.height/2}});y.nodeData.push(w)}const v=[...this.properties.colorRanges].sort((S,_)=>(S.stop||g)-(_.stop||g));let x=0;return this.normalizedColorRanges=v.map(S=>{var _;const D=Math.min(g,(_=S.stop)!=null?_:1/0),A={color:S.color,start:x,stop:D};return x=D,A}),[y]})}getLegendData(t){return[]}getTooltipHtml(t){const{valueKey:i,valueName:s,targetKey:n,targetName:r}=this.properties,a=this.getValueAxis(),{yValue:o,target:{value:l}={value:void 0},datum:c}=t;if(i===void 0||o===void 0||a===void 0)return"";const h=(p,g,f)=>{const m=ok(g??p),y=ok(a.formatDatum(f));return`<b>${m}</b>: ${y}`},u=void 0,d=n===void 0||l===void 0?h(i,s,o):`${h(i,s,o)}<br/>${h(n,r,l)}`;return this.properties.tooltip.toTooltipHtml({title:u,content:d,backgroundColor:this.properties.fill},{datum:c,title:u,seriesId:this.id,valueKey:i,valueName:s,targetKey:n,targetName:r})}isLabelEnabled(){return!1}nodeFactory(){return new Pe._Scene.Rect}updateDatumSelection(t){return tt(this,null,function*(){return this.targetLinesSelection.update(t.nodeData,void 0,void 0),t.datumSelection.update(t.nodeData,void 0,void 0)})}updateDatumNodes(t){return tt(this,null,function*(){for(const{node:i}of t.datumSelection){const s=this.properties;xy(lk,i,s)}for(const{node:i,datum:s}of this.targetLinesSelection)if(s.target!==void 0){const n=this.properties.target;xy(["x1","x2","y1","y2"],i,s.target),xy(lk,i,n)}else i.visible=!1})}updateColorRanges(){return tt(this,null,function*(){const t=this.getValueAxis(),i=this.getCategoryAxis();if(!t||!i)return;const[s,n]=[0,Math.max(...i.scale.range)],r=this.getBarDirection()===Pe._ModuleSupport.ChartAxisDirection.Y?(a,o)=>{a.x=s,a.y=t.scale.convert(o.stop),a.height=t.scale.convert(o.start)-a.y,a.width=n}:(a,o)=>{a.x=t.scale.convert(o.start),a.y=s,a.height=n,a.width=t.scale.convert(o.stop)-a.x};this.colorRangesSelection.update(this.normalizedColorRanges);for(const{node:a,datum:o}of this.colorRangesSelection)r(a,o),a.fill=o.color})}updateNodes(t,i,s){return tt(this,null,function*(){An(mv.prototype,this,"updateNodes").call(this,t,i,s),yield this.updateColorRanges()})}updateLabelSelection(t){return tt(this,null,function*(){return t.labelSelection})}updateLabelNodes(t){return tt(this,null,function*(){})}animateEmptyUpdateReady(t){const{datumSelections:i,labelSelections:s,annotationSelections:n}=t,r=nk(sk(this.isVertical(),this.axes));ak(this.id,"nodes",this.ctx.animationManager,i,r),Md(this,"labels",this.ctx.animationManager,s),Md(this,"annotations",this.ctx.animationManager,n)}animateWaitingUpdateReady(t){var i,s;const{datumSelections:n,labelSelections:r,annotationSelections:a}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const o=(s=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:s.diff,l=nk(sk(this.isVertical(),this.axes));ak(this.id,"nodes",this.ctx.animationManager,n,l,(c,h)=>String(h.xValue),o),Md(this,"labels",this.ctx.animationManager,r),Md(this,"annotations",this.ctx.animationManager,a)}},Sz=(W(),V(z)),fw={strokeWidth:0,strokeOpacity:1,fillOpacity:1,widthRatio:.5,target:{strokeWidth:3,strokeOpacity:1,lengthRatio:.75}},{CARTESIAN_AXIS_POSITIONS:ck}=xd._Theme,mw={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bullet",solo:!0,optionConstructors:{"series[].colorRanges":_d},instanceConstructor:gw,seriesDefaults:bd,themeTemplate:fw,customDefaultsFunction:e=>{var t;const i=pt({},bd.axes[0]),s=pt({},bd.axes[1]);return e.direction==="horizontal"&&(i.position=ck.BOTTOM,s.position=ck.LEFT),((t=e.scale)==null?void 0:t.max)!==void 0&&(i.max=e.scale.max),De(pt({},bd),{axes:[i,s]})},paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{var s;const{properties:n}=i,{fills:[r],strokes:[a]}=e(t),o=i.properties.get(xd._Theme.DEFAULT_BACKGROUND_COLOUR),l=(s=Array.isArray(o)?o[0]:o)!=null?s:"white",c=n.get(xd._Theme.DEFAULT_CROSS_LINES_COLOUR),h=xd._Util.Color.interpolate(r,l)(.7);return{fill:r,stroke:a,target:{stroke:c},colorRanges:[{color:h}]}}},hk=(W(),V(z)),yw=(W(),V(z)),{CARTESIAN_AXIS_TYPES:uk,CARTESIAN_AXIS_POSITIONS:dk}=yw._Theme,vw={axes:[{type:uk.CATEGORY,position:dk.LEFT},{type:uk.CATEGORY,position:dk.BOTTOM}],gradientLegend:{enabled:!0}},Vo=(W(),V(z)),by=(W(),V(z)),{Validate:kd,NUMBER:pk,TEXT_WRAP:xw,OVERFLOW_STRATEGY:bw}=by._ModuleSupport,{Logger:Sw}=by._Util,{Text:Ma,Label:_w}=by._Scene,Lc=class extends _w{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}static lineHeight(e){return Math.ceil(e*Ma.defaultLineHeightRatio)}};M([kd(xw)],Lc.prototype,"wrapping",2),M([kd(bw)],Lc.prototype,"overflowStrategy",2),M([kd(pk,{optional:!0})],Lc.prototype,"minimumFontSize",2);var _s=class extends Lc{constructor(){super(...arguments),this.spacing=0}};M([kd(pk)],_s.prototype,"spacing",2);var Dd=class extends Lc{};function Mw(e,t){const{fontSize:i,minimumFontSize:s=i}=e,{fontSize:n,minimumFontSize:r=n}=t,a=i-s,o=n-r;let l=e.fontSize,c=t.fontSize;const h=[{labelFontSize:i,secondaryLabelFontSize:n}];for(;l>s||c>r;){const u=a>0?(l-s)/a:-1,d=o>0?(c-r)/o:-1;u>d?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function gk(e,t,i){if(e>t)return;let s=e,n=t,r;for(;n>=s;){const a=(n+s)/2|0,o=i(a);o!=null?(r=o,s=a+1):n=a-1}return r}function kw(e,t,i,s,{padding:n},r){var a,o;const{spacing:l}=t,c=2*n,h=2*n+l,u=((a=t.minimumFontSize)!=null?a:t.fontSize)+((o=s.minimumFontSize)!=null?o:s.fontSize);if(u>r(u+h).height-h)return;const d=Mw(t,s),p=new Ma;p.setFont(t);const g={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},f=new Ma;f.setFont(s);const m={fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight};let y,v;return gk(0,d.length-1,x=>{const{labelFontSize:S,secondaryLabelFontSize:_}=d[x],D=x===0,A=_s.lineHeight(S),T=Dd.lineHeight(_),I=r(A+T+h),E=I.width-c,N=I.height-h;if(A+T>N)return;if(y==null||y.fontSize!==S){g.fontSize=S;const{lines:O}=Ma.wrapLines(e,E,N,g,t.wrapping,D?t.overflowStrategy:"hide");if(O!=null){const w=O.join(`
`);p.text=w,p.fontSize=S,p.lineHeight=S;const H=p.computeBBox().width,F=O.length*A;y={text:w,fontSize:S,lineHeight:A,width:H,height:F}}else y=void 0}if(y==null||y.width>E||y.height>N)return;if(v==null||v.fontSize!==_){m.fontSize=_;const{lines:O}=Ma.wrapLines(i,E,N,m,s.wrapping,D?s.overflowStrategy:"hide");if(O!=null){const w=O.join(`
`);f.text=w,f.fontSize=_,f.lineHeight=T;const H=f.computeBBox().width,F=O.length*T;v={text:w,fontSize:_,lineHeight:T,width:H,height:F}}else v=void 0}if(v==null)return;const C=y.height+v.height;if(!(v.width>E||C>N))return{width:Math.max(y.width,v.width),height:C+l,meta:I.meta,label:y,secondaryLabel:v}})}function fk(e,t,{padding:i},s){var n;const r=2*i,a=Math.min((n=t.minimumFontSize)!=null?n:t.fontSize,t.fontSize),o=new Ma;o.setFont(t);const l={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return gk(a,t.fontSize,c=>{const h=_s.lineHeight(c),u=s(h+r),d=u.width-r,p=u.height-r;if(h>p)return;const g=c===a;l.fontSize=c;const{lines:f}=Ma.wrapLines(e,d,p,l,t.wrapping,g?t.overflowStrategy:"hide");if(f==null)return;const m=f.join(`
`);o.text=m,o.fontSize=c,o.lineHeight=h;const y=o.computeBBox(),v=o.computeBBox().width,x=h*f.length;if(!(y.width>d||x>p))return[{text:m,fontSize:c,lineHeight:h,width:v,height:x},u.meta]})}function mk(e){return e!=null&&e.minimumFontSize!=null&&e.fontSize&&e.minimumFontSize>e.fontSize}function Sy(e,t,i,s,n,r){const a=t.enabled?e:void 0,o=s.enabled?i:void 0;(mk(t)||mk(s))&&Sw.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;a!=null&&o!=null&&(l=kw(a,t,o,s,n,r));let c;if(l==null&&a!=null&&(c=fk(a,t,n,r)),c!=null){const[u,d]=c;l={width:u.width,height:u.height,meta:d,label:u,secondaryLabel:void 0}}let h;if(l==null&&a==null&&o!=null&&(h=fk(o,s,n,r)),h!=null){const[u,d]=h;l={width:u.width,height:u.height,meta:d,label:void 0,secondaryLabel:u}}return l}var Dw=(W(),V(z)),{SeriesProperties:Aw,SeriesTooltip:Lw,Validate:$e,AND:Tw,ARRAY:Ew,COLOR_STRING:Iw,COLOR_STRING_ARRAY:Nw,FUNCTION:Cw,OBJECT:yk,POSITIVE_NUMBER:vk,STRING:ka,TEXT_ALIGN:Ow,VERTICAL_ALIGN:Rw}=Dw._ModuleSupport,Be=class extends Aw{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new _s,this.tooltip=new Lw}};M([$e(ka,{optional:!0})],Be.prototype,"title",2),M([$e(ka)],Be.prototype,"xKey",2),M([$e(ka)],Be.prototype,"yKey",2),M([$e(ka,{optional:!0})],Be.prototype,"colorKey",2),M([$e(ka,{optional:!0})],Be.prototype,"xName",2),M([$e(ka,{optional:!0})],Be.prototype,"yName",2),M([$e(ka,{optional:!0})],Be.prototype,"colorName",2),M([$e(Tw(Nw,Ew.restrict({minLength:1})))],Be.prototype,"colorRange",2),M([$e(Iw,{optional:!0})],Be.prototype,"stroke",2),M([$e(vk,{optional:!0})],Be.prototype,"strokeWidth",2),M([$e(Ow)],Be.prototype,"textAlign",2),M([$e(Rw)],Be.prototype,"verticalAlign",2),M([$e(vk)],Be.prototype,"itemPadding",2),M([$e(Cw,{optional:!0})],Be.prototype,"formatter",2),M([$e(yk)],Be.prototype,"label",2),M([$e(yk)],Be.prototype,"tooltip",2);var{SeriesNodePickMode:ww,valueProperty:_y,ChartAxisDirection:br}=Vo._ModuleSupport,{Rect:Pw,PointerEvents:Fw}=Vo._Scene,{ColorScale:Bw}=Vo._Scale,{sanitizeHtml:Wo,Color:zw,Logger:Gw}=Vo._Util,Vw=class extends Vo._ModuleSupport.CartesianSeriesNodeClickEvent{constructor(e,t,i,s){super(e,t,i,s),this.colorKey=s.properties.colorKey}},Ww={left:-.5,center:0,right:-.5},Uw={top:-.5,middle:0,bottom:-.5},My=class LA extends Vo._ModuleSupport.CartesianSeries{constructor(t){super({moduleCtx:t,pickModes:[ww.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new Be,this.NodeClickEvent=Vw,this.colorScale=new Bw}processData(t){return tt(this,null,function*(){var i;const s=this.axes[br.X],n=this.axes[br.Y];if(!s||!n||!this.properties.isValid()||!((i=this.data)!=null&&i.length))return;const{xKey:r,yKey:a,colorRange:o,colorKey:l}=this.properties,{isContinuousX:c,isContinuousY:h}=this.isContinuous(),{dataModel:u,processedData:d}=yield this.requestDataModel(t,this.data,{props:[_y(this,r,c,{id:"xValue"}),_y(this,a,h,{id:"yValue"}),...l?[_y(this,l,!0,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const p=u.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=d.domain.values[p],this.colorScale.range=o,this.colorScale.update()}})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:i,processedData:s}=this;if(!i||!s)return!1;const n=i.resolveProcessedDataIndexById(this,"colorValue").index,r=s.data.length;return!(r===0||r===s.defs.values[n].missing)}getSeriesDomain(t){const{dataModel:i,processedData:s}=this;return!i||!s?[]:t===br.X?i.getDomain(this,"xValue","value",s):i.getDomain(this,"yValue","value",s)}createNodeData(){return tt(this,null,function*(){var t,i,s,n,r,a,o;const{data:l,visible:c,axes:h,dataModel:u}=this,d=h[br.X],p=h[br.Y];if(!(l&&u&&c&&d&&p))return[];if(d.type!=="category"||p.type!=="category")return Gw.warnOnce(`Heatmap series expected axes to have "category" type, but received "${d.type}" and "${p.type}" instead.`),[];const{xKey:g,xName:f,yKey:m,yName:y,colorKey:v,colorName:x,textAlign:S,verticalAlign:_,itemPadding:D,colorRange:A,label:T}=this.properties,I=u.resolveProcessedDataIndexById(this,"xValue").index,E=u.resolveProcessedDataIndexById(this,"yValue").index,N=v?u.resolveProcessedDataIndexById(this,"colorValue").index:void 0,C=d.scale,O=p.scale,w=((t=C.bandwidth)!=null?t:0)/2,H=((i=O.bandwidth)!=null?i:0)/2,F=this.isColorScaleValid(),P=[],G=[],j=(s=C.bandwidth)!=null?s:10,Y=(n=O.bandwidth)!=null?n:10,Q=(j-2*D)*Ww[S],J=(Y-2*D)*Uw[_],et=()=>({width:j,height:Y,meta:null});for(const{values:it,datum:U}of(a=(r=this.processedData)==null?void 0:r.data)!=null?a:[]){const st=it[I],nt=it[E],ot=C.convert(st)+w,dt=O.convert(nt)+H,gt=N!=null?it[N]:void 0,rt=F&&gt!=null?this.colorScale.convert(gt):A[0],kt=gt!=null?this.getLabelText(T,{value:gt,datum:U,colorKey:v,colorName:x,xKey:g,yKey:m,xName:f,yName:y}):void 0,vt=Sy(kt,this.properties.label,void 0,this.properties.label,{padding:D},et),de={x:ot,y:dt,size:0};if(P.push({series:this,itemId:m,yKey:m,xKey:g,xValue:st,yValue:nt,colorValue:gt,datum:U,point:de,width:j,height:Y,fill:rt,midPoint:{x:ot,y:dt}}),vt?.label!=null){const{text:wt,fontSize:Mt,lineHeight:pe,height:jt}=vt.label,{fontStyle:We,fontFamily:ge,fontWeight:Er,color:Ir}=this.properties.label,Zs=de.x+Q*(j-2*D),As=de.y+J*(Y-2*D)-(vt.height-jt)*.5;G.push({series:this,itemId:m,datum:U,text:wt,fontSize:Mt,lineHeight:pe,fontStyle:We,fontFamily:ge,fontWeight:Er,color:Ir,textAlign:S,verticalAlign:_,x:Zs,y:As})}}return[{itemId:(o=this.properties.yKey)!=null?o:this.id,nodeData:P,labelData:G,scales:An(LA.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}nodeFactory(){return new Pw}updateDatumSelection(t){return tt(this,null,function*(){const{nodeData:i,datumSelection:s}=t,n=i??[];return s.update(n)})}updateDatumNodes(t){return tt(this,null,function*(){var i;const{isHighlight:s}=t,{id:n,ctx:{callbackCache:r}}=this,{xKey:a,yKey:o,colorKey:l,formatter:c,highlightStyle:{item:{fill:h,stroke:u,strokeWidth:d,fillOpacity:p}}}=this.properties,g=this.axes[br.X],[f,m]=(i=g?.visibleRange)!=null?i:[],v=!(f!==0||m!==1);t.datumSelection.each((x,S)=>{var _,D,A;const{point:T,width:I,height:E}=S,N=s&&h!==void 0?zw.interpolate(S.fill,h)(p??1):S.fill,C=s&&u!==void 0?u:this.properties.stroke,O=s&&d!==void 0?d:this.properties.strokeWidth;let w;c&&(w=r.call(c,{datum:S.datum,fill:N,stroke:C,strokeWidth:O,highlighted:s,xKey:a,yKey:o,colorKey:l,seriesId:n})),x.crisp=v,x.x=Math.floor(T.x-I/2),x.y=Math.floor(T.y-E/2),x.width=Math.ceil(I),x.height=Math.ceil(E),x.fill=(_=w?.fill)!=null?_:N,x.stroke=(D=w?.stroke)!=null?D:C,x.strokeWidth=(A=w?.strokeWidth)!=null?A:O})})}updateLabelSelection(t){return tt(this,null,function*(){const{labelData:i,labelSelection:s}=t,{enabled:n}=this.properties.label,r=n?i:[];return s.update(r)})}updateLabelNodes(t){return tt(this,null,function*(){t.labelSelection.each((i,s)=>{i.text=s.text,i.fontSize=s.fontSize,i.lineHeight=s.lineHeight,i.fontStyle=s.fontStyle,i.fontFamily=s.fontFamily,i.fontWeight=s.fontWeight,i.fill=s.color,i.textAlign=s.textAlign,i.textBaseline=s.verticalAlign,i.x=s.x,i.y=s.y,i.pointerEvents=Fw.None})})}getTooltipHtml(t){var i,s,n;const r=this.axes[br.X],a=this.axes[br.Y];if(!this.properties.isValid()||!r||!a)return"";const{xKey:o,yKey:l,colorKey:c,xName:h,yName:u,colorName:d,stroke:p,strokeWidth:g,colorRange:f,formatter:m,tooltip:y}=this.properties,{colorScale:v,id:x,ctx:{callbackCache:S}}=this,{datum:_,xValue:D,yValue:A,colorValue:T}=t,I=this.isColorScaleValid()?v.convert(T):f[0];let E;m&&(E=S.call(m,{datum:t,xKey:o,yKey:l,colorKey:c,fill:I,stroke:p,strokeWidth:g,highlighted:!1,seriesId:x}));const N=(s=(i=E?.fill)!=null?i:I)!=null?s:"gray",C=(n=this.properties.title)!=null?n:u,O=Wo(r.formatDatum(D)),w=Wo(a.formatDatum(A));let H=`<b>${Wo(h||o)}</b>: ${O}<br><b>${Wo(u||l)}</b>: ${w}`;return c&&(H=`<b>${Wo(d||c)}</b>: ${Wo(T)}<br>`+H),y.toTooltipHtml({title:C,content:H,backgroundColor:N},{seriesId:x,datum:_,xKey:o,yKey:l,xName:h,yName:u,title:C,color:N,colorKey:c})}getLegendData(t){var i;return t!=="gradient"||!((i=this.data)!=null&&i.length)||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue").index],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}};My.className="HeatmapSeries",My.type="heatmap";var Yw=My,Tc=(W(),V(z)),Hw={__extends__:Tc._Theme.EXTENDS_SERIES_DEFAULTS,label:{__overrides__:Tc._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS,enabled:!1,color:Tc._Theme.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontSize:Tc._Theme.FONT_SIZE.SMALL,minimumFontSize:void 0,fontFamily:Tc._Theme.DEFAULT_FONT_FAMILY,wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},jw={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",instanceConstructor:Yw,seriesDefaults:vw,themeTemplate:Hw,paletteFactory:({takeColors:e,colorsCount:t,userPalette:i,themeTemplateParameters:s})=>{var n;const{properties:r}=s,a=r.get(hk._Theme.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),o=r.get(hk._Theme.DEFAULT_BACKGROUND_COLOUR),l=(n=Array.isArray(o)?o[0]:o)!=null?n:"white",{fills:c,strokes:h}=e(t);return{stroke:i?h[0]:l,colorRange:i?[c[0],c[1]]:a}}},Kw=(W(),V(z)),Xw=(W(),V(z)),{POLAR_AXIS_TYPES:xk,CIRCLE:bk}=Xw._Theme,$w={axes:[{type:xk.ANGLE_CATEGORY,shape:bk,groupPaddingInner:0,paddingInner:0,label:{padding:10}},{type:xk.RADIUS_NUMBER,shape:bk}]},qw=(W(),V(z)),Uo=(W(),V(z)),{isDefined:Zw,ChartAxisDirection:Sr,PolarAxis:Qw,diff:Jw,fixNumericExtent:t1,groupAccumulativeValueProperty:Sk,keyProperty:e1,normaliseGroupTo:i1,resetLabelFn:s1,seriesLabelFadeInAnimation:n1,seriesLabelFadeOutAnimation:r1,valueProperty:a1,animationValidation:o1}=Uo._ModuleSupport,{BandScale:l1}=Uo._Scale,{motion:_k}=Uo._Scene,{isNumber:Mk,normalizeAngle360:kk,sanitizeHtml:Dk}=Uo._Util,c1=class extends Uo._ModuleSupport.SeriesNodeClickEvent{constructor(e,t,i,s){super(e,t,i,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey}},Ak=class extends Uo._ModuleSupport.PolarSeries{constructor(e,{animationResetFns:t}){super({moduleCtx:e,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:De(pt({},t),{label:s1})}),this.NodeClickEvent=c1,this.nodeData=[],this.groupScale=new l1,this.circleCache={r:0,cx:0,cy:0}}addChartEventListeners(){var e,t;(e=this.ctx.chartEventManager)==null||e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null||t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i))}getSeriesDomain(e){const{axes:t,dataModel:i,processedData:s}=this;if(!s||!i)return[];if(e===Sr.X)return i.getDomain(this,"angleValue","key",s);{const n=t[Sr.Y],r=i.getDomain(this,"radiusValue-end","value",s),a=[r[0]>0?0:r[0],r[1]<0?0:r[1]];return t1(a,n)}}processData(e){return tt(this,null,function*(){var t;if(!this.properties.isValid())return;const i=this.getStackId(),s=`${i}-trailing`,{angleKey:n,radiusKey:r,normalizedTo:a,visible:o}=this.properties,l=[];Zw(a)&&l.push(i1(this,[i,s],Math.abs(a),"range"));const c=!this.ctx.animationManager.isSkipped();c&&this.processedData&&l.push(Jw(this.processedData)),c&&l.push(o1(this));const h=o||!c?{}:{forceValue:0};yield this.requestDataModel(e,(t=this.data)!=null?t:[],{props:[e1(this,n,!1,{id:"angleValue"}),a1(this,r,!0,pt({id:"radiusValue-raw",invalidValue:null},h)),...Sk(this,r,!0,"normal","current",pt({id:"radiusValue-end",invalidValue:null,groupId:i},h)),...Sk(this,r,!0,"trailing","current",pt({id:"radiusValue-start",invalidValue:null,groupId:s},h)),...l],dataVisible:o||c}),this.animationState.transition("updateData")})}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,s=this.circleCache;return e===s.r&&t===s.cx&&i===s.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}isRadiusAxisReversed(){var e;return(e=this.axes[Sr.Y])==null?void 0:e.isReversed()}maybeRefreshNodeData(){return tt(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const e=this.axes[Sr.Y];return e instanceof Qw?this.radius*e.innerRadiusRatio:0}createNodeData(){return tt(this,null,function*(){var e;const{processedData:t,dataModel:i,groupScale:s}=this;if(!t||!i||!this.properties.isValid())return[];const n=this.axes[Sr.X],r=this.axes[Sr.Y],a=n?.scale,o=r?.scale;if(!a||!o)return[];const l=i.resolveProcessedDataIndexById(this,"radiusValue-start").index,c=i.resolveProcessedDataIndexById(this,"radiusValue-end").index,h=i.resolveProcessedDataIndexById(this,"radiusValue-raw").index;let u=0,d=0;n instanceof Io&&(u=n.groupPaddingInner,d=n.paddingInner);const g=((e=a.bandwidth)!=null?e:0)*(1-d),{index:f,visibleGroupCount:m}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);s.domain=Array.from({length:m}).map((C,O)=>String(O)),s.range=[-g/2,g/2],s.paddingInner=m>1?u:0;const y=this.isRadiusAxisReversed(),v=y?this.radius:this.getAxisInnerRadius(),x=y?this.getAxisInnerRadius():this.radius,S=x+v,{angleKey:_,radiusKey:D,angleName:A,radiusName:T,label:I}=this.properties,E=(C,O,w,H)=>{const F=this.getLabelText(I,{value:O,datum:C,angleKey:_,radiusKey:D,angleName:A,radiusName:T},P=>Mk(P)?P.toFixed(2):String(P));if(F)return{x:w,y:H,text:F,textAlign:"center",textBaseline:"middle"}},N=t.data.map((C,O)=>{const{datum:w,keys:H,values:F}=C,P=H[0],G=F[h],j=F[l],Y=F[c],Q=a.convert(P),J=kk(Q+s.convert(String(f))),et=kk(J+s.bandwidth),it=J+s.bandwidth/2,U=S-o.convert(j),st=S-o.convert(Y),nt=(U+st)/2,ot=Math.cos(it),dt=Math.sin(it),gt=ot*nt,rt=dt*nt,kt=this.properties.label.enabled?E(w,G,gt,rt):void 0,vt=this.getColumnWidth(J,et);return{series:this,datum:w,point:{x:gt,y:rt,size:0},midPoint:{x:gt,y:rt},label:kt,angleValue:P,radiusValue:G,innerRadius:U,outerRadius:st,startAngle:J,endAngle:et,axisInnerRadius:v,axisOuterRadius:x,columnWidth:vt,index:O}});return[{itemId:D,nodeData:N,labelData:N}]})}getColumnWidth(e,t){return NaN}update(e){return tt(this,arguments,function*({seriesRect:t}){const i=this.checkResize(t);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(e,t){var i,s,n,r,a;let o=[];if(t){const f=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();f?.datum&&f.series===this&&(o=[f])}else o=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0,c=(s=l?.fill)!=null?s:this.properties.fill,h=(n=l?.fillOpacity)!=null?n:this.properties.fillOpacity,u=(r=l?.stroke)!=null?r:this.properties.stroke,d=this.properties.strokeOpacity,p=(a=l?.strokeWidth)!=null?a:this.properties.strokeWidth,g=f=>f.angleValue;e.update(o,void 0,g).each((f,m)=>{var y,v,x,S;const _=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:m,fill:c,stroke:u,strokeWidth:p,highlighted:t,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;this.updateItemPath(f,m,t,_),f.fill=(y=_?.fill)!=null?y:c,f.fillOpacity=(v=_?.fillOpacity)!=null?v:h,f.stroke=(x=_?.stroke)!=null?x:u,f.strokeOpacity=d,f.strokeWidth=(S=_?.strokeWidth)!=null?S:p,f.lineDash=this.properties.lineDash,f.lineJoin="round"})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getColumnTransitionFunctions();_k.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),n1(this,"labels",this.ctx.animationManager,[e])}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getColumnTransitionFunctions();_k.fromToMotion(this.id,"datums",t,[e],i),r1(this,"labels",t,[this.labelSelection])}getTooltipHtml(e){var t;const{id:i,axes:s,dataModel:n}=this,{angleKey:r,radiusKey:a,angleName:o,radiusName:l,fill:c,stroke:h,strokeWidth:u,formatter:d,tooltip:p}=this.properties,{angleValue:g,radiusValue:f,datum:m}=e,y=s[Sr.X],v=s[Sr.Y];if(!this.properties.isValid()||!(y&&v&&Mk(f))||!n)return"";const x=y.formatDatum(g),S=v.formatDatum(f),_=Dk(l),D=Dk(`${x}: ${S}`),{fill:A}=(t=d&&this.ctx.callbackCache.call(d,{seriesId:i,datum:m,fill:c,stroke:h,strokeWidth:u,highlighted:!1,angleKey:r,radiusKey:a}))!=null?t:{fill:c};return p.toTooltipHtml({title:_,backgroundColor:c,content:D},{seriesId:i,datum:m,color:A,title:_,angleKey:r,radiusKey:a,angleName:o,radiusName:l})}getLegendData(e){var t;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||e!=="category")return[];const{radiusKey:i,radiusName:s,fill:n,stroke:r,fillOpacity:a,strokeOpacity:o,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:s??i},marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:r??"rgba(0, 0, 0, 0)",fillOpacity:a??1,strokeOpacity:o??1,strokeWidth:l}}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:s}=e;s.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:s,numVisibleItems:n}=e,a=s.id===this.id||t&&n===1;this.toggleSeriesItem(i,a)}computeLabelsBBox(){return null}},Lk=(W(),V(z)),{Label:h1}=Lk._Scene,{SeriesProperties:u1,SeriesTooltip:d1,Validate:ze,COLOR_STRING:Tk,DEGREE:p1,FUNCTION:g1,LINE_DASH:f1,NUMBER:m1,OBJECT:Ek,POSITIVE_NUMBER:Ik,RATIO:Nk,STRING:Ec}=Lk._ModuleSupport,be=class extends u1{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new h1,this.tooltip=new d1}};M([ze(Ec)],be.prototype,"angleKey",2),M([ze(Ec,{optional:!0})],be.prototype,"angleName",2),M([ze(Ec)],be.prototype,"radiusKey",2),M([ze(Ec,{optional:!0})],be.prototype,"radiusName",2),M([ze(Tk)],be.prototype,"fill",2),M([ze(Nk)],be.prototype,"fillOpacity",2),M([ze(Tk)],be.prototype,"stroke",2),M([ze(Ik)],be.prototype,"strokeWidth",2),M([ze(Nk)],be.prototype,"strokeOpacity",2),M([ze(f1)],be.prototype,"lineDash",2),M([ze(Ik)],be.prototype,"lineDashOffset",2),M([ze(g1,{optional:!0})],be.prototype,"formatter",2),M([ze(p1)],be.prototype,"rotation",2),M([ze(Ec,{optional:!0})],be.prototype,"stackGroup",2),M([ze(m1,{optional:!0})],be.prototype,"normalizedTo",2),M([ze(Ek)],be.prototype,"label",2),M([ze(Ek)],be.prototype,"tooltip",2);var y1=(W(),V(z)),v1=(W(),V(z)),{motion:x1}=v1._Scene;function Ck(){const e={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],i=(a,o,l)=>{t.forEach(c=>{var h,u;const d=e[c];let p=(l==="removed"||l==="updated"?a:o)[c],g=(l==="removed"?a:o)[c];isNaN(g)&&(g=(u=(h=a.previousDatum)==null?void 0:h[c])!=null?u:NaN);const f=p-g;Math.abs(f)>Math.PI&&(p-=Math.sign(f)*2*Math.PI),d.set(o,{from:p,to:g})})},s=(a,o)=>({startAngle:e.startAngle.get(a)[o],endAngle:e.endAngle.get(a)[o]});return{calculate:i,from:a=>s(a,"from"),to:a=>s(a,"to")}}function Ok(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.startAngle)||isNaN(e.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function b1(e){const t=Ck();return{toFn:(n,r,a)=>{const{startAngle:o,endAngle:l}=t.to(r);let c,h,u,d,p;return a==="removed"?(c=n.innerRadius,h=n.innerRadius,u=n.columnWidth,d=n.axisInnerRadius,p=n.axisOuterRadius):(c=isNaN(r.innerRadius)?e:r.innerRadius,h=isNaN(r.outerRadius)?e:r.outerRadius,u=isNaN(r.columnWidth)?n.columnWidth:r.columnWidth,d=r.axisInnerRadius,p=r.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:u,axisInnerRadius:d,axisOuterRadius:p,startAngle:o,endAngle:l}},fromFn:(n,r,a)=>{a=Ok(n,r,a),t.calculate(n,r,a);const{startAngle:o,endAngle:l}=t.from(r);let c,h,u,d,p;a==="removed"||a==="updated"?(c=n.innerRadius,h=n.outerRadius,u=n.columnWidth,d=n.axisInnerRadius,p=n.axisOuterRadius):(c=e,h=e,u=r.columnWidth,d=r.axisInnerRadius,p=r.axisOuterRadius);const g=x1.FROM_TO_MIXINS[a];return pt({innerRadius:c,outerRadius:h,columnWidth:u,axisInnerRadius:d,axisOuterRadius:p,startAngle:o,endAngle:l},g)}}}function S1(e,{innerRadius:t,outerRadius:i,columnWidth:s,axisInnerRadius:n,axisOuterRadius:r,startAngle:a,endAngle:o}){return{innerRadius:t,outerRadius:i,columnWidth:s,axisInnerRadius:n,axisOuterRadius:r,startAngle:a,endAngle:o}}var{motion:_1}=y1._Scene;function M1(e){const t=Ck();return{toFn:(n,r,a)=>{const{startAngle:o,endAngle:l}=t.to(r);let c,h;return a==="removed"?(c=e,h=e):(c=isNaN(r.innerRadius)?e:r.innerRadius,h=isNaN(r.outerRadius)?e:r.outerRadius),{innerRadius:c,outerRadius:h,startAngle:o,endAngle:l}},fromFn:(n,r,a)=>{a=Ok(n,r,a),t.calculate(n,r,a);const{startAngle:o,endAngle:l}=t.from(r);let c,h;a==="removed"||a==="updated"?(c=n.innerRadius,h=n.outerRadius):(c=e,h=e);const u=_1.FROM_TO_MIXINS[a];return pt({innerRadius:c,outerRadius:h,startAngle:o,endAngle:l},u)}}}function k1(e,{innerRadius:t,outerRadius:i,startAngle:s,endAngle:n}){return{innerRadius:t,outerRadius:i,startAngle:s,endAngle:n}}var{Sector:D1}=qw._Scene,ky=class extends Ak{constructor(e){super(e,{animationResetFns:{item:k1}}),this.properties=new be}getStackId(){var e,t;return`nightingale-stack-${(t=(e=this.seriesGrouping)==null?void 0:e.groupIndex)!=null?t:this.id}-yValues`}nodeFactory(){return new D1}updateItemPath(e,t,i,s){e.centerX=0,e.centerY=0,i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle)}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return M1(e)}};ky.className="NightingaleSeries",ky.type="nightingale";var Ad=(W(),V(z)),A1={__extends__:Ad._Theme.EXTENDS_SERIES_DEFAULTS,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Ad._Theme.DEFAULT_FONT_FAMILY,color:Ad._Theme.DEFAULT_LABEL_COLOUR,__overrides__:Ad._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},L1={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",instanceConstructor:ky,seriesDefaults:$w,themeTemplate:A1,paletteFactory:({takeColors:e,userPalette:t})=>{const{fills:[i],strokes:[s]}=e(1);return{fill:i,stroke:t?s:Kw._Theme.DEFAULT_POLAR_SERIES_STROKE}},stackable:!0,groupable:!0,stackedByDefault:!0},T1=(W(),V(z)),E1=(W(),V(z)),{POLAR_AXIS_TYPES:Rk}=E1._Theme,wk={axes:[{type:Rk.ANGLE_CATEGORY,label:{padding:10}},{type:Rk.RADIUS_NUMBER}]},Dy=(W(),V(z)),Ic=(W(),V(z)),Pk=(W(),V(z)),{Label:I1}=Pk._Scene,{SeriesMarker:N1,SeriesProperties:C1,SeriesTooltip:O1,Validate:ri,BOOLEAN:R1,COLOR_STRING:w1,DEGREE:P1,FUNCTION:F1,LINE_DASH:B1,OBJECT:Ay,POSITIVE_NUMBER:Fk,RATIO:z1,STRING:Ld}=Pk._ModuleSupport,Ge=class extends C1{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new N1,this.label=new I1,this.tooltip=new O1,this.connectMissingData=!1}};M([ri(Ld)],Ge.prototype,"angleKey",2),M([ri(Ld)],Ge.prototype,"radiusKey",2),M([ri(Ld,{optional:!0})],Ge.prototype,"angleName",2),M([ri(Ld,{optional:!0})],Ge.prototype,"radiusName",2),M([ri(w1)],Ge.prototype,"stroke",2),M([ri(Fk)],Ge.prototype,"strokeWidth",2),M([ri(z1)],Ge.prototype,"strokeOpacity",2),M([ri(B1)],Ge.prototype,"lineDash",2),M([ri(Fk)],Ge.prototype,"lineDashOffset",2),M([ri(F1,{optional:!0})],Ge.prototype,"formatter",2),M([ri(P1)],Ge.prototype,"rotation",2),M([ri(Ay)],Ge.prototype,"marker",2),M([ri(Ay)],Ge.prototype,"label",2),M([ri(Ay)],Ge.prototype,"tooltip",2),M([ri(R1)],Ge.prototype,"connectMissingData",2);var{ChartAxisDirection:Da,PolarAxis:G1,SeriesNodePickMode:Bk,valueProperty:zk,fixNumericExtent:V1,seriesLabelFadeInAnimation:W1,markerFadeInAnimation:U1,resetMarkerFn:Y1,animationValidation:H1,ADD_PHASE:j1}=Ic._ModuleSupport,{BBox:K1,Group:X1,Path:$1,PointerEvents:q1,Selection:Z1,Text:Q1,getMarker:J1}=Ic._Scene,{extent:tP,isNumber:eP,isNumberEqual:Gk,sanitizeHtml:Vk,toFixed:Wk}=Ic._Util,iP=class extends Ic._ModuleSupport.SeriesNodeClickEvent{constructor(e,t,i,s){super(e,t,i,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey}},Ly=class extends Ic._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,useLabelLayer:!0,pickModes:[Bk.NEAREST_NODE,Bk.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:Y1}}),this.properties=new Ge,this.NodeClickEvent=iP,this.nodeData=[],this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0};const t=new X1;this.contentGroup.append(t),this.lineSelection=Z1.select(t,$1),t.zIndexSubOrder=[()=>this._declarationOrder,1]}nodeFactory(){const{shape:e}=this.properties.marker,t=J1(e);return new t}addChartEventListeners(){var e,t;(e=this.ctx.chartEventManager)==null||e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null||t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i))}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===Da.X)return t.getDomain(this,"angleValue","value",i);{const s=t.getDomain(this,"radiusValue","value",i),n=tP(s.length===0?s:[0].concat(s));return V1(n)}}processData(e){return tt(this,null,function*(){var t;if(!this.properties.isValid())return;const{angleKey:i,radiusKey:s}=this.properties,n=[];this.ctx.animationManager.isSkipped()||n.push(H1(this)),yield this.requestDataModel(e,(t=this.data)!=null?t:[],{props:[zk(this,i,!1,{id:"angleValue"}),zk(this,s,!1,{id:"radiusValue",invalidValue:void 0}),...n]}),this.animationState.transition("updateData")})}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,s=this.circleCache;return e===s.r&&t===s.cx&&i===s.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}getAxisInnerRadius(){const e=this.axes[Da.Y];return e instanceof G1?this.radius*e.innerRadiusRatio:0}maybeRefreshNodeData(){return tt(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}createNodeData(){return tt(this,null,function*(){var e,t;const{processedData:i,dataModel:s}=this;if(!i||!s||!this.properties.isValid())return[];const{angleKey:n,radiusKey:r,angleName:a,radiusName:o,marker:l,label:c}=this.properties,h=(e=this.axes[Da.X])==null?void 0:e.scale,u=(t=this.axes[Da.Y])==null?void 0:t.scale;if(!h||!u)return[];const d=s.resolveProcessedDataIndexById(this,"angleValue").index,p=s.resolveProcessedDataIndexById(this,"radiusValue").index,g=this.getAxisInnerRadius(),f=i.data.map(m=>{const{datum:y,values:v}=m,x=v[d],S=v[p],_=h.convert(x),D=this.radius+g-u.convert(S),A=Math.cos(_),T=Math.sin(_),I=A*D,E=T*D;let N;if(c.enabled){const C=this.getLabelText(c,{value:S,datum:y,angleKey:n,radiusKey:r,angleName:a,radiusName:o},O=>eP(O)?O.toFixed(2):String(O));C&&(N={x:I+A*l.size,y:E+T*l.size,text:C,textAlign:Gk(A,0)?"center":A>0?"left":"right",textBaseline:Gk(T,0)?"middle":T>0?"top":"bottom"})}return{series:this,datum:y,point:{x:I,y:E,size:l.size},midPoint:{x:I,y:E},label:N,angleValue:x,radiusValue:S}});return[{itemId:r,nodeData:f,labelData:f}]})}update(e){return tt(this,arguments,function*({seriesRect:t}){var i,s;const n=this.checkResize(t),r=!this.ctx.animationManager.isSkipped(),{series:a}=(s=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())!=null?s:{};this.highlightGroup.visible=(r||this.visible)&&a===this,yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),n&&this.animationState.transition("resize"),this.animationState.transition("update")})}updatePathSelections(){const e=this.visible?[!0]:[];this.lineSelection.update(e)}getMarkerFill(e){var t;return(t=e?.fill)!=null?t:this.properties.marker.fill}updateMarkers(e,t){var i;const{angleKey:s,radiusKey:n,marker:r,visible:a}=this.properties;let o=[];if(a&&r.shape&&r.enabled)if(t){const c=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();c?.datum&&(o=[c])}else o=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0;e.update(o).each((c,h)=>{var u,d,p,g,f,m,y,v,x,S,_,D,A;const T=this.getMarkerFill(l),I=(d=(u=l?.stroke)!=null?u:r.stroke)!=null?d:this.properties.stroke,E=(f=(g=(p=l?.strokeWidth)!=null?p:r.strokeWidth)!=null?g:this.properties.strokeWidth)!=null?f:1,N=r.formatter?this.ctx.callbackCache.call(r.formatter,{datum:h.datum,angleKey:s,radiusKey:n,fill:T,stroke:I,strokeWidth:E,size:r.size,highlighted:t,seriesId:this.id}):void 0;c.fill=(m=N?.fill)!=null?m:T,c.stroke=(y=N?.stroke)!=null?y:I,c.strokeWidth=(v=N?.strokeWidth)!=null?v:E,c.fillOpacity=(S=(x=l?.fillOpacity)!=null?x:r.fillOpacity)!=null?S:1,c.strokeOpacity=(D=(_=r.strokeOpacity)!=null?_:this.properties.strokeOpacity)!=null?D:1,c.size=(A=N?.size)!=null?A:r.size;const{x:C,y:O}=h.point;c.translationX=C,c.translationY=O,c.visible=a&&c.size>0&&!isNaN(C)&&!isNaN(O)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getTooltipHtml(e){var t;if(!this.properties.isValid())return"";const{id:i}=this,{angleKey:s,radiusKey:n,angleName:r,radiusName:a,marker:o,tooltip:l}=this.properties,{datum:c,angleValue:h,radiusValue:u}=e,d=typeof h=="number"?Wk(h):String(h),p=typeof u=="number"?Wk(u):String(u),g=Vk(a),f=Vk(`${d}: ${p}`),{formatter:m,fill:y,stroke:v,strokeWidth:x,size:S}=o,_=x??this.properties.strokeWidth,{fill:D}=(t=m&&this.ctx.callbackCache.call(m,{datum:c,angleKey:s,radiusKey:n,fill:y,stroke:v,strokeWidth:_,size:S,highlighted:!1,seriesId:i}))!=null?t:{fill:y};return l.toTooltipHtml({title:g,content:f,backgroundColor:D},{datum:c,angleKey:s,angleName:r,radiusKey:n,radiusName:a,title:g,color:D,seriesId:i})}getLegendData(e){var t,i,s,n,r,a,o,l,c,h;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||e!=="category")return[];const{radiusKey:u,radiusName:d,stroke:p,strokeWidth:g,strokeOpacity:f,lineDash:m,visible:y,marker:v}=this.properties;return[{legendType:"category",id:this.id,itemId:u,seriesId:this.id,enabled:y,label:{text:d??u},marker:{shape:v.shape,fill:(n=(s=(i=this.getMarkerFill())!=null?i:v.stroke)!=null?s:p)!=null?n:"rgba(0, 0, 0, 0)",stroke:(a=(r=v.stroke)!=null?r:p)!=null?a:"rgba(0, 0, 0, 0)",fillOpacity:(o=v.fillOpacity)!=null?o:1,strokeOpacity:(c=(l=v.strokeOpacity)!=null?l:f)!=null?c:1,strokeWidth:(h=v.strokeWidth)!=null?h:0,enabled:v.enabled||g<=0},line:{stroke:p,strokeOpacity:f,strokeWidth:g,lineDash:m}}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:s}=e;s.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:s,numVisibleItems:n}=e,a=s.id===this.id||t&&n===1;this.toggleSeriesItem(i,a)}pickNodeClosestDatum(e){var t,i;const{x:s,y:n}=e,{rootGroup:r,nodeData:a,centerX:o,centerY:l}=this,c=r.transformPoint(s,n),h=this.radius;if(Math.sqrt(Rt(s-o,2)+Rt(n-l,2))>h+this.properties.marker.size)return;let d=1/0,p;for(const g of a){const{point:{x:f=NaN,y:m=NaN}={}}=g;if(isNaN(f)||isNaN(m))continue;const y=Math.sqrt(Rt(c.x-f-o,2)+Rt(c.y-m-l,2));y<d&&(d=y,p=g)}if(p){const g=Math.max(d-((i=(t=p.point)==null?void 0:t.size)!=null?i:0),0);return{datum:p,distance:g}}}computeLabelsBBox(){return tt(this,null,function*(){const{label:e}=this.properties;yield this.maybeRefreshNodeData();const t=[],i=new Q1;return this.nodeData.forEach(s=>{if(!e.enabled||!s.label)return;i.text=s.label.text,i.x=s.label.x,i.y=s.label.y,i.setFont(e),i.setAlign(s.label);const n=i.computeBBox();t.push(n)}),t.length===0?null:K1.merge(t)})}getLineNode(){return this.lineSelection.nodes()[0]}beforePathAnimation(){const e=this.getLineNode();e.fill=void 0,e.lineJoin="round",e.lineCap="round",e.pointerEvents=q1.None,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset}getLinePoints(){const{nodeData:e,resetInvalidToZero:t}=this,{connectMissingData:i}=this.properties;if(e.length===0)return[];const s=this.axes[Da.Y],n=this.axes[Da.X],r=n?.isReversed(),o=s?.isReversed()&&!r?[...e].reverse():e,l=[];let c=!1,h;return o.forEach((u,d)=>{let{x:p,y:g}=u.point;const f=isNaN(p)||isNaN(g);f||(h??(h=u)),f&&!i&&(p=0,g=0);const m=d===0||!t&&!i&&(f||c);l.push({x:p,y:g,moveTo:m}),c=f}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(e,t,i){const{path:s}=e;s.clear({trackChanges:!0});const n=this.getAxisInnerRadius(),r=this.axes[Da.Y],o=r?.isReversed()?this.radius+n-r?.scale.convert(0):n;t.forEach(l=>{const{x:c,y:h,arc:u,radius:d=0,startAngle:p=0,endAngle:g=0,moveTo:f}=l,m=Math.atan2(h,c),y=o*Math.cos(m),v=o*Math.sin(m),x=i,S=y*(1-x)+c*x,_=v*(1-x)+h*x;u?s.arc(c,h,d,p,g):f?s.moveTo(S,_):s.lineTo(S,_)}),e.checkPathDirty()}animatePaths(e){const t=this.getLinePoints();this.animateSinglePath(this.getLineNode(),t,e)}animateEmptyUpdateReady(){const{itemSelection:e,labelSelection:t}=this,{animationManager:i}=this.ctx,s=i.defaultDuration*(1-j1.animationDuration),n={from:0,to:1};this.beforePathAnimation(),i.animate(De(pt({id:`${this.id}_'path`,groupId:this.id},n),{duration:s,onUpdate:r=>this.animatePaths(r),onStop:()=>this.animatePaths(1)})),U1(this,i,[e],"added"),W1(this,"labels",i,[t])}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e),this.resetPaths()}animateReadyResize(e){super.animateReadyResize(e),this.resetPaths()}resetPaths(){const e=this.getLineNode();if(e){const{path:t}=e,i=this.getLinePoints();e.fill=void 0,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,t.clear({trackChanges:!0}),i.forEach(({x:s,y:n,moveTo:r})=>{r?t.moveTo(s,n):t.lineTo(s,n)}),e.checkPathDirty()}}};Ly.className="RadarSeries";var sP=(W(),V(z)),{RATIO:nP,COLOR_STRING:rP,Validate:Uk}=sP._ModuleSupport,Ty=class extends Ge{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};M([Uk(rP)],Ty.prototype,"fill",2),M([Uk(nP)],Ty.prototype,"fillOpacity",2);var{Group:aP,Path:oP,PointerEvents:lP,Selection:cP}=Dy._Scene,{ChartAxisDirection:Yk}=Dy._ModuleSupport,Ey=class extends Ly{constructor(e){super(e),this.properties=new Ty,this.resetInvalidToZero=!0;const t=new aP;t.zIndexSubOrder=[()=>this._declarationOrder,0],this.contentGroup.append(t),this.areaSelection=cP.select(t,oP)}updatePathSelections(){const e=this.visible?[!0]:[];this.areaSelection.update(e),super.updatePathSelections()}getAreaNode(){return this.areaSelection.nodes()[0]}getMarkerFill(e){var t,i;return(i=(t=e?.fill)!=null?t:this.properties.marker.fill)!=null?i:this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const e=this.getAreaNode();e.fill=this.properties.fill,e.fillOpacity=this.properties.fillOpacity,e.pointerEvents=lP.None,e.stroke=void 0}animatePaths(e){super.animatePaths(e),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),e)}getAreaPoints(){var e,t;const i=this.getLinePoints(),s=l=>{const c=this.axes[l];return c instanceof Dy._ModuleSupport.PolarAxis?c:void 0},n=s(Yk.Y),r=s(Yk.X);if(!n?.isReversed())return i;const{points:o=[]}=(t=(e=r?.getAxisLinePoints)==null?void 0:e.call(r))!=null?t:{};return i.concat(...o)}resetPaths(){super.resetPaths();const e=this.getAreaNode();if(e){const{path:t}=e,i=this.getAreaPoints();e.fill=this.properties.fill,e.fillOpacity=this.properties.fillOpacity,e.stroke=void 0,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,e.lineJoin=e.lineCap="round",t.clear({trackChanges:!0}),i.forEach(({x:s,y:n,moveTo:r,arc:a,radius:o=0,startAngle:l=0,endAngle:c=0})=>{a?t.arc(s,n,o,l,c):r?t.moveTo(s,n):t.lineTo(s,n)}),t.closePath(),e.checkPathDirty()}}};Ey.className="RadarAreaSeries",Ey.type="radar-area";var Td=(W(),V(z)),Iy={__extends__:Td._Theme.EXTENDS_SERIES_DEFAULTS,label:{enabled:!1,fontSize:12,fontFamily:Td._Theme.DEFAULT_FONT_FAMILY,color:Td._Theme.DEFAULT_LABEL_COLOUR,__overrides__:Td._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS},marker:{enabled:!0,fillOpacity:1,formatter:void 0,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},hP=De(pt({},Iy),{fillOpacity:.8,strokeWidth:2,marker:De(pt({},Iy.marker),{enabled:!1})}),{markerPaletteFactory:uP}=T1._ModuleSupport,dP={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",instanceConstructor:Ey,seriesDefaults:wk,themeTemplate:hP,paletteFactory:e=>{const{marker:t}=uP(e);return{stroke:t.stroke,fill:t.fill,marker:t}}},Ny=class extends Ly{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};Ny.className="RadarLineSeries",Ny.type="radar-line";var pP=De(pt({},Iy),{strokeWidth:2}),gP={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",instanceConstructor:Ny,seriesDefaults:wk,themeTemplate:pP,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{stroke:t,marker:{fill:t,stroke:i}}}},fP=(W(),V(z)),{POLAR_AXIS_TYPES:Hk}=fP._Theme,mP={axes:[{type:Hk.ANGLE_NUMBER},{type:Hk.RADIUS_CATEGORY,innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}]},Yo=(W(),V(z)),jk=(W(),V(z)),{Label:yP}=jk._Scene,{SeriesProperties:vP,SeriesTooltip:xP,Validate:Ve,COLOR_STRING:Kk,DEGREE:bP,FUNCTION:SP,LINE_DASH:_P,NUMBER:MP,OBJECT:Xk,POSITIVE_NUMBER:$k,RATIO:qk,STRING:Nc}=jk._ModuleSupport,Ae=class extends vP{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new yP,this.tooltip=new xP}};M([Ve(Nc)],Ae.prototype,"angleKey",2),M([Ve(Nc)],Ae.prototype,"radiusKey",2),M([Ve(Nc,{optional:!0})],Ae.prototype,"angleName",2),M([Ve(Nc,{optional:!0})],Ae.prototype,"radiusName",2),M([Ve(Kk)],Ae.prototype,"fill",2),M([Ve(qk)],Ae.prototype,"fillOpacity",2),M([Ve(Kk)],Ae.prototype,"stroke",2),M([Ve($k)],Ae.prototype,"strokeWidth",2),M([Ve(qk)],Ae.prototype,"strokeOpacity",2),M([Ve(_P)],Ae.prototype,"lineDash",2),M([Ve($k)],Ae.prototype,"lineDashOffset",2),M([Ve(SP,{optional:!0})],Ae.prototype,"formatter",2),M([Ve(bP)],Ae.prototype,"rotation",2),M([Ve(Nc,{optional:!0})],Ae.prototype,"stackGroup",2),M([Ve(MP,{optional:!0})],Ae.prototype,"normalizedTo",2),M([Ve(Xk)],Ae.prototype,"label",2),M([Ve(Xk)],Ae.prototype,"tooltip",2);var kP=(W(),V(z)),{motion:DP}=kP._Scene;function AP(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.innerRadius)||isNaN(e.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function Zk(e){return{toFn:(s,n,r)=>{let a,o,l,c;return r==="removed"?(a=e,o=e,l=n.innerRadius,c=n.outerRadius):(a=n.startAngle,o=n.endAngle,l=isNaN(n.innerRadius)?s.innerRadius:n.innerRadius,c=isNaN(n.outerRadius)?s.outerRadius:n.outerRadius),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c}},fromFn:(s,n,r)=>{r=AP(s,n,r);let a,o,l,c;r==="removed"||r==="updated"?(a=s.startAngle,o=s.endAngle,l=s.innerRadius,c=s.outerRadius):(a=e,o=e,l=n.innerRadius,c=n.outerRadius);const h=DP.FROM_TO_MIXINS[r];return pt({startAngle:a,endAngle:o,innerRadius:l,outerRadius:c},h)}}}function LP(e,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}var{ChartAxisDirection:In,PolarAxis:TP,diff:EP,isDefined:IP,groupAccumulativeValueProperty:Qk,keyProperty:NP,normaliseGroupTo:CP,valueProperty:OP,fixNumericExtent:RP,resetLabelFn:wP,seriesLabelFadeInAnimation:PP,seriesLabelFadeOutAnimation:FP,animationValidation:BP}=Yo._ModuleSupport,{BandScale:zP}=Yo._Scale,{Sector:GP,motion:Jk}=Yo._Scene,{angleBetween:VP,isNumber:tD,sanitizeHtml:eD}=Yo._Util,WP=class extends Yo._ModuleSupport.SeriesNodeClickEvent{constructor(e,t,i,s){super(e,t,i,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey}},Cy=class extends Yo._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:LP,label:wP}}),this.properties=new Ae,this.NodeClickEvent=WP,this.nodeData=[],this.groupScale=new zP,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new GP}addChartEventListeners(){var e,t;(e=this.ctx.chartEventManager)==null||e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null||t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i))}getSeriesDomain(e){const{axes:t,dataModel:i,processedData:s}=this;if(!s||!i)return[];if(e===In.X){const n=t[In.X],r=i.getDomain(this,"angleValue-end","value",s),a=[r[0]>0?0:r[0],r[1]<0?0:r[1]];return RP(a,n)}else return i.getDomain(this,"radiusValue","key",s)}processData(e){return tt(this,null,function*(){var t;if(!this.properties.isValid())return;const i=this.getStackId(),s=`${i}-trailing`,{angleKey:n,radiusKey:r,normalizedTo:a,visible:o}=this.properties,l=[];IP(a)&&l.push(CP(this,[i,s],Math.abs(a),"range"));const c=!this.ctx.animationManager.isSkipped();c&&(this.processedData&&l.push(EP(this.processedData)),l.push(BP(this)));const h=this.visible||!c?{}:{forceValue:0};yield this.requestDataModel(e,(t=this.data)!=null?t:[],{props:[NP(this,r,!1,{id:"radiusValue"}),OP(this,n,!0,pt({id:"angleValue-raw",invalidValue:null},h)),...Qk(this,n,!0,"normal","current",pt({id:"angleValue-end",invalidValue:null,groupId:i},h)),...Qk(this,n,!0,"trailing","current",pt({id:"angleValue-start",invalidValue:null,groupId:s},h)),...l],dataVisible:o||c}),this.animationState.transition("updateData")})}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,s=this.circleCache;return e===s.r&&t===s.cx&&i===s.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}maybeRefreshNodeData(){return tt(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const e=this.axes[In.Y];return e instanceof TP?this.radius*e.innerRadiusRatio:0}createNodeData(){return tt(this,null,function*(){var e,t;const{processedData:i,dataModel:s}=this;if(!i||!s||!this.properties.isValid())return[];const n=this.axes[In.X],r=this.axes[In.Y],a=n?.scale,o=r?.scale;if(!a||!o)return[];const l=s.resolveProcessedDataIndexById(this,"angleValue-start").index,c=s.resolveProcessedDataIndexById(this,"angleValue-end").index,h=s.resolveProcessedDataIndexById(this,"angleValue-raw").index;let u=0;r instanceof fa&&(u=r.groupPaddingInner);const{groupScale:d}=this,{index:p,visibleGroupCount:g}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);d.domain=Array.from({length:g}).map((N,C)=>String(C)),d.range=[0,Math.abs((e=o.bandwidth)!=null?e:0)],d.paddingInner=g>1?u:0;const f=d.bandwidth>=1?d.bandwidth:d.rawBandwidth,m=(t=this.axes[In.Y])==null?void 0:t.isReversed(),y=m?this.radius:this.getAxisInnerRadius(),x=(m?this.getAxisInnerRadius():this.radius)+y,{angleKey:S,radiusKey:_,angleName:D,radiusName:A,label:T}=this.properties,I=(N,C,O,w)=>{const H=this.getLabelText(T,{value:C,datum:N,angleKey:S,radiusKey:_,angleName:D,radiusName:A},F=>tD(F)?F.toFixed(2):String(F));if(H)return{x:O,y:w,text:H,textAlign:"center",textBaseline:"middle"}},E=i.data.map((N,C)=>{const{datum:O,keys:w,values:H}=N,F=w[0],P=H[h],G=H[l],j=H[c];let Y=Math.max(a.convert(G),a.range[0]),Q=Math.min(a.convert(j),a.range[1]);Y>Q&&([Y,Q]=[Q,Y]),P<0&&([Y,Q]=[Q,Y]);const et=x-o.convert(F)+d.convert(String(p)),it=et+f,U=(et+it)/2,st=Y+VP(Y,Q)/2,nt=Math.cos(st)*U,ot=Math.sin(st)*U,dt=this.properties.label.enabled?I(O,P,nt,ot):void 0;return{series:this,datum:O,point:{x:nt,y:ot,size:0},midPoint:{x:nt,y:ot},label:dt,angleValue:P,radiusValue:F,innerRadius:et,outerRadius:it,startAngle:Y,endAngle:Q,index:C}});return[{itemId:_,nodeData:E,labelData:E}]})}update(e){return tt(this,arguments,function*({seriesRect:t}){const i=this.checkResize(t);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(e,t){var i,s,n,r,a;let o=[];if(t){const f=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();f?.datum&&f.series===this&&(o=[f])}else o=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0,c=(s=l?.fill)!=null?s:this.properties.fill,h=(n=l?.fillOpacity)!=null?n:this.properties.fillOpacity,u=(r=l?.stroke)!=null?r:this.properties.stroke,d=this.properties.strokeOpacity,p=(a=l?.strokeWidth)!=null?a:this.properties.strokeWidth,g=f=>f.radiusValue;e.update(o,void 0,g).each((f,m)=>{var y,v,x,S,_;const D=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:m,fill:c,stroke:u,strokeWidth:p,highlighted:t,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;f.fill=(y=D?.fill)!=null?y:c,f.fillOpacity=(v=D?.fillOpacity)!=null?v:h,f.stroke=(x=D?.stroke)!=null?x:u,f.strokeOpacity=d,f.strokeWidth=(S=D?.strokeWidth)!=null?S:p,f.lineDash=this.properties.lineDash,f.lineJoin="round",f.inset=u!=null?((_=D?.strokeWidth)!=null?_:p)/2:0,t&&(f.startAngle=m.startAngle,f.endAngle=m.endAngle,f.innerRadius=m.innerRadius,f.outerRadius=m.outerRadius)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getBarTransitionFunctions(){var e;const t=(e=this.axes[In.X])==null?void 0:e.scale;let i=0;if(!t)return Zk(i);const s=Math.min(t.domain[0],t.domain[1]),n=Math.max(t.domain[0],t.domain[1]);return s<=0&&n>=0&&(i=t.convert(0)),Zk(i)}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getBarTransitionFunctions();Jk.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),PP(this,"labels",this.ctx.animationManager,[e])}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getBarTransitionFunctions();Jk.fromToMotion(this.id,"datums",t,[e],i),FP(this,"labels",t,[this.labelSelection])}getTooltipHtml(e){var t;const{id:i,axes:s,dataModel:n}=this,{angleKey:r,angleName:a,radiusKey:o,radiusName:l,fill:c,stroke:h,strokeWidth:u,formatter:d,tooltip:p}=this.properties,{angleValue:g,radiusValue:f,datum:m}=e,y=s[In.X],v=s[In.Y];if(!this.properties.isValid()||!(y&&v&&tD(g))||!n)return"";const x=y.formatDatum(g),S=v.formatDatum(f),_=eD(a),D=eD(`${S}: ${x}`),{fill:A}=(t=d&&this.ctx.callbackCache.call(d,{datum:m,fill:c,stroke:h,strokeWidth:u,highlighted:!1,angleKey:r,radiusKey:o,seriesId:i}))!=null?t:{fill:c};return p.toTooltipHtml({title:_,backgroundColor:c,content:D},{seriesId:i,datum:m,color:A,title:_,angleKey:r,radiusKey:o,angleName:a,radiusName:l})}getLegendData(e){var t;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||e!=="category")return[];const{angleKey:i,angleName:s,fill:n,stroke:r,fillOpacity:a,strokeOpacity:o,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:s??i},marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:r??"rgba(0, 0, 0, 0)",fillOpacity:a??1,strokeOpacity:o??1,strokeWidth:l}}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:s}=e;s.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:s,numVisibleItems:n}=e,a=s.id===this.id||t&&n===1;this.toggleSeriesItem(i,a)}computeLabelsBBox(){return null}getStackId(){var e,t;return`radialBar-stack-${(t=(e=this.seriesGrouping)==null?void 0:e.groupIndex)!=null?t:this.id}-xValues`}};Cy.className="RadialBarSeries",Cy.type="radial-bar";var Ed=(W(),V(z)),UP={__extends__:Ed._Theme.EXTENDS_SERIES_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:Ed._Theme.DEFAULT_FONT_FAMILY,color:Ed._Theme.DEFAULT_INVERTED_LABEL_COLOUR,__overrides__:Ed._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},YP={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",instanceConstructor:Cy,seriesDefaults:mP,themeTemplate:UP,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},stackable:!0,groupable:!0},HP=(W(),V(z)),{POLAR_AXIS_TYPES:iD,CIRCLE:sD}=HP._Theme,jP={axes:[{type:iD.ANGLE_CATEGORY,shape:sD,groupPaddingInner:0,paddingInner:0,label:{padding:10}},{type:iD.RADIUS_NUMBER,shape:sD,innerRadiusRatio:.5}]},KP=(W(),V(z)),XP=(W(),V(z)),{Validate:nD,RATIO:rD}=XP._ModuleSupport,Oy=class extends be{};M([nD(rD,{optional:!0})],Oy.prototype,"columnWidthRatio",2),M([nD(rD,{optional:!0})],Oy.prototype,"maxColumnWidthRatio",2);var aD=(W(),V(z)),{Path:$P,Path2D:qP,ScenePathChangeDetection:Nn}=aD._Scene,{angleBetween:oD,isNumberEqual:Ry,normalizeAngle360:Cc}=aD._Util;function lD(e,t,i){const s=Math.sqrt(Rt(e,2)+Rt(t,2)),r=Math.atan2(t,e)+i;return{x:Math.cos(r)*s,y:Math.sin(r)*s}}var Ms=class extends $P{constructor(){super(...arguments),this.borderPath=new qP,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){const{startAngle:e,endAngle:t}=this,i=oD(e,t);return Cc(e+i/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:s}=this,n=-e/2,r=e/2,a=-i,o=-t,l=this.getRotation(),c=[[n,o],[n,a],[r,a],[r,o],[n,o]].map(([h,u])=>lD(h,u,l));s.clear({trackChanges:!0}),s.moveTo(c[0].x,c[0].y),s.lineTo(c[1].x,c[1].y),s.lineTo(c[2].x,c[2].y),s.lineTo(c[3].x,c[3].y),s.lineTo(c[0].x,c[0].y),s.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:s,axisInnerRadius:n,axisOuterRadius:r,isRadiusAxisReversed:a}=this,o=Ry(s,n),l=Math.asin(e/2/s),c=this.getRotation(),h=(T,I)=>lD(T,I,c),u=(T,I)=>Math.sqrt(Rt(T,2)+Rt(I,2)),d=(T,I)=>I>T?0:Math.sqrt(Rt(T,2)-Rt(I,2)),p=(T,I,E)=>E?T<I:T>I,g=o&&!isNaN(l)&&l<Math.PI/6;let f=-e/2,m=e/2;const y=-i,v=-s*(g?Math.cos(l):1),x=p(r,u(s,e/2),!a);if(x){const T=d(r,s);f=-T,m=T}t.clear({trackChanges:!0});const S=h(f,v);t.moveTo(S.x,S.y);const _=Ry(s,i),D=p(r,u(i,e/2),!a);if(_&&g)t.arc(0,0,s,Cc(-l-Math.PI/2)+c,Cc(l-Math.PI/2)+c,!1);else if(D){const T=-d(r,e/2),I=d(r,i);if(!x){const E=h(f,T);t.lineTo(E.x,E.y)}if(t.arc(0,0,r,Math.atan2(T,f)+c,Math.atan2(y,-I)+c,!1),!Ry(I,0)){const E=h(I,y);t.lineTo(E.x,E.y)}t.arc(0,0,r,Math.atan2(y,I)+c,Math.atan2(T,m)+c,!1)}else{const T=h(f,y),I=h(m,y);t.lineTo(T.x,T.y),t.lineTo(I.x,I.y)}const A=h(m,v);if(t.lineTo(A.x,A.y),g)t.arc(0,0,s,Cc(l-Math.PI/2)+c,Cc(-l-Math.PI/2)+c,!0);else{const T=h(f,v);t.lineTo(T.x,T.y)}t.closePath()}};Ms.className="RadialColumnShape",M([Nn()],Ms.prototype,"isBeveled",2),M([Nn()],Ms.prototype,"columnWidth",2),M([Nn()],Ms.prototype,"startAngle",2),M([Nn()],Ms.prototype,"endAngle",2),M([Nn()],Ms.prototype,"outerRadius",2),M([Nn()],Ms.prototype,"innerRadius",2),M([Nn()],Ms.prototype,"axisInnerRadius",2),M([Nn()],Ms.prototype,"axisOuterRadius",2),M([Nn()],Ms.prototype,"isRadiusAxisReversed",2);function ZP(e,t,i,s,n){const r=oD(e,t),a=r*(1-s)/2;if(e+=a,t-=a,r>=2*Math.PI){const p=e+r/2;e=p-Math.PI,t=p+Math.PI}const o=i*Math.cos(e),l=i*Math.sin(e),c=i*Math.cos(t),h=i*Math.sin(t),u=Math.floor(Math.sqrt(Rt(o-c,2)+Rt(l-h,2))),d=2*i*n;return Math.max(1,Math.min(d,u))}var{ChartAxisDirection:QP,PolarAxis:JP}=KP._ModuleSupport,wy=class extends Ak{constructor(e){super(e,{animationResetFns:{item:S1}}),this.properties=new Oy}getStackId(){var e,t;return`radarColumn-stack-${(t=(e=this.seriesGrouping)==null?void 0:e.groupIndex)!=null?t:this.id}-yValues`}nodeFactory(){return new Ms}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return b1(e)}isRadiusAxisCircle(){const e=this.axes[QP.Y];return e instanceof JP?e.shape==="circle":!1}updateItemPath(e,t,i){e.isBeveled=this.isRadiusAxisCircle(),e.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.columnWidth=t.columnWidth,e.axisInnerRadius=t.axisInnerRadius,e.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(e,t){const{columnWidthRatio:i=.5,maxColumnWidthRatio:s=.5}=this.properties;return ZP(e,t,this.radius,i,s)}};wy.className="RadialColumnSeries",wy.type="radial-column";var Id=(W(),V(z)),tF={__extends__:Id._Theme.EXTENDS_SERIES_DEFAULTS,columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:Id._Theme.DEFAULT_FONT_FAMILY,color:Id._Theme.DEFAULT_LABEL_COLOUR,__overrides__:Id._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},eF={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",instanceConstructor:wy,seriesDefaults:jP,themeTemplate:tF,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},stackable:!0,groupable:!0},iF=(W(),V(z)),_r=(W(),V(z)),cD=(W(),V(z)),{DropShadow:sF,Label:nF}=cD._Scene,{CartesianSeriesProperties:rF,SeriesMarker:aF,SeriesTooltip:oF,Validate:ne,BOOLEAN:lF,COLOR_STRING:hD,LINE_DASH:cF,OBJECT:Nd,PLACEMENT:hF,POSITIVE_NUMBER:Py,RATIO:uD,STRING:Aa}=cD._ModuleSupport,Fy=class extends nF{constructor(){super(...arguments),this.placement="outside",this.padding=6}};M([ne(hF)],Fy.prototype,"placement",2),M([ne(Py)],Fy.prototype,"padding",2);var ce=class extends rF{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new sF().set({enabled:!1}),this.marker=new aF,this.label=new Fy,this.tooltip=new oF,this.connectMissingData=!1}};M([ne(Aa)],ce.prototype,"xKey",2),M([ne(Aa)],ce.prototype,"yLowKey",2),M([ne(Aa)],ce.prototype,"yHighKey",2),M([ne(Aa,{optional:!0})],ce.prototype,"xName",2),M([ne(Aa,{optional:!0})],ce.prototype,"yName",2),M([ne(Aa,{optional:!0})],ce.prototype,"yLowName",2),M([ne(Aa,{optional:!0})],ce.prototype,"yHighName",2),M([ne(hD)],ce.prototype,"fill",2),M([ne(uD)],ce.prototype,"fillOpacity",2),M([ne(hD)],ce.prototype,"stroke",2),M([ne(Py)],ce.prototype,"strokeWidth",2),M([ne(uD)],ce.prototype,"strokeOpacity",2),M([ne(cF)],ce.prototype,"lineDash",2),M([ne(Py)],ce.prototype,"lineDashOffset",2),M([ne(Nd)],ce.prototype,"shadow",2),M([ne(Nd)],ce.prototype,"marker",2),M([ne(Nd)],ce.prototype,"label",2),M([ne(Nd)],ce.prototype,"tooltip",2),M([ne(lF)],ce.prototype,"connectMissingData",2);var{valueProperty:dD,trailingValueProperty:pD,keyProperty:uF,ChartAxisDirection:Mr,mergeDefaults:dF,updateLabelNode:pF,fixNumericExtent:gD,AreaSeriesTag:By,buildResetPathFn:gF,resetLabelFn:fF,resetMarkerFn:mF,resetMarkerPositionFn:fD,pathSwipeInAnimation:yF,resetMotion:vF,markerSwipeScaleInAnimation:xF,seriesLabelFadeInAnimation:bF,animationValidation:SF,diff:_F,updateClipPath:mD}=_r._ModuleSupport,{getMarker:MF,PointerEvents:zy}=_r._Scene,{sanitizeHtml:La,extent:kF,isNumber:DF}=_r._Util,AF={[_r._ModuleSupport.ChartAxisDirection.X]:["xKey"],[_r._ModuleSupport.ChartAxisDirection.Y]:["yLowKey","yHighKey"]},LF={[Mr.X]:["xName"],[Mr.Y]:["yLowName","yHighName","yName"]},TF=class extends _r._ModuleSupport.SeriesNodeClickEvent{constructor(e,t,i,s){super(e,t,i,s),this.xKey=s.properties.xKey,this.yLowKey=s.properties.yLowKey,this.yHighKey=s.properties.yHighKey}},Gy=class TA extends _r._ModuleSupport.CartesianSeries{constructor(t){super({moduleCtx:t,hasHighlightedLabels:!0,hasMarkers:!0,pathsPerSeries:2,directionKeys:AF,directionNames:LF,animationResetFns:{path:gF({getOpacity:()=>this.getOpacity()}),label:fF,marker:(i,s)=>pt(pt({},mF(i)),fD(i,s))}}),this.properties=new ce,this.NodeClickEvent=TF}processData(t){return tt(this,null,function*(){var i;if(!this.properties.isValid())return;const{xKey:s,yLowKey:n,yHighKey:r}=this.properties,{isContinuousX:a,isContinuousY:o}=this.isContinuous(),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(_F(this.processedData)),c&&l.push(SF(this)),yield this.requestDataModel(t,(i=this.data)!=null?i:[],{props:[uF(this,s,a,{id:"xValue"}),dD(this,n,o,{id:"yLowValue",invalidValue:void 0}),dD(this,r,o,{id:"yHighValue",invalidValue:void 0}),pD(this,n,o,{id:"yLowTrailingValue",invalidValue:void 0}),pD(this,r,o,{id:"yHighTrailingValue",invalidValue:void 0}),...l],dataVisible:this.visible}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:i,dataModel:s,axes:n}=this;if(!(i&&s))return[];const{domain:{keys:[r],values:a}}=i;if(t===Mr.X){const o=s.resolveProcessedDataDefById(this,"xValue"),l=n[Mr.X];return o?.def.type==="key"&&o.def.valueType==="category"?r:gD(kF(r),l)}else{const o=s.resolveProcessedDataIndexById(this,"yLowValue").index,l=a[o],c=s.resolveProcessedDataIndexById(this,"yHighValue").index,h=a[c],u=[l[0]>h[0]?h[0]:l[0],h[1]<l[1]?l[1]:h[1]];return gD(u)}}createNodeData(){return tt(this,null,function*(){var t,i;const{data:s,dataModel:n,axes:r,visible:a}=this,o=r[Mr.X],l=r[Mr.Y];if(!(s&&a&&o&&l&&n))return[];const c=o.scale,h=l.scale,{xKey:u,yLowKey:d,yHighKey:p,connectMissingData:g,marker:f}=this.properties,m=`${d}-${p}`,y=((t=c.bandwidth)!=null?t:0)/2,v=n.resolveProcessedDataDefsByIds(this,["xValue","yHighValue","yLowValue","yHighTrailingValue","yLowTrailingValue"]),x=(P,G,j)=>{const Y=c.convert(P)+y,Q=h.convert(G),J=h.convert(j);return[{point:{x:Y,y:Q},size:f.size,itemId:"high",yValue:G,xValue:P},{point:{x:Y,y:J},size:f.size,itemId:"low",yValue:j,xValue:P}]},S=P=>{const G=P,{point:j}=G,Y=T_(G,["point"]);return De(pt({},Y),{point:De(pt({},j),{moveTo:!0})})},_=[],D=[],A={itemId:m,points:[]},T={itemId:m,points:[]},I={itemId:m,labelData:_,nodeData:D,fillData:T,strokeData:A,scales:An(TA.prototype,this,"calculateScaling").call(this),visible:this.visible},E=T.points,N=[],C=A.points,O=[];let w,H=-1/0,F=-1/0;return(i=this.processedData)==null||i.data.forEach(({keys:P,datum:G,values:j},Y)=>{const Q=n.resolveProcessedDataDefsValues(v,{keys:P,values:j}),{xValue:J,yHighValue:et,yLowValue:it}=Q,st=et==null||it==null?[]:x(J,et,it),nt=it>et;st.forEach(({point:{x:wt,y:Mt},size:pe,itemId:jt="",yValue:We})=>{D.push({index:Y,series:this,itemId:jt,datum:G,midPoint:{x:wt,y:Mt},yHighValue:et,yLowValue:it,xValue:J,xKey:u,yLowKey:d,yHighKey:p,point:{x:wt,y:Mt,size:pe}});const ge=this.createLabelData({point:{x:wt,y:Mt},value:We,yLowValue:it,yHighValue:et,itemId:jt,inverted:nt,datum:G,series:this});_.push(ge)});const ot=H!=null&&F!=null,dt=w!=null&&ot,gt=J!=null,rt=et!=null&&it!=null;let[kt,vt]=x(J,et??0,it??0);if(!g)if(rt){if(!ot){const[wt,Mt]=x(J,0,0);E.push(wt),N.push(Mt)}}else{const[wt,Mt]=x(w,0,0);E.push(wt),N.push(Mt)}gt&&rt&&(E.push(kt),N.push(vt)),gt&&rt&&!dt&&!g&&Y>0&&(kt=S(kt),vt=S(vt)),gt&&rt&&(C.push(kt),O.push(vt)),w=J,H=et,F=it}),E.length>0&&(E[0]=S(E[0])),E.push(...N.reverse()),O.length>0&&(O[0]=S(O[0])),C.push(...O),[I]})}createLabelData({point:t,value:i,itemId:s,inverted:n,datum:r,series:a}){const{xKey:o,yLowKey:l,yHighKey:c,xName:h,yName:u,yLowName:d,yHighName:p,label:g}=this.properties,{placement:f,padding:m=10}=g,y=n?s==="low"?"high":"low":s,v=f==="outside"&&y==="high"||f==="inside"&&y==="low"?-1:1;return{x:t.x,y:t.y+m*v,series:a,itemId:s,datum:r,text:this.getLabelText(g,{value:i,datum:r,itemId:s,xKey:o,yLowKey:l,yHighKey:c,xName:h,yLowName:d,yHighName:p,yName:u},x=>DF(x)?x.toFixed(2):String(x)),textAlign:"center",textBaseline:v===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,i=MF(t);return new i}updatePathNodes(t){return tt(this,null,function*(){const{opacity:i,visible:s}=t,[n,r]=t.paths,a=this.getStrokeWidth(this.properties.strokeWidth);r.setProperties({tag:By.Stroke,fill:void 0,lineJoin:r.lineCap="round",pointerEvents:zy.None,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:i,visible:s}),n.setProperties({tag:By.Fill,stroke:void 0,lineJoin:"round",pointerEvents:zy.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:a,opacity:i,visible:s}),mD(this,r),mD(this,n)})}updatePaths(t){return tt(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,i){this.updateFillPath(t,i),this.updateStrokePath(t,i)}updateFillPath(t,i){i.forEach(({fillData:s},n)=>{const[r]=t[n],{path:a}=r;a.clear({trackChanges:!0});for(const{point:o}of s.points)o.moveTo?a.moveTo(o.x,o.y):a.lineTo(o.x,o.y);a.closePath(),r.checkPathDirty()})}updateStrokePath(t,i){i.forEach(({strokeData:s},n)=>{const[,r]=t[n],{path:a}=r;a.clear({trackChanges:!0});for(const{point:o}of s.points)o.moveTo?a.moveTo(o.x,o.y):a.lineTo(o.x,o.y);r.checkPathDirty()})}updateMarkerSelection(t){return tt(this,null,function*(){const{nodeData:i,markerSelection:s}=t;return this.properties.marker.isDirty()&&(s.clear(),s.cleanup()),s.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(t){return tt(this,null,function*(){const{markerSelection:i,isHighlight:s}=t,{xKey:n,yLowKey:r,yHighKey:a,marker:o,fill:l,stroke:c,strokeWidth:h,fillOpacity:u,strokeOpacity:d}=this.properties,p=dF(s&&this.properties.highlightStyle.item,o.getStyle(),{fill:l,fillOpacity:u,stroke:c,strokeWidth:h,strokeOpacity:d});i.each((g,f)=>{this.updateMarkerStyle(g,o,{datum:f,highlighted:s,xKey:n,yHighKey:a,yLowKey:r},p)}),s||this.properties.marker.markClean()})}updateLabelSelection(t){return tt(this,null,function*(){const{labelData:i,labelSelection:s}=t;return s.update(i,n=>{n.tag=By.Label,n.pointerEvents=zy.None})})}updateLabelNodes(t){return tt(this,null,function*(){t.labelSelection.each((i,s)=>{pF(i,this.properties.label,s)})})}getHighlightLabelData(t,i){const s=t.filter(n=>n.datum===i.datum);return s.length>0?s:void 0}getHighlightData(t,i){const s=t.filter(n=>n.datum===i.datum);return s.length>0?s:void 0}getTooltipHtml(t){const i=this.axes[Mr.X],s=this.axes[Mr.Y];if(!this.properties.isValid()||!i||!s)return"";const{id:n}=this,{xKey:r,yLowKey:a,yHighKey:o,xName:l,yName:c,yLowName:h,yHighName:u,fill:d,tooltip:p}=this.properties,{datum:g,itemId:f,xValue:m,yLowValue:y,yHighValue:v}=t,x=d??"gray",S=La(i.formatDatum(m)),_=La(s.formatDatum(y)),D=La(s.formatDatum(v)),A=l??r,T=h??a,I=u??o,E=La(c),N=c?`<b>${La(A)}</b>: ${S}<br><b>${La(T)}</b>: ${_}<br><b>${La(I)}</b>: ${D}<br>`:`${S}: ${_} - ${D}`;return p.toTooltipHtml({title:E,content:N,backgroundColor:x},{seriesId:n,itemId:f,datum:g,xKey:r,yLowKey:a,yHighKey:o,xName:l,yLowName:h,yHighName:u,yName:c,color:x})}getLegendData(t){var i,s;if(t!=="category")return[];const{yLowKey:n,yHighKey:r,yName:a,yLowName:o,yHighName:l,fill:c,stroke:h,strokeWidth:u,strokeOpacity:d,lineDash:p,visible:g,marker:f}=this.properties,m=a??`${o??n} - ${l??r}`;return[{legendType:"category",id:this.id,itemId:`${n}-${r}`,seriesId:this.id,enabled:g,label:{text:`${m}`},marker:{shape:f.shape,fill:(i=f.fill)!=null?i:c,stroke:(s=f.stroke)!=null?s:h,fillOpacity:f.fillOpacity,strokeOpacity:f.strokeOpacity,strokeWidth:f.strokeWidth},line:{stroke:h,strokeOpacity:d,strokeWidth:u,lineDash:p}}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new _r._Scene.Group}animateEmptyUpdateReady(t){const{markerSelections:i,labelSelections:s,contextData:n,paths:r}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(r,n),yF(this,a,r.flat()),vF(i,fD),xF(this,a,i),bF(this,"labels",a,s)}animateReadyResize(t){const{contextData:i,paths:s}=t;this.updateAreaPaths(s,i),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{contextData:i,paths:s}=t;super.animateWaitingUpdateReady(t),this.updateAreaPaths(s,i)}};Gy.className="RangeAreaSeries",Gy.type="range-area";var EF=Gy,IF=(W(),V(z)),{CARTESIAN_AXIS_TYPES:yD,CARTESIAN_AXIS_POSITIONS:vD}=IF._Theme,NF={axes:[{type:yD.NUMBER,position:vD.LEFT,crosshair:{enabled:!0,snap:!1}},{type:yD.CATEGORY,position:vD.BOTTOM}]},Cd=(W(),V(z)),CF={__extends__:Cd._Theme.EXTENDS_SERIES_DEFAULTS,xKey:"",yLowKey:"",yHighKey:"",fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,fillOpacity:1,strokeWidth:2},label:{enabled:!1,placement:"outside",padding:10,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Cd._Theme.DEFAULT_FONT_FAMILY,color:Cd._Theme.DEFAULT_LABEL_COLOUR,__overrides__:Cd._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},{markerPaletteFactory:OF}=iF._ModuleSupport,RF={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",instanceConstructor:EF,seriesDefaults:NF,themeTemplate:CF,paletteFactory:e=>{const{marker:t}=OF(e);return{fill:t.fill,stroke:t.stroke,marker:t}}},Ta=(W(),V(z)),xD=(W(),V(z)),{DropShadow:wF,Label:PF}=xD._Scene,{AbstractBarSeriesProperties:FF,SeriesTooltip:BF,Validate:re,COLOR_STRING:bD,FUNCTION:zF,LINE_DASH:GF,OBJECT:Vy,PLACEMENT:VF,POSITIVE_NUMBER:Od,RATIO:SD,STRING:Ea}=xD._ModuleSupport,Wy=class extends PF{constructor(){super(...arguments),this.placement="inside",this.padding=6}};M([re(VF)],Wy.prototype,"placement",2),M([re(Od)],Wy.prototype,"padding",2);var he=class extends FF{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new wF().set({enabled:!1}),this.label=new Wy,this.tooltip=new BF}};M([re(Ea)],he.prototype,"xKey",2),M([re(Ea)],he.prototype,"yLowKey",2),M([re(Ea)],he.prototype,"yHighKey",2),M([re(Ea,{optional:!0})],he.prototype,"xName",2),M([re(Ea,{optional:!0})],he.prototype,"yName",2),M([re(Ea,{optional:!0})],he.prototype,"yLowName",2),M([re(Ea,{optional:!0})],he.prototype,"yHighName",2),M([re(bD)],he.prototype,"fill",2),M([re(SD)],he.prototype,"fillOpacity",2),M([re(bD)],he.prototype,"stroke",2),M([re(Od)],he.prototype,"strokeWidth",2),M([re(SD)],he.prototype,"strokeOpacity",2),M([re(GF)],he.prototype,"lineDash",2),M([re(Od)],he.prototype,"lineDashOffset",2),M([re(Od)],he.prototype,"cornerRadius",2),M([re(zF,{optional:!0})],he.prototype,"formatter",2),M([re(Vy)],he.prototype,"shadow",2),M([re(Vy)],he.prototype,"label",2),M([re(Vy)],he.prototype,"tooltip",2);var{SeriesNodePickMode:WF,valueProperty:_D,keyProperty:UF,ChartAxisDirection:$s,getRectConfig:YF,updateRect:HF,checkCrisp:jF,updateLabelNode:KF,CategoryAxis:XF,SMALLEST_KEY_INTERVAL:MD,diff:$F,prepareBarAnimationFunctions:kD,midpointStartingBarPosition:DD,resetBarSelectionsFn:qF,fixNumericExtent:Uy,seriesLabelFadeInAnimation:AD,resetLabelFn:ZF,animationValidation:QF}=Ta._ModuleSupport,{ContinuousScale:Yy,BandScale:JF,Rect:tB,PointerEvents:eB,motion:LD}=Ta._Scene,{sanitizeHtml:Ia,isNumber:TD,extent:iB}=Ta._Util,sB={[Ta._ModuleSupport.ChartAxisDirection.X]:["xKey"],[Ta._ModuleSupport.ChartAxisDirection.Y]:["yLowKey","yHighKey"]},nB={[$s.X]:["xName"],[$s.Y]:["yLowName","yHighName","yName"]},rB=class extends Ta._ModuleSupport.SeriesNodeClickEvent{constructor(e,t,i,s){super(e,t,i,s),this.xKey=s.properties.xKey,this.yLowKey=s.properties.yLowKey,this.yHighKey=s.properties.yHighKey}},Hy=class EA extends Ta._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[WF.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:sB,directionNames:nB,datumSelectionGarbageCollection:!1,animationResetFns:{datum:qF,label:ZF}}),this.properties=new he,this.NodeClickEvent=rB,this.groupScale=new JF,this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()===$s.X?t===$s.X?$s.Y:$s.X:t}processData(t){return tt(this,null,function*(){var i,s,n,r,a;if(!this.properties.isValid())return;const{xKey:o,yLowKey:l,yHighKey:c}=this.properties,h=Yy.is((i=this.getCategoryAxis())==null?void 0:i.scale),u=Yy.is((s=this.getValueAxis())==null?void 0:s.scale),d=[];this.ctx.animationManager.isSkipped()||(this.processedData&&d.push($F(this.processedData)),d.push(QF(this)));const{processedData:p}=yield this.requestDataModel(t,(n=this.data)!=null?n:[],{props:[UF(this,o,h,{id:"xValue"}),_D(this,l,u,{id:"yLowValue"}),_D(this,c,u,{id:"yHighValue"}),...h?[MD]:[],...d],groupByKeys:!0,dataVisible:this.visible});this.smallestDataInterval={x:(a=(r=p.reduced)==null?void 0:r.smallestKeyInterval)!=null?a:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var i;const{processedData:s,dataModel:n}=this;if(!(s&&n))return[];const{domain:{keys:[r],values:a}}=s;if(t===this.getCategoryDirection()){const o=n.resolveProcessedDataDefById(this,"xValue");if(o?.def.type==="key"&&o?.def.valueType==="category")return r;const{reduced:{[MD.property]:l}={}}=s,c=l!=null&&isFinite(l)?l:0,h=(i=iB(r))!=null?i:[NaN,NaN],u=this.getCategoryAxis(),d=u?.isReversed();if(t===$s.Y){const f=h[0]+(d?0:-c),m=h[1]+(d?c:0);return Uy([f,m],u)}const p=h[0]+(d?-c:0),g=h[1]+(d?0:c);return Uy([p,g],u)}else{const o=n.resolveProcessedDataIndexById(this,"yLowValue").index,l=a[o],c=n.resolveProcessedDataIndexById(this,"yHighValue").index,h=a[c],u=[l[0]>h[0]?h[0]:l[0],h[1]<l[1]?l[1]:h[1]];return Uy(u)}}createNodeData(){return tt(this,null,function*(){const{data:t,dataModel:i,groupScale:s,processedData:n,smallestDataInterval:r,ctx:{seriesStateManager:a},properties:{visible:o}}=this,l=this.getCategoryAxis(),c=this.getValueAxis();if(!(t&&o&&l&&c&&i))return[];const h=l.scale,u=c.scale,d=this.getBarDirection()===$s.X,{xKey:p,yLowKey:g,yHighKey:f,fill:m,stroke:y,strokeWidth:v}=this.properties,x=`${g}-${f}`,S=[],_=[],{index:D,visibleGroupCount:A}=a.getVisiblePeerGroupIndex(this);for(let O=0;O<A;O++)_.push(String(O));const T=Yy.is(h)?h.calcBandwidth(r?.x):h.bandwidth;s.domain=_,s.range=[0,T??0],l instanceof XF?s.paddingInner=l.groupPaddingInner:s.padding=0,s.round=s.padding!==0;const I=s.bandwidth>=1?s.bandwidth:s.rawBandwidth,E=i.resolveProcessedDataIndexById(this,"yLowValue").index,N=i.resolveProcessedDataIndexById(this,"yHighValue").index,C=i.resolveProcessedDataIndexById(this,"xValue").index;return n?.data.forEach(({keys:O,datum:w,values:H},F)=>{H.forEach((P,G)=>{var j;(j=S[G])!=null||(S[G]={itemId:x,nodeData:[],labelData:[],scales:An(EA.prototype,this,"calculateScaling").call(this),visible:this.visible});const Y=O[C],Q=Math.round(h.convert(Y))+s.convert(String(D)),J=P[E],et=P[N],it=Math.min(J,et),U=Math.max(J,et),st=Math.round(u.convert(it)),ot=Math.round(u.convert(U)),dt=st,gt=Math.max(v,Math.abs(dt-ot)),rt={x:d?Math.min(ot,dt):Q,y:d?Q:Math.min(ot,dt),width:d?gt:I,height:d?I:gt},kt={x:rt.x+rt.width/2,y:rt.y+rt.height/2},vt=this.createLabelData({rect:rt,barAlongX:d,yLowValue:it,yHighValue:U,datum:w[G],series:this}),de={index:F,series:this,itemId:x,datum:w[G],xValue:Y,yLowValue:J,yHighValue:et,yLowKey:g,yHighKey:f,xKey:p,x:rt.x,y:rt.y,width:rt.width,height:rt.height,midPoint:kt,fill:m,stroke:y,strokeWidth:v,labels:vt};S[G].nodeData.push(de),S[G].labelData.push(...vt)})}),S})}createLabelData({rect:t,barAlongX:i,yLowValue:s,yHighValue:n,datum:r,series:a}){const{xKey:o,yLowKey:l,yHighKey:c,xName:h,yLowName:u,yHighName:d,yName:p,label:g}=this.properties,f={datum:r,xKey:o,yLowKey:l,yHighKey:c,xName:h,yLowName:u,yHighName:d,yName:p},{placement:m,padding:y}=g,x=y*(m==="outside"?1:-1),S={x:t.x+(i?-x:t.width/2),y:t.y+(i?t.height/2:t.height+x),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(g,pt({itemId:"low",value:s},f),D=>TD(D)?D.toFixed(2):""),itemId:"low",datum:r,series:a},_={x:t.x+(i?t.width+x:t.width/2),y:t.y+(i?t.height/2:-x),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(g,pt({itemId:"high",value:n},f),D=>TD(D)?D.toFixed(2):""),itemId:"high",datum:r,series:a};return m==="outside"&&(S.textAlign=i?"right":"center",S.textBaseline=i?"middle":"top",_.textAlign=i?"left":"center",_.textBaseline=i?"middle":"bottom"),[S,_]}nodeFactory(){return new tB}updateDatumSelection(t){return tt(this,null,function*(){const{nodeData:i,datumSelection:s}=t,n=i??[];return s.update(n,void 0,r=>this.getDatumId(r))})}updateDatumNodes(t){return tt(this,null,function*(){const{datumSelection:i,isHighlight:s}=t,{id:n,ctx:r}=this,{yLowKey:a,yHighKey:o,highlightStyle:{item:l}}=this.properties,c=this.axes[$s.X],h=jF(c?.visibleRange),u=this.getCategoryDirection()===$s.X;i.each((d,p)=>{const{fillOpacity:g,strokeOpacity:f,strokeWidth:m,lineDash:y,lineDashOffset:v,formatter:x,shadow:S}=this.properties,_={fill:p.fill,stroke:p.stroke,fillOpacity:g,strokeOpacity:f,lineDash:y,lineDashOffset:v,fillShadow:S,strokeWidth:this.getStrokeWidth(m),cornerRadius:this.properties.cornerRadius,cornerRadiusBbox:void 0},D=u?p.width>0:p.height>0,A=YF({datum:p,lowValue:p.yLowValue,highValue:p.yHighValue,isHighlighted:s,style:_,highlightStyle:l,formatter:x,seriesId:n,itemId:p.itemId,ctx:r,yLowKey:a,yHighKey:o});A.crisp=h,A.visible=D,HF({rect:d,config:A})})})}getHighlightLabelData(t,i){const s=t.filter(n=>n.datum===i.datum);return s.length>0?s:void 0}updateLabelSelection(t){return tt(this,null,function*(){const i=this.properties.label.enabled?t.labelData:[];return t.labelSelection.update(i,s=>{s.pointerEvents=eB.None})})}updateLabelNodes(t){return tt(this,null,function*(){t.labelSelection.each((i,s)=>{KF(i,this.properties.label,s)})})}getTooltipHtml(t){var i,s;const{id:n,ctx:{callbackCache:r}}=this,a=this.getCategoryAxis(),o=this.getValueAxis();if(!this.properties.isValid()||!a||!o)return"";const{xKey:l,yLowKey:c,yHighKey:h,xName:u,yLowName:d,yHighName:p,yName:g,fill:f,strokeWidth:m,formatter:y,tooltip:v}=this.properties,{datum:x,itemId:S,xValue:_,yLowValue:D,yHighValue:A}=t;let T;y&&(T=r.call(y,{datum:x,xKey:l,yLowKey:c,yHighKey:h,fill:f,strokeWidth:m,highlighted:!1,seriesId:n,itemId:S}));const I=(s=(i=T?.fill)!=null?i:f)!=null?s:"gray",E=Ia(a.formatDatum(_)),N=Ia(o.formatDatum(D)),C=Ia(o.formatDatum(A)),O=u??l,w=d??c,H=p??h,F=Ia(g),P=g?`<b>${Ia(O)}</b>: ${E}<br><b>${Ia(w)}</b>: ${N}<br><b>${Ia(H)}</b>: ${C}<br>`:`${E}: ${N} - ${C}`,G={title:F,content:P,backgroundColor:I};return v.toTooltipHtml(G,{datum:x,xKey:l,xName:u,yLowKey:c,yLowName:d,yHighKey:h,yHighName:p,yName:g,color:I,seriesId:n,itemId:S})}getLegendData(t){const{id:i,visible:s}=this;if(t!=="category")return[];const{fill:n,stroke:r,strokeWidth:a,fillOpacity:o,strokeOpacity:l,yName:c,yLowName:h,yHighName:u,yLowKey:d,yHighKey:p}=this.properties,g=c??`${h??d} - ${u??p}`;return[{legendType:"category",id:i,itemId:`${d}-${p}`,seriesId:i,enabled:s,label:{text:`${g}`},marker:{fill:n,stroke:r,fillOpacity:o,strokeOpacity:l,strokeWidth:a}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:i}){const s=kD(DD(this.isVertical()));LD.fromToMotion(this.id,"datums",this.ctx.animationManager,t,s),AD(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){var i;const{datumSelections:s,labelSelections:n}=t,{processedData:r}=this,a=(i=r?.reduced)==null?void 0:i.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const o=kD(DD(this.isVertical()));LD.fromToMotion(this.id,"datums",this.ctx.animationManager,s,o,(l,c)=>String(c.xValue),a),AD(this,"labels",this.ctx.animationManager,n)}getDatumId(t){return`${t.xValue}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}};Hy.className="RangeBarSeries",Hy.type="range-bar";var aB=Hy,oB=(W(),V(z)),{CARTESIAN_AXIS_TYPES:ED,CARTESIAN_AXIS_POSITIONS:ID}=oB._Theme,lB={axes:[{type:ED.CATEGORY,position:ID.BOTTOM},{type:ED.NUMBER,position:ID.LEFT,crosshair:{enabled:!0,snap:!1}}]},Rd=(W(),V(z)),cB={__extends__:Rd._Theme.EXTENDS_SERIES_DEFAULTS,xKey:"",yLowKey:"",yHighKey:"",strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Rd._Theme.DEFAULT_FONT_FAMILY,color:Rd._Theme.DEFAULT_INSIDE_SERIES_LABEL_COLOUR,formatter:void 0,placement:"inside",__overrides__:Rd._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},hB={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",instanceConstructor:aB,seriesDefaults:lB,themeTemplate:cB,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},groupable:!0,swapDefaultAxesCondition:({direction:e})=>e==="horizontal"},ND=(W(),V(z)),wd=(W(),V(z)),uB=(W(),V(z)),{HierarchySeriesProperties:dB,HighlightStyle:pB,SeriesTooltip:gB,Validate:ue,COLOR_STRING:fB,FUNCTION:mB,NUMBER:CD,OBJECT:Ho,POSITIVE_NUMBER:OD,RATIO:Pd,STRING:Fd}=uB._ModuleSupport,kr=class extends pB{constructor(){super(...arguments),this.label=new _s,this.secondaryLabel=new _s}};M([ue(Fd,{optional:!0})],kr.prototype,"fill",2),M([ue(Pd,{optional:!0})],kr.prototype,"fillOpacity",2),M([ue(fB,{optional:!0})],kr.prototype,"stroke",2),M([ue(OD,{optional:!0})],kr.prototype,"strokeWidth",2),M([ue(Pd,{optional:!0})],kr.prototype,"strokeOpacity",2),M([ue(Ho)],kr.prototype,"label",2),M([ue(Ho)],kr.prototype,"secondaryLabel",2);var bi=class extends dB{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.highlightStyle=new kr,this.label=new _s,this.secondaryLabel=new Dd,this.tooltip=new gB}};M([ue(Fd,{optional:!0})],bi.prototype,"sizeName",2),M([ue(Fd,{optional:!0})],bi.prototype,"labelKey",2),M([ue(Fd,{optional:!0})],bi.prototype,"secondaryLabelKey",2),M([ue(Pd)],bi.prototype,"fillOpacity",2),M([ue(OD)],bi.prototype,"strokeWidth",2),M([ue(Pd)],bi.prototype,"strokeOpacity",2),M([ue(CD,{optional:!0})],bi.prototype,"sectorSpacing",2),M([ue(CD,{optional:!0})],bi.prototype,"padding",2),M([ue(mB,{optional:!0})],bi.prototype,"formatter",2),M([ue(Ho)],bi.prototype,"highlightStyle",2),M([ue(Ho)],bi.prototype,"label",2),M([ue(Ho)],bi.prototype,"secondaryLabel",2),M([ue(Ho)],bi.prototype,"tooltip",2);var{fromToMotion:yB}=wd._ModuleSupport,{Sector:jy,Group:RD,Selection:wD,Text:Oc}=wd._Scene,{sanitizeHtml:Ky}=wd._Util,PD=(e,t=0,i=2*Math.PI/e.sumSize,s=Array.from(e,()=>{}))=>{let n=t;for(const r of e.children){const a=n,o=n+r.sumSize*i;s[r.index]={start:a,end:o},PD(r,a,i,s),n=o}return s},Xy=class IA extends wd._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.properties=new bi,this.groupSelection=wD.select(this.contentGroup,RD),this.highlightSelection=wD.select(this.highlightGroup,RD),this.angleData=[]}processData(){return tt(this,null,function*(){const{childrenKey:t,colorKey:i,colorName:s,labelKey:n,secondaryLabelKey:r,sizeKey:a,sizeName:o}=this.properties;An(IA.prototype,this,"processData").call(this),this.angleData=PD(this.rootNode);const l=c=>typeof c=="number"?c.toFixed(2):typeof c=="string"?c:"";this.labelData=Array.from(this.rootNode,({datum:c,depth:h})=>{let u;if(c!=null&&h!=null&&n!=null){const p=c[n];u=this.getLabelText(this.properties.label,{depth:h,datum:c,childrenKey:t,colorKey:i,colorName:s,labelKey:n,secondaryLabelKey:r,sizeKey:a,sizeName:o,value:p},l)}u===""&&(u=void 0);let d;if(c!=null&&h!=null&&r!=null){const p=c[r];d=this.getLabelText(this.properties.secondaryLabel,{depth:h,datum:c,childrenKey:t,colorKey:i,colorName:s,labelKey:n,secondaryLabelKey:r,sizeKey:a,sizeName:o,value:p},l)}return d===""&&(d=void 0),u!=null||d!=null?{label:u,secondaryLabel:d}:void 0})})}updateSelections(){return tt(this,null,function*(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:t}=this;if(t==null||t.seriesRect==null)return;const s=Array.from(this.rootNode),n=r=>{r.append([new jy,new Oc({tag:0}),new Oc({tag:1})])};this.groupSelection.update(s,n,r=>this.getDatumId(r)),this.highlightSelection.update(s,n,r=>this.getDatumId(r))})}updateNodes(){return tt(this,null,function*(){var t;const{chart:i,data:s,maxDepth:n,labelData:r}=this;if(i==null||s==null||r==null)return;const{width:a,height:o}=i.seriesRect,{sectorSpacing:l=0,padding:c=0,highlightStyle:h}=this.properties;this.contentGroup.translationX=a/2,this.contentGroup.translationY=o/2,this.highlightGroup.translationX=a/2,this.highlightGroup.translationY=o/2;const u=l*.5,p=Math.min(a,o)/2/(n+1),g=-Math.PI/2,f=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight();new Oc().setFont(this.properties.label),this.rootNode.walk(S=>{const _=this.angleData[S.index];if(S.depth!=null&&_!=null){const D=_.end-_.start,A=(S.depth+.5)*p;S.midPoint.x=Math.cos(D)*A,S.midPoint.y=Math.sin(D)*A}});const y=(S,_,D)=>{var A,T,I,E,N,C,O,w,H,F;const{depth:P}=S,G=this.angleData[S.index];if(P==null||G==null){_.visible=!1;return}_.visible=!0;let j,Y,Q,J,et;D&&(j=h.fill,Y=h.fillOpacity,Q=h.stroke,J=h.strokeWidth,et=h.strokeOpacity);const it=this.getSectorFormat(S,D),U=(T=(A=it?.fill)!=null?A:j)!=null?T:S.fill,st=(E=(I=it?.fillOpacity)!=null?I:Y)!=null?E:this.properties.fillOpacity,nt=(C=(N=it?.stroke)!=null?N:Q)!=null?C:S.stroke,ot=(w=(O=it?.strokeWidth)!=null?O:J)!=null?w:this.properties.strokeWidth,dt=(F=(H=it?.strokeOpacity)!=null?H:et)!=null?F:this.properties.strokeOpacity;_.fill=U,_.fillOpacity=st,_.stroke=nt,_.strokeWidth=ot,_.strokeOpacity=dt,_.centerX=0,_.centerY=0,_.innerRadius=P*p,_.outerRadius=(P+1)*p,_.angleOffset=g,_.startAngle=G.start,_.endAngle=G.end,_.inset=u+ot*.5};this.groupSelection.selectByClass(jy).forEach(S=>{y(S.datum,S,!1)}),this.highlightSelection.selectByClass(jy).forEach(S=>{const _=S.datum,D=f===_;S.visible=D,S.visible&&y(S.datum,S,D)});const v=Array.from(this.rootNode,(S,_)=>{const{depth:D}=S,A=r[_],T=this.angleData[_];if(D==null||T==null)return;const I=D*p+u,E=(D+1)*p-u,N=I>u?u/I:u,C=E>u?u/E:u,O=T.start+N,H=T.end+N-O,F=T.start+C,G=T.end+C-F,j=rt=>{var kt;if(D===0&&((kt=S.parent)==null?void 0:kt.sumSize)===S.sumSize)return{width:2*Math.sqrt(Rt(E,2)-Rt(rt*.5,2)),height:rt,meta:0};const de=rt,wt=2*Math.sqrt(Rt(E,2)-Rt(I+de,2)),Mt=H<Math.PI?2*I*Math.tan(H*.5):1/0,pe=Math.min(wt,Mt);let jt,We;return D===0?(jt=rt,We=Math.sqrt(Rt(E,2)-Rt(jt/2,2))-rt/(2*Math.tan(G*.5))):(jt=2*I*Math.tan(H*.5),We=Math.sqrt(Rt(E,2)-Rt(jt/2,2))-I),pe>=We?{width:pe,height:de,meta:1}:{width:We,height:jt,meta:2}},Y=Sy(A?.label,this.properties.label,A?.secondaryLabel,this.properties.secondaryLabel,{padding:c},j);if(Y==null)return;const{width:Q,height:J,meta:et,label:it,secondaryLabel:U}=Y,st=g+(T.start+T.end)/2,nt=Math.sin(st)>=0,ot=Math.cos(st)>=0,dt=(nt?3:12)&(ot?6:9);let gt;switch(et){case 0:gt=0;break;case 1:{const kt=E-(p-J)*.58,vt=Math.sqrt(Rt(E-c,2)-Rt(Q/2,2));gt=Math.min(kt,vt);break}case 2:if(D===0){const rt=J/(2*Math.tan(H*.5))+Q*.5,kt=Math.sqrt(Rt(E,2)-Rt(J*.5,2))-Q*.5;gt=(rt+kt)*.5}else gt=(I+E)*.5;break}return{width:Q,height:J,labelPlacement:et,circleQuarter:dt,radius:gt,theta:st,label:it,secondaryLabel:U}}),x=(S,_,D,A)=>{const{index:T,depth:I}=S,E=v?.[T],N=D===0?this.properties.label:this.properties.secondaryLabel,C=D===0?E?.label:E?.secondaryLabel;if(I==null||E==null||C==null){_.visible=!1;return}const{height:O,labelPlacement:w,circleQuarter:H,radius:F,theta:P}=E;let G;switch(A&&(G=(D===0?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),_.text=C.text,_.fontSize=C.fontSize,_.lineHeight=C.lineHeight,_.fontStyle=N.fontStyle,_.fontFamily=N.fontFamily,_.fontWeight=N.fontWeight,_.fill=G??N.color,w){case 0:_.textAlign="center",_.textBaseline="top",_.translationX=0,_.translationY=(D===0?0:O-C.height)-O*.5,_.rotation=0;break;case 1:{const j=(H&3)!==0,Y=D===0==!j?F:F-(O-C.height);_.textAlign="center",_.textBaseline=j?"bottom":"top",_.translationX=Math.cos(P)*Y,_.translationY=Math.sin(P)*Y,_.rotation=j?P-Math.PI*.5:P+Math.PI*.5;break}case 2:{const j=(H&6)!==0,Y=D===0==!j?(O-C.height)*.5:(C.height-O)*.5;_.textAlign="center",_.textBaseline="middle",_.translationX=Math.cos(P)*F+Math.cos(P+Math.PI/2)*Y,_.translationY=Math.sin(P)*F+Math.sin(P+Math.PI/2)*Y,_.rotation=j?P:P+Math.PI;break}}_.visible=!0};this.groupSelection.selectByClass(Oc).forEach(S=>{x(S.datum,S,S.tag,!1)}),this.highlightSelection.selectByClass(Oc).forEach(S=>{const _=S.datum,D=f===_;S.visible=D,S.visible&&x(S.datum,S,S.tag,D)})})}getSectorFormat(t,i){const{datum:s,fill:n,stroke:r,depth:a}=t,{ctx:{callbackCache:o},properties:{formatter:l}}=this;if(!l||s==null||a==null)return{};const{colorKey:c,labelKey:h,sizeKey:u,strokeWidth:d}=this.properties,p=o.call(l,{seriesId:this.id,depth:a,datum:s,colorKey:c,labelKey:h,sizeKey:u,fill:n,stroke:r,strokeWidth:d,highlighted:i});return p??{}}getTooltipHtml(t){var i;const{id:s}=this,{tooltip:n,colorKey:r,colorName:a=r,labelKey:o,secondaryLabelKey:l,sizeKey:c,sizeName:h=c}=this.properties,{datum:u,depth:d}=t;if(u==null||d==null)return"";const p=o!=null?u[o]:void 0,g=this.getSectorFormat(t,!1),f=(i=g?.fill)!=null?i:t.fill;if(!n.renderer&&!p)return"";const m=[],y=l!=null?u[l]:void 0;y!=null&&l!==r&&l!==c&&m.push(Ky(y));const v=c!=null?u[c]:void 0;v!=null&&m.push(`${h}: ${Ky(v)}`);const x=r!=null?u[r]:void 0;x!=null&&m.push(`${a}: ${Ky(x)}`);const S=m.join("<br>"),_={title:p,color:this.properties.label.color,backgroundColor:f,content:S};return n.toTooltipHtml(_,{depth:d,datum:u,colorKey:r,labelKey:o,secondaryLabelKey:l,sizeKey:c,title:p,color:f,seriesId:s})}createNodeData(){return tt(this,null,function*(){return[]})}animateEmptyUpdateReady({datumSelections:t}){yB(this.id,"nodes",this.ctx.animationManager,t,{toFn(i,s,n){return{scalingX:1,scalingY:1}},fromFn(i,s,n){return n==="unknown"&&s!=null&&i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}})}};Xy.className="SunburstSeries",Xy.type="sunburst";var vB=Xy,{EXTENDS_SERIES_DEFAULTS:xB,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:Bd}=ND._Theme,bB={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",instanceConstructor:vB,seriesDefaults:{gradientLegend:{enabled:!0}},solo:!0,themeTemplate:{__extends__:xB,label:{fontSize:14,minimumFontSize:9,color:Bd,overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontSize:8,minimumFontSize:7,color:Bd,overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:Bd},secondaryLabel:{color:Bd},stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{const{properties:s}=i,{fills:n,strokes:r}=e(t),a=s.get(ND._Theme.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE);return{fills:n,strokes:r,colorRange:a}}},SB=(W(),V(z)),$y=(W(),V(z)),FD=(W(),V(z)),{Label:_B}=FD._Scene,{BaseProperties:zd,HierarchySeriesProperties:MB,HighlightStyle:kB,SeriesTooltip:DB,Validate:lt,BOOLEAN:AB,COLOR_STRING:Gd,FUNCTION:LB,NUMBER:TB,OBJECT:ts,POSITIVE_NUMBER:Dr,RATIO:Ar,STRING:Na,STRING_ARRAY:BD,TEXT_ALIGN:zD,VERTICAL_ALIGN:EB}=FD._ModuleSupport,GD=class extends _B{constructor(){super(...arguments),this.spacing=0}};M([lt(TB)],GD.prototype,"spacing",2);var ks=class extends zd{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new GD}};M([lt(Na,{optional:!0})],ks.prototype,"fill",2),M([lt(Ar)],ks.prototype,"fillOpacity",2),M([lt(Gd,{optional:!0})],ks.prototype,"stroke",2),M([lt(Dr)],ks.prototype,"strokeWidth",2),M([lt(Ar)],ks.prototype,"strokeOpacity",2),M([lt(zD)],ks.prototype,"textAlign",2),M([lt(Dr)],ks.prototype,"gap",2),M([lt(Dr)],ks.prototype,"padding",2),M([lt(AB)],ks.prototype,"interactive",2),M([lt(ts)],ks.prototype,"label",2);var es=class extends zd{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new _s,this.secondaryLabel=new Dd}};M([lt(Na,{optional:!0})],es.prototype,"fill",2),M([lt(Ar)],es.prototype,"fillOpacity",2),M([lt(Gd,{optional:!0})],es.prototype,"stroke",2),M([lt(Dr,{optional:!0})],es.prototype,"strokeWidth",2),M([lt(Ar)],es.prototype,"strokeOpacity",2),M([lt(zD)],es.prototype,"textAlign",2),M([lt(EB)],es.prototype,"verticalAlign",2),M([lt(Dr)],es.prototype,"gap",2),M([lt(Dr)],es.prototype,"padding",2),M([lt(ts)],es.prototype,"label",2),M([lt(ts)],es.prototype,"secondaryLabel",2);var Ca=class extends zd{constructor(){super(...arguments),this.label=new _s}};M([lt(Na,{optional:!0})],Ca.prototype,"fill",2),M([lt(Ar,{optional:!0})],Ca.prototype,"fillOpacity",2),M([lt(Gd,{optional:!0})],Ca.prototype,"stroke",2),M([lt(Dr,{optional:!0})],Ca.prototype,"strokeWidth",2),M([lt(Ar,{optional:!0})],Ca.prototype,"strokeOpacity",2),M([lt(ts)],Ca.prototype,"label",2);var Lr=class extends zd{constructor(){super(...arguments),this.label=new _s,this.secondaryLabel=new Dd}};M([lt(Na,{optional:!0})],Lr.prototype,"fill",2),M([lt(Ar,{optional:!0})],Lr.prototype,"fillOpacity",2),M([lt(Gd,{optional:!0})],Lr.prototype,"stroke",2),M([lt(Dr,{optional:!0})],Lr.prototype,"strokeWidth",2),M([lt(Ar,{optional:!0})],Lr.prototype,"strokeOpacity",2),M([lt(ts)],Lr.prototype,"label",2),M([lt(ts)],Lr.prototype,"secondaryLabel",2);var qy=class extends kB{constructor(){super(...arguments),this.group=new Ca,this.tile=new Lr}};M([lt(ts)],qy.prototype,"group",2),M([lt(ts)],qy.prototype,"tile",2);var Ds=class extends MB{constructor(){super(...arguments),this.highlightStyle=new qy,this.tooltip=new DB,this.group=new ks,this.tile=new es,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};M([lt(Na,{optional:!0})],Ds.prototype,"sizeName",2),M([lt(Na,{optional:!0})],Ds.prototype,"labelKey",2),M([lt(Na,{optional:!0})],Ds.prototype,"secondaryLabelKey",2),M([lt(LB,{optional:!0})],Ds.prototype,"formatter",2),M([lt(ts)],Ds.prototype,"highlightStyle",2),M([lt(ts)],Ds.prototype,"tooltip",2),M([lt(ts)],Ds.prototype,"group",2),M([lt(ts)],Ds.prototype,"tile",2),M([lt(BD)],Ds.prototype,"undocumentedGroupFills",2),M([lt(BD)],Ds.prototype,"undocumentedGroupStrokes",2);var{Rect:Zy,Group:VD,BBox:Vd,Selection:WD,Text:jo}=$y._Scene,{Color:IB,Logger:NB,isEqual:CB,sanitizeHtml:Qy}=$y._Util,UD=new jo;function OB(e,t){const{fontStyle:i,fontWeight:s,fontSize:n,fontFamily:r}=t;UD.setProperties({text:e,fontStyle:i,fontWeight:s,fontSize:n,fontFamily:r,textAlign:"left",textBaseline:"top"});const{width:a,height:o}=UD.computeBBox();return{width:a,height:o}}function YD(e){if(typeof e=="string"&&!IB.validColorString(e)){const t="black";return NB.warnOnce(`invalid Treemap tile colour string "${e}". Affected treemap tiles will be coloured ${t}.`),t}return e}function Tr(e){return e.children.length>0?e.sumSize-e.size:e.size}var HD={left:0,center:.5,right:1},RB={top:0,middle:.5,bottom:1},Jy=class NA extends $y._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.properties=new Ds,this.groupSelection=WD.select(this.contentGroup,VD),this.highlightSelection=WD.select(this.highlightGroup,VD)}groupTitleHeight(t,i){var s,n;const r=(n=(s=this.labelData)==null?void 0:s[t.index])==null?void 0:n.label,{label:a}=this.properties.group,o=3;if(r!=null){if(a.fontSize>i.width/o||a.fontSize>i.height/o)return;{const{height:l}=OB(r,a);return Math.max(l,a.fontSize)}}}getNodePadding(t,i){if(t.index===0)return{top:0,right:0,bottom:0,left:0};if(t.children.length===0){const{padding:o}=this.properties.tile;return{top:o,right:o,bottom:o,left:o}}const{label:{spacing:s},padding:n}=this.properties.group,r=this.groupTitleHeight(t,i),a=r!=null?r+s:0;return{top:n+a,right:n,bottom:n,left:n}}processData(){return tt(this,null,function*(){var t;yield An(NA.prototype,this,"processData").call(this);const{childrenKey:i,colorKey:s,colorName:n,labelKey:r,secondaryLabelKey:a,sizeKey:o,sizeName:l,tile:c,group:h}=this.properties;if(!((t=this.data)!=null&&t.length)){this.labelData=void 0;return}const u=d=>typeof d=="number"?d.toFixed(2):typeof d=="string"?d:"";this.labelData=Array.from(this.rootNode,({datum:d,depth:p,children:g})=>{const f=g.length===0,m=f?c.label:h.label;let y;if(d!=null&&p!=null&&r!=null){const x=d[r];y=this.getLabelText(m,{depth:p,datum:d,childrenKey:i,colorKey:s,colorName:n,labelKey:r,secondaryLabelKey:a,sizeKey:o,sizeName:l,value:x},u)}y===""&&(y=void 0);let v;if(f&&d!=null&&p!=null&&a!=null){const x=d[a];v=this.getLabelText(c.secondaryLabel,{depth:p,datum:d,childrenKey:i,colorKey:s,colorName:n,labelKey:r,secondaryLabelKey:a,sizeKey:o,sizeName:l,value:x},u)}return v===""&&(v=void 0),y!=null||v!=null?{label:y,secondaryLabel:v}:void 0})})}squarify(t,i,s){const{index:n,datum:r,children:a}=t;if(i.width<=0||i.height<=0){s[n]=void 0;return}s[n]=n!==0?i:void 0;const o=Array.from(a,(A,T)=>T).filter(A=>Tr(a[A])>0).sort((A,T)=>Tr(a[T])-Tr(a[A])),l=A=>{const T=o[A];return a[T]},c=o.every(A=>l(A).children.length===0),h=1,u=r!=null?this.getNodePadding(t,i):{top:0,right:0,bottom:0,left:0},d=i.width-u.left-u.right,p=i.height-u.top-u.bottom;if(d<=0||p<=0)return;const g=o.length;let f=0,m=0,y=1/0,v=o.reduce((A,T)=>A+Tr(a[T]),0);const x=new Vd(i.x+u.left,i.y+u.top,d,p),S=x.clone();for(let A=0;A<g;A++){const T=Tr(l(A)),I=Tr(l(m)),E=S.width<S.height;f+=T;const N=E?S.height:S.width,C=E?S.width:S.height,O=C*I/f;let w=N*f/v;const H=Math.max(O,w)/Math.min(O,w),F=Math.abs(h-H);if(F<y){y=F;continue}f-=T,w=N*f/v;let P=E?S.x:S.y;for(let G=m;G<A;G++){const j=l(G),Y=Tr(j),Q=E?P:S.x,J=E?S.y:P,et=C*Y/f,it=E?et:w,U=E?w:et,st=new Vd(Q,J,it,U);this.applyGap(x,st,c),this.squarify(j,st,s),v-=Y,P+=et}E?(S.y+=w,S.height-=w):(S.x+=w,S.width-=w),m=A,f=0,y=1/0,A--}const _=S.width<S.height;let D=_?S.x:S.y;for(let A=m;A<g;A++){const T=l(A),I=_?D:S.x,E=_?S.y:D,N=Tr(T)/v,C=S.width*(_?N:1),O=S.height*(_?1:N),w=new Vd(I,E,C,O);this.applyGap(x,w,c),this.squarify(T,w,s),D+=_?C:O}}applyGap(t,i,s){const n=s?this.properties.tile.gap*.5:this.properties.group.gap*.5,r=c=>({left:c.x,top:c.y,right:c.x+c.width,bottom:c.y+c.height}),a=r(t),o=r(i);["top","right","bottom","left"].forEach(c=>{CB(a[c],o[c])||i.shrink(n,c)})}createNodeData(){return tt(this,null,function*(){return[]})}updateSelections(){return tt(this,null,function*(){var t;if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:i}=(t=this.chart)!=null?t:{};if(!i)return;const s=Array.from(this.rootNode),n=r=>{r.append([new Zy,new jo({tag:0}),new jo({tag:1})])};this.groupSelection.update(s,n,r=>this.getDatumId(r)),this.highlightSelection.update(s,n,r=>this.getDatumId(r))})}getTileFormat(t,i){var s,n;const{datum:r,depth:a,children:o}=t,{colorKey:l,labelKey:c,secondaryLabelKey:h,sizeKey:u,tile:d,group:p,formatter:g}=this.properties;if(!g||r==null||a==null)return{};const f=o.length===0,m=(s=f?d.fill:p.fill)!=null?s:t.fill,y=(n=f?d.stroke:p.stroke)!=null?n:t.stroke,v=f?d.strokeWidth:p.strokeWidth,x=this.ctx.callbackCache.call(g,{seriesId:this.id,depth:a,datum:r,colorKey:l,labelKey:c,secondaryLabelKey:h,sizeKey:u,fill:m,stroke:y,strokeWidth:v,highlighted:i});return x??{}}getNodeFill(t){var i,s,n;if(t.children.length===0)return(i=this.properties.tile.fill)!=null?i:t.fill;const{undocumentedGroupFills:a}=this.properties,o=a[Math.min((s=t.depth)!=null?s:0,a.length)];return(n=this.properties.group.fill)!=null?n:o}getNodeStroke(t){var i,s,n;if(t.children.length===0)return(i=this.properties.tile.stroke)!=null?i:t.stroke;const{undocumentedGroupStrokes:a}=this.properties,o=a[Math.min((s=t.depth)!=null?s:0,a.length)];return(n=this.properties.group.stroke)!=null?n:o}updateNodes(){return tt(this,null,function*(){var t,i;const{rootNode:s,data:n}=this,{highlightStyle:r,tile:a,group:o}=this.properties,{seriesRect:l}=(t=this.chart)!=null?t:{};if(!l||!n)return;const{width:c,height:h}=l,u=Array.from(this.rootNode,()=>{});this.squarify(s,new Vd(0,0,c,h),u);let d=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();d!=null&&!this.properties.group.interactive&&d.children.length!==0&&(d=void 0),this.updateNodeMidPoint(u);const p=(m,y,v)=>{var x,S,_,D,A,T,I,E,N,C;const O=u[m.index];if(O==null){y.visible=!1;return}const w=m.children.length===0;let H,F,P,G,j;if(v){const{tile:st,group:nt}=r;H=w?st.fill:nt.fill,F=w?st.fillOpacity:nt.fillOpacity,P=w?st.stroke:nt.stroke,G=w?st.strokeWidth:nt.strokeWidth,j=w?st.strokeOpacity:nt.strokeOpacity}const Y=this.getTileFormat(m,v),Q=(S=(x=Y?.fill)!=null?x:H)!=null?S:this.getNodeFill(m),J=(D=(_=Y?.fillOpacity)!=null?_:F)!=null?D:w?a.fillOpacity:o.fillOpacity,et=(T=(A=Y?.stroke)!=null?A:P)!=null?T:this.getNodeStroke(m),it=(E=(I=Y?.strokeWidth)!=null?I:G)!=null?E:w?a.strokeWidth:o.strokeWidth,U=(C=(N=Y?.strokeOpacity)!=null?N:j)!=null?C:w?a.strokeOpacity:o.strokeOpacity;y.fill=YD(Q),y.fillOpacity=J,y.stroke=YD(et),y.strokeWidth=it,y.strokeOpacity=U,y.crisp=!0,y.x=O.x,y.y=O.y,y.width=O.width,y.height=O.height,y.visible=!0};this.groupSelection.selectByClass(Zy).forEach(m=>p(m.datum,m,!1)),this.highlightSelection.selectByClass(Zy).forEach(m=>{var y;const v=m.datum===d;m.visible=v||((y=d?.contains(m.datum))!=null?y:!1),m.visible&&p(m.datum,m,v)});const g=Array.from(this.rootNode,m=>{var y,v,x,S;const{index:_,children:D}=m,A=u[_],T=(y=this.labelData)==null?void 0:y[_];if(!(A==null||T==null))if(D.length===0){const I={width:A.width,height:A.height,meta:null},E=Sy(T.label,this.properties.tile.label,T.secondaryLabel,this.properties.tile.secondaryLabel,{padding:a.padding},()=>I);if(E==null)return;const{height:N,label:C,secondaryLabel:O}=E,{textAlign:w,verticalAlign:H,padding:F}=a,P=(v=HD[w])!=null?v:.5,G=A.x+F+(A.width-2*F)*P,j=(x=RB[H])!=null?x:.5,Y=A.y+F+N*.5+(A.height-2*F-N)*j;return{label:C!=null?{text:C.text,fontSize:C.fontSize,lineHeight:C.lineHeight,style:this.properties.tile.label,x:G,y:Y-(N-C.height)*.5}:void 0,secondaryLabel:O!=null?{text:O.text,fontSize:O.fontSize,lineHeight:O.fontSize,style:this.properties.tile.secondaryLabel,x:G,y:Y+(N-O.height)*.5}:void 0,verticalAlign:"middle",textAlign:w}}else if(T?.label!=null){const{padding:I,textAlign:E}=o,N=this.groupTitleHeight(m,A);if(N==null)return;const C=A.width-2*I,{text:O}=jo.wrap(T.label,A.width-2*I,1/0,o.label,"never"),w=(S=HD[E])!=null?S:.5;return{label:{text:O,fontSize:o.label.fontSize,lineHeight:_s.lineHeight(o.label.fontSize),style:this.properties.group.label,x:A.x+I+C*w,y:A.y+I+N*.5},secondaryLabel:void 0,verticalAlign:"middle",textAlign:E}}else return}),f=(m,y,v,x)=>{const S=m.children.length===0,_=g[m.index],D=v===0?_?.label:_?.secondaryLabel;if(_==null||D==null){y.visible=!1;return}let A;if(x){const{tile:T,group:I}=r;A=S?v===0?T.label.color:T.secondaryLabel.color:I.label.color}y.text=D.text,y.fontSize=D.fontSize,y.lineHeight=D.lineHeight,y.fontStyle=D.style.fontStyle,y.fontFamily=D.style.fontFamily,y.fontWeight=D.style.fontWeight,y.fill=A??D.style.color,y.textAlign=_.textAlign,y.textBaseline=_.verticalAlign,y.x=D.x,y.y=D.y,y.visible=!0};this.groupSelection.selectByClass(jo).forEach(m=>{f(m.datum,m,m.tag,!1)}),this.highlightSelection.selectByClass(jo).forEach(m=>{var y;const v=m.datum===d;m.visible=v||((y=d?.contains(m.datum))!=null?y:!1),m.visible&&f(m.datum,m,m.tag,v)})})}updateNodeMidPoint(t){this.rootNode.walk(i=>{const s=t[i.index];s!=null&&(i.midPoint.x=s.x+s.width/2,i.midPoint.y=s.y)})}getTooltipHtml(t){var i;const{datum:s,depth:n}=t,{id:r}=this,{tooltip:a,colorKey:o,colorName:l=o,labelKey:c,secondaryLabelKey:h,sizeKey:u,sizeName:d=u}=this.properties,p=t.children.length===0,g=p||this.properties.group.interactive;if(s==null||n==null||!g)return"";const f=c!=null?s[c]:void 0,m=this.getTileFormat(t,!1),y=(i=m?.fill)!=null?i:this.getNodeFill(t);if(!a.renderer&&!f)return"";const v=[],x=h!=null?s[h]:void 0;x!=null&&h!==o&&h!==u&&v.push(Qy(x));const S=u!=null?s[u]:void 0;S!=null&&v.push(`${d}: ${Qy(S)}`);const _=o!=null?s[o]:void 0;_!=null&&v.push(`${l}: ${Qy(_)}`);const D=v.join("<br>"),A={title:f,color:p?this.properties.tile.label.color:this.properties.group.label.color,backgroundColor:y,content:D};return a.toTooltipHtml(A,{depth:n,datum:s,colorKey:o,labelKey:c,secondaryLabelKey:h,sizeKey:u,title:f,color:y,seriesId:r})}};Jy.className="TreemapSeries",Jy.type="treemap";var wB=Jy,{DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:PB,DEFAULT_FONT_FAMILY:tv,DEFAULT_HIERARCHY_FILLS:FB,DEFAULT_HIERARCHY_STROKES:BB,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:Wd,EXTENDS_SERIES_DEFAULTS:zB,DEFAULT_LABEL_COLOUR:jD,FONT_WEIGHT:KD}=SB._Theme,GB={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",instanceConstructor:wB,seriesDefaults:{gradientLegend:{enabled:!0}},solo:!0,themeTemplate:{__extends__:zB,group:{label:{enabled:!0,color:jD,fontStyle:void 0,fontWeight:KD.NORMAL,fontSize:12,fontFamily:tv,spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:Wd,fontStyle:void 0,fontWeight:KD.NORMAL,fontSize:18,minimumFontSize:10,fontFamily:tv,wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:Wd,fontStyle:void 0,fontWeight:void 0,fontSize:12,minimumFontSize:10,fontFamily:tv,wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:jD},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:Wd},secondaryLabel:{color:Wd},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{const{properties:s}=i,{fills:n,strokes:r}=e(t),a=s.get(PB),o=s.get(FB),l=s.get(BB);return{fills:n,strokes:r,colorRange:a,undocumentedGroupFills:o,undocumentedGroupStrokes:l}}},ev=(W(),V(z)),VB=(W(),V(z)),{CARTESIAN_AXIS_TYPES:XD,CARTESIAN_AXIS_POSITIONS:$D}=VB._Theme,WB={axes:[{type:XD.CATEGORY,position:$D.BOTTOM},{type:XD.NUMBER,position:$D.LEFT}],legend:{enabled:!0,item:{toggleSeriesVisible:!1}}},qs=(W(),V(z)),qD=(W(),V(z)),{DropShadow:UB,Label:YB}=qD._Scene,{AbstractBarSeriesProperties:HB,BaseProperties:Rc,PropertiesArray:jB,SeriesTooltip:KB,Validate:yt,BOOLEAN:XB,COLOR_STRING:iv,FUNCTION:ZD,LINE_DASH:QD,NUMBER:$B,OBJECT:Cn,OBJECT_ARRAY:qB,POSITIVE_NUMBER:Ko,RATIO:sv,STRING:Xo,UNION:JD}=qD._ModuleSupport,Ud=class extends Rc{};M([yt(JD(["subtotal","total"],"a total type"))],Ud.prototype,"totalType",2),M([yt($B)],Ud.prototype,"index",2),M([yt(Xo)],Ud.prototype,"axisLabel",2);var tA=class extends Rc{};M([yt(ZD,{optional:!0})],tA.prototype,"renderer",2);var nv=class extends YB{constructor(){super(...arguments),this.placement="end",this.padding=6}};M([yt(JD(["start","end","inside"],"a placement"))],nv.prototype,"placement",2),M([yt(Ko)],nv.prototype,"padding",2);var qe=class extends Rc{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new UB().set({enabled:!1}),this.label=new nv,this.tooltip=new tA}};M([yt(Xo,{optional:!0})],qe.prototype,"name",2),M([yt(iv)],qe.prototype,"fill",2),M([yt(iv)],qe.prototype,"stroke",2),M([yt(sv)],qe.prototype,"fillOpacity",2),M([yt(sv)],qe.prototype,"strokeOpacity",2),M([yt(QD)],qe.prototype,"lineDash",2),M([yt(Ko)],qe.prototype,"lineDashOffset",2),M([yt(Ko)],qe.prototype,"strokeWidth",2),M([yt(Ko)],qe.prototype,"cornerRadius",2),M([yt(ZD,{optional:!0})],qe.prototype,"formatter",2),M([yt(Cn)],qe.prototype,"shadow",2),M([yt(Cn)],qe.prototype,"label",2),M([yt(Cn)],qe.prototype,"tooltip",2);var Oa=class extends Rc{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};M([yt(XB)],Oa.prototype,"enabled",2),M([yt(iv)],Oa.prototype,"stroke",2),M([yt(sv)],Oa.prototype,"strokeOpacity",2),M([yt(QD)],Oa.prototype,"lineDash",2),M([yt(Ko)],Oa.prototype,"lineDashOffset",2),M([yt(Ko)],Oa.prototype,"strokeWidth",2);var Yd=class extends Rc{constructor(){super(...arguments),this.positive=new qe,this.negative=new qe,this.total=new qe}};M([yt(Cn)],Yd.prototype,"positive",2),M([yt(Cn)],Yd.prototype,"negative",2),M([yt(Cn)],Yd.prototype,"total",2);var On=class extends HB{constructor(){super(...arguments),this.item=new Yd,this.totals=new jB(Ud),this.line=new Oa,this.tooltip=new KB}};M([yt(Xo)],On.prototype,"xKey",2),M([yt(Xo)],On.prototype,"yKey",2),M([yt(Xo,{optional:!0})],On.prototype,"xName",2),M([yt(Xo,{optional:!0})],On.prototype,"yName",2),M([yt(Cn)],On.prototype,"item",2),M([yt(qB)],On.prototype,"totals",2),M([yt(Cn)],On.prototype,"line",2),M([yt(Cn)],On.prototype,"tooltip",2);var{adjustLabelPlacement:ZB,SeriesNodePickMode:QB,fixNumericExtent:rv,valueProperty:eA,keyProperty:JB,accumulativeValueProperty:Hd,trailingAccumulatedValueProperty:tz,ChartAxisDirection:Ra,getRectConfig:ez,updateRect:iz,checkCrisp:sz,updateLabelNode:nz,prepareBarAnimationFunctions:rz,collapsedStartingBarPosition:az,resetBarSelectionsFn:oz,seriesLabelFadeInAnimation:lz,resetLabelFn:cz,animationValidation:hz}=qs._ModuleSupport,{ContinuousScale:iA,Rect:uz,motion:dz}=qs._Scene,{sanitizeHtml:wc,isContinuous:sA,isNumber:pz}=qs._Util,av=class CA extends qs._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[QB.EXACT_SHAPE_MATCH],pathsPerSeries:1,hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:oz,label:cz}}),this.properties=new On,this.seriesItemTypes=new Set(["positive","negative","total"]),this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()===Ra.X?t===Ra.X?Ra.Y:Ra.X:t}processData(t){return tt(this,null,function*(){var i,s,n;const{xKey:r,yKey:a,totals:o}=this.properties,{data:l=[]}=this;if(!this.properties.isValid())return;const c=v=>sA(v)&&v>=0,h=v=>sA(v)&&v<0,u=v=>v==="total"||v==="subtotal",d={missingValue:void 0,invalidValue:void 0},p=[],g=o.reduce((v,x)=>{const S=v.get(x.index);return S?S.push(x):v.set(x.index,[x]),v},new Map);l.forEach((v,x)=>{var S;p.push(v),(S=g.get(x))==null||S.forEach(_=>p.push(De(pt({},_.toJson()),{[r]:_.axisLabel})))});const f=iA.is((i=this.getCategoryAxis())==null?void 0:i.scale),m=[];this.ctx.animationManager.isSkipped()||m.push(hz(this));const{processedData:y}=yield this.requestDataModel(t,p,{props:[JB(this,r,f,{id:"xValue"}),Hd(this,a,!0,De(pt({},d),{id:"yCurrent"})),Hd(this,a,!0,De(pt({},d),{missingValue:0,id:"yCurrentTotal"})),Hd(this,a,!0,De(pt({},d),{id:"yCurrentPositive",validation:c})),Hd(this,a,!0,De(pt({},d),{id:"yCurrentNegative",validation:h})),tz(this,a,!0,De(pt({},d),{id:"yPrevious"})),eA(this,a,!0,{id:"yRaw"}),eA(this,"totalType",!1,{id:"totalTypeValue",missingValue:void 0,validation:u}),...f?[qs._ModuleSupport.SMALLEST_KEY_INTERVAL]:[],...m],dataVisible:this.visible});this.smallestDataInterval={x:(n=(s=y.reduced)==null?void 0:s.smallestKeyInterval)!=null?n:1/0,y:1/0},this.updateSeriesItemTypes(),this.animationState.transition("updateData")})}getSeriesDomain(t){var i;const{processedData:s,dataModel:n}=this;if(!(s&&n))return[];const{domain:{keys:[r],values:a},reduced:{[qs._ModuleSupport.SMALLEST_KEY_INTERVAL.property]:o}={}}=s,l=n.resolveProcessedDataDefById(this,"xValue");if(t===this.getCategoryDirection()){if(l?.def.type==="key"&&l?.def.valueType==="category")return r;const c=o!=null&&isFinite(o)?o:0,h=(i=qs._ModuleSupport.extent(r))!=null?i:[NaN,NaN],u=this.getCategoryAxis(),d=u?.isReversed();if(t===Ra.Y){const f=h[0]+(d?0:-c),m=h[1]+(d?c:0);return rv([f,m],u)}const p=h[0]+(d?-c:0),g=h[1]+(d?0:c);return rv([p,g],u)}else{const c=n.resolveProcessedDataIndexById(this,"yCurrent").index,h=a[c],u=[h[0]>0?0:h[0],h[1]<0?0:h[1]];return rv(u)}}createNodeData(){return tt(this,null,function*(){var t,i,s;const{data:n,dataModel:r,smallestDataInterval:a}=this,{visible:o,line:l}=this.properties,c=this.getCategoryAxis(),h=this.getValueAxis();if(!(n&&o&&c&&h&&r))return[];const u=c.scale,d=h.scale,p=c.isReversed(),g=h.isReversed(),f=this.getBarDirection()===Ra.X,m=(t=iA.is(u)?u.calcBandwidth(a?.x):u.bandwidth)!=null?t:10,y=l.strokeWidth/2,x=(f&&!g||!f&&g?-1:1)*y;if(((i=this.processedData)==null?void 0:i.type)!=="ungrouped")return[];const S=[],_=r.resolveProcessedDataIndexById(this,"yRaw").index,D=r.resolveProcessedDataIndexById(this,"xValue").index,A=r.resolveProcessedDataIndexById(this,"totalTypeValue").index,T=new Map,I=[],E=r.resolveProcessedDataIndexById(this,"yCurrent").index,N=r.resolveProcessedDataIndexById(this,"yPrevious").index,C=r.resolveProcessedDataIndexById(this,"yCurrentTotal").index;function O(Q,J,et){return Q||J?{cumulativeValue:et[C],trailingValue:J?H:0}:{cumulativeValue:et[E],trailingValue:et[N]}}function w(Q,J,et,it,U){return Q?it:J?(it??0)-(U??0):et}let H=0;const{xKey:F,yKey:P,xName:G,yName:j}=this.properties;(s=this.processedData)==null||s.data.forEach(({keys:Q,datum:J,values:et},it)=>{var U;const st=et[A],nt=this.isSubtotal(st),ot=this.isTotal(st),dt=ot||nt,gt=Q[D],rt=Math.round(u.convert(gt)),kt=et[_],{cumulativeValue:vt,trailingValue:de}=O(ot,nt,et);dt&&(H=vt??0);const wt=Math.round(d.convert(vt)),Mt=Math.round(d.convert(de)),pe=w(ot,nt,kt,vt,de),jt=(pe??0)>=0,We=this.getSeriesItemType(jt,st),{fill:ge,stroke:Er,strokeWidth:Ir,label:Zs}=this.getItemConfig(We),As=(jt?wt:Mt)-x,Pc=(jt?Mt:wt)+x,jd=Math.max(Ir,Math.abs(Pc-As)),Rn=We;let wn=T.get(Rn);wn===void 0&&(wn=S.length,T.set(Rn,wn)),(U=S[wn])!=null||(S[wn]={itemId:Rn,nodeData:[],labelData:[],pointData:[],scales:An(CA.prototype,this,"calculateScaling").call(this),visible:this.visible});const Le={x:f?Math.min(As,Pc):rt,y:f?rt:Math.min(As,Pc),width:f?jd:m,height:f?m:jd},Kd={x:Le.x+Le.width/2,y:Le.y+Le.height/2},Fc=dt?wt:Mt,Xd=Math.floor(l.strokeWidth)%2/2,rA=p?wt:Fc,aA=p?Fc:wt;let $o,qo;f?($o={x:rA+Xd,y:Le.y},qo={x:aA+Xd,y:Le.y+Le.height}):($o={x:Le.x,y:rA+Xd},qo={x:Le.x+Le.width,y:aA+Xd});const xz={x:p?qo.x:$o.x,y:p?qo.y:$o.y,x2:p?$o.x:qo.x,y2:p?$o.y:qo.y,size:0};I.push(xz);const bz=this.getLabelText(Zs,{itemId:Rn==="subtotal"?"total":Rn,value:pe,datum:J,xKey:F,yKey:P,xName:G,yName:j},ov=>pz(ov)?ov.toFixed(2):String(ov)),oA={index:it,series:this,itemId:Rn,datum:J,cumulativeValue:vt??0,xValue:gt,yValue:pe,yKey:P,xKey:F,x:Le.x,y:Le.y,width:Le.width,height:Le.height,midPoint:Kd,fill:ge,stroke:Er,strokeWidth:Ir,label:pt({text:bz},ZB({isPositive:(pe??-1)>=0,isVertical:!f,placement:Zs.placement,padding:Zs.padding,rect:Le}))};S[wn].nodeData.push(oA),S[wn].labelData.push(oA)});const Y=this.properties.line.enabled;return S.length>0&&E!==void 0&&Y&&(S[0].pointData=I),S})}updateSeriesItemTypes(){var t,i;const{dataModel:s,seriesItemTypes:n,processedData:r}=this;if(!s||!r)return;n.clear();const a=s.resolveProcessedDataIndexById(this,"yCurrentPositive").index,o=s.resolveProcessedDataIndexById(this,"yCurrentNegative").index,l=s.resolveProcessedDataIndexById(this,"totalTypeValue").index,c=(t=r.domain.values[a])!=null?t:[],h=(i=r.domain.values[o])!=null?i:[];c.length>0&&n.add("positive"),h.length>0&&n.add("negative");const u=r?.domain.values[l];u&&u.forEach(d=>{(d==="total"||d==="subtotal")&&n.add("total")})}isSubtotal(t){return t==="subtotal"}isTotal(t){return t==="total"}nodeFactory(){return new uz}getSeriesItemType(t,i){return i??(t?"positive":"negative")}getItemConfig(t){switch(t){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(t){return tt(this,null,function*(){const{nodeData:i,datumSelection:s}=t,n=i??[];return s.update(n)})}updateDatumNodes(t){return tt(this,null,function*(){const{datumSelection:i,isHighlight:s}=t,{id:n,ctx:r}=this,{yKey:a,highlightStyle:{item:o}}=this.properties,l=this.getCategoryAxis(),c=sz(l?.visibleRange),h=this.getCategoryDirection()===Ra.X;i.each((u,d)=>{const p=d.itemId,{fillOpacity:g,strokeOpacity:f,strokeWidth:m,lineDash:y,lineDashOffset:v,cornerRadius:x,formatter:S,shadow:_}=this.getItemConfig(p),D={fill:d.fill,stroke:d.stroke,fillOpacity:g,strokeOpacity:f,lineDash:y,lineDashOffset:v,fillShadow:_,strokeWidth:this.getStrokeWidth(m),cornerRadius:x,cornerRadiusBbox:void 0},A=h?d.width>0:d.height>0,T=ez({datum:d,isHighlighted:s,style:D,highlightStyle:o,formatter:S,seriesId:n,itemId:d.itemId,ctx:r,value:d.yValue,yKey:a});T.crisp=c,T.visible=A,iz({rect:u,config:T})})})}updateLabelSelection(t){return tt(this,null,function*(){const{labelData:i,labelSelection:s}=t;if(i.length===0)return s.update([]);const n=i[0].itemId,{label:r}=this.getItemConfig(n),a=r.enabled?i:[];return s.update(a)})}updateLabelNodes(t){return tt(this,null,function*(){t.labelSelection.each((i,s)=>{nz(i,this.getItemConfig(s.itemId).label,s.label)})})}getTooltipHtml(t){var i,s,n;const r=this.getCategoryAxis(),a=this.getValueAxis();if(!this.properties.isValid()||!r||!a)return"";const{id:o}=this,{xKey:l,yKey:c,xName:h,yName:u,tooltip:d}=this.properties,{datum:p,itemId:g,xValue:f,yValue:m}=t,{fill:y,strokeWidth:v,name:x,formatter:S}=this.getItemConfig(g);let _;S&&(_=this.ctx.callbackCache.call(S,{datum:p,value:m,xKey:l,yKey:c,fill:y,strokeWidth:v,highlighted:!1,seriesId:o,itemId:t.itemId}));const D=(s=(i=_?.fill)!=null?i:y)!=null?s:"gray",A=wc(r.formatDatum(f)),T=wc(a.formatDatum(m)),I=this.isTotal(g),E=this.isSubtotal(g),N=I?"Total":E?"Subtotal":(n=x??u)!=null?n:c,C=wc(u),O=`<b>${wc(h??l)}</b>: ${A}<br/><b>${wc(N)}</b>: ${T}`;return d.toTooltipHtml({title:C,content:O,backgroundColor:D},{seriesId:o,itemId:g,datum:p,xKey:l,yKey:c,xName:h,yName:u,color:D})}getLegendData(t){if(t!=="category")return[];const{id:i,seriesItemTypes:s}=this,n=[],r=a=>a.charAt(0).toUpperCase()+a.substring(1);return s.forEach(a=>{const{fill:o,stroke:l,fillOpacity:c,strokeOpacity:h,strokeWidth:u,name:d}=this.getItemConfig(a);n.push({legendType:"category",id:i,itemId:a,seriesId:i,enabled:!0,label:{text:d??r(a)},marker:{fill:o,stroke:l,fillOpacity:c,strokeOpacity:h,strokeWidth:u}})}),n}toggleSeriesItem(){}animateEmptyUpdateReady({datumSelections:t,labelSelections:i,contextData:s,paths:n}){const r=rz(az(this.isVertical(),this.axes));dz.fromToMotion(this.id,"datums",this.ctx.animationManager,t,r),lz(this,"labels",this.ctx.animationManager,i),s.forEach(({pointData:a},o)=>{if(o!==0||!a)return;const[l]=n[o];this.isVertical()?this.animateConnectorLinesVertical(l,a):this.animateConnectorLinesHorizontal(l,a)})}animateConnectorLinesHorizontal(t,i){const{path:s}=t;this.updateLineNode(t);const n=this.getValueAxis(),r=n?.isReversed(),a=r?(h,u)=>h<u:(h,u)=>h>u,o=n?.scale.convert(0),l=i.reduce((h,u)=>(a(u.x,h)&&(h=u.x),h),r?1/0:0),c=(h,u,d,p,g)=>(h-u)/(d-u)*(g-p)+p;this.ctx.animationManager.animate({id:`${this.id}_datums`,groupId:this.id,from:o,to:l,ease:qs._ModuleSupport.Motion.easeOut,onUpdate(h){s.clear({trackChanges:!0}),i.forEach((u,d)=>{const p=c(h,o,l,o,u.x),g=c(h,o,l,o,u.x2);d!==0&&s.lineTo(p,u.y),s.moveTo(g,u.y2)}),t.checkPathDirty()}})}animateConnectorLinesVertical(t,i){const{path:s}=t;this.updateLineNode(t);const n=this.getValueAxis(),r=n?.isReversed(),a=r?(h,u)=>h>u:(h,u)=>h<u,o=n?.scale.convert(0),l=i.reduce((h,u)=>(a(u.y,h)&&(h=u.y),h),r?0:1/0),c=(h,u,d,p,g)=>(h-u)/(d-u)*(g-p)+p;this.ctx.animationManager.animate({id:`${this.id}_datums`,groupId:this.id,from:o,to:l,ease:qs._ModuleSupport.Motion.easeOut,onUpdate(h){s.clear({trackChanges:!0}),i.forEach((u,d)=>{const p=c(h,o,l,o,u.y),g=c(h,o,l,o,u.y2);d!==0&&s.lineTo(u.x,p),s.moveTo(u.x2,g)}),t.checkPathDirty()}})}animateReadyResize(t){super.animateReadyResize(t),this.resetConnectorLinesPath(t)}resetConnectorLinesPath({contextData:t,paths:i}){if(i.length===0)return;const[s]=i[0];this.updateLineNode(s);const{path:n}=s;n.clear({trackChanges:!0});const{pointData:r}=t[0];r&&(r.forEach((a,o)=>{o!==0&&n.lineTo(a.x,a.y),n.moveTo(a.x2,a.y2)}),s.checkPathDirty())}updateLineNode(t){const{stroke:i,strokeWidth:s,strokeOpacity:n,lineDash:r,lineDashOffset:a}=this.properties.line;t.setProperties({fill:void 0,stroke:i,strokeWidth:this.getStrokeWidth(s),strokeOpacity:n,lineDash:r,lineDashOffset:a,lineJoin:"round",pointerEvents:qs._Scene.PointerEvents.None})}isLabelEnabled(){const{positive:t,negative:i,total:s}=this.properties.item;return t.label.enabled||i.label.enabled||s.label.enabled}onDataChange(){}};av.className="WaterfallSeries",av.type="waterfall";var gz=av,nA=(W(),V(z)),fz={__extends__:nA._Theme.EXTENDS_SERIES_DEFAULTS,item:{positive:{strokeWidth:0,label:{enabled:!1}},negative:{strokeWidth:0,label:{enabled:!1}},total:{strokeWidth:0,label:{enabled:!1}}},line:{stroke:nA._Theme.DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},mz={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",instanceConstructor:gz,seriesDefaults:WB,themeTemplate:fz,swapDefaultAxesCondition:({direction:e})=>e==="horizontal",paletteFactory:({takeColors:e,colorsCount:t,userPalette:i,themeTemplateParameters:s})=>{const{properties:n}=s,{fills:r,strokes:a}=e(t);return i?{item:{positive:{fill:r[0],stroke:a[0]},negative:{fill:r[1],stroke:a[1]},total:{fill:r[2],stroke:a[2]}}}:{item:{positive:n.get(ev._Theme.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS),negative:n.get(ev._Theme.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS),total:n.get(ev._Theme.DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS)}}}};if(lC(Cm,(W(),V(z)),ss.exports),Nt._ModuleSupport.registerModule(CC),Nt._ModuleSupport.registerModule(VC),Nt._ModuleSupport.registerModule(vO),Nt._ModuleSupport.registerModule(MO),Nt._ModuleSupport.registerModule(sw),Nt._ModuleSupport.registerModule(mw),Nt._ModuleSupport.registerModule(LO),Nt._ModuleSupport.registerModule(VO),Nt._ModuleSupport.registerModule(iR),Nt._ModuleSupport.registerModule(ER),Nt._ModuleSupport.registerModule(jw),Nt._ModuleSupport.registerModule(L1),Nt._ModuleSupport.registerModule(dP),Nt._ModuleSupport.registerModule(gP),Nt._ModuleSupport.registerModule(YP),Nt._ModuleSupport.registerModule(eF),Nt._ModuleSupport.registerModule(hO),Nt._ModuleSupport.registerModule(fO),Nt._ModuleSupport.registerModule(hB),Nt._ModuleSupport.registerModule(RF),Nt._ModuleSupport.registerModule(bB),Nt._ModuleSupport.registerModule(GB),Nt._ModuleSupport.registerModule(mz),Nt._ModuleSupport.registerModule(gR),Nt._ModuleSupport.enterpriseModule.isEnterprise=!0,Nt._ModuleSupport.enterpriseModule.licenseManager=e=>{var t,i;return new CR((i=(t=e.container)==null?void 0:t.ownerDocument)!=null?i:typeof document<"u"?document:void 0)},Nt._ModuleSupport.enterpriseModule.injectWatermark=PR,typeof ss.exports=="object"&&typeof Qo=="object"){var yz=(e,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Object.getOwnPropertyNames(t))!Object.prototype.hasOwnProperty.call(e,n)&&n!==i&&Object.defineProperty(e,n,{get:()=>t[n],enumerable:!(s=Object.getOwnPropertyDescriptor(t,n))||s.enumerable});return e};ss.exports=yz(ss.exports,Qo)}return ss.exports});
