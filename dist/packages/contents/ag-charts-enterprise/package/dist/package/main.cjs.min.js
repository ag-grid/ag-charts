"use strict";var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__reflectGet=Reflect.get,__pow=Math.pow,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues=(e,t)=>{for(var i in t||(t={}))__hasOwnProp.call(t,i)&&__defNormalProp(e,i,t[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(t))__propIsEnum.call(t,i)&&__defNormalProp(e,i,t[i]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__objRest=(e,t)=>{var i={};for(var o in e)__hasOwnProp.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&__getOwnPropSymbols)for(var o of __getOwnPropSymbols(e))t.indexOf(o)<0&&__propIsEnum.call(e,o)&&(i[o]=e[o]);return i},__export=(e,t)=>{for(var i in t)__defProp(e,i,{get:t[i],enumerable:!0})},__copyProps=(e,t,i,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of __getOwnPropNames(t))!__hasOwnProp.call(e,s)&&s!==i&&__defProp(e,s,{get:()=>t[s],enumerable:!(o=__getOwnPropDesc(t,s))||o.enumerable});return e},__reExport=(e,t,i)=>(__copyProps(e,t,"default"),i&&__copyProps(i,t,"default")),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__decorateClass=(e,t,i,o)=>{for(var s=o>1?void 0:o?__getOwnPropDesc(t,i):t,a=e.length-1,n;a>=0;a--)(n=e[a])&&(s=(o?n(t,i,s):n(s))||s);return o&&s&&__defProp(t,i,s),s},__superGet=(e,t,i)=>__reflectGet(__getProtoOf(e),i,t),__async=(e,t,i)=>new Promise((o,s)=>{var a=l=>{try{r(i.next(l))}catch(c){s(c)}},n=l=>{try{r(i.throw(l))}catch(c){s(c)}},r=l=>l.done?o(l.value):Promise.resolve(l.value).then(a,n);r((i=i.apply(e,t)).next())}),main_exports={};__export(main_exports,{AgCharts:()=>import_ag_charts_community124.AgCharts,time:()=>import_ag_charts_community124.time}),module.exports=__toCommonJS(main_exports);var import_ag_charts_community124=require("ag-charts-community"),import_ag_charts_community123=require("ag-charts-community"),import_ag_charts_community=require("ag-charts-community"),ANGLE_AXIS_THEME={__extends__:import_ag_charts_community._Theme.EXTENDS_AXES_DEFAULTS,gridLine:{enabled:!1,__extends__:import_ag_charts_community._Theme.EXTENDS_AXES_GRID_LINE_DEFAULTS}},import_ag_charts_community5=require("ag-charts-community");function loopSymmetrically(e,t,i){const o=(a,n,r,l)=>{let c=e[0];for(let h=a;r>0?h<=n:h>n;h+=r){const u=e[h];if(l(c,u))return!0;c=u}return!1},s=Math.floor(e.length/2);return o(t,s,t,i)?!0:o(e.length-t,s,-t,i)}var import_ag_charts_community4=require("ag-charts-community"),import_ag_charts_community3=require("ag-charts-community"),import_ag_charts_community2=require("ag-charts-community"),{ChartAxisDirection,Layers,ARRAY,BOOLEAN,COLOR_STRING,FONT_STYLE,FONT_WEIGHT,LINE_DASH,NUMBER,POSITIVE_NUMBER,RATIO,STRING,UNION,AND,Validate,MATCHING_CROSSLINE_TYPE}=import_ag_charts_community2._ModuleSupport,{Group}=import_ag_charts_community2._Scene,{createId}=import_ag_charts_community2._Util,PolarCrossLineLabel=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.parallel=void 0}};__decorateClass([Validate(BOOLEAN,{optional:!0})],PolarCrossLineLabel.prototype,"enabled",2),__decorateClass([Validate(STRING,{optional:!0})],PolarCrossLineLabel.prototype,"text",2),__decorateClass([Validate(FONT_STYLE,{optional:!0})],PolarCrossLineLabel.prototype,"fontStyle",2),__decorateClass([Validate(FONT_WEIGHT,{optional:!0})],PolarCrossLineLabel.prototype,"fontWeight",2),__decorateClass([Validate(POSITIVE_NUMBER)],PolarCrossLineLabel.prototype,"fontSize",2),__decorateClass([Validate(STRING)],PolarCrossLineLabel.prototype,"fontFamily",2),__decorateClass([Validate(NUMBER)],PolarCrossLineLabel.prototype,"padding",2),__decorateClass([Validate(COLOR_STRING,{optional:!0})],PolarCrossLineLabel.prototype,"color",2),__decorateClass([Validate(BOOLEAN,{optional:!0})],PolarCrossLineLabel.prototype,"parallel",2);var _PolarCrossLine=class yt{constructor(){this.id=createId(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.shape="polygon",this.label=new PolarCrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.group=new Group({name:`${this.id}`,layer:!0,zIndex:yt.LINE_LAYER_ZINDEX}),this.labelGroup=new Group({name:`${this.id}`,layer:!0,zIndex:yt.LABEL_LAYER_ZINDEX})}setSectorNodeProps(t){var i,o,s;t.fill=this.fill,t.fillOpacity=(i=this.fillOpacity)!=null?i:1,t.stroke=this.stroke,t.strokeOpacity=(o=this.strokeOpacity)!=null?o:1,t.strokeWidth=(s=this.strokeWidth)!=null?s:1,t.lineDash=this.lineDash}setLabelNodeProps(t,i,o,s,a){const{label:n}=this;t.x=i,t.y=o,t.text=n.text,t.textAlign="center",t.textBaseline=s,t.rotation=a,t.rotationCenterX=i,t.rotationCenterY=o,t.fill=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.visible=!0}calculateLayout(t){}};_PolarCrossLine.LINE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_LINE_ZINDEX,_PolarCrossLine.RANGE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_RANGE_ZINDEX,_PolarCrossLine.LABEL_LAYER_ZINDEX=Layers.SERIES_LABEL_ZINDEX,__decorateClass([Validate(BOOLEAN,{optional:!0})],_PolarCrossLine.prototype,"enabled",2),__decorateClass([Validate(UNION(["range","line"],"a crossLine type"),{optional:!0})],_PolarCrossLine.prototype,"type",2),__decorateClass([Validate(AND(MATCHING_CROSSLINE_TYPE("range"),ARRAY.restrict({length:2})),{optional:!0})],_PolarCrossLine.prototype,"range",2),__decorateClass([Validate(MATCHING_CROSSLINE_TYPE("value"),{optional:!0})],_PolarCrossLine.prototype,"value",2),__decorateClass([Validate(COLOR_STRING,{optional:!0})],_PolarCrossLine.prototype,"fill",2),__decorateClass([Validate(RATIO,{optional:!0})],_PolarCrossLine.prototype,"fillOpacity",2),__decorateClass([Validate(COLOR_STRING,{optional:!0})],_PolarCrossLine.prototype,"stroke",2),__decorateClass([Validate(NUMBER,{optional:!0})],_PolarCrossLine.prototype,"strokeWidth",2),__decorateClass([Validate(RATIO,{optional:!0})],_PolarCrossLine.prototype,"strokeOpacity",2),__decorateClass([Validate(LINE_DASH,{optional:!0})],_PolarCrossLine.prototype,"lineDash",2);var PolarCrossLine=_PolarCrossLine,{ChartAxisDirection:ChartAxisDirection2,validateCrossLineValues}=import_ag_charts_community3._ModuleSupport,{Path,Sector,Text}=import_ag_charts_community3._Scene,{normalizeAngle360,isNumberEqual}=import_ag_charts_community3._Util,_AngleCrossLine=class pt extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection2.X,this.polygonNode=new Path,this.sectorNode=new Sector,this.lineNode=new Path,this.labelNode=new Text,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.group.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:i,shape:o,type:s,value:a,range:n}=this;if(!i||!s||!validateCrossLineValues(s,a,n,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,s==="line"&&o==="circle"&&i instanceof import_ag_charts_community3._Scale.BandScale&&(this.type="range",this.range=[a,a]),this.updateLineNode(t),this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t)}updateLineNode(t){var i,o;const{scale:s,type:a,value:n,lineNode:r}=this;let l;if(!t||a!=="line"||!s||isNaN(l=s.convert(n))){r.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:h}=this;r.visible=!0,r.stroke=this.stroke,r.strokeOpacity=(i=this.strokeOpacity)!=null?i:1,r.strokeWidth=(o=this.strokeWidth)!=null?o:1,r.fill=void 0,r.lineDash=this.lineDash;const u=h*Math.cos(l),d=h*Math.sin(l),g=c*Math.cos(l),m=c*Math.sin(l);r.path.clear({trackChanges:!0}),r.path.moveTo(g,m),r.path.lineTo(u,d),this.group.zIndex=pt.LINE_LAYER_ZINDEX}updatePolygonNode(t){var i;const{polygonNode:o,range:s,scale:a,shape:n,type:r}=this;let l;if(!t||r!=="range"||n!=="polygon"||!a||!s||!(l=(i=a.ticks)==null?void 0:i.call(a))){o.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:h}=this,u=l.indexOf(s[0]),d=l.indexOf(s[1]),m=(u<=d?l.slice(u,d+1):l.slice(u).concat(l.slice(0,d+1))).map(y=>a.convert(y));o.visible=!0,this.setSectorNodeProps(o);const{path:p}=o;p.clear({trackChanges:!0}),m.forEach((y,f)=>{const v=h*Math.cos(y),M=h*Math.sin(y);f===0?p.moveTo(v,M):p.lineTo(v,M)}),c===0?p.lineTo(0,0):m.slice().reverse().forEach(y=>{const f=c*Math.cos(y),v=c*Math.sin(y);p.lineTo(f,v)}),o.path.closePath(),this.group.zIndex=pt.RANGE_LAYER_ZINDEX}updateSectorNode(t){var i;const{sectorNode:o,range:s,scale:a,shape:n,type:r}=this;if(!t||r!=="range"||n!=="circle"||!a||!s){o.visible=!1;return}const{axisInnerRadius:l,axisOuterRadius:c}=this,h=s.map(g=>a.convert(g)),u=(i=a.step)!=null?i:0,d=a instanceof import_ag_charts_community3._Scale.BandScale?u/2:0;o.visible=!0,this.setSectorNodeProps(o),o.centerX=0,o.centerY=0,o.innerRadius=l,o.outerRadius=c,o.startAngle=h[0]-d,o.endAngle=h[1]+d,this.group.zIndex=pt.RANGE_LAYER_ZINDEX}updateLabelNode(t){var i,o;const{label:s,labelNode:a,range:n,scale:r,type:l}=this;if(!t||s.enabled===!1||!s.text||!r||l==="range"&&!n){a.visible=!0;return}const{axisInnerRadius:c,axisOuterRadius:h}=this;let u,d,g,m;if(l==="line"){const p=normalizeAngle360(r.convert(this.value)),y=3*Math.PI/2,f=isNumberEqual(p,y)||p>y||p<Math.PI/2,v=(c+h)/2*Math.cos(p),M=(c+h)/2*Math.sin(p);u=v+s.padding*Math.cos(p+Math.PI/2),d=M+s.padding*Math.sin(p+Math.PI/2),m=f?"top":"bottom",g=f?p:p-Math.PI}else{const[p,y]=n.map(S=>normalizeAngle360(r.convert(S)));let f=(p+y)/2;p>y&&(f-=Math.PI),f=normalizeAngle360(f);const v=(isNumberEqual(f,0)||f>0)&&f<Math.PI;let M;const x=(o=(i=r.ticks)==null?void 0:i.call(r))!=null?o:[];this.shape==="circle"||x.length<3?M=h-s.padding:M=h*Math.cos(Math.PI/x.length)-s.padding,u=M*Math.cos(f),d=M*Math.sin(f),m=v?"bottom":"top",g=v?f-Math.PI/2:f+Math.PI/2}this.setLabelNodeProps(a,u,d,m,g)}};_AngleCrossLine.className="AngleCrossLine";var AngleCrossLine=_AngleCrossLine,{AND:AND2,assignJsonApplyConstructedArray,ChartAxisDirection:ChartAxisDirection3,GREATER_THAN,NUMBER:NUMBER2,UNION:UNION2,ProxyOnWrite,Validate:Validate2}=import_ag_charts_community4._ModuleSupport,{Path:Path2,Text:Text2}=import_ag_charts_community4._Scene,{angleBetween,isNumberEqual:isNumberEqual2,toRadians,normalizeAngle360:normalizeAngle3602}=import_ag_charts_community4._Util,AngleAxisLabel=class extends import_ag_charts_community4._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};__decorateClass([Validate2(UNION2(["fixed","parallel","perpendicular"],"a label orientation"))],AngleAxisLabel.prototype,"orientation",2);var AngleAxis=class extends import_ag_charts_community4._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new Path2),this.computeRange=()=>{const i=normalizeAngle3602(-Math.PI/2+toRadians(this.startAngle));let o=this.endAngle==null?i+Math.PI*2:-Math.PI/2+toRadians(this.endAngle);o<i&&(o+=2*Math.PI),this.range=[i,o]},this.includeInvisibleDomains=!0}get direction(){return ChartAxisDirection3.X}assignCrossLineArrayConstructor(e){assignJsonApplyConstructedArray(e,AngleCrossLine)}createLabel(){return new AngleAxisLabel}update(){return this.updateScale(),this.updatePosition(),this.updateGridLines(),this.updateTickLines(),this.updateLabels(),this.updateRadiusLine(),this.updateCrossLines(),this.tickData.length}calculateAvailableRange(){const{range:e,gridLength:t}=this;return angleBetween(e[0],e[1])*t}updatePosition(){const{translation:e,axisGroup:t,gridGroup:i,crossLineGroup:o}=this,s=Math.floor(e.x),a=Math.floor(e.y);t.translationX=s,t.translationY=a,i.translationX=s,i.translationY=a,o.translationX=s,o.translationY=a}updateRadiusLine(){const e=this.radiusLine,{path:t}=e;t.clear({trackChanges:!0});const{points:i,closePath:o}=this.getAxisLinePoints();i.forEach(({x:s,y:a,moveTo:n,arc:r,radius:l=0,startAngle:c=0,endAngle:h=0})=>{r?t.arc(s,a,l,c,h):n?t.moveTo(s,a):t.lineTo(s,a)}),o&&t.closePath(),e.visible=this.line.enabled,e.stroke=this.line.color,e.strokeWidth=this.line.width,e.fill=void 0}getAxisLinePoints(){var e,t;const{scale:i,shape:o,gridLength:s}=this,[a,n]=this.range,r=isNumberEqual2(n-a,2*Math.PI),l=[];if(o==="circle")r?(l.push({x:s,y:0,moveTo:!0}),l.push({x:0,y:0,radius:s,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1})):(l.push({x:s*Math.cos(a),y:s*Math.sin(a),moveTo:!0}),l.push({x:0,y:0,radius:s,startAngle:normalizeAngle3602(a),endAngle:normalizeAngle3602(n),arc:!0,moveTo:!1}));else if(o==="polygon"){const c=((t=(e=i.ticks)==null?void 0:e.call(i))!=null?t:[]).map(h=>i.convert(h));c.length>2&&c.forEach((h,u)=>{const d=s*Math.cos(h),g=s*Math.sin(h),m=u===0;l.push({x:d,y:g,moveTo:m})})}return{points:l,closePath:r}}updateGridLines(){const{scale:e,gridLength:t,gridLine:{enabled:i,style:o,width:s},innerRadiusRatio:a}=this;if(!(o&&t>0))return;const n=this.tickData,r=t*a,l=o.length,c=h=>h.value;this.gridLineGroupSelection.update(i?n:[],void 0,c).each((h,u,d)=>{const{value:g}=u,{stroke:m,lineDash:p}=o[d%l],y=e.convert(g);h.x1=r*Math.cos(y),h.y1=r*Math.sin(y),h.x2=t*Math.cos(y),h.y2=t*Math.sin(y),h.stroke=m,h.strokeWidth=s,h.lineDash=p,h.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:e,tickLabelGroupSelection:t}=this,i=this.tickData;t.update(e.enabled?i:[]).each((o,s,a)=>{const n=this.labelData[a];if(!n||n.hidden){o.visible=!1;return}o.text=n.text,o.setFont(e),o.fill=e.color,o.x=n.x,o.y=n.y,o.textAlign=n.textAlign,o.textBaseline=n.textBaseline,o.visible=!0,n.rotation?(o.rotation=n.rotation,o.rotationCenterX=n.x,o.rotationCenterY=n.y):o.rotation=0})}updateTickLines(){const{scale:e,gridLength:t,tick:i,tickLineGroupSelection:o}=this,s=this.tickData;o.update(i.enabled?s:[]).each((a,n)=>{const{value:r}=n,l=e.convert(r),c=Math.cos(l),h=Math.sin(l);a.x1=t*c,a.y1=t*h,a.x2=(t+i.size)*c,a.y2=(t+i.size)*h,a.stroke=i.color,a.strokeWidth=i.width})}createLabelNodeData(e,t,i){const{label:o,gridLength:s,scale:a,tick:n}=this;if(!o.enabled)return[];const r=new Text2,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,h=e.map((u,d)=>{var g;const{value:m}=u,p=s+o.padding+n.size,y=a.convert(m),f=Math.cos(y),v=Math.sin(y),M=p*f,x=p*v,{textAlign:S,textBaseline:_}=this.getLabelAlign(y),D=d===e.length-1&&m!==e[0]&&isNumberEqual2(normalizeAngle3602(y),normalizeAngle3602(a.convert(e[0]))),N=this.getLabelRotation(y);let E=String(m);if(o.formatter){const{callbackCache:b}=this.moduleCtx;E=(g=b.call(o.formatter,{value:m,index:d}))!=null?g:""}r.text=E,r.x=M,r.y=x,r.setFont(o),r.textAlign=S,r.textBaseline=_,r.rotation=N,N&&(r.rotationCenterX=M,r.rotationCenterY=x);let I=N?r.computeTransformedBBox():r.computeBBox();if(I&&t.hideWhenNecessary&&!N){const b=l-I.x,A=I.x+I.width-c,T=1;if(b>T||A>T){const L=I.width-Math.max(b,A);({text:E}=Text2.wrap(E,L,1/0,o,"never")),E==="\u2026"&&(E="",I=void 0),r.text=E,I=r.computeBBox()}}return{text:E,x:M,y:x,textAlign:S,textBaseline:_,hidden:E===""||u.hidden||D,rotation:N,box:I}});return o.avoidCollisions&&this.avoidLabelCollisions(h),h}computeLabelsBBox(e,t){this.tickData=this.generateAngleTicks(),this.labelData=this.createLabelNodeData(this.tickData,e,t);const i=this.labelData.map(({box:o})=>o).filter(o=>o!=null);return!this.label.enabled||i.length===0?null:import_ag_charts_community4._Scene.BBox.merge(i)}getLabelOrientation(){const{label:e}=this;return e instanceof AngleAxisLabel?e.orientation:"fixed"}getLabelRotation(e){var t;let i=toRadians((t=this.label.rotation)!=null?t:0);e=normalizeAngle3602(e);const o=this.getLabelOrientation();return o==="parallel"?(i+=e,e>=0&&e<Math.PI?i-=Math.PI/2:i+=Math.PI/2):o==="perpendicular"&&(i+=e,e>=Math.PI/2&&e<3*Math.PI/2&&(i+=Math.PI)),i}getLabelAlign(e){const t=Math.cos(e),i=Math.sin(e);let o,s;const a=this.getLabelOrientation(),n=isNumberEqual2(t,0),r=isNumberEqual2(i,0),l=isNumberEqual2(t,1),c=isNumberEqual2(i,-1),h=t>0&&!n,u=i>0&&!r;return a==="parallel"?(o="center",s=l&&r||u?"top":"bottom"):a==="perpendicular"?(o=c||h?"left":"right",s="middle"):(o="right",n?o="center":h&&(o="left"),s="bottom",r?s="middle":u&&(s="top")),{textAlign:o,textBaseline:s}}updateCrossLines(){var e;(e=this.crossLines)==null||e.forEach(t=>{if(t instanceof AngleCrossLine){const{shape:i,gridLength:o,innerRadiusRatio:s}=this;t.shape=i,t.axisOuterRadius=o,t.axisInnerRadius=o*s}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}};__decorateClass([ProxyOnWrite("rotation"),Validate2(NUMBER2.restrict({min:0,max:360}))],AngleAxis.prototype,"startAngle",2),__decorateClass([Validate2(AND2(NUMBER2.restrict({min:0,max:720}),GREATER_THAN("startAngle")),{optional:!0})],AngleAxis.prototype,"endAngle",2);var{RATIO:RATIO2,Validate:Validate3}=import_ag_charts_community5._ModuleSupport,{BandScale}=import_ag_charts_community5._Scale,{isNumberEqual:isNumberEqual3}=import_ag_charts_community5._Util,AngleCategoryAxis=class extends AngleAxis{constructor(e){super(e,new BandScale),this.groupPaddingInner=0,this.paddingInner=0}generateAngleTicks(){var e,t;const{scale:i,tick:o,gridLength:s}=this,a=(t=(e=o.values)!=null?e:i.ticks())!=null?t:[];if(a.length<2||isNaN(o.minSpacing))return a.map(h=>({value:h,visible:!0}));const n=a[0],r=i.convert(n),l=s*Math.cos(r),c=s*Math.sin(r);for(let h=1;h<a.length-1;h++){const u=a[h],d=i.convert(u);if(d-r>Math.PI)break;const g=s*Math.cos(d),m=s*Math.sin(d);if(Math.sqrt(__pow(g-l,2)+__pow(m-c,2))>o.minSpacing){const y=new Set([n]);return loopSymmetrically(a,h,(f,v)=>{y.add(v)}),a.map(f=>{const v=y.has(f);return{value:f,visible:v}})}}return[{value:n,visible:!0}]}avoidLabelCollisions(e){let{minSpacing:t}=this.label;if(Number.isFinite(t)||(t=0),e.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;const h=l.box.clone().grow(t/2),u=c.box.clone().grow(t/2);return h.collidesBBox(u)},o=e[0],s=e.at(-1),a=new Set([o]),n=isNumberEqual3(o.x,s.x)&&isNumberEqual3(o.y,s.y),r=Math.floor(e.length/2);for(let l=1;l<=r;l++){const c=n?e.slice(0,-1):e;if(!loopSymmetrically(c,l,i)){loopSymmetrically(c,l,(u,d)=>{a.add(d)});break}}e.forEach(l=>{a.has(l)||(l.hidden=!0,l.box=void 0)})}};AngleCategoryAxis.className="AngleCategoryAxis",AngleCategoryAxis.type="angle-category",__decorateClass([Validate3(RATIO2)],AngleCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([Validate3(RATIO2)],AngleCategoryAxis.prototype,"paddingInner",2);var AngleCategoryAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",instanceConstructor:AngleCategoryAxis,themeTemplate:ANGLE_AXIS_THEME},import_ag_charts_community7=require("ag-charts-community"),import_ag_charts_community6=require("ag-charts-community"),{LinearScale,Invalidating}=import_ag_charts_community6._Scale,{isNumberEqual:isNumberEqual4,range,isDenseInterval}=import_ag_charts_community6._Util,LinearAngleScale=class extends LinearScale{constructor(){super(...arguments),this.arcLength=0,this.niceTickStep=0}ticks(){if(!this.domain||this.domain.length<2||this.domain.some(s=>!isFinite(s)))return[];this.refresh();const[e,t]=this.getDomain(),{interval:i}=this;if(i){const s=Math.abs(i),a=this.getPixelRange();if(!isDenseInterval({start:e,stop:t,interval:s,availableRange:a}))return range(e,t,s)}const o=this.nice&&this.niceTickStep?this.niceTickStep:this.getTickStep(e,t);return range(e,t,o)}hasNiceRange(){const e=this.range.slice().sort((i,o)=>i-o);return[Math.PI,2*Math.PI].some(i=>isNumberEqual4(i,e[1]-e[0]))}getNiceStepAndTickCount(){const[e,t]=this.niceDomain;let i=this.getTickStep(e,t);const o=isNaN(this.maxTickCount)?1/0:this.maxTickCount,s=Math.abs(t-e)/i;let a=Math.pow(2,Math.ceil(Math.log(s)/Math.log(2)));return a>o&&(a/=2,i*=2),{count:a,step:i}}updateNiceDomain(){if(super.updateNiceDomain(),!this.hasNiceRange())return;const e=this.niceDomain[0]>this.niceDomain[1],t=e?this.niceDomain[1]:this.niceDomain[0],{step:i,count:o}=this.getNiceStepAndTickCount(),s=1/i,a=i>=1?Math.ceil(t/i+o)*i:Math.ceil((t+o*i)*s)/s;this.niceDomain=e?[a,t]:[t,a],this.niceTickStep=i}getPixelRange(){return this.arcLength}};__decorateClass([Invalidating],LinearAngleScale.prototype,"arcLength",2);var{AND:AND3,Default,GREATER_THAN:GREATER_THAN2,LESS_THAN,NUMBER_OR_NAN,MIN_SPACING,Validate:Validate4}=import_ag_charts_community7._ModuleSupport,{angleBetween:angleBetween2,isNumberEqual:isNumberEqual5,normalisedExtentWithMetadata}=import_ag_charts_community7._Util,AngleNumberAxisTick=class extends import_ag_charts_community7._ModuleSupport.AxisTick{constructor(){super(...arguments),this.maxSpacing=NaN}};__decorateClass([Validate4(MIN_SPACING),Default(NaN)],AngleNumberAxisTick.prototype,"maxSpacing",2);var AngleNumberAxis=class extends AngleAxis{constructor(e){super(e,new LinearAngleScale),this.shape="circle",this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:o,clipped:s}=normalisedExtentWithMetadata(e,t,i);return{domain:o,clipped:s}}createTick(){return new AngleNumberAxisTick}getRangeArcLength(){const{range:e}=this,t=Math.min(...e),i=Math.max(...e),o=angleBetween2(t,i)||2*Math.PI,s=this.gridLength;return o*s}generateAngleTicks(){var e;const t=this.getRangeArcLength(),{scale:i,tick:o,range:s}=this,{minSpacing:a=NaN,maxSpacing:n=NaN}=o,r=n?Math.floor(t/n):1,l=a?Math.floor(t/a):1/0,c=Math.floor(4/Math.PI*Math.abs(s[0]-s[1]));return i.tickCount=Math.max(r,Math.min(l,c)),i.minTickCount=r,i.maxTickCount=l,i.arcLength=t,((e=o.values)!=null?e:i.ticks()).map(u=>({value:u,visible:!0}))}avoidLabelCollisions(e){let{minSpacing:t}=this.label;Number.isFinite(t)||(t=0);const i=(a,n)=>{if(a.hidden||n.hidden)return!1;const r=a.box.clone().grow(t/2),l=n.box.clone().grow(t/2);return r.collidesBBox(l)},o=e[0],s=e.at(-1);o!==s&&isNumberEqual5(o.x,s.x)&&isNumberEqual5(o.y,s.y)&&(s.hidden=!0);for(let a=1;a<e.length;a*=2){let n=!1;for(let r=a;r<e.length;r+=a){const l=e[r],c=e[r-a];if(i(c,l)){n=!0;break}}if(!n){e.forEach((r,l)=>{l%a>0&&(r.hidden=!0,r.box=void 0)});return}}e.forEach((a,n)=>{n>0&&(a.hidden=!0,a.box=void 0)})}};AngleNumberAxis.className="AngleNumberAxis",AngleNumberAxis.type="angle-number",__decorateClass([Validate4(AND3(NUMBER_OR_NAN,LESS_THAN("max"))),Default(NaN)],AngleNumberAxis.prototype,"min",2),__decorateClass([Validate4(AND3(NUMBER_OR_NAN,GREATER_THAN2("min"))),Default(NaN)],AngleNumberAxis.prototype,"max",2);var AngleNumberAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",instanceConstructor:AngleNumberAxis,themeTemplate:ANGLE_AXIS_THEME},import_ag_charts_community8=require("ag-charts-community"),{OrdinalTimeScale}=import_ag_charts_community8._Scene,{dateToNumber}=import_ag_charts_community8._ModuleSupport,OrdinalTimeAxis=class extends import_ag_charts_community8._ModuleSupport.CategoryAxis{constructor(e){super(e,new OrdinalTimeScale)}normaliseDataDomain(e){const t=[],i=new Set;for(let o of e){typeof o=="number"&&(o=new Date(o));const s=dateToNumber(o);i.has(s)||(i.add(s),t.push(o))}return t.sort((o,s)=>dateToNumber(o)-dateToNumber(s)),{domain:t,clipped:!1}}onLabelFormatChange(e,t){t?super.onLabelFormatChange(e,t):this.labelFormatter=this.scale.tickFormat({ticks:e})}};OrdinalTimeAxis.className="OrdinalTimeAxis",OrdinalTimeAxis.type="ordinal-time";var import_ag_charts_community9=require("ag-charts-community"),ORDINAL_TIME_AXIS_THEME={__extends__:import_ag_charts_community9._Theme.EXTENDS_AXES_DEFAULTS,groupPaddingInner:0,label:{autoRotate:!1},gridLine:{__extends__:import_ag_charts_community9._Theme.EXTENDS_AXES_GRID_LINE_DEFAULTS,enabled:!1}},OrdinalTimeAxisModule={type:"axis",optionsKey:"axes[]",hidden:!0,packageType:"enterprise",chartTypes:["cartesian"],identifier:"ordinal-time",instanceConstructor:OrdinalTimeAxis,themeTemplate:ORDINAL_TIME_AXIS_THEME},import_ag_charts_community10=require("ag-charts-community"),RADIUS_AXIS_THEME={__extends__:import_ag_charts_community10._Theme.EXTENDS_AXES_DEFAULTS,line:{enabled:!1,__extends__:import_ag_charts_community10._Theme.EXTENDS_AXES_LINE_DEFAULTS},tick:{enabled:!1,__extends__:import_ag_charts_community10._Theme.EXTENDS_AXES_TICK_DEFAULTS}},import_ag_charts_community13=require("ag-charts-community"),import_ag_charts_community12=require("ag-charts-community"),import_ag_charts_community11=require("ag-charts-community"),{ChartAxisDirection:ChartAxisDirection4,Validate:Validate5,DEGREE,validateCrossLineValues:validateCrossLineValues2}=import_ag_charts_community11._ModuleSupport,{Path:Path3,Sector:Sector2,Text:Text3}=import_ag_charts_community11._Scene,{normalizeAngle360:normalizeAngle3603,toRadians:toRadians2,isNumberEqual:isNumberEqual6}=import_ag_charts_community11._Util,RadiusCrossLineLabel=class extends PolarCrossLineLabel{constructor(){super(...arguments),this.positionAngle=void 0}};__decorateClass([Validate5(DEGREE,{optional:!0})],RadiusCrossLineLabel.prototype,"positionAngle",2);var _RadiusCrossLine=class mt extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection4.Y,this.label=new RadiusCrossLineLabel,this.polygonNode=new Path3,this.sectorNode=new Sector2,this.labelNode=new Text3,this.outerRadius=0,this.innerRadius=0,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:i,type:o,value:s,range:a}=this;if(!i||!o||!validateCrossLineValues2(o,s,a,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}o==="line"&&i instanceof import_ag_charts_community11._Scale.BandScale&&(this.type="range",this.range=[s,s]),this.updateRadii();const{innerRadius:n,outerRadius:r}=this;t&&(t=n>=this.axisInnerRadius&&r<=this.axisOuterRadius),this.group.visible=t,this.labelGroup.visible=t,this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t),this.group.zIndex=this.type==="line"?mt.LINE_LAYER_ZINDEX:mt.RANGE_LAYER_ZINDEX}updateRadii(){var t;const{range:i,scale:o,type:s,axisInnerRadius:a,axisOuterRadius:n}=this;if(!o)return{innerRadius:0,outerRadius:0};const r=h=>n+a-h;let l=0,c=0;if(s==="line")l=r(o.convert(this.value)),c=l;else{const h=Math.abs((t=o?.bandwidth)!=null?t:0),u=i.map(d=>o.convert(d));l=r(Math.max(...u)),c=r(Math.min(...u))+h}this.outerRadius=l,this.innerRadius=c}drawPolygon(t,i,o){i.forEach((s,a)=>{const n=t*Math.cos(s),r=t*Math.sin(s);a===0?o.path.moveTo(n,r):o.path.lineTo(n,r)}),o.path.closePath()}updatePolygonNode(t){const{gridAngles:i,polygonNode:o,scale:s,shape:a,type:n,innerRadius:r,outerRadius:l}=this;if(!t||a!=="polygon"||!s||!i){o.visible=!1;return}o.visible=!0;const c=this.getPadding();o.path.clear({trackChanges:!0}),this.drawPolygon(l-c,i,o);const h=i.slice().reverse(),u=n==="line"?l-c:r+c;this.drawPolygon(u,h,o),this.setSectorNodeProps(o)}updateSectorNode(t){const{axisInnerRadius:i,axisOuterRadius:o,scale:s,sectorNode:a,shape:n,innerRadius:r,outerRadius:l}=this;if(!t||n!=="circle"||!s){a.visible=!1;return}a.visible=!0,a.startAngle=0,a.endAngle=2*Math.PI;const c=this.getPadding();a.innerRadius=import_ag_charts_community11._Util.clamp(i,r+c,o),a.outerRadius=import_ag_charts_community11._Util.clamp(i,l-c,o),this.setSectorNodeProps(a)}updateLabelNode(t){var i,o;const{innerRadius:s,label:a,labelNode:n,scale:r,shape:l,type:c}=this;if(!t||a.enabled===!1||!a.text||!r){n.visible=!1;return}const h=normalizeAngle3603(toRadians2(((i=a.positionAngle)!=null?i:0)-90)),u=(isNumberEqual6(h,0)||h>0)&&h<Math.PI,d=u?h-Math.PI/2:h+Math.PI/2;let g=0;const m=(o=this.gridAngles)!=null?o:[];c==="line"?g=s+a.padding:l==="circle"||m.length<3?g=s-a.padding:g=s*Math.cos(Math.PI/m.length)-a.padding;const p=g*Math.cos(h),y=g*Math.sin(h);let f;c==="line"?f=u?"top":"bottom":f=u?"bottom":"top",this.setLabelNodeProps(n,p,y,f,d)}getPadding(){var t,i;const{scale:o}=this;if(!o)return 0;const s=Math.abs((t=o.bandwidth)!=null?t:0),a=Math.abs((i=o.step)!=null?i:0);return o instanceof import_ag_charts_community11._Scale.BandScale?(a-s)/2:0}};_RadiusCrossLine.className="RadiusCrossLine";var RadiusCrossLine=_RadiusCrossLine,{assignJsonApplyConstructedArray:assignJsonApplyConstructedArray2,ChartAxisDirection:ChartAxisDirection5,Default:Default2,Layers:Layers2,DEGREE:DEGREE2,MIN_SPACING:MIN_SPACING2,BOOLEAN:BOOLEAN2,Validate:Validate6}=import_ag_charts_community12._ModuleSupport,{Caption,Group:Group2,Path:Path4,Selection}=import_ag_charts_community12._Scene,{isNumberEqual:isNumberEqual7,normalizeAngle360:normalizeAngle3604,toRadians:toRadians3}=import_ag_charts_community12._Util,RadiusAxisTick=class extends import_ag_charts_community12._ModuleSupport.AxisTick{constructor(){super(...arguments),this.maxSpacing=NaN}};__decorateClass([Validate6(MIN_SPACING2),Default2(NaN)],RadiusAxisTick.prototype,"maxSpacing",2);var RadiusAxisLabel=class extends import_ag_charts_community12._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};__decorateClass([Validate6(BOOLEAN2,{optional:!0})],RadiusAxisLabel.prototype,"autoRotate",2),__decorateClass([Validate6(DEGREE2)],RadiusAxisLabel.prototype,"autoRotateAngle",2);var RadiusAxis=class extends import_ag_charts_community12._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.positionAngle=0,this.gridPathGroup=this.gridGroup.appendChild(new Group2({name:`${this.id}-gridPaths`,zIndex:Layers2.AXIS_GRID_ZINDEX})),this.gridPathSelection=Selection.select(this.gridPathGroup,Path4)}get direction(){return ChartAxisDirection5.Y}assignCrossLineArrayConstructor(e){assignJsonApplyConstructedArray2(e,RadiusCrossLine)}getAxisTransform(){const e=this.scale.range[0],{translation:t,positionAngle:i,innerRadiusRatio:o}=this,s=e*o,a=toRadians3(i);return{translationX:t.x,translationY:t.y-e-s,rotation:a,rotationCenterX:0,rotationCenterY:e+s}}updateSelections(e,t,i){var o;super.updateSelections(e,t,i);const{gridLine:{enabled:s,style:a,width:n},shape:r}=this;if(!a)return;const l=this.prepareTickData(t),c=a.length,h=(y,f)=>{const{stroke:v,lineDash:M}=a[f%c];y.stroke=v,y.strokeWidth=n,y.lineDash=M,y.fill=void 0},[u,d]=(o=this.gridRange)!=null?o:[0,2*Math.PI],g=isNumberEqual7(d-u,2*Math.PI),m=(y,f)=>{const{path:v}=y;v.clear({trackChanges:!0});const M=this.getTickRadius(f);g?(v.moveTo(M,0),v.arc(0,0,M,0,2*Math.PI)):(v.moveTo(M*Math.cos(u),M*Math.sin(u)),v.arc(0,0,M,normalizeAngle3604(u),normalizeAngle3604(d))),g&&v.closePath()},p=(y,f)=>{const{path:v}=y,M=this.gridAngles;if(v.clear({trackChanges:!0}),!M||M.length<3)return;const x=this.getTickRadius(f);M.forEach((S,_)=>{const D=x*Math.cos(S),N=x*Math.sin(S);_===0?v.moveTo(D,N):v.lineTo(D,N),M.forEach((E,I)=>{const b=x*Math.cos(E),A=x*Math.sin(E);I===0?v.moveTo(b,A):v.lineTo(b,A)}),v.closePath()}),v.closePath()};this.gridPathSelection.update(s?l:[]).each((y,f,v)=>{h(y,v),r==="circle"?m(y,f):p(y,f)})}updateTitle(){var e;const t=c=>c.defaultValue,{title:i,_titleCaption:o,range:s,moduleCtx:{callbackCache:a}}=this,{formatter:n=t}=(e=this.title)!=null?e:{};if(!i){o.enabled=!1;return}o.enabled=i.enabled,o.fontFamily=i.fontFamily,o.fontSize=i.fontSize,o.fontStyle=i.fontStyle,o.fontWeight=i.fontWeight,o.color=i.color,o.wrapping=i.wrapping;let r=!1;const l=o.node;i.enabled&&(r=!0,l.rotation=Math.PI/2,l.x=Math.floor((s[0]+s[1])/2),l.y=-Caption.SMALL_PADDING,l.textAlign="center",l.textBaseline="bottom",l.text=a.call(n,this.getTitleFormatterParams())),l.visible=r}createTick(){return new RadiusAxisTick}updateCrossLines(){var e;(e=this.crossLines)==null||e.forEach(t=>{if(t instanceof RadiusCrossLine){const{shape:i,gridAngles:o,range:s,innerRadiusRatio:a}=this,n=s[0];t.shape=i,t.gridAngles=o,t.axisOuterRadius=n,t.axisInnerRadius=n*a}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}createLabel(){return new RadiusAxisLabel}};__decorateClass([Validate6(DEGREE2),Default2(0)],RadiusAxis.prototype,"positionAngle",2);var{RATIO:RATIO3,ProxyPropertyOnWrite,Validate:Validate7}=import_ag_charts_community13._ModuleSupport,{BandScale:BandScale2}=import_ag_charts_community13._Scale,RadiusCategoryAxis=class extends RadiusAxis{constructor(e){super(e,new BandScale2),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}prepareTickData(e){return e.slice().reverse()}getTickRadius(e){const{scale:t}=this,i=t.range[0],o=i*this.innerRadiusRatio,s=(i-o)/t.domain.length;return i-e.translationY+o-s/2}};RadiusCategoryAxis.className="RadiusCategoryAxis",RadiusCategoryAxis.type="radius-category",__decorateClass([Validate7(RATIO3)],RadiusCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingInner"),Validate7(RATIO3)],RadiusCategoryAxis.prototype,"paddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingOuter"),Validate7(RATIO3)],RadiusCategoryAxis.prototype,"paddingOuter",2);var RadiusCategoryAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",instanceConstructor:RadiusCategoryAxis,themeTemplate:RADIUS_AXIS_THEME},import_ag_charts_community14=require("ag-charts-community"),{AND:AND4,Default:Default3,GREATER_THAN:GREATER_THAN3,LESS_THAN:LESS_THAN2,NUMBER_OR_NAN:NUMBER_OR_NAN2,Validate:Validate8}=import_ag_charts_community14._ModuleSupport,{LinearScale:LinearScale2}=import_ag_charts_community14._Scale,{normalisedExtentWithMetadata:normalisedExtentWithMetadata2}=import_ag_charts_community14._Util,RadiusNumberAxis=class extends RadiusAxis{constructor(e){super(e,new LinearScale2),this.shape="polygon",this.min=NaN,this.max=NaN}prepareTickData(e){var t;const{scale:i}=this,o=(t=i.getDomain)==null?void 0:t.call(i)[1];return e.filter(({tick:s})=>s!==o).sort((s,a)=>a.tick-s.tick)}getTickRadius(e){const{scale:t}=this,i=t.range[0],o=i*this.innerRadiusRatio;return i-e.translationY+o}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:o,clipped:s}=normalisedExtentWithMetadata2(e,t,i);return{domain:o,clipped:s}}};RadiusNumberAxis.className="RadiusNumberAxis",RadiusNumberAxis.type="radius-number",__decorateClass([Validate8(AND4(NUMBER_OR_NAN2,LESS_THAN2("max"))),Default3(NaN)],RadiusNumberAxis.prototype,"min",2),__decorateClass([Validate8(AND4(NUMBER_OR_NAN2,GREATER_THAN3("min"))),Default3(NaN)],RadiusNumberAxis.prototype,"max",2);var RadiusNumberAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",instanceConstructor:RadiusNumberAxis,themeTemplate:RADIUS_AXIS_THEME},import_ag_charts_community15=require("ag-charts-community"),{BOOLEAN:BOOLEAN3,POSITIVE_NUMBER:POSITIVE_NUMBER2,ObserveChanges,Validate:Validate9}=import_ag_charts_community15._ModuleSupport,Animation=class extends import_ag_charts_community15._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,e.animationManager.skip(!1)}};__decorateClass([ObserveChanges((e,t)=>{e.ctx.animationManager.skip(!t)}),Validate9(BOOLEAN3)],Animation.prototype,"enabled",2),__decorateClass([ObserveChanges((e,t)=>{e.ctx.animationManager.defaultDuration=t}),Validate9(POSITIVE_NUMBER2,{optional:!0})],Animation.prototype,"duration",2);var AnimationModule={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:Animation,themeTemplate:{animation:{enabled:!0}}},import_ag_charts_community17=require("ag-charts-community"),import_ag_charts_community16=require("ag-charts-community"),{Image}=import_ag_charts_community16._Scene,{BaseProperties,ObserveChanges:ObserveChanges2,ProxyProperty,Validate:Validate10,NUMBER:NUMBER3,POSITIVE_NUMBER:POSITIVE_NUMBER3,RATIO:RATIO4,createElement,calculatePlacement}=import_ag_charts_community16._ModuleSupport,BackgroundImage=class extends BaseProperties{constructor(){super(),this.opacity=1,this.loadedSynchronously=!0,this.containerWidth=0,this.containerHeight=0,this.onLoad=void 0,this.onImageLoad=()=>{var e;this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),(e=this.onLoad)==null||e.call(this))},this.imageElement=createElement("img"),this.imageElement.onload=this.onImageLoad,this.node=new Image(this.imageElement)}get complete(){return this.imageElement.width>0&&this.imageElement.height>0}performLayout(e,t){this.containerWidth=e,this.containerHeight=t,this.node.setProperties(this.complete?__spreadValues({visible:!0,opacity:this.opacity},calculatePlacement(this.imageElement.width,this.imageElement.height,this.containerWidth,this.containerHeight,this)):{visible:!1})}};__decorateClass([Validate10(NUMBER3,{optional:!0})],BackgroundImage.prototype,"top",2),__decorateClass([Validate10(NUMBER3,{optional:!0})],BackgroundImage.prototype,"right",2),__decorateClass([Validate10(NUMBER3,{optional:!0})],BackgroundImage.prototype,"bottom",2),__decorateClass([Validate10(NUMBER3,{optional:!0})],BackgroundImage.prototype,"left",2),__decorateClass([Validate10(POSITIVE_NUMBER3,{optional:!0})],BackgroundImage.prototype,"width",2),__decorateClass([Validate10(POSITIVE_NUMBER3,{optional:!0})],BackgroundImage.prototype,"height",2),__decorateClass([Validate10(RATIO4)],BackgroundImage.prototype,"opacity",2),__decorateClass([ProxyProperty("imageElement.src"),ObserveChanges2(e=>e.loadedSynchronously=e.complete)],BackgroundImage.prototype,"url",2);var{ActionOnSet,OBJECT,Validate:Validate11}=import_ag_charts_community17._ModuleSupport,Background=class extends import_ag_charts_community17._ModuleSupport.Background{constructor(e){super(e),this.ctx=e,this.image=new BackgroundImage}onLayoutComplete(e){if(super.onLayoutComplete(e),this.image){const{width:t,height:i}=e.chart;this.image.performLayout(t,i)}}onImageLoad(){this.ctx.updateService.update(import_ag_charts_community17._ModuleSupport.ChartUpdateType.SCENE_RENDER)}};__decorateClass([Validate11(OBJECT,{optional:!0}),ActionOnSet({newValue(e){this.node.appendChild(e.node),e.onLoad=()=>this.onImageLoad()},oldValue(e){this.node.removeChild(e.node),e.onLoad=void 0}})],Background.prototype,"image",2);var BackgroundModule={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:Background},import_ag_charts_community19=require("ag-charts-community"),import_ag_charts_community18=require("ag-charts-community"),DEFAULT_CONTEXT_MENU_CLASS="ag-chart-context-menu",DEFAULT_CONTEXT_MENU_DARK_CLASS="ag-charts-dark-context-menu",defaultContextMenuCss=`
.${DEFAULT_CONTEXT_MENU_CLASS} {
    background: rgb(248, 248, 248);
    border: 1px solid #babfc7;
    border-radius: 5px;
    box-shadow: 0 1px 4px 1px rgba(186, 191, 199, 0.4);
    color: rgb(24, 29, 31);
    font: 13px Verdana, sans-serif;
    position: fixed;
    transition: transform 0.1s ease;
    white-space: nowrap;
    z-index: 99999;
}

.${DEFAULT_CONTEXT_MENU_CLASS}.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    color: white;
    background: #15181c;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__cover {
    position: fixed;
    left: 0px;
    top: 0px;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__menu {
    display: flex;
    flex-direction: column;
    padding: 0.5em 0;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item {
    background: none;
    border: none;
    box-sizing: border-box;
    font: inherit;
    padding: 0.5em 1em;
    text-align: left;
    -webkit-appearance: none;
    -moz-appearance: none;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    color: white;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item:hover {
    background: rgb(33, 150, 243, 0.1);
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item:hover.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    background: rgb(33, 150, 243, 0.1);
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item:active {
    background: rgb(33, 150, 243, 0.2);
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item:active.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    background: rgb(33, 150, 243, 0.1);
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item[disabled] {
    border: none;
    opacity: 0.5;
    text-align: left;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item[disabled]:hover {
    background: inherit;
    cursor: inherit;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__divider {
    margin: 5px 0;
    background: #babfc7;
    height: 1px;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__divider.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    background: rgb(33, 150, 243, 0.1);
}
`,{BOOLEAN:BOOLEAN4,Validate:Validate12,createElement:createElement2,getDocument,getWindow,injectStyle}=import_ag_charts_community18._ModuleSupport,ContextMenu=class extends import_ag_charts_community18._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!0,this.darkTheme=!1,this.extraActions=[],this.extraNodeActions=[],this.x=0,this.y=0,this.highlightManager=e.highlightManager,this.interactionManager=e.interactionManager,this.registry=e.contextMenuRegistry,this.scene=e.scene;const{Default:t,ContextMenu:i,All:o}=import_ag_charts_community18._ModuleSupport.InteractionState,s=t|i;if(this.destroyFns.push(e.interactionManager.addListener("contextmenu",a=>this.onContextMenu(a),s),e.interactionManager.addListener("click",()=>this.onClick(),o)),this.groups={default:[],node:[],extra:[],extraNode:[]},this.canvasElement=e.scene.canvas.element,this.container=getDocument().body,this.element=this.container.appendChild(createElement2("div")),this.element.classList.add(DEFAULT_CONTEXT_MENU_CLASS),this.element.addEventListener("contextmenu",a=>a.preventDefault()),this.destroyFns.push(()=>{var a;return(a=this.element.parentNode)==null?void 0:a.removeChild(this.element)}),this.hide(),typeof IntersectionObserver<"u"){const a=new IntersectionObserver(n=>{for(const r of n)r.target===this.canvasElement&&r.intersectionRatio===0&&this.hide()},{root:this.container});a.observe(this.canvasElement),this.intersectionObserver=a}if(typeof MutationObserver<"u"){const a=new MutationObserver(()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()});a.observe(this.element,{childList:!0}),this.mutationObserver=a}injectStyle(defaultContextMenuCss,"contextMenu"),this.registry.registerDefaultAction({id:"download",label:"Download",action:()=>{const a=e.chartService.title;let n="image";a?.enabled&&a?.text!==void 0&&(n=a.text),this.scene.download(n)}})}isShown(){return this.menuElement!==void 0}onClick(){this.isShown()&&this.hide()}onContextMenu(e){if(!this.enabled)return;this.showEvent=e.sourceEvent,this.x=e.pageX,this.y=e.pageY,this.groups.default=this.registry.copyDefaultActions(),this.pickedNode=this.highlightManager.getActivePicked(),this.extraActions.length>0&&(this.groups.extra=[...this.extraActions]),this.extraNodeActions.length>0&&this.pickedNode&&(this.groups.extraNode=[...this.extraNodeActions]);const{default:t,node:i,extra:o,extraNode:s}=this.groups;t.length+i.length+o.length+s.length!==0&&(e.consume(),e.sourceEvent.preventDefault(),this.show())}show(){this.interactionManager.pushState(import_ag_charts_community18._ModuleSupport.InteractionState.ContextMenu),this.element.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme);const e=this.renderMenu();this.menuElement?this.element.replaceChild(e,this.menuElement):this.element.appendChild(e),this.menuElement=e,this.element.style.display="block"}hide(){this.interactionManager.popState(import_ag_charts_community18._ModuleSupport.InteractionState.ContextMenu),this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0),this.element.style.display="none"}renderMenu(){const e=createElement2("div");return e.classList.add(`${DEFAULT_CONTEXT_MENU_CLASS}__menu`),e.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme),this.appendMenuGroup(e,this.groups.default,!1),this.pickedNode&&this.appendMenuGroup(e,this.groups.node),this.appendMenuGroup(e,this.groups.extra),this.pickedNode&&this.appendMenuGroup(e,this.groups.extraNode),e}appendMenuGroup(e,t,i=!0){t.length!==0&&(i&&e.appendChild(this.createDividerElement()),t.forEach(o=>{const s=this.renderItem(o);s&&e.appendChild(s)}))}renderItem(e){if(e&&typeof e=="object"&&e.constructor===Object)return this.createActionElement(e)}createDividerElement(){const e=createElement2("div");return e.classList.add(`${DEFAULT_CONTEXT_MENU_CLASS}__divider`),e.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme),e}createActionElement({id:e,label:t,action:i}){return e&&this.registry.isDisabled(e)?this.createDisabledElement(t):this.createButtonElement(t,i)}createButtonElement(e,t){const i=createElement2("button");return i.classList.add(`${DEFAULT_CONTEXT_MENU_CLASS}__item`),i.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme),i.innerHTML=e,i.onclick=()=>{var o;const s=(o=this.pickedNode)==null?void 0:o.series.createNodeContextMenuActionEvent(this.showEvent,this.pickedNode);s?(Object.defineProperty(s,"itemId",{enumerable:!1,get:()=>{var a;return import_ag_charts_community18._Util.Logger.warnOnce("Property [AgNodeContextMenuActionEvent.itemId] is deprecated. Use [yKey], [angleKey] and others instead."),(a=this.pickedNode)==null?void 0:a.itemId}}),t(s)):t({event:this.showEvent}),this.hide()},i}createDisabledElement(e){const t=createElement2("button");return t.classList.add(`${DEFAULT_CONTEXT_MENU_CLASS}__item`),t.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme),t.disabled=!0,t.innerHTML=e,t}reposition(){const{x:e,y:t}=this;this.element.style.top="unset",this.element.style.bottom="unset",this.element.style.left="unset",this.element.style.right="unset",e+this.element.offsetWidth>getWindow("innerWidth")?this.element.style.right=`calc(100% - ${e-1}px)`:this.element.style.left=`${e+1}px`,t+this.element.offsetHeight>getWindow("innerHeight")?this.element.style.bottom=`calc(100% - ${t}px - 0.5em)`:this.element.style.top=`calc(${t}px - 0.5em)`}destroy(){var e,t;super.destroy(),(e=this.intersectionObserver)==null||e.unobserve(this.canvasElement),(t=this.mutationObserver)==null||t.disconnect()}};__decorateClass([Validate12(BOOLEAN4)],ContextMenu.prototype,"enabled",2),__decorateClass([Validate12(BOOLEAN4)],ContextMenu.prototype,"darkTheme",2);var ContextMenuModule={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],optionsKey:"contextMenu",instanceConstructor:ContextMenu,themeTemplate:{contextMenu:{enabled:!0,darkTheme:import_ag_charts_community19._Theme.IS_DARK_THEME}}},import_ag_charts_community21=require("ag-charts-community"),import_ag_charts_community20=require("ag-charts-community"),{ActionOnSet:ActionOnSet2,BaseProperties:BaseProperties2,BOOLEAN:BOOLEAN5,FUNCTION,NUMBER:NUMBER4,STRING:STRING2,Validate:Validate13,createElement:createElement3,injectStyle:injectStyle2}=import_ag_charts_community20._ModuleSupport,{BBox}=import_ag_charts_community20._Scene,DEFAULT_LABEL_CLASS="ag-crosshair-label",defaultLabelCss=`
.${DEFAULT_LABEL_CLASS} {
    position: absolute;
    left: 0px;
    top: 0px;
    user-select: none;
    pointer-events: none;
    font: 12px Verdana, sans-serif;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    box-sizing: border-box;
}

.${DEFAULT_LABEL_CLASS}-content {
    padding: 0 7px;
    border-radius: 2px;
    line-height: 1.7em;
    background-color: rgb(71,71,71);
    color: rgb(255, 255, 255);
}

.${DEFAULT_LABEL_CLASS}-hidden {
    top: -10000px !important;
}
`,CrosshairLabelProperties=class extends import_ag_charts_community20._Scene.ChangeDetectableProperties{constructor(){super(...arguments),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0}};__decorateClass([Validate13(BOOLEAN5)],CrosshairLabelProperties.prototype,"enabled",2),__decorateClass([Validate13(STRING2,{optional:!0})],CrosshairLabelProperties.prototype,"className",2),__decorateClass([Validate13(NUMBER4)],CrosshairLabelProperties.prototype,"xOffset",2),__decorateClass([Validate13(NUMBER4)],CrosshairLabelProperties.prototype,"yOffset",2),__decorateClass([Validate13(STRING2,{optional:!0})],CrosshairLabelProperties.prototype,"format",2),__decorateClass([Validate13(FUNCTION,{optional:!0})],CrosshairLabelProperties.prototype,"renderer",2);var CrosshairLabel=class extends BaseProperties2{constructor(e){super(),this.labelRoot=e,this.enabled=!0,this.xOffset=0,this.yOffset=0,this.renderer=void 0,this.element=createElement3("div"),this.element.classList.add(DEFAULT_LABEL_CLASS),e.appendChild(this.element),injectStyle2(defaultLabelCss,"crosshairLabel")}show(e){const{element:t}=this;let i=e.x+this.xOffset,o=e.y+this.yOffset;const s=(l,c,h)=>Math.max(Math.min(c,h),l),a=this.getContainerBoundingBox(),n=a.x+a.width-t.clientWidth-1,r=a.y+a.height-t.clientHeight;i=s(a.x+1,i,n),o=s(a.y,o,r),t.style.transform=`translate(${Math.round(i)}px, ${Math.round(o)}px)`,this.toggle(!0)}setLabelHtml(e){e!==void 0&&(this.element.innerHTML=e)}computeBBox(){const{element:e}=this;return new import_ag_charts_community20._Scene.BBox(e.clientLeft,e.clientTop,e.clientWidth,e.clientHeight)}getContainerBoundingBox(){const{width:e,height:t}=this.labelRoot.getBoundingClientRect();return new BBox(0,0,e,t)}toggle(e){this.element.classList.toggle(`${DEFAULT_LABEL_CLASS}-hidden`,!e)}destroy(){const{parentNode:e}=this.element;e&&e.removeChild(this.element)}toLabelHtml(e,t){var i,o;if(typeof e=="string")return e;t=t??{};const{text:s=(i=t.text)!=null?i:"",color:a=t.color,backgroundColor:n=t.backgroundColor,opacity:r=(o=t.opacity)!=null?o:1}=e,l=`opacity: ${r}; background-color: ${n?.toLowerCase()}; color: ${a}`;return`<div class="${DEFAULT_LABEL_CLASS}-content" style="${l}">
                    <span>${s}</span>
                </div>`}};__decorateClass([Validate13(BOOLEAN5)],CrosshairLabel.prototype,"enabled",2),__decorateClass([Validate13(STRING2,{optional:!0}),ActionOnSet2({changeValue(e,t){e!==t&&(t&&this.element.classList.remove(t),e&&this.element.classList.add(e))}})],CrosshairLabel.prototype,"className",2),__decorateClass([Validate13(NUMBER4)],CrosshairLabel.prototype,"xOffset",2),__decorateClass([Validate13(NUMBER4)],CrosshairLabel.prototype,"yOffset",2),__decorateClass([Validate13(STRING2,{optional:!0})],CrosshairLabel.prototype,"format",2),__decorateClass([Validate13(FUNCTION,{optional:!0})],CrosshairLabel.prototype,"renderer",2);var{Group:Group3,Line,BBox:BBox2}=import_ag_charts_community21._Scene,{createId:createId2}=import_ag_charts_community21._Util,{POSITIVE_NUMBER:POSITIVE_NUMBER4,RATIO:RATIO5,BOOLEAN:BOOLEAN6,COLOR_STRING:COLOR_STRING2,LINE_DASH:LINE_DASH2,OBJECT:OBJECT2,Validate:Validate14,Layers:Layers3,getDocument:getDocument2}=import_ag_charts_community21._ModuleSupport,Crosshair=class extends import_ag_charts_community21._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.id=createId2(this),this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.label=new CrosshairLabelProperties,this.seriesRect=new BBox2(0,0,0,0),this.hoverRect=new BBox2(0,0,0,0),this.bounds=new BBox2(0,0,0,0),this.visible=!1,this.crosshairGroup=new Group3({layer:!0,zIndex:Layers3.SERIES_CROSSHAIR_ZINDEX}),this.lineGroup=this.crosshairGroup.appendChild(new Group3({name:`${this.id}-crosshair-lines`,zIndex:Layers3.SERIES_CROSSHAIR_ZINDEX})),this.lineGroupSelection=import_ag_charts_community21._Scene.Selection.select(this.lineGroup,Line,!1),this.activeHighlight=void 0,this.axisCtx=e.parent,this.crosshairGroup.visible=!1,this.labels={};const t=e.regionManager.getRegion("series");this.destroyFns.push(e.scene.attachNode(this.crosshairGroup),t.addListener("hover",i=>this.onMouseMove(i)),t.addListener("leave",()=>this.onMouseOut()),e.highlightManager.addListener("highlight-change",i=>this.onHighlightChange(i)),e.layoutService.addListener("layout-complete",i=>this.layout(i)),()=>Object.entries(this.labels).forEach(([i,o])=>o.destroy()))}layout({series:{rect:e,paddedRect:t,visible:i},axes:o}){if(this.hideCrosshairs(),!(i&&o&&this.enabled)){this.visible=!1;return}this.visible=!0,this.seriesRect=e,this.hoverRect=t;const{position:s="left",axisId:a}=this.axisCtx,n=o.find(u=>u.id===a);if(!n)return;this.axisLayout=n;const r=n.gridPadding+n.seriesAreaPadding;this.bounds=this.buildBounds(e,s,r);const{crosshairGroup:l,bounds:c}=this;l.translationX=Math.round(c.x),l.translationY=Math.round(c.y);const h=["pointer",...this.axisCtx.seriesKeyProperties()];this.updateSelections(h),this.updateLines(),this.updateLabels(h)}buildBounds(e,t,i){const o=e.clone();return o.x+=t==="left"?-i:0,o.y+=t==="top"?-i:0,o.width+=t==="left"||t==="right"?i:0,o.height+=t==="top"||t==="bottom"?i:0,o}updateSelections(e){this.lineGroupSelection.update(e,t=>t.append(new Line),t=>t)}updateLabels(e){var t;const{labels:i,ctx:o,axisLayout:s}=this;e.forEach(n=>{var r,l;(l=i[n])!=null||(i[n]=new CrosshairLabel((r=o.scene.canvas.container)!=null?r:getDocument2().body)),this.updateLabel(i[n])});const a=(t=this.label.format)!=null?t:s?.label.format;this.labelFormatter=a?this.axisCtx.scaleValueFormatter(a):void 0}updateLabel(e){const{enabled:t,className:i,xOffset:o,yOffset:s,format:a,renderer:n}=this.label;e.enabled=t,e.className=i,e.xOffset=o,e.yOffset=s,e.format=a,e.renderer=n}updateLines(){const{lineGroupSelection:e,bounds:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:n,axisLayout:r}=this;if(!r)return;const l=this.isVertical();e.each(c=>{c.stroke=i,c.strokeWidth=o,c.strokeOpacity=s,c.lineDash=a,c.lineDashOffset=n,c.y1=0,c.y2=l?t.height:0,c.x1=0,c.x2=l?0:t.width})}isVertical(){return this.axisCtx.direction==="x"}formatValue(e){var t;const{labelFormatter:i,axisLayout:o,ctx:{callbackCache:s}}=this;if(i){const r=s.call(i,e);if(r!==void 0)return r}const a=e%1===0,n=((t=o?.label.fractionDigits)!=null?t:0)+(a?0:1);return typeof e=="number"?e.toFixed(n):String(e)}onMouseMove(e){if(!this.enabled||this.snap)return;const{crosshairGroup:t,hoverRect:i}=this,{offsetX:o,offsetY:s}=e;if(this.visible&&i.containsPoint(o,s)){t.visible=!0;const a=this.getData(e);this.updatePositions(a)}else this.hideCrosshairs()}onMouseOut(){this.hideCrosshairs()}onHighlightChange(e){var t,i,o;if(!this.enabled)return;const{crosshairGroup:s,axisCtx:a}=this,{datum:n,series:r}=(t=e.currentHighlight)!=null?t:{},l=n&&(((i=r?.axes.x)==null?void 0:i.id)===a.axisId||((o=r?.axes.y)==null?void 0:o.id)===a.axisId);if(this.activeHighlight=l?e.currentHighlight:void 0,this.snap){if(!this.visible||!this.activeHighlight){this.hideCrosshairs();return}const c=this.getActiveHighlightData(this.activeHighlight);this.updatePositions(c),s.visible=!0}}updatePositions(e){const{seriesRect:t,lineGroupSelection:i}=this;i.each((o,s)=>{const a=e[s];if(!a){o.visible=!1;return}o.visible=!0;const{value:n,position:r}=a;let l=0,c=0;this.isVertical()?(l=r,o.translationX=Math.round(l)):(c=r,o.translationY=Math.round(c)),this.label.enabled?this.showLabel(l+t.x,c+t.y,n,s):this.hideLabel(s)})}getData(e){var t,i;const{seriesRect:o,axisCtx:s}=this,a="pointer",{datum:n,xKey:r="",yKey:l=""}=(t=this.activeHighlight)!=null?t:{},{offsetX:c,offsetY:h}=e,u=c-o.x,d=h-o.y,g=this.isVertical();return{[a]:{position:g?u:d,value:s.continuous?s.scaleInvert(g?u:d):(i=n?.[g?r:l])!=null?i:""}}}getActiveHighlightData(e){var t,i;const{axisCtx:o}=this,{datum:s,series:a,xKey:n="",aggregatedValue:r,cumulativeValue:l,midPoint:c}=e,h=a.getKeyProperties(o.direction),u=o.scaleBandwidth()/2,d=((t=a.axes[o.direction])==null?void 0:t.id)===o.axisId,g=h.indexOf("yKey")>-1&&d,m=h.indexOf("xKey")>-1&&d;if(g&&r!==void 0)return{yKey:{value:r,position:o.scaleConvert(r)+u}};if(g&&l!==void 0)return{yKey:{value:l,position:o.scaleConvert(l)+u}};if(m){const y=(i=this.isVertical()?c?.x:c?.y)!=null?i:0;return{xKey:{value:o.continuous?o.scaleInvert(y):s[n],position:y}}}const p={};return h.forEach(y=>{const f=a.properties[y],v=s[f],M=o.scaleConvert(v)+u;p[y]={value:v,position:M}}),p}getLabelHtml(e,t){const{label:{renderer:i},axisLayout:{label:{fractionDigits:o=0}={}}={}}=this,s={text:this.formatValue(e)};if(i){const a={value:e,fractionDigits:o};return t.toLabelHtml(i(a),s)}return t.toLabelHtml(s)}showLabel(e,t,i,o){const{axisCtx:s,bounds:a,axisLayout:n}=this;if(!n)return;const{label:{padding:r},tickSize:l}=n,c=r+l,h=this.labels[o],u=this.getLabelHtml(i,h);h.setLabelHtml(u);const d=h.computeBBox();let g;if(this.isVertical()){const m=-d.width/2,p=s.position==="bottom"?0:-d.height,y=s.position==="bottom"?a.y+a.height+c:a.y-c;g={x:e+m,y:y+p}}else{const m=-d.height/2,p=s.position==="right"?0:-d.width;g={x:(s.position==="right"?a.x+a.width+c:a.x-c)+p,y:t+m}}h.show(g)}hideCrosshairs(){this.crosshairGroup.visible=!1;for(const e in this.labels)this.hideLabel(e)}hideLabel(e){this.labels[e].toggle(!1)}};__decorateClass([Validate14(BOOLEAN6)],Crosshair.prototype,"enabled",2),__decorateClass([Validate14(COLOR_STRING2,{optional:!0})],Crosshair.prototype,"stroke",2),__decorateClass([Validate14(LINE_DASH2,{optional:!0})],Crosshair.prototype,"lineDash",2),__decorateClass([Validate14(POSITIVE_NUMBER4)],Crosshair.prototype,"lineDashOffset",2),__decorateClass([Validate14(POSITIVE_NUMBER4)],Crosshair.prototype,"strokeWidth",2),__decorateClass([Validate14(RATIO5)],Crosshair.prototype,"strokeOpacity",2),__decorateClass([Validate14(BOOLEAN6)],Crosshair.prototype,"snap",2),__decorateClass([Validate14(OBJECT2)],Crosshair.prototype,"label",2);var import_ag_charts_community22=require("ag-charts-community"),AXIS_CROSSHAIR_THEME={crosshair:{enabled:!0,snap:!0,stroke:import_ag_charts_community22._Theme.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}},category:{crosshair:{enabled:!1,snap:!0,stroke:import_ag_charts_community22._Theme.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},CrosshairModule={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","ordinal-time","number","log","time"],instanceConstructor:Crosshair,themeTemplate:AXIS_CROSSHAIR_THEME},import_ag_charts_community23=require("ag-charts-community"),{BOOLEAN:BOOLEAN7,FUNCTION:FUNCTION2,ActionOnSet:ActionOnSet3,Validate:Validate15}=import_ag_charts_community23._ModuleSupport,DataSource=class extends import_ag_charts_community23._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.enabled=!1,this.getData=()=>Promise.resolve(),this.dataService=e.dataService}updateCallback(e,t){this.dataService&&(e&&t!=null?this.dataService.updateCallback(t):this.dataService.clearCallback())}};__decorateClass([ActionOnSet3({newValue(e){this.updateCallback(e,this.getData)}}),Validate15(BOOLEAN7)],DataSource.prototype,"enabled",2),__decorateClass([ActionOnSet3({newValue(e){this.updateCallback(this.enabled,e)}}),Validate15(FUNCTION2)],DataSource.prototype,"getData",2),__decorateClass([ActionOnSet3({newValue(e){this.dataService.requestThrottle=e}})],DataSource.prototype,"requestThrottle",2),__decorateClass([ActionOnSet3({newValue(e){this.dataService.dispatchThrottle=e}})],DataSource.prototype,"updateThrottle",2),__decorateClass([ActionOnSet3({newValue(e){this.dataService.dispatchOnlyLatest=!e}})],DataSource.prototype,"updateDuringInteraction",2);var DataSourceModule={type:"root",optionsKey:"dataSource",packageType:"enterprise",chartTypes:["cartesian","hierarchy","polar","topology"],instanceConstructor:DataSource,themeTemplate:{dataSource:{enabled:!1}}},import_ag_charts_community28=require("ag-charts-community"),import_ag_charts_community26=require("ag-charts-community"),import_ag_charts_community24=require("ag-charts-community"),{partialAssign,mergeDefaults}=import_ag_charts_community24._ModuleSupport,{BBox:BBox3}=import_ag_charts_community24._Scene,HierarchicalBBox=class{constructor(e){this.components=e,this.union=BBox3.merge(e)}containsPoint(e,t){if(!this.union.containsPoint(e,t))return!1;for(const i of this.components)if(i.containsPoint(e,t))return!0;return!1}},ErrorBarNode=class extends import_ag_charts_community24._Scene.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new import_ag_charts_community24._Scene.Path,this.capsPath=new import_ag_charts_community24._Scene.Path,this.bboxes=new HierarchicalBBox([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(e){this._datum=e}calculateCapLength(e,t){const{lengthRatio:i=1,length:o}=e,{lengthRatioMultiplier:s,lengthMax:a}=t,n=o??i*s;return Math.min(n,a)}getFormatterParams(e,t){const{datum:i}=this;if(i===void 0||e.formatter===void 0&&e.cap.formatter===void 0)return;const{xLowerKey:o,xLowerName:s,xUpperKey:a,xUpperName:n,yLowerKey:r,yLowerName:l,yUpperKey:c,yUpperName:h}=e;return{datum:i.datum,seriesId:i.datum.seriesId,xKey:i.xKey,yKey:i.yKey,xLowerKey:o,xLowerName:s,xUpperKey:a,xUpperName:n,yLowerKey:r,yLowerName:l,yUpperKey:c,yUpperName:h,highlighted:t}}formatStyles(e,t,i){let o=e,{cap:s}=o,a=__objRest(o,["cap"]);const n=this.getFormatterParams(t,i);if(n!==void 0){if(t.formatter!==void 0){const r=t.formatter(n);a=mergeDefaults(r,a),s=mergeDefaults(r,s),s=mergeDefaults(r?.cap,s)}if(t.cap.formatter!==void 0){const r=t.cap.formatter(n);s=mergeDefaults(r,s)}}return{whiskerStyle:a,capsStyle:s}}applyStyling(e,t){partialAssign(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],e,t)}update(e,t,i){if(this.datum===void 0)return;const{whiskerStyle:o,capsStyle:s}=this.formatStyles(e,t,i),{xBar:a,yBar:n,capDefaults:r}=this.datum,l=this.whiskerPath;this.applyStyling(l,o),l.path.clear(),n!==void 0&&(l.path.moveTo(n.lowerPoint.x,n.lowerPoint.y),l.path.lineTo(n.upperPoint.x,n.upperPoint.y)),a!==void 0&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),l.path.closePath(),l.markDirtyTransform(),this.capLength=this.calculateCapLength(s??{},r);const c=this.capLength/2,h=this.capsPath;this.applyStyling(h,s),h.path.clear(),n!==void 0&&(h.path.moveTo(n.lowerPoint.x-c,n.lowerPoint.y),h.path.lineTo(n.lowerPoint.x+c,n.lowerPoint.y),h.path.moveTo(n.upperPoint.x-c,n.upperPoint.y),h.path.lineTo(n.upperPoint.x+c,n.upperPoint.y)),a!==void 0&&(h.path.moveTo(a.lowerPoint.x,a.lowerPoint.y-c),h.path.lineTo(a.lowerPoint.x,a.lowerPoint.y+c),h.path.moveTo(a.upperPoint.x,a.upperPoint.y-c),h.path.lineTo(a.upperPoint.x,a.upperPoint.y+c)),h.path.closePath(),h.markDirtyTransform()}updateBBoxes(){var e;const{capLength:t,whiskerPath:i,capsPath:o}=this,{yBar:s,xBar:a}=(e=this.datum)!=null?e:{},n=t/2,r=[];if(s!==void 0){const l=s.lowerPoint.y-s.upperPoint.y;r.push(new BBox3(s.lowerPoint.x,s.upperPoint.y,i.strokeWidth,l),new BBox3(s.lowerPoint.x-n,s.lowerPoint.y,t,o.strokeWidth),new BBox3(s.upperPoint.x-n,s.upperPoint.y,t,o.strokeWidth))}if(a!==void 0){const l=a.upperPoint.x-a.lowerPoint.x;r.push(new BBox3(a.lowerPoint.x,a.upperPoint.y,l,i.strokeWidth),new BBox3(a.lowerPoint.x,a.lowerPoint.y-n,o.strokeWidth,t),new BBox3(a.upperPoint.x,a.upperPoint.y-n,o.strokeWidth,t))}this.bboxes.components=r,this.bboxes.union=BBox3.merge(r)}containsPoint(e,t){return this.bboxes.containsPoint(e,t)}pickNode(e,t){return this.containsPoint(e,t)?this:void 0}nearestSquared(e,t,i){const{bboxes:o}=this;if(o.union.distanceSquared(e,t)>i)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:s}=BBox3.nearestBox(e,t,o.components);return{nearest:this,distanceSquared:s}}},ErrorBarGroup=class extends import_ag_charts_community24._Scene.Group{get children(){return super.children}nearestSquared(e,t){const{nearest:i,distanceSquared:o}=import_ag_charts_community24._Scene.nearestSquaredInContainer(e,t,this);if(i!==void 0&&!isNaN(o))return{datum:i.datum,distanceSquared:o}}},import_ag_charts_community25=require("ag-charts-community"),{BaseProperties:BaseProperties3,Validate:Validate16,BOOLEAN:BOOLEAN8,COLOR_STRING:COLOR_STRING3,FUNCTION:FUNCTION3,LINE_DASH:LINE_DASH3,NUMBER:NUMBER5,OBJECT:OBJECT3,POSITIVE_NUMBER:POSITIVE_NUMBER5,RATIO:RATIO6,STRING:STRING3}=import_ag_charts_community25._ModuleSupport,ErrorBarCap=class extends BaseProperties3{};__decorateClass([Validate16(BOOLEAN8,{optional:!0})],ErrorBarCap.prototype,"visible",2),__decorateClass([Validate16(COLOR_STRING3,{optional:!0})],ErrorBarCap.prototype,"stroke",2),__decorateClass([Validate16(POSITIVE_NUMBER5,{optional:!0})],ErrorBarCap.prototype,"strokeWidth",2),__decorateClass([Validate16(RATIO6,{optional:!0})],ErrorBarCap.prototype,"strokeOpacity",2),__decorateClass([Validate16(LINE_DASH3,{optional:!0})],ErrorBarCap.prototype,"lineDash",2),__decorateClass([Validate16(POSITIVE_NUMBER5,{optional:!0})],ErrorBarCap.prototype,"lineDashOffset",2),__decorateClass([Validate16(NUMBER5,{optional:!0})],ErrorBarCap.prototype,"length",2),__decorateClass([Validate16(RATIO6,{optional:!0})],ErrorBarCap.prototype,"lengthRatio",2),__decorateClass([Validate16(FUNCTION3,{optional:!0})],ErrorBarCap.prototype,"formatter",2);var ErrorBarProperties=class extends BaseProperties3{constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new ErrorBarCap}};__decorateClass([Validate16(STRING3,{optional:!0})],ErrorBarProperties.prototype,"yLowerKey",2),__decorateClass([Validate16(STRING3,{optional:!0})],ErrorBarProperties.prototype,"yLowerName",2),__decorateClass([Validate16(STRING3,{optional:!0})],ErrorBarProperties.prototype,"yUpperKey",2),__decorateClass([Validate16(STRING3,{optional:!0})],ErrorBarProperties.prototype,"yUpperName",2),__decorateClass([Validate16(STRING3,{optional:!0})],ErrorBarProperties.prototype,"xLowerKey",2),__decorateClass([Validate16(STRING3,{optional:!0})],ErrorBarProperties.prototype,"xLowerName",2),__decorateClass([Validate16(STRING3,{optional:!0})],ErrorBarProperties.prototype,"xUpperKey",2),__decorateClass([Validate16(STRING3,{optional:!0})],ErrorBarProperties.prototype,"xUpperName",2),__decorateClass([Validate16(BOOLEAN8,{optional:!0})],ErrorBarProperties.prototype,"visible",2),__decorateClass([Validate16(COLOR_STRING3,{optional:!0})],ErrorBarProperties.prototype,"stroke",2),__decorateClass([Validate16(POSITIVE_NUMBER5,{optional:!0})],ErrorBarProperties.prototype,"strokeWidth",2),__decorateClass([Validate16(RATIO6,{optional:!0})],ErrorBarProperties.prototype,"strokeOpacity",2),__decorateClass([Validate16(LINE_DASH3,{optional:!0})],ErrorBarProperties.prototype,"lineDash",2),__decorateClass([Validate16(POSITIVE_NUMBER5,{optional:!0})],ErrorBarProperties.prototype,"lineDashOffset",2),__decorateClass([Validate16(FUNCTION3,{optional:!0})],ErrorBarProperties.prototype,"formatter",2),__decorateClass([Validate16(OBJECT3)],ErrorBarProperties.prototype,"cap",2);var{fixNumericExtent,groupAccumulativeValueProperty,isDefined,mergeDefaults:mergeDefaults2,valueProperty,ChartAxisDirection:ChartAxisDirection6}=import_ag_charts_community26._ModuleSupport;function toErrorBoundCartesianSeries(e){for(const t of import_ag_charts_community26.AgErrorBarSupportedSeriesTypes)if(t==e.series.type)return e.series;throw new Error(`AG Charts - unsupported series type '${e.series.type}', error bars supported series types: ${import_ag_charts_community26.AgErrorBarSupportedSeriesTypes.join(", ")}`)}var ErrorBars=class ht extends import_ag_charts_community26._ModuleSupport.BaseModuleInstance{constructor(t){super(),this.properties=new ErrorBarProperties;const i=toErrorBoundCartesianSeries(t),{annotationGroup:o,annotationSelections:s}=i;this.cartesianSeries=i,this.groupNode=new ErrorBarGroup({name:`${o.id}-errorBars`,zIndex:import_ag_charts_community26._ModuleSupport.Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:i.getGroupZIndexSubOrder("annotation")}),o.appendChild(this.groupNode),this.selection=import_ag_charts_community26._Scene.Selection.select(this.groupNode,()=>this.errorBarFactory()),s.add(this.selection),this.destroyFns.push(i.addListener("data-processed",a=>this.onDataProcessed(a)),i.addListener("data-update",a=>this.onDataUpdate(a)),i.addListener("visibility-changed",a=>this.onToggleSeriesItem(a)),t.highlightManager.addListener("highlight-change",a=>this.onHighlightChange(a)),()=>o.removeChild(this.groupNode),()=>s.delete(this.selection))}hasErrorBars(){const{xLowerKey:t,xUpperKey:i,yLowerKey:o,yUpperKey:s}=this.properties;return isDefined(t)&&isDefined(i)||isDefined(o)&&isDefined(s)}isStacked(){var t;const i=(t=this.cartesianSeries.seriesGrouping)==null?void 0:t.stackCount;return i===void 0?!1:i>0}getUnstackPropertyDefinition(t){const i=[],{cartesianSeries:o}=this,{xLowerKey:s,xUpperKey:a,yLowerKey:n,yUpperKey:r,xErrorsID:l,yErrorsID:c}=this.getMaybeFlippedKeys(),{isContinuousX:h,isContinuousY:u}=t;return n!==void 0&&r!==void 0&&i.push(valueProperty(o,n,u,{id:c}),valueProperty(o,r,u,{id:c})),s!==void 0&&a!==void 0&&i.push(valueProperty(o,s,h,{id:l}),valueProperty(o,a,h,{id:l})),i}getStackPropertyDefinition(t){var i,o;const s=[],{cartesianSeries:a}=this,{xLowerKey:n,xUpperKey:r,yLowerKey:l,yUpperKey:c,xErrorsID:h,yErrorsID:u}=this.getMaybeFlippedKeys(),{isContinuousX:d,isContinuousY:g}=t,m=(o=(i=a.seriesGrouping)==null?void 0:i.groupIndex)!=null?o:a.id,p=__spreadValues({invalidValue:null,missingValue:0,separateNegative:!0},a.visible?{}:{forceValue:0}),y=(v,M,x,S)=>groupAccumulativeValueProperty(a,v,M,"normal","current",__spreadValues({id:`${x}-${S}`,groupId:`errorGroup-${m}-${S}`},p)),f=(v,M,x,S)=>{s.push(...y(v,x,S,"lower"),...y(M,x,S,"upper"))};return l!==void 0&&c!==void 0&&f(l,c,g,u),n!==void 0&&r!==void 0&&f(n,r,d,h),s}getPropertyDefinitions(t){return this.isStacked()?this.getStackPropertyDefinition(t):this.getUnstackPropertyDefinition(t)}onDataProcessed(t){this.dataModel=t.dataModel,this.processedData=t.processedData}getDomain(t){const{xLowerKey:i,xUpperKey:o,xErrorsID:s,yLowerKey:a,yUpperKey:n,yErrorsID:r}=this.getMaybeFlippedKeys();if(t===ChartAxisDirection6.X?isDefined(i)&&isDefined(o):isDefined(a)&&isDefined(n)){const{dataModel:c,processedData:h,cartesianSeries:u}=this,d=u.axes[t],g={x:s,y:r}[t];if(c!==void 0&&h!==void 0)if(this.isStacked()){const m=c.getDomain(u,`${g}-lower`,"value",h),p=c.getDomain(u,`${g}-upper`,"value",h),y=[Math.min(...m,...p),Math.max(...m,...p)];return fixNumericExtent(y,d)}else{const m=c.getDomain(u,g,"value",h);return fixNumericExtent(m,d)}}return[]}onDataUpdate(t){this.dataModel=t.dataModel,this.processedData=t.processedData,isDefined(t.dataModel)&&isDefined(t.processedData)&&(this.createNodeData(),this.update())}getNodeData(){const{contextNodeData:t}=this.cartesianSeries;if(t.length>0)return t[0].nodeData}createNodeData(){var t,i;const o=this.getNodeData(),s=(t=this.cartesianSeries.axes[ChartAxisDirection6.X])==null?void 0:t.scale,a=(i=this.cartesianSeries.axes[ChartAxisDirection6.Y])==null?void 0:i.scale;if(!(!this.hasErrorBars()||!s||!a||!o))for(let n=0;n<o.length;n++){const{midPoint:r,xLower:l,xUpper:c,yLower:h,yUpper:u}=this.getDatum(o,n);if(r!==void 0){let d,g;isDefined(l)&&isDefined(c)&&(d={lowerPoint:{x:this.convert(s,l),y:r.y},upperPoint:{x:this.convert(s,c),y:r.y}}),isDefined(h)&&isDefined(u)&&(g={lowerPoint:{x:r.x,y:this.convert(a,h)},upperPoint:{x:r.x,y:this.convert(a,u)}}),o[n].xBar=d,o[n].yBar=g}}}getMaybeFlippedKeys(){let{xLowerKey:t,xUpperKey:i,yLowerKey:o,yUpperKey:s}=this.properties,[a,n]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([t,o]=[o,t],[i,s]=[s,i],[a,n]=[n,a]),{xLowerKey:t,xUpperKey:i,xErrorsID:a,yLowerKey:o,yUpperKey:s,yErrorsID:n}}static getDatumKey(t,i,o){if(i===void 0)return;const s=t.datum[i];if(s!==void 0){if(typeof s!="number"){import_ag_charts_community26._Util.Logger.warnOnce(`Found [${i}] error value of type ${typeof s}. Expected number type`);return}return s+o}}getDatum(t,i){const{xLowerKey:o,xUpperKey:s,yLowerKey:a,yUpperKey:n}=this.getMaybeFlippedKeys(),r=t[i],l=r.cumulativeValue===void 0||!this.isStacked()?0:r.cumulativeValue-r.yValue,[c,h]=this.cartesianSeries.shouldFlipXY()?[l,0]:[0,l];return{midPoint:r.midPoint,xLower:ht.getDatumKey(r,o,c),xUpper:ht.getDatumKey(r,s,c),yLower:ht.getDatumKey(r,a,h),yUpper:ht.getDatumKey(r,n,h)}}convert(t,i){var o;const s=((o=t.bandwidth)!=null?o:0)/2;return t.convert(i)+s}update(){const t=this.getNodeData();t!==void 0&&(this.selection.update(t),this.selection.each((i,o,s)=>this.updateNode(i,o,s)))}updateNode(t,i,o){t.datum=i,t.update(this.getDefaultStyle(),this.properties,!1),t.updateBBoxes()}pickNodeExact(t){const{x:i,y:o}=this.groupNode.transformPoint(t.x,t.y),s=this.groupNode.pickNode(i,o);if(s!==void 0)return{datum:s.datum,distanceSquared:0}}pickNodeNearest(t){return this.groupNode.nearestSquared(t.x,t.y)}pickNodeMainAxisFirst(t){return this.groupNode.nearestSquared(t.x,t.y)}getTooltipParams(){const{xLowerKey:t,xUpperKey:i,yLowerKey:o,yUpperKey:s,xLowerName:a=t,xUpperName:n=i,yLowerName:r=o,yUpperName:l=s}=this.properties;return{xLowerKey:t,xLowerName:a,xUpperKey:i,xUpperName:n,yLowerKey:o,yLowerName:r,yUpperKey:s,yUpperName:l}}onToggleSeriesItem(t){this.groupNode.visible=t.enabled}makeStyle(t){return{visible:t.visible,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,stroke:t.stroke,strokeWidth:t.strokeWidth,strokeOpacity:t.strokeOpacity,cap:mergeDefaults2(this.properties.cap,t)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(t,i,o){const s=this.getNodeData();if(s!==void 0){for(let a=0;a<s.length;a++)if(t===s[a]){this.selection.nodes()[a].update(i,this.properties,o);break}}}onHighlightChange(t){const{previousHighlight:i,currentHighlight:o}=t;o?.series===this.cartesianSeries&&this.restyleHighlightChange(o,this.getHighlightStyle(),!0),i?.series===this.cartesianSeries&&this.restyleHighlightChange(i,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new ErrorBarNode}getWhiskerProperties(){const{stroke:t,strokeWidth:i,visible:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}=this.properties;return{stroke:t,strokeWidth:i,visible:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}}},import_ag_charts_community27=require("ag-charts-community"),ERROR_BARS_THEME={series:{errorBar:{visible:!0,stroke:import_ag_charts_community27._Theme.DEFAULT_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}}},ErrorBarsModule={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:import_ag_charts_community28.AgErrorBarSupportedSeriesTypes,instanceConstructor:ErrorBars,themeTemplate:ERROR_BARS_THEME},import_ag_charts_community31=require("ag-charts-community"),import_ag_charts_community30=require("ag-charts-community"),import_ag_charts_community29=require("ag-charts-community"),{Validate:Validate17,BOOLEAN:BOOLEAN9,POSITIVE_NUMBER:POSITIVE_NUMBER6,Layers:Layers4,ActionOnSet:ActionOnSet4,CategoryAxis,GroupedCategoryAxis}=import_ag_charts_community29._ModuleSupport,{toRadians:toRadians4,Padding,Logger}=import_ag_charts_community29._Util,{Text:Text4,Group:Group4,BBox:BBox4}=import_ag_charts_community29._Scene,MiniChartPadding=class{constructor(){this.top=0,this.bottom=0}};__decorateClass([Validate17(POSITIVE_NUMBER6)],MiniChartPadding.prototype,"top",2),__decorateClass([Validate17(POSITIVE_NUMBER6)],MiniChartPadding.prototype,"bottom",2);var MiniChart=class extends import_ag_charts_community29._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.padding=new MiniChartPadding,this.root=new Group4({name:"root"}),this.seriesRoot=this.root.appendChild(new Group4({name:"Series-root",layer:!0,zIndex:Layers4.SERIES_LAYER_ZINDEX})),this.axisGridGroup=this.root.appendChild(new Group4({name:"Axes-Grids",layer:!0,zIndex:Layers4.AXIS_GRID_ZINDEX})),this.axisGroup=this.root.appendChild(new Group4({name:"Axes-Grids",layer:!0,zIndex:Layers4.AXIS_GRID_ZINDEX})),this.data=[],this._destroyed=!1,this.miniChartAnimationPhase="initial",this.axes=[],this.series=[]}destroy(){this._destroyed||(this.destroySeries(this.series),this.axes.forEach(e=>e.destroy()),this.axes=[],this._destroyed=!0)}onSeriesChange(e,t){var i;const o=(i=t?.filter(s=>!e.includes(s)))!=null?i:[];this.destroySeries(o);for(const s of e){if(t?.includes(s))continue;s.rootGroup.parent==null&&this.seriesRoot.appendChild(s.rootGroup);const a=this;s.chart={get mode(){return"standalone"},get isMiniChart(){return!0},get seriesRect(){return a.seriesRect},placeLabels(){return new Map}},s.resetAnimation(this.miniChartAnimationPhase==="initial"?"initial":"disabled")}}destroySeries(e){e?.forEach(t=>{t.destroy(),t.rootGroup!=null&&this.seriesRoot.removeChild(t.rootGroup),t.chart=void 0})}assignSeriesToAxes(){this.axes.forEach(e=>{e.boundSeries=this.series.filter(t=>t.axes[e.direction]===e)})}assignAxesToSeries(){const e={};this.axes.forEach(t=>{var i;const o=t.direction;((i=e[o])!=null?i:e[o]=[]).push(t)}),this.series.forEach(t=>{t.directions.forEach(i=>{const o=e[i];if(!o){Logger.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const s=t.getKeys(i),a=this.findMatchingAxis(o,s);if(!a){Logger.warnOnce(`no matching axis for direction [${i}] and keys [${s}]; check series and axes configuration.`);return}t.axes[i]=a})})}findMatchingAxis(e,t){for(const i of e){if(!i.keys.length)return i;if(t){for(const o of t)if(i.keys.includes(o))return i}}}updateData(e){return __async(this,null,function*(){this.series.forEach(t=>t.setChartData(e.data)),this.miniChartAnimationPhase==="initial"&&this.ctx.animationManager.onBatchStop(()=>{this.miniChartAnimationPhase="ready",this.series.forEach(t=>t.resetAnimation("disabled"))})})}processData(e){return __async(this,null,function*(){this.series.some(i=>i.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=this.series.map(i=>i.processData(e.dataController));yield Promise.all(t)})}computeAxisPadding(){const e=new Padding;return this.enabled&&this.axes.forEach(t=>{var i;const{position:o,thickness:s=0,line:a,label:n}=t;if(o==null)return;let r;s>0?r=s:r=(a.enabled?a.width:0)+(n.enabled?((i=n.fontSize)!=null?i:0)*Text4.defaultLineHeightRatio+n.padding:0),e[o]=Math.ceil(r)}),e}layout(e,t){return __async(this,null,function*(){const{padding:i}=this,o=this.seriesRect!=null,s=new BBox4(0,0,e,t-(i.top+i.bottom));this.seriesRect=s,this.seriesRoot.translationY=i.top,this.seriesRoot.setClipRectInGroupCoordinateSpace(this.seriesRoot.inverseTransformBBox(new BBox4(0,-i.top,e,t)));const a=n=>n instanceof CategoryAxis||n instanceof GroupedCategoryAxis?[0,s.height]:[s.height,0];this.axes.forEach(n=>{const{position:r="left"}=n;switch(r){case"top":case"bottom":n.range=[0,s.width],n.gridLength=s.height;break;case"right":case"left":n.range=a(n),n.gridLength=s.width;break}switch(r){case"top":case"left":n.translation.x=0,n.translation.y=0;break;case"bottom":n.translation.x=0,n.translation.y=t;break;case"right":n.translation.x=e,n.translation.y=0;break}n.gridPadding=0,n.calculateLayout(),n.updatePosition({rotation:toRadians4(n.rotation),sideFlag:n.label.getSideFlag()}),n.update(void 0,o)}),yield Promise.all(this.series.map(n=>n.update({seriesRect:s})))})}};__decorateClass([Validate17(BOOLEAN9)],MiniChart.prototype,"enabled",2),__decorateClass([ActionOnSet4({changeValue(e,t=[]){for(const i of t)e.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of e)t?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup)}})],MiniChart.prototype,"axes",2),__decorateClass([ActionOnSet4({changeValue(e,t){this.onSeriesChange(e,t)}})],MiniChart.prototype,"series",2);var{ObserveChanges:ObserveChanges3}=import_ag_charts_community30._ModuleSupport,_Navigator=class ft extends import_ag_charts_community30._ModuleSupport.Navigator{constructor(t){super(t),this.miniChart=new MiniChart(t)}updateData(t){return __async(this,null,function*(){yield this.miniChart.updateData(t)})}processData(t){return __async(this,null,function*(){yield this.miniChart.processData(t)})}performLayout(t){return __async(this,null,function*(){const{shrinkRect:i}=yield __superGet(ft.prototype,this,"performLayout").call(this,t);if(this.enabled){const{top:o,bottom:s}=this.miniChart.computeAxisPadding();i.shrink(o+s,"bottom"),this.y-=s}return{shrinkRect:i}})}performCartesianLayout(t){return __async(this,null,function*(){yield __superGet(ft.prototype,this,"performCartesianLayout").call(this,t),yield this.miniChart.layout(this.width,this.height)})}};__decorateClass([ObserveChanges3((e,t,i)=>{e.updateBackground(i?.root,t?.root)})],_Navigator.prototype,"miniChart",2);var Navigator=_Navigator,_a,NavigatorModule={type:"root",optionsKey:"navigator",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:Navigator,themeTemplate:__spreadProps(__spreadValues({},import_ag_charts_community31._ModuleSupport.NavigatorModule.themeTemplate),{navigator:__spreadProps(__spreadValues({},(_a=import_ag_charts_community31._ModuleSupport.NavigatorModule.themeTemplate)==null?void 0:_a.navigator),{miniChart:{enabled:!1,label:{color:import_ag_charts_community31._Theme.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:import_ag_charts_community31._Theme.DEFAULT_FONT_FAMILY,formatter:void 0,padding:0},padding:{top:0,bottom:0}}})})},import_ag_charts_community32=require("ag-charts-community"),{BOOLEAN:BOOLEAN10,ActionOnSet:ActionOnSet5,Validate:Validate18}=import_ag_charts_community32._ModuleSupport,RangeButtons=class extends import_ag_charts_community32._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1}};__decorateClass([ActionOnSet5({changeValue(e){this.ctx.toolbarManager.toggleVisibility("range-buttons",e)}}),Validate18(BOOLEAN10)],RangeButtons.prototype,"enabled",2);var RangeButtonsModule={type:"root",optionsKey:"rangeButtons",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:RangeButtons,themeTemplate:{rangeButtons:{enabled:!1}}},import_ag_charts_community33=require("ag-charts-community"),{BOOLEAN:BOOLEAN11,STRING:STRING4,UNION:UNION3,BaseProperties:BaseProperties4,CartesianAxis,ChartUpdateType,arraysEqual,isDate,isDefined:isDefined2,isFiniteNumber,ObserveChanges:ObserveChanges4,TooltipManager,Validate:Validate19}=import_ag_charts_community33._ModuleSupport,{Logger:Logger2}=import_ag_charts_community33._Util,ChartSync=class extends BaseProperties4{constructor(e){super(),this.moduleContext=e,this.enabled=!1,this.axes="x",this.nodeInteraction=!0,this.zoom=!0}updateChart(e,t=ChartUpdateType.UPDATE_DATA){e.updateService.update(t,{skipSync:!0})}updateSiblings(e){const{syncManager:t}=this.moduleContext;__async(this,null,function*(){for(const o of t.getGroupSiblings(e))yield o.waitForDataProcess(120),this.updateChart(o)}).catch(o=>{Logger2.warnOnce("Error updating sibling chart",o)})}enabledZoomSync(){const{syncManager:e,zoomManager:t}=this.moduleContext;this.disableZoomSync=t.addListener("zoom-change",()=>{var i;for(const o of e.getGroupSiblings(this.groupId))(i=o.modulesManager.getModule("sync"))!=null&&i.zoom&&o.zoomManager.updateZoom("sync",this.mergeZoom(o))})}enabledNodeInteractionSync(){const{highlightManager:e,syncManager:t}=this.moduleContext;this.disableNodeInteractionSync=e.addListener("highlight-change",i=>{var o,s,a,n,r,l,c,h,u,d,g,m;for(const p of t.getGroupSiblings(this.groupId))if((o=p.modulesManager.getModule("sync"))!=null&&o.nodeInteraction){if(!((s=i.currentHighlight)!=null&&s.datum)){p.highlightManager.updateHighlight(p.id),p.tooltipManager.removeTooltip(p.id);continue}for(const y of p.axes){const f=this.axes==="xy"?"x":this.axes;if(!CartesianAxis.is(y)||y.direction!==f)continue;const v=p.series.map(M=>{const x=M.getKeys(y.direction);if(y.keys.length&&!y.keys.some(I=>x.includes(I)))return;const[{nodeData:S}]=M.contextNodeData;if(!S?.length)return;const _=S[0][`${y.direction}Key`];let D=i.currentHighlight.datum[_];const N=isDate(D);N&&(D=D.getTime());const E=S.find(I=>{const b=I.datum[_];return N?b.getTime()===D:b===D});return E?{series:M,nodeDatum:E}:null}).filter(isDefined2);if(v.length<2&&((a=v[0])==null?void 0:a.nodeDatum)!==p.highlightManager.getActiveHighlight()){const{series:M,nodeDatum:x}=(n=v[0])!=null?n:{};if(p.highlightManager.updateHighlight(p.id,x),x){const S=(h=(c=(r=x.midPoint)==null?void 0:r.x)!=null?c:(l=x.point)==null?void 0:l.x)!=null?h:0,_=(m=(g=(u=x.midPoint)==null?void 0:u.y)!=null?g:(d=x.point)==null?void 0:d.y)!=null?m:0,D=TooltipManager.makeTooltipMeta({offsetX:S,offsetY:_},x);delete D.lastPointerEvent,p.tooltipManager.updateTooltip(p.id,D,M.getTooltipHtml(x))}else p.tooltipManager.removeTooltip(p.id);this.updateChart(p,ChartUpdateType.SERIES_UPDATE)}}}})}syncAxes(e=!1){const{syncManager:t}=this.moduleContext,i=t.getChart(),o=t.getGroup(this.groupId),s=o.flatMap(r=>r.series),a=o[0].axes;let n=!1;i.axes.forEach(r=>{if(!CartesianAxis.is(r)||this.axes!=="xy"&&this.axes!==r.direction){r.boundSeries=i.series.filter(m=>m.axes[r.direction]===r);return}const{direction:l,min:c,max:h,nice:u,reverse:d}=r;for(const m of a)if(l===m.direction&&(u!==m.nice||d!==m.reverse||c!==m.min&&(isFiniteNumber(c)||isFiniteNumber(m.min))||h!==m.max&&(isFiniteNumber(h)||isFiniteNumber(m.max)))){Logger2.warnOnce("To allow synchronization, ensure that all charts have matching min, max, nice, and reverse properties on the synchronized axes."),r.boundSeries=i.series.filter(p=>p.axes[r.direction]===r),this.enabled=!1;return}const g=s.filter(m=>{if(m.visible){const p=m.getKeys(r.direction);return r.keys.length?r.keys.some(y=>p.includes(y)):!0}});arraysEqual(r.boundSeries,g)||(r.boundSeries=g,n=!0)}),n&&!e&&this.updateSiblings(this.groupId)}mergeZoom(e){var t,i;const{zoomManager:o}=this.moduleContext;if(this.axes==="xy")return o.getZoom();const s=(t=e.zoomManager.getZoom())!=null?t:{};return s[this.axes]=(i=o.getZoom())==null?void 0:i[this.axes],s}onEnabledChange(){const{syncManager:e}=this.moduleContext;this.enabled?e.subscribe(this.groupId):e.unsubscribe(this.groupId),this.updateSiblings(this.groupId),this.onNodeInteractionChange(),this.onZoomChange()}onGroupIdChange(e,t){if(!this.enabled||e===t)return;const{syncManager:i}=this.moduleContext;i.unsubscribe(t),i.subscribe(e),this.updateSiblings(t),this.updateSiblings(e)}onAxesChange(){if(!this.enabled)return;const{syncManager:e}=this.moduleContext;this.updateChart(e.getChart())}onNodeInteractionChange(){var e;this.enabled&&this.nodeInteraction?this.enabledNodeInteractionSync():(e=this.disableNodeInteractionSync)==null||e.call(this)}onZoomChange(){var e;this.enabled&&this.zoom?this.enabledZoomSync():(e=this.disableZoomSync)==null||e.call(this)}destroy(){var e;const{syncManager:t}=this.moduleContext;t.unsubscribe(this.groupId),this.updateSiblings(this.groupId),(e=this.disableZoomSync)==null||e.call(this)}};ChartSync.className="Sync",__decorateClass([Validate19(BOOLEAN11),ObserveChanges4(e=>e.onEnabledChange())],ChartSync.prototype,"enabled",2),__decorateClass([Validate19(STRING4,{optional:!0}),ObserveChanges4((e,t,i)=>e.onGroupIdChange(t,i))],ChartSync.prototype,"groupId",2),__decorateClass([Validate19(UNION3(["x","y","xy"],"an axis")),ObserveChanges4(e=>e.onAxesChange())],ChartSync.prototype,"axes",2),__decorateClass([Validate19(BOOLEAN11),ObserveChanges4(e=>e.onNodeInteractionChange())],ChartSync.prototype,"nodeInteraction",2),__decorateClass([Validate19(BOOLEAN11),ObserveChanges4(e=>e.onZoomChange())],ChartSync.prototype,"zoom",2);var SyncModule={type:"root",optionsKey:"sync",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:ChartSync,themeTemplate:{sync:{enabled:!1}}},import_ag_charts_community41=require("ag-charts-community"),DAY=1e3*60*60*24,MONTH=DAY*30,YEAR=DAY*365,RANGES=new Map([["1m",MONTH],["3m",MONTH*3],["6m",MONTH*6],["YTD",e=>new Date(`${new Date(e).getFullYear()}-01-01`).getTime()],["1y",YEAR],["All",null]]),import_ag_charts_community34=require("ag-charts-community"),{COLOR_STRING:COLOR_STRING4,RATIO:RATIO7,Validate:Validate20}=import_ag_charts_community34._ModuleSupport,ZoomRect=class extends import_ag_charts_community34._Scene.Rect{constructor(){super(...arguments),this.fill="rgb(33, 150, 243)",this.fillOpacity=.2}};ZoomRect.className="ZoomRect",__decorateClass([Validate20(COLOR_STRING4)],ZoomRect.prototype,"fill",2),__decorateClass([Validate20(RATIO7)],ZoomRect.prototype,"fillOpacity",2);var import_ag_charts_community36=require("ag-charts-community"),import_ag_charts_community35=require("ag-charts-community"),{clamp}=import_ag_charts_community35._ModuleSupport,UNIT={min:0,max:1},constrain=(e,t=UNIT.min,i=UNIT.max)=>clamp(t,e,i);function unitZoomState(){return{x:__spreadValues({},UNIT),y:__spreadValues({},UNIT)}}function dx(e){return e.x.max-e.x.min}function dy(e){return e.y.max-e.y.min}function definedZoomState(e){var t,i,o,s,a,n,r,l;return{x:{min:(i=(t=e?.x)==null?void 0:t.min)!=null?i:UNIT.min,max:(s=(o=e?.x)==null?void 0:o.max)!=null?s:UNIT.max},y:{min:(n=(a=e?.y)==null?void 0:a.min)!=null?n:UNIT.min,max:(l=(r=e?.y)==null?void 0:r.max)!=null?l:UNIT.max}}}function pointToRatio(e,t,i){if(!e)return{x:0,y:0};const o=constrain(t-e.x,0,e.x+e.width),s=constrain(i-e.y,0,e.y+e.height),a=1/e.width*o,n=1-1/e.height*s;return{x:constrain(a),y:constrain(n)}}function translateZoom(e,t,i){return{x:{min:e.x.min+t,max:e.x.max+t},y:{min:e.y.min+i,max:e.y.max+i}}}function scaleZoom(e,t,i){return{x:{min:e.x.min,max:e.x.min+dx(e)*t},y:{min:e.y.min,max:e.y.min+dy(e)*i}}}function scaleZoomCenter(e,t,i){const o=dx(e),s=dy(e),a=e.x.min+o/2,n=e.y.min+s/2;return{x:{min:a-o*t/2,max:a+o*t/2},y:{min:n-s*i/2,max:n+s*i/2}}}function scaleZoomAxisWithAnchor(e,t,i,o){const{min:s,max:a}=t,n=s+(a-s)/2,r=e.max-e.min;switch(i){case"start":return{min:s,max:t.min+r};case"end":return{min:t.max-r,max:a};case"middle":return{min:n-r/2,max:n+r/2};case"pointer":return scaleZoomAxisWithPoint(e,t,o??n);default:return{min:s,max:a}}}function scaleZoomAxisWithPoint(e,t,i){const o=i*(1-(t.max-t.min-(e.max-e.min))),s=i-o,a=e.min+s,n=e.max+s;return{min:a,max:n}}function multiplyZoom(e,t,i){return{x:{min:e.x.min*t,max:e.x.max*t},y:{min:e.y.min*i,max:e.y.max*i}}}function constrainZoom(e){const t=unitZoomState();return t.x=constrainAxis(e.x),t.y=constrainAxis(e.y),t}function constrainAxis(e){const t=e.max-e.min;let i=e.max>UNIT.max?UNIT.max-t:e.min,o=e.min<UNIT.min?t:e.max;return i=Math.max(UNIT.min,i),o=Math.min(UNIT.max,o),{min:i,max:o}}function constrainAxisWithOld({min:e,max:t},i,o){if(t===i.max)e=t-o;else if(e===i.min)t=e+o;else{const s=i.min+(i.max-i.min)/2;e=s-o/2,t=s+o/2}return{min:e,max:t}}var ZoomAxisDragger=class{update(e,t,i,o,s,a){var n;return(n=this.oldZoom)!=null||(this.oldZoom=definedZoomState(t===import_ag_charts_community36._ModuleSupport.ChartAxisDirection.X?__spreadProps(__spreadValues({},s),{x:a}):__spreadProps(__spreadValues({},s),{y:a}))),this.updateCoords(e.offsetX,e.offsetY),this.updateZoom(t,i,o)}stop(){this.coords=void 0,this.oldZoom=void 0}updateCoords(e,t){this.coords?(this.coords.x2=e,this.coords.y2=t):this.coords={x1:e,y1:t,x2:e,y2:t}}updateZoom(e,t,i){const{coords:o,oldZoom:s}=this;let a=definedZoomState(s);if(!o||!s)return e===import_ag_charts_community36._ModuleSupport.ChartAxisDirection.X?a.x:a.y;const n=pointToRatio(i,o.x1,o.y1),r=pointToRatio(i,o.x2,o.y2);if(e===import_ag_charts_community36._ModuleSupport.ChartAxisDirection.X){const c=(r.x-n.x)*dx(s);return a.x.max+=c,a.x=scaleZoomAxisWithAnchor(a.x,s.x,t,n.x),a=constrainZoom(a),a.x}const l=(r.y-n.y)*dy(s);return a.y.max-=l,a.y=scaleZoomAxisWithAnchor(a.y,s.y,t,n.y),a=constrainZoom(a),a.y}},import_ag_charts_community37=require("ag-charts-community"),ZoomPanner=class{update(e,t,i){return this.updateCoords(e.offsetX,e.offsetY),this.translateZooms(t,i)}stop(){this.coords=void 0}updateCoords(e,t){this.coords?this.coords={x1:this.coords.x2,y1:this.coords.y2,x2:e,y2:t}:this.coords={x1:e,y1:t,x2:e,y2:t}}translateZooms(e,t){var i;const{x1:o=0,y1:s=0,x2:a=0,y2:n=0}=(i=this.coords)!=null?i:{},r=o<=a?a-o:o-a,l=s<=n?n-s:s-n,c=pointToRatio(e,e.x+r,e.y+e.height-l),h=o<=a?-c.x:c.x,u=s<=n?c.y:-c.y,d={};for(const[g,{direction:m,zoom:p}]of Object.entries(t)){let y;m===import_ag_charts_community37._ModuleSupport.ChartAxisDirection.X?y=definedZoomState({x:p}):y=definedZoomState({y:p}),y=constrainZoom(translateZoom(y,h*dx(y),u*dy(y))),m===import_ag_charts_community37._ModuleSupport.ChartAxisDirection.X?d[g]={direction:m,zoom:y.x}:d[g]={direction:m,zoom:y.y}}return d}},import_ag_charts_community38=require("ag-charts-community"),{AND:AND5,DATE,NUMBER:NUMBER6,OR,ActionOnSet:ActionOnSet6,isFiniteNumber:isFiniteNumber2,isValidDate,Validate:Validate21}=import_ag_charts_community38._ModuleSupport,ZoomRange=class{constructor(e){this.onChange=e}getRange(){return this.getRangeWithValues(this.start,this.end)}getInitialRange(){return this.getRangeWithValues(this.initialStart,this.initialEnd)}extendToEnd(e){return this.extendWith(t=>Number(t)-e)}extendWith(e){var t;if(!this.domain)return;const i=this.domain.at(-1);if(i==null)return;const o=e(i),s=this.start!==o||this.end!==i;this.end=i,this.start=o,s||(t=this.onChange)==null||t.call(this,this.getRange())}extendAll(){var e;if(!this.domain)return;const t=this.domain[0],i=this.domain.at(-1),o=this.start!==t||this.end!==i;this.start=t,this.end=i,o||(e=this.onChange)==null||e.call(this,this.getRange())}updateAxis(e){const t=e.find(({domain:a})=>{const n=!isFiniteNumber2(a[0])||!isFiniteNumber2(a.at(-1)),r=!isValidDate(a[0])||!isValidDate(a.at(-1));return n||r});let i=this.domain;if(!t)return i!=null;let o=t.domain;i!=null&&i[0]instanceof Date&&(i=i.map(a=>a instanceof Date?a.getTime():a),o=o.map(a=>a instanceof Date?a.getTime():a));const s=i==null||!import_ag_charts_community38._Util.areArrayItemsStrictlyEqual(i,o);return s&&(this.domain=t.domain),s}getRangeWithValues(e,t){const{domain:i}=this;let o=i?.[0],s=i?.at(-1);if(e==null&&t==null||o==null||s==null)return;o=Number(o),s=Number(s);let a=0,n=1;return e!=null&&(a=(Number(e)-o)/(s-o)),t!=null&&(n=(Number(t)-o)/(s-o)),{min:a,max:n}}};__decorateClass([ActionOnSet6({changeValue(e){var t,i;(t=this.initialStart)!=null||(this.initialStart=e),(i=this.onChange)==null||i.call(this,this.getRangeWithValues(e,this.end))}}),Validate21(AND5(OR(DATE,NUMBER6)),{optional:!0})],ZoomRange.prototype,"start",2),__decorateClass([ActionOnSet6({changeValue(e){var t,i;(t=this.initialEnd)!=null||(this.initialEnd=e),(i=this.onChange)==null||i.call(this,this.getRangeWithValues(this.start,e))}}),Validate21(AND5(OR(DATE,NUMBER6)),{optional:!0})],ZoomRange.prototype,"end",2);var import_ag_charts_community39=require("ag-charts-community"),{AND:AND6,GREATER_THAN:GREATER_THAN4,LESS_THAN:LESS_THAN3,RATIO:RATIO8,ActionOnSet:ActionOnSet7,Validate:Validate22}=import_ag_charts_community39._ModuleSupport,ZoomRatio=class{constructor(e){this.onChange=e}getRatio(){return this.getRatioWithValues(this.start,this.end)}getInitialRatio(){return this.getRatioWithValues(this.initialStart,this.initialEnd)}getRatioWithValues(e,t){if(!(e==null&&t==null))return{min:e??UNIT.min,max:t??UNIT.max}}};__decorateClass([ActionOnSet7({changeValue(e){var t,i;(t=this.initialStart)!=null||(this.initialStart=e),(i=this.onChange)==null||i.call(this,this.getRatioWithValues(e,this.end))}}),Validate22(AND6(RATIO8,LESS_THAN3("end")),{optional:!0})],ZoomRatio.prototype,"start",2),__decorateClass([ActionOnSet7({changeValue(e){var t,i;(t=this.initialEnd)!=null||(this.initialEnd=e),(i=this.onChange)==null||i.call(this,this.getRatioWithValues(this.start,e))}}),Validate22(AND6(RATIO8,GREATER_THAN4("start")),{optional:!0})],ZoomRatio.prototype,"end",2);var import_ag_charts_community40=require("ag-charts-community"),DELTA_SCALE=200,ZoomScrollPanner=class{update(e,t,i,o){const s=e.deltaX*t*DELTA_SCALE;return this.translateZooms(i,o,s)}translateZooms(e,t,i){const o={},s=pointToRatio(e,e.x+Math.abs(i),0),a=i<0?-s.x:s.x;for(const[n,{direction:r,zoom:l}]of Object.entries(t)){if(r!==import_ag_charts_community40._ModuleSupport.ChartAxisDirection.X)continue;let c=definedZoomState({x:l});c=constrainZoom(translateZoom(c,a*dx(c),0)),o[n]={direction:r,zoom:c.x}}return o}},ZoomScroller=class{update(e,t,i,o,s,a,n,r){const l=definedZoomState(r),c=e.sourceEvent,h=e.deltaY;let u=definedZoomState(l);return u.x.max+=s?t*h*dx(l):0,u.y.max+=a?t*h*dy(l):0,i==="pointer"&&s||o==="pointer"&&a?u=this.scaleZoomToPointer(c,s,a,n,l,u):(s&&(u.x=scaleZoomAxisWithAnchor(u.x,l.x,i)),a&&(u.y=scaleZoomAxisWithAnchor(u.y,l.y,o))),u=constrainZoom(u),u}scaleZoomToPointer(e,t,i,o,s,a){var n,r;const l=pointToRatio(o,(n=e.offsetX)!=null?n:e.clientX,(r=e.offsetY)!=null?r:e.clientY);return a.x=t?scaleZoomAxisWithPoint(a.x,s.x,l.x):a.x,a.y=i?scaleZoomAxisWithPoint(a.y,s.y,l.y):a.y,a}},ZoomSelector=class{constructor(e){this.rect=e,this.rect.visible=!1}update(e,t,i,o,s,a,n){this.rect.visible=!0,this.updateCoords(e.offsetX,e.offsetY,t,i,o,s,a,n),this.updateRect(a)}stop(e,t,i){let o=definedZoomState();if(!e||!t)return o;this.coords&&(o=this.createZoomFromCoords(t,i));const s=t.width/e.width,a=t.height/e.height;return o=constrainZoom(multiplyZoom(o,s,a)),this.reset(),o}reset(){this.coords=void 0,this.rect.visible=!1}didUpdate(){return this.rect.visible}updateCoords(e,t,i,o,s,a,n,r){if(!this.coords){this.coords={x1:e,y1:t,x2:e,y2:t};return}if(this.coords.x2=e,this.coords.y2=t,!n)return;const l=definedZoomState(r),c=this.getNormalisedDimensions(),h=n.width/n.height,u=l.x.max-l.x.min,d=l.y.max-l.y.min,g=i/u,m=o/d;c.width/n.width<g&&(this.coords.x2<this.coords.x1?this.coords.x2=this.coords.x1-n.width*g:this.coords.x2=this.coords.x1+n.width*g),a&&!s?c.height/n.height<m&&(this.coords.y2<this.coords.y1?this.coords.y2=this.coords.y1-n.width*g:this.coords.y2=this.coords.y1+n.height*m):this.coords.y2<this.coords.y1?this.coords.y2=Math.min(this.coords.y1-c.width/h,this.coords.y1-n.height*m):this.coords.y2=Math.max(this.coords.y1+c.width/h,this.coords.y1+n.height*m),s||(this.coords.x1=n.x,this.coords.x2=n.x+n.width),a||(this.coords.y1=n.y,this.coords.y2=n.y+n.height)}updateRect(e){if(!e)return;const{rect:t}=this,i=this.getNormalisedDimensions(),{width:o,height:s}=i;let{x:a,y:n}=i;a=Math.max(a,e.x),a-=Math.max(0,a+o-(e.x+e.width)),n=Math.max(n,e.y),n-=Math.max(0,n+s-(e.y+e.height)),t.x=a,t.y=n,t.width=o,t.height=s}createZoomFromCoords(e,t){const i=definedZoomState(t),o=this.getNormalisedDimensions(),s=pointToRatio(e,o.x,o.y+o.height),a=o.width/e.width,n=o.height/e.height;let r=scaleZoom(i,a,n);const l=s.x*(i.x.max-i.x.min),c=s.y*(i.y.max-i.y.min);return r=translateZoom(r,l,c),r=constrainZoom(r),r}getNormalisedDimensions(){var e;const{x1:t=0,y1:i=0,x2:o=0,y2:s=0}=(e=this.coords)!=null?e:{},a=t<=o?t:o,n=i<=s?i:s,r=t<=o?o-t:t-o,l=i<=s?s-i:i-s;return{x:a,y:n,width:r,height:l}}},{BOOLEAN:BOOLEAN12,NUMBER:NUMBER7,RATIO:RATIO9,UNION:UNION4,ActionOnSet:ActionOnSet8,ChartAxisDirection:ChartAxisDirection7,ChartUpdateType:ChartUpdateType2,Validate:Validate23,round:sharedRound}=import_ag_charts_community41._ModuleSupport,round=e=>sharedRound(e,10),ANCHOR_CORD=UNION4(["pointer","start","middle","end"],"an anchor cord"),CONTEXT_ZOOM_ACTION_ID="zoom-action",CONTEXT_PAN_ACTION_ID="pan-action",CURSOR_ID="zoom-cursor",TOOLTIP_ID="zoom-tooltip",Zoom=class extends import_ag_charts_community41._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.ctx=e,this.enabled=!1,this.enableAxisDragging=!0,this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.panKey="alt",this.axes="x",this.scrollingStep=(UNIT.max-UNIT.min)/10,this.minVisibleItemsX=2,this.minVisibleItemsY=2,this.anchorPointX="end",this.anchorPointY="middle",this.rangeX=new ZoomRange(this.onRangeChange.bind(this,ChartAxisDirection7.X)),this.rangeY=new ZoomRange(this.onRangeChange.bind(this,ChartAxisDirection7.Y)),this.ratioX=new ZoomRatio(this.onRatioChange.bind(this,ChartAxisDirection7.X)),this.ratioY=new ZoomRatio(this.onRatioChange.bind(this,ChartAxisDirection7.Y)),this.axisDragger=new ZoomAxisDragger,this.panner=new ZoomPanner,this.scroller=new ZoomScroller,this.scrollPanner=new ZoomScrollPanner,this.dragState=0,this.minRatioX=0,this.minRatioY=0,this.enableSecondaryAxis=!1,this.scene=e.scene,this.cursorManager=e.cursorManager,this.highlightManager=e.highlightManager,this.tooltipManager=e.tooltipManager,this.zoomManager=e.zoomManager,this.updateService=e.updateService,this.contextMenuRegistry=e.contextMenuRegistry,this.toolbarManager=e.toolbarManager;const t=new ZoomRect;this.selector=new ZoomSelector(t);const{Default:i,ZoomDrag:o,Animation:s}=import_ag_charts_community41._ModuleSupport.InteractionState,a=i|s|o,n=i|s,r=e.regionManager.getRegion("series");this.destroyFns.push(this.scene.attachNode(t),r.addListener("dblclick",l=>this.onDoubleClick(l),n),r.addListener("drag",l=>this.onDrag(l),a),r.addListener("drag-start",l=>this.onDragStart(l),a),r.addListener("drag-end",()=>this.onDragEnd(),a),r.addListener("wheel",l=>this.onWheel(l),n),r.addListener("hover",()=>this.onAxisLeave(),n),r.addListener("leave",()=>this.onAxisLeave(),n),e.chartEventManager.addListener("axis-hover",l=>this.onAxisHover(l)),e.gestureDetector.addListener("pinch-move",l=>this.onPinchMove(l)),e.toolbarManager.addListener("button-pressed",l=>this.onToolbarButtonPress(l)),e.layoutService.addListener("layout-complete",l=>this.onLayoutComplete(l)),e.updateService.addListener("update-complete",l=>this.onUpdateComplete(l)),e.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}registerContextMenuActions(){this.contextMenuRegistry.registerDefaultAction({id:CONTEXT_ZOOM_ACTION_ID,label:"Zoom to here",action:t=>this.onContextMenuZoomToHere(t)}),this.contextMenuRegistry.registerDefaultAction({id:CONTEXT_PAN_ACTION_ID,label:"Pan to here",action:t=>this.onContextMenuPanToHere(t)});const e=definedZoomState(this.zoomManager.getZoom());this.toggleContextMenuActions(e)}addToolbarButtons(){for(const[e]of RANGES.entries())this.toolbarManager.addButton(e,{label:e})}removeToolbarButtons(){for(const[e]of RANGES.entries())this.toolbarManager.removeButton(e)}toggleContextMenuActions(e){this.isMinZoom(e)?this.contextMenuRegistry.disableAction(CONTEXT_ZOOM_ACTION_ID):this.contextMenuRegistry.enableAction(CONTEXT_ZOOM_ACTION_ID),this.isMaxZoom(e)?this.contextMenuRegistry.disableAction(CONTEXT_PAN_ACTION_ID):this.contextMenuRegistry.enableAction(CONTEXT_PAN_ACTION_ID)}onRangeChange(e,t){if(!t)return;const i=definedZoomState(this.zoomManager.getZoom());i[e]=t,this.updateZoom(constrainZoom(i))}onRatioChange(e,t){if(!t)return;let i=this.ratioX.getRatio(),o=this.ratioY.getRatio();e===ChartAxisDirection7.X?i=t:o=t;const s=constrainZoom(definedZoomState({x:i,y:o}));this.updateZoom(s)}onDoubleClick(e){var t,i,o,s,a;if(!this.enabled||!this.enableDoubleClickToReset)return;const n=(i=(t=this.rangeX.getInitialRange())!=null?t:this.ratioX.getInitialRatio())!=null?i:UNIT,r=(s=(o=this.rangeY.getInitialRange())!=null?o:this.ratioY.getInitialRatio())!=null?s:UNIT,{min:l,max:c}=n,{min:h,max:u}=r;if(this.hoveredAxis){const{id:d,direction:g}=this.hoveredAxis,m=g===ChartAxisDirection7.X?{min:l,max:c}:{min:h,max:u};this.updateAxisZoom(d,g,m)}else(a=this.paddedRect)!=null&&a.containsPoint(e.offsetX,e.offsetY)&&this.highlightManager.getActivePicked()==null&&this.updateZoom({x:{min:l,max:c},y:{min:h,max:u}})}onDragStart(e){if(!this.enabled||!this.paddedRect)return;let t=0;if(this.enableAxisDragging&&this.hoveredAxis)t=1;else if(this.paddedRect.containsPoint(e.offsetX,e.offsetY)){const i=this.isPanningKeyPressed(e.sourceEvent);this.enablePanning&&(!this.enableSelecting||i)?(this.cursorManager.updateCursor(CURSOR_ID,"grabbing"),t=2):!this.isMinZoom(definedZoomState(this.zoomManager.getZoom()))&&!i&&(t=3)}(this.dragState=t)!==0&&this.zoomManager.fireZoomPanStartEvent()}onDrag(e){if(!this.enabled||!this.paddedRect||!this.seriesRect)return;this.ctx.interactionManager.pushState(import_ag_charts_community41._ModuleSupport.InteractionState.ZoomDrag);const t=definedZoomState(this.zoomManager.getZoom());switch(this.dragState){case 1:if(!this.hoveredAxis)break;const{id:i,direction:o}=this.hoveredAxis,s=o===import_ag_charts_community41._ModuleSupport.ChartAxisDirection.X?this.anchorPointX:this.anchorPointY,a=this.zoomManager.getAxisZoom(i),n=this.axisDragger.update(e,o,s,this.seriesRect,t,a);this.updateAxisZoom(i,o,n);break;case 2:const r=this.panner.update(e,this.seriesRect,this.zoomManager.getAxisZooms());for(const[l,{direction:c,zoom:h}]of Object.entries(r))this.updateAxisZoom(l,c,h);break;case 3:this.selector.update(e,this.minRatioX,this.minRatioY,this.isScalingX(),this.isScalingY(),this.paddedRect,t);break;case 0:return}this.tooltipManager.updateTooltip(TOOLTIP_ID),this.updateService.update(ChartUpdateType2.PERFORM_LAYOUT,{skipAnimations:!0})}onDragEnd(){if(this.ctx.interactionManager.popState(import_ag_charts_community41._ModuleSupport.InteractionState.ZoomDrag),!(!this.enabled||this.dragState===0)){switch(this.dragState){case 1:this.axisDragger.stop();break;case 2:this.panner.stop();break;case 3:if(!this.selector.didUpdate())break;const e=definedZoomState(this.zoomManager.getZoom());if(!this.isMinZoom(e)){const t=this.selector.stop(this.seriesRect,this.paddedRect,e);this.updateZoom(t)}break}this.dragState=0,this.cursorManager.updateCursor(CURSOR_ID),this.tooltipManager.removeTooltip(TOOLTIP_ID)}}onWheel(e){if(!this.enabled||!this.enableScrolling||!this.paddedRect||!this.seriesRect)return;const t=this.zoomManager.getZoom(),i=this.paddedRect.containsPoint(e.offsetX,e.offsetY),o=this.enableAxisDragging&&this.hoveredAxis!=null;let s=this.isScalingX(),a=this.isScalingY();o&&(s=this.hoveredAxis.direction===import_ag_charts_community41._ModuleSupport.ChartAxisDirection.X,a=!s);const n=e.sourceEvent,{deltaX:r,deltaY:l}=n,c=r!=null&&l!=null&&Math.abs(r)>Math.abs(l);if(this.enablePanning&&c){e.consume(),e.sourceEvent.preventDefault();const u=this.scrollPanner.update(e,this.scrollingStep,this.seriesRect,this.zoomManager.getAxisZooms());for(const[d,{direction:g,zoom:m}]of Object.entries(u))this.updateAxisZoom(d,g,m);return}if(!i&&!o)return;e.consume(),e.sourceEvent.preventDefault();const h=this.scroller.update(e,this.scrollingStep,this.getAnchorPointX(),this.getAnchorPointY(),s,a,this.seriesRect,t);this.updateZoom(h)}onAxisLeave(){this.enabled&&(this.hoveredAxis=void 0,this.cursorManager.updateCursor(CURSOR_ID))}onAxisHover(e){this.enabled&&(this.hoveredAxis={id:e.axisId,direction:e.direction},this.enableAxisDragging&&this.cursorManager.updateCursor(CURSOR_ID,e.direction===ChartAxisDirection7.X?"ew-resize":"ns-resize"))}onPinchMove(e){if(!this.enabled||!this.enableScrolling||!this.paddedRect||!this.seriesRect)return;const t=this.zoomManager.getZoom(),i=definedZoomState(t),o=definedZoomState(t),s=e.deltaDistance*-.01,a=pointToRatio(this.seriesRect,e.origin.x,e.origin.y);this.isScalingX()&&(o.x.max+=s*dx(i),o.x=scaleZoomAxisWithPoint(o.x,i.x,a.x)),this.isScalingY()&&(o.y.max+=s*(i.y.max-i.y.min),o.y=scaleZoomAxisWithPoint(o.y,i.y,a.y)),this.updateZoom(constrainZoom(o))}onToolbarButtonPress(e){if(!RANGES.has(e.id))return;const t=RANGES.get(e.id);typeof t=="function"?this.rangeX.extendWith(t):t==null?this.rangeX.extendAll():this.rangeX.extendToEnd(t)}onLayoutComplete(e){if(!this.enabled)return;const{series:{rect:t,paddedRect:i,shouldFlipXY:o},axes:s}=e;if(this.seriesRect=t,this.paddedRect=i,this.shouldFlipXY=o,!s)return;const[a,n]=import_ag_charts_community41._Util.bifurcate(h=>h.direction===ChartAxisDirection7.X,s),r=this.rangeX.updateAxis(a),l=this.rangeY.updateAxis(n);if(!r&&!l)return;const c={};c.x=this.rangeX.getRange(),c.y=this.rangeY.getRange(),(c.x!=null||c.y!=null)&&this.updateZoom(constrainZoom(definedZoomState(c)))}onUpdateComplete({minRect:e,minVisibleRect:t}){if(!this.enabled||!this.paddedRect||!e||!t)return;const i=definedZoomState(this.zoomManager.getZoom()),o=this.shouldFlipXY?this.minVisibleItemsY:this.minVisibleItemsX,s=this.shouldFlipXY?this.minVisibleItemsX:this.minVisibleItemsY,a=t.width*o/this.paddedRect.width,n=t.height*s/this.paddedRect.height,r=round(a*dx(i)),l=round(n*dy(i));this.isScalingX()&&(this.minRatioX=Math.min(1,r)),this.isScalingY()&&(this.minRatioY=Math.min(1,l)),this.minRatioX||(this.minRatioX=this.minRatioY||0),this.minRatioY||(this.minRatioY=this.minRatioX||0)}onContextMenuZoomToHere({event:e}){if(!this.enabled||!this.paddedRect||!e||!e.target)return;const t=definedZoomState(this.zoomManager.getZoom()),i=pointToRatio(this.paddedRect,e.clientX,e.clientY),o=i.x*dx(t),s=i.y*dy(t),a=UNIT.max-UNIT.min,n=a/2;let r={x:{min:i.x-n,max:i.x+n},y:{min:i.y-n,max:i.y+n}};r=scaleZoomCenter(r,this.isScalingX()?this.minRatioX:a,this.isScalingY()?this.minRatioY:a),r=translateZoom(r,t.x.min-i.x+o,t.y.min-i.y+s),this.updateZoom(constrainZoom(r))}onContextMenuPanToHere({event:e}){if(!this.enabled||!this.paddedRect||!e||!e.target)return;const t=definedZoomState(this.zoomManager.getZoom()),i=pointToRatio(this.paddedRect,e.clientX,e.clientY),o=dx(t),s=dy(t),a=i.x*o,n=i.y*s,r=(UNIT.max-UNIT.min)/2;let l={x:{min:i.x-r,max:i.x+r},y:{min:i.y-r,max:i.y+r}};l=scaleZoomCenter(l,o,s),l=translateZoom(l,t.x.min-i.x+a,t.y.min-i.y+n),this.updateZoom(constrainZoom(l))}onZoomChange(){this.toggleContextMenuActions(definedZoomState(this.zoomManager.getZoom()))}isPanningKeyPressed(e){switch(this.panKey){case"alt":return e.altKey;case"ctrl":return e.ctrlKey;case"shift":return e.shiftKey;case"meta":return e.metaKey}}isScalingX(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="y":this.axes==="x"}isScalingY(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="x":this.axes==="y"}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMinZoom(e){const t=round(dx(e))<=this.minRatioX,i=round(dy(e))<=this.minRatioY;return t||i}isMaxZoom(e){return e.x.min===UNIT.min&&e.x.max===UNIT.max&&e.y.min===UNIT.min&&e.y.max===UNIT.max}updateZoom(e){const t=dx(e),i=dy(e),o=definedZoomState(this.zoomManager.getZoom()),s=t<=dx(o)&&t<this.minRatioX,a=i<=dy(o)&&i<this.minRatioY;s&&(e.x=constrainAxisWithOld(e.x,o.x,this.minRatioX)),a&&(e.y=constrainAxisWithOld(e.y,o.y,this.minRatioY)),this.zoomManager.updateZoom("zoom",e)}updateAxisZoom(e,t,i){if(!i)return;if(!this.enableSecondaryAxis){const a=definedZoomState(this.zoomManager.getZoom());a[t]=i,this.updateZoom(a);return}const o=i.max-i.min,s=t===ChartAxisDirection7.X?this.minRatioX:this.minRatioY;o<s||this.zoomManager.updateAxisZoom("zoom",e,i)}};__decorateClass([ActionOnSet8({newValue(e){e?(this.registerContextMenuActions(),this.addToolbarButtons()):this.enabled&&this.removeToolbarButtons()}}),Validate23(BOOLEAN12)],Zoom.prototype,"enabled",2),__decorateClass([Validate23(BOOLEAN12)],Zoom.prototype,"enableAxisDragging",2),__decorateClass([Validate23(BOOLEAN12)],Zoom.prototype,"enableDoubleClickToReset",2),__decorateClass([Validate23(BOOLEAN12)],Zoom.prototype,"enablePanning",2),__decorateClass([Validate23(BOOLEAN12)],Zoom.prototype,"enableScrolling",2),__decorateClass([Validate23(BOOLEAN12)],Zoom.prototype,"enableSelecting",2),__decorateClass([Validate23(UNION4(["alt","ctrl","meta","shift"],"a pan key"))],Zoom.prototype,"panKey",2),__decorateClass([Validate23(UNION4(["x","y","xy"],"an axis"))],Zoom.prototype,"axes",2),__decorateClass([Validate23(RATIO9)],Zoom.prototype,"scrollingStep",2),__decorateClass([Validate23(NUMBER7.restrict({min:1}))],Zoom.prototype,"minVisibleItemsX",2),__decorateClass([Validate23(NUMBER7.restrict({min:1}))],Zoom.prototype,"minVisibleItemsY",2),__decorateClass([Validate23(ANCHOR_CORD)],Zoom.prototype,"anchorPointX",2),__decorateClass([Validate23(ANCHOR_CORD)],Zoom.prototype,"anchorPointY",2);var ZoomModule={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:Zoom,themeTemplate:{zoom:{anchorPointX:"end",anchorPointY:"middle",axes:"x",enabled:!1,enableAxisDragging:!0,enableDoubleClickToReset:!0,enablePanning:!0,enableScrolling:!0,enableSelecting:!1,minVisibleItemsX:2,minVisibleItemsY:2,panKey:"alt",scrollingStep:.1}}},import_ag_charts_community43=require("ag-charts-community"),import_ag_charts_community42=require("ag-charts-community"),{BOOLEAN:BOOLEAN13,Layers:Layers5,POSITION,Validate:Validate24,Default:Default4,MIN_SPACING:MIN_SPACING3,POSITIVE_NUMBER:POSITIVE_NUMBER7,ProxyProperty:ProxyProperty2,DeprecatedAndRenamedTo}=import_ag_charts_community42._ModuleSupport,{BBox:BBox5,Group:Group5,Rect,LinearGradientFill,Triangle}=import_ag_charts_community42._Scene,{createId:createId3,Logger:Logger3}=import_ag_charts_community42._Util,GradientBar=class{constructor(){this.thickness=16,this.preferredLength=100}};__decorateClass([Validate24(POSITIVE_NUMBER7)],GradientBar.prototype,"thickness",2),__decorateClass([Validate24(POSITIVE_NUMBER7)],GradientBar.prototype,"preferredLength",2);var GradientLegendAxisTick=class extends import_ag_charts_community42._ModuleSupport.AxisTick{constructor(){super(...arguments),this.enabled=!1,this.size=0,this.maxSpacing=NaN}};__decorateClass([Validate24(MIN_SPACING3),Default4(NaN)],GradientLegendAxisTick.prototype,"maxSpacing",2);var GradientLegendAxis=class extends import_ag_charts_community42._ModuleSupport.CartesianAxis{constructor(e){super(e,new import_ag_charts_community42._Scale.LinearScale,{respondsToZoom:!1}),this.colorDomain=[],this.nice=!1,this.line.enabled=!1}calculateDomain(){this.setDomain(this.colorDomain)}formatDatum(e){return typeof e=="number"?e.toFixed(2):(Logger3.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(e))}createTick(){return new GradientLegendAxisTick}},GradientLegendLabel=class{constructor(e){this.label=e}};__decorateClass([ProxyProperty2("label.fontStyle")],GradientLegendLabel.prototype,"fontStyle",2),__decorateClass([ProxyProperty2("label.fontWeight")],GradientLegendLabel.prototype,"fontWeight",2),__decorateClass([ProxyProperty2("label.fontSize")],GradientLegendLabel.prototype,"fontSize",2),__decorateClass([ProxyProperty2("label.fontFamily")],GradientLegendLabel.prototype,"fontFamily",2),__decorateClass([ProxyProperty2("label.color")],GradientLegendLabel.prototype,"color",2),__decorateClass([ProxyProperty2("label.format")],GradientLegendLabel.prototype,"format",2),__decorateClass([ProxyProperty2("label.formatter")],GradientLegendLabel.prototype,"formatter",2);var GradientLegendInterval=class{constructor(e){this.tick=e}};__decorateClass([ProxyProperty2("tick.values")],GradientLegendInterval.prototype,"values",2),__decorateClass([ProxyProperty2("tick.minSpacing")],GradientLegendInterval.prototype,"minSpacing",2),__decorateClass([ProxyProperty2("tick.maxSpacing")],GradientLegendInterval.prototype,"maxSpacing",2),__decorateClass([ProxyProperty2("tick.interval")],GradientLegendInterval.prototype,"step",2);var GradientLegendScale=class{constructor(e){this.axis=e,this.label=new GradientLegendLabel(e.label),this.interval=new GradientLegendInterval(e.tick)}};__decorateClass([ProxyProperty2("axis.seriesAreaPadding")],GradientLegendScale.prototype,"padding",2);var GradientLegend=class{constructor(e){this.ctx=e,this.id=createId3(this),this.group=new Group5({name:"legend",layer:!0,zIndex:Layers5.LEGEND_ZINDEX}),this.gradient=new GradientBar,this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=void 0,this.pagination=void 0,this.spacing=20,this.data=[],this.listeners={},this.latestGradientBox=void 0,this.layoutService=e.layoutService,this.destroyFns.push(this.layoutService.addListener("start-layout",t=>this.update(t.shrinkRect))),this.highlightManager=e.highlightManager,this.destroyFns.push(this.highlightManager.addListener("highlight-change",()=>this.onChartHoverChange())),this.gradientRect=new Rect,this.gradientFill=new LinearGradientFill,this.gradientFill.mask=this.gradientRect,this.group.append(this.gradientFill),this.arrow=new Triangle,this.group.append(this.arrow),this.axisGridGroup=new Group5({name:"legend-axis-grid-group"}),this.group.append(this.axisGridGroup),this.axisGroup=new Group5({name:"legend-axis-group"}),this.group.append(this.axisGroup),this.axis=new GradientLegendAxis(e),this.axis.attachAxis(this.axisGroup,this.axisGridGroup),this.scale=new GradientLegendScale(this.axis),this.stop=this.scale,this.destroyFns.push(()=>this.detachLegend())}getOrientation(){switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}destroy(){this.destroyFns.forEach(e=>e())}attachLegend(e){e.appendChild(this.group)}detachLegend(){var e;(e=this.group.parent)==null||e.removeChild(this.group)}update(e){const t=this.data[0];if(!this.enabled||!t||!t.enabled)return this.group.visible=!1,{shrinkRect:e.clone()};const{colorRange:i}=this.normalizeColorArrays(t),o=this.updateGradientRect(e,i),s=this.updateAxis(t,o),{newShrinkRect:a,translateX:n,translateY:r}=this.getMeasurements(e,o,s);return this.updateArrow(o),this.group.visible=!0,this.group.translationX=n,this.group.translationY=r,this.latestGradientBox=o,{shrinkRect:a}}normalizeColorArrays(e){let t=e.colorDomain.slice();const i=e.colorRange.slice();if(t.length===i.length)return{colorDomain:t,colorRange:i};t.length>i.length&&i.splice(t.length);const o=i.length;return t=i.map((s,a)=>{const[n,r]=t;return a===0?n:a===o-1?r:n+(r-n)*a/(o-1)}),{colorDomain:t,colorRange:i}}updateGradientRect(e,t){const{preferredLength:i,thickness:o}=this.gradient,s=new BBox5(0,0,0,0),a=this.getOrientation()==="vertical";if(a){const n=e.height,r=i;s.x=0,s.y=0,s.width=o,s.height=Math.min(n,r)}else{const n=e.width,r=i;s.x=0,s.y=0,s.width=Math.min(n,r),s.height=o}return this.reverseOrder&&(t=t.slice().reverse()),this.gradientFill.stops=t,this.gradientFill.direction=a?"to-bottom":"to-right",this.gradientRect.x=s.x,this.gradientRect.y=s.y,this.gradientRect.width=s.width,this.gradientRect.height=s.height,s}updateAxis(e,t){const{reverseOrder:i,axis:o}=this,s=this.getOrientation()==="vertical";o.position=s?"right":"bottom",o.colorDomain=i?e.colorDomain.slice().reverse():e.colorDomain,o.calculateDomain(),o.range=s?[0,t.height]:[0,t.width],o.gridLength=0,o.translation.x=t.x+(s?t.width:0),o.translation.y=t.y+(s?0:t.height);const a=o.calculateLayout().bbox;return o.update(),a}updateArrow(e){var t;const{arrow:i,axis:{label:o,scale:s}}=this,a=this.highlightManager.getActiveHighlight(),n=a?.colorValue;if(a==null||n==null){i.visible=!1;return}const r=this.getOrientation()==="vertical",l=(t=o.fontSize)!=null?t:0,c=s.convert(n);let h,u,d;r?(h=e.x-l/2,u=e.y+c,d=Math.PI/2):(h=e.x+c,u=e.y-l/2,d=Math.PI),i.fill=o.color,i.size=l,i.translationX=h,i.translationY=u,i.rotation=d,i.visible=!0}getMeasurements(e,t,i){let o,s;this.getOrientation()==="vertical"?(o=t.width+i.width,s=t.height):(o=t.width,s=t.height+i.height);const{spacing:n}=this,r=e.clone();let l,c;return this.position==="left"?(l=e.x,c=e.y+e.height/2-s/2,r.shrink(o+n,"left")):this.position==="right"?(l=e.x+e.width-o,c=e.y+e.height/2-s/2,r.shrink(o+n,"right")):this.position==="top"?(l=e.x+e.width/2-o/2,c=e.y,r.shrink(s+n,"top")):(l=e.x+e.width/2-o/2,c=e.y+e.height-s,r.shrink(s+n,"bottom")),{translateX:l,translateY:c,gradientBox:t,newShrinkRect:r}}computeBBox(){return this.group.computeBBox()}onChartHoverChange(){this.enabled&&this.latestGradientBox!=null&&this.updateArrow(this.latestGradientBox)}};GradientLegend.className="GradientLegend",__decorateClass([Validate24(BOOLEAN13)],GradientLegend.prototype,"enabled",2),__decorateClass([Validate24(POSITION)],GradientLegend.prototype,"position",2),__decorateClass([Validate24(BOOLEAN13,{optional:!0})],GradientLegend.prototype,"reverseOrder",2),__decorateClass([Validate24(POSITIVE_NUMBER7)],GradientLegend.prototype,"spacing",2),__decorateClass([DeprecatedAndRenamedTo("scale")],GradientLegend.prototype,"stop",2);var GradientLegendModule={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],identifier:"gradient",instanceConstructor:GradientLegend,themeTemplate:{enabled:!1,position:"bottom",spacing:20,scale:{padding:8,label:{color:import_ag_charts_community43._Theme.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:import_ag_charts_community43._Theme.DEFAULT_FONT_FAMILY,formatter:void 0},interval:{minSpacing:1}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1}},MD5=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let i=e[0],o=e[1],s=e[2],a=e[3];i=this.ff(i,o,s,a,t[0],7,-680876936),a=this.ff(a,i,o,s,t[1],12,-389564586),s=this.ff(s,a,i,o,t[2],17,606105819),o=this.ff(o,s,a,i,t[3],22,-1044525330),i=this.ff(i,o,s,a,t[4],7,-176418897),a=this.ff(a,i,o,s,t[5],12,1200080426),s=this.ff(s,a,i,o,t[6],17,-1473231341),o=this.ff(o,s,a,i,t[7],22,-45705983),i=this.ff(i,o,s,a,t[8],7,1770035416),a=this.ff(a,i,o,s,t[9],12,-1958414417),s=this.ff(s,a,i,o,t[10],17,-42063),o=this.ff(o,s,a,i,t[11],22,-1990404162),i=this.ff(i,o,s,a,t[12],7,1804603682),a=this.ff(a,i,o,s,t[13],12,-40341101),s=this.ff(s,a,i,o,t[14],17,-1502002290),o=this.ff(o,s,a,i,t[15],22,1236535329),i=this.gg(i,o,s,a,t[1],5,-165796510),a=this.gg(a,i,o,s,t[6],9,-1069501632),s=this.gg(s,a,i,o,t[11],14,643717713),o=this.gg(o,s,a,i,t[0],20,-373897302),i=this.gg(i,o,s,a,t[5],5,-701558691),a=this.gg(a,i,o,s,t[10],9,38016083),s=this.gg(s,a,i,o,t[15],14,-660478335),o=this.gg(o,s,a,i,t[4],20,-405537848),i=this.gg(i,o,s,a,t[9],5,568446438),a=this.gg(a,i,o,s,t[14],9,-1019803690),s=this.gg(s,a,i,o,t[3],14,-187363961),o=this.gg(o,s,a,i,t[8],20,1163531501),i=this.gg(i,o,s,a,t[13],5,-1444681467),a=this.gg(a,i,o,s,t[2],9,-51403784),s=this.gg(s,a,i,o,t[7],14,1735328473),o=this.gg(o,s,a,i,t[12],20,-1926607734),i=this.hh(i,o,s,a,t[5],4,-378558),a=this.hh(a,i,o,s,t[8],11,-2022574463),s=this.hh(s,a,i,o,t[11],16,1839030562),o=this.hh(o,s,a,i,t[14],23,-35309556),i=this.hh(i,o,s,a,t[1],4,-1530992060),a=this.hh(a,i,o,s,t[4],11,1272893353),s=this.hh(s,a,i,o,t[7],16,-155497632),o=this.hh(o,s,a,i,t[10],23,-1094730640),i=this.hh(i,o,s,a,t[13],4,681279174),a=this.hh(a,i,o,s,t[0],11,-358537222),s=this.hh(s,a,i,o,t[3],16,-722521979),o=this.hh(o,s,a,i,t[6],23,76029189),i=this.hh(i,o,s,a,t[9],4,-640364487),a=this.hh(a,i,o,s,t[12],11,-421815835),s=this.hh(s,a,i,o,t[15],16,530742520),o=this.hh(o,s,a,i,t[2],23,-995338651),i=this.ii(i,o,s,a,t[0],6,-198630844),a=this.ii(a,i,o,s,t[7],10,1126891415),s=this.ii(s,a,i,o,t[14],15,-1416354905),o=this.ii(o,s,a,i,t[5],21,-57434055),i=this.ii(i,o,s,a,t[12],6,1700485571),a=this.ii(a,i,o,s,t[3],10,-1894986606),s=this.ii(s,a,i,o,t[10],15,-1051523),o=this.ii(o,s,a,i,t[1],21,-2054922799),i=this.ii(i,o,s,a,t[8],6,1873313359),a=this.ii(a,i,o,s,t[15],10,-30611744),s=this.ii(s,a,i,o,t[6],15,-1560198380),o=this.ii(o,s,a,i,t[13],21,1309151649),i=this.ii(i,o,s,a,t[4],6,-145523070),a=this.ii(a,i,o,s,t[11],10,-1120210379),s=this.ii(s,a,i,o,t[2],15,718787259),o=this.ii(o,s,a,i,t[9],21,-343485551),e[0]=this.add32(i,e[0]),e[1]=this.add32(o,e[1]),e[2]=this.add32(s,e[2]),e[3]=this.add32(a,e[3])}cmn(e,t,i,o,s,a){return t=this.add32(this.add32(t,e),this.add32(o,a)),this.add32(t<<s|t>>>32-s,i)}ff(e,t,i,o,s,a,n){return this.cmn(t&i|~t&o,e,t,s,a,n)}gg(e,t,i,o,s,a,n){return this.cmn(t&o|i&~o,e,t,s,a,n)}hh(e,t,i,o,s,a,n){return this.cmn(t^i^o,e,t,s,a,n)}ii(e,t,i,o,s,a,n){return this.cmn(i^(t|~o),e,t,s,a,n)}md51(e){const t=e.length,i=[1732584193,-271733879,-1732584194,271733878];let o;for(o=64;o<=e.length;o+=64)this.md5cycle(i,this.md5blk(e.substring(o-64,o)));e=e.substring(o-64);const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<e.length;o++)s[o>>2]|=e.charCodeAt(o)<<(o%4<<3);if(s[o>>2]|=128<<(o%4<<3),o>55)for(this.md5cycle(i,s),o=0;o<16;o++)s[o]=0;return s[14]=t*8,this.md5cycle(i,s),i}md5blk(e){const t=[];for(let i=0;i<64;i+=4)t[i>>2]=e.charCodeAt(i)+(e.charCodeAt(i+1)<<8)+(e.charCodeAt(i+2)<<16)+(e.charCodeAt(i+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let i="",o=0;for(;o<4;o++)i+=t[e>>o*8+4&15]+t[e>>o*8&15];return i}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const i=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(i>>16)<<16|i&65535}};function missingOrEmpty(e){return e==null||e.length===0}var LICENSE_TYPES={"01":"GRID","02":"CHARTS","0102":"BOTH"},_LicenseManager=class it{constructor(t){this.gridContext=!1,this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new MD5,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(this.licenseKey,this.gridContext),i=`AG ${t.currentLicenseType==="BOTH"?"Grid and ":""}Charts Enterprise`,o=t.suppliedLicenseType===void 0?"":`AG ${t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(i);else if(t.expired){const s=it.getChartsReleaseDate(),a=it.formatDate(s);this.outputExpiredKey(t.expiry,a,o)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,i,o):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,i,o)}static extractExpiry(t){const i=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(it.decode(i),10))}static extractLicenseComponents(t){let i=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const o=i.length-32,s=i.substring(o),a=i.substring(0,o),[n,r,l]=it.extractBracketedInformation(i);return{md5:s,license:a,version:n,isTrial:r,type:l}}getLicenseDetails(t,i=!1){const o="CHARTS";if(missingOrEmpty(t))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:o};const s=it.getChartsReleaseDate(),{md5:a,license:n,version:r,isTrial:l,type:c}=it.extractLicenseComponents(t);let h=a===this.md5.md5(n)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,u,d,g=null,m=!1,p;function y(){u=g<new Date,d=void 0}if(h&&(g=it.extractExpiry(n),h=!isNaN(g.getTime()),h))switch(d=s>g,r){case"legacy":case"2":{h=!1;break}case"3":missingOrEmpty(c)?h=!1:(p=c,c!==LICENSE_TYPES["02"]&&c!==LICENSE_TYPES["0102"]?(h=!1,m=!0):l&&y())}return h?{licenseKey:t,valid:h,expiry:it.formatDate(g),expired:d,version:r,isTrial:l,trialExpired:u,invalidLicenseTypeForCombo:i?p!=="BOTH":void 0,incorrectLicenseType:m,currentLicenseType:o,suppliedLicenseType:p}:{licenseKey:t,valid:h,incorrectLicenseType:m,currentLicenseType:o,suppliedLicenseType:p}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!missingOrEmpty(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){if(!this.document)return"localhost";const t=this.document.defaultView||window;if(!t)return"localhost";const i=t.location,{hostname:o=""}=i;return o}isForceWatermark(){var t,i;if(!this.document)return!1;const o=((i=(t=this.document)==null?void 0:t.defaultView)!=null?i:typeof window<"u")?window:void 0;if(!o)return!1;const{pathname:s}=o.location;return s?s.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=t.getDate(),s=t.getMonth(),a=t.getFullYear();return o+" "+i[s]+" "+a}static getChartsReleaseDate(){return new Date(parseInt(it.decode(it.RELEASE_INFORMATION),10))}static decode(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let o="",s,a,n,r,l,c,h,u=0;const d=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;u<d.length;)r=i.indexOf(d.charAt(u++)),l=i.indexOf(d.charAt(u++)),c=i.indexOf(d.charAt(u++)),h=i.indexOf(d.charAt(u++)),s=r<<2|l>>4,a=(l&15)<<4|c>>2,n=(c&3)<<6|h,o=o+String.fromCharCode(s),c!=64&&(o=o+String.fromCharCode(a)),h!=64&&(o=o+String.fromCharCode(n));return o=it.utf8_decode(o),o}static utf8_decode(t){t=t.replace(/rn/g,"n");let i="";for(let o=0;o<t.length;o++){const s=t.charCodeAt(o);s<128?i+=String.fromCharCode(s):s>127&&s<2048?(i+=String.fromCharCode(s>>6|192),i+=String.fromCharCode(s&63|128)):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128),i+=String.fromCharCode(s&63|128))}return i}setLicenseKey(t,i=!1){this.gridContext=i,this.licenseKey=t}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const i=t.match(/\[(.*?)\]/g).map(r=>r.replace("[","").replace("]",""));if(!i||i.length===0)return["legacy",!1,void 0];const o=i.filter(r=>r==="TRIAL").length===1,s=i.filter(r=>r.indexOf("v")===0)[0],a=s?s.replace("v",""):"legacy",n=LICENSE_TYPES[i.filter(r=>LICENSE_TYPES[r])[0]];return[a,o,n]}centerPadAndOutput(t){const i=this.totalMessageLength-t.length;console.error(t.padStart(i/2+t.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(t,i="*",o=""){console.error(t.padEnd(this.totalMessageLength-o.length,i)+o)}outputInvalidLicenseKey(t,i,o){this.gridContext||(t?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${o} only and does not cover you for ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to obtain a combined license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid - please contact info@ag-grid.com to obtain a valid license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""))),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t,i,o){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${o} expired on ${t}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(t){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${t} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(t,i,o){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${o} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${o} released before ${t}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="License Expired"}};_LicenseManager.RELEASE_INFORMATION="MTcxMTU0NzQ1NzgwNA==";var LicenseManager=_LicenseManager,import_ag_charts_community44=require("ag-charts-community"),{createElement:createElement4,injectStyle:injectStyle3}=import_ag_charts_community44._ModuleSupport,watermarkStyles=`
.ag-watermark {
    position: absolute;
    bottom: 20px;
    right: 25px;
    font-weight: bold;
    font-family: Impact, sans-serif;
    font-size: 19px;
    opacity: 0.7;
    animation: 1s ease-out 3s ag-watermark-fadeout;
    color: #9B9B9B;
    pointer-events: none;

    &::before {
        content: '';
        display: block;
        height: 40px;
        width: 170px;
        background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);
        background-repeat: no-repeat;
        background-size: 170px 40px;
    }

    > span {
        padding-left: 0.7rem;
    }
}

@keyframes ag-watermark-fadeout {
    from { opacity: 0.5; }
    to { opacity: 0; }
}
`;function injectWatermark(e,t){injectStyle3(watermarkStyles,"watermark");const i=createElement4("div"),o=createElement4("span");o.innerText=t,i.addEventListener("animationend",()=>e.removeChild(i)),i.classList.add("ag-watermark"),i.appendChild(o),e.appendChild(i)}var import_ag_charts_community49=require("ag-charts-community"),import_ag_charts_community47=require("ag-charts-community");function prepareBoxPlotFromTo(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function resetBoxPlotSelectionsScalingCenterFn(e){return(t,i)=>e?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var import_ag_charts_community45=require("ag-charts-community"),{Group:Group6,Rect:Rect2,Line:Line2,BBox:BBox6,Selection:Selection2}=import_ag_charts_community45._Scene,BoxPlotGroup=class extends Group6{constructor(){super(),this.append([new Rect2({tag:0}),new Rect2({tag:0}),new Rect2({tag:2}),new Rect2({tag:1}),new Line2({tag:3}),new Line2({tag:3}),new Line2({tag:4}),new Line2({tag:4})])}updateDatumStyles(e,t,i,o,s){const{bandwidth:a,scaledValues:{xValue:n,medianValue:r}}=e;let{minValue:l,q1Value:c,q3Value:h,maxValue:u}=e.scaledValues;(i&&!o||!i&&o)&&([u,h,c,l]=[l,c,h,u]);const{fill:d,fillOpacity:g,stroke:m,strokeWidth:p,strokeOpacity:y,lineDash:f,lineDashOffset:v,cap:M,whisker:x}=t,S=Selection2.select(this,Rect2),_=S.selectByTag(0),[D]=S.selectByTag(2),[N]=S.selectByTag(1),E=S.selectByTag(3),I=S.selectByTag(4);x.strokeWidth>a&&(x.strokeWidth=a),D.setProperties({x:c,y:n,width:h-c,height:a});const b=i?new BBox6(n,c,a,h-c):new BBox6(c,n,h-c,a);_[0].setProperties({x:c,y:n,width:Math.round(r-c+p/2),height:a,cornerRadius:s,cornerRadiusBbox:b}),_[1].setProperties({x:Math.round(r-p/2),y:n,width:Math.floor(h-r+p/2),height:a,cornerRadius:s,cornerRadiusBbox:b});const A=Math.max(Math.round(r-p/2),c+p),T=Math.min(Math.round(r+p/2),h-p);N.setProperties({visible:A<T,x:A,y:n+p,width:T-A,height:Math.max(0,a-p*2),cornerRadius:s,cornerRadiusBbox:b});const L=Math.floor(n+a*(1-M.lengthRatio)/2),O=Math.ceil(n+a*(1+M.lengthRatio)/2);I[0].setProperties({x:l,y1:L,y2:O}),I[1].setProperties({x:u,y1:L,y2:O}),E[0].setProperties({x1:Math.round(l+x.strokeWidth/2),x2:c,y:Math.floor(n+a/2)}),E[1].setProperties({x1:h,x2:Math.round(u-x.strokeWidth/2),y:Math.floor(n+a/2)}),i&&import_ag_charts_community45._ModuleSupport.invertShapeDirection(D,N,..._,...I,...E);for(const R of _)R.setProperties({fill:d,fillOpacity:g,strokeWidth:p*2,strokeOpacity:0});N.setProperties({fill:m,fillOpacity:y,strokeWidth:0});for(const R of[...E,...I])R.setProperties(x);D.setProperties({stroke:m,strokeWidth:p,strokeOpacity:y,lineDash:f,lineDashOffset:v,cornerRadius:s,fillOpacity:0})}},import_ag_charts_community46=require("ag-charts-community"),{BaseProperties:BaseProperties5,AbstractBarSeriesProperties,SeriesTooltip,Validate:Validate25,COLOR_STRING:COLOR_STRING5,FUNCTION:FUNCTION4,LINE_DASH:LINE_DASH4,OBJECT:OBJECT4,POSITIVE_NUMBER:POSITIVE_NUMBER8,RATIO:RATIO10,STRING:STRING5,mergeDefaults:mergeDefaults3}=import_ag_charts_community46._ModuleSupport,BoxPlotSeriesCap=class extends BaseProperties5{constructor(){super(...arguments),this.lengthRatio=.5}};__decorateClass([Validate25(RATIO10)],BoxPlotSeriesCap.prototype,"lengthRatio",2);var BoxPlotSeriesWhisker=class extends BaseProperties5{};__decorateClass([Validate25(COLOR_STRING5,{optional:!0})],BoxPlotSeriesWhisker.prototype,"stroke",2),__decorateClass([Validate25(POSITIVE_NUMBER8)],BoxPlotSeriesWhisker.prototype,"strokeWidth",2),__decorateClass([Validate25(RATIO10)],BoxPlotSeriesWhisker.prototype,"strokeOpacity",2),__decorateClass([Validate25(LINE_DASH4,{optional:!0})],BoxPlotSeriesWhisker.prototype,"lineDash",2),__decorateClass([Validate25(POSITIVE_NUMBER8)],BoxPlotSeriesWhisker.prototype,"lineDashOffset",2);var BoxPlotSeriesProperties=class extends AbstractBarSeriesProperties{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new BoxPlotSeriesCap,this.whisker=new BoxPlotSeriesWhisker,this.tooltip=new SeriesTooltip}toJson(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:o,lineDashOffset:s}=this,a=super.toJson();return a.whisker=mergeDefaults3(a.whisker,{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:o,lineDashOffset:s}),a}};__decorateClass([Validate25(STRING5)],BoxPlotSeriesProperties.prototype,"xKey",2),__decorateClass([Validate25(STRING5)],BoxPlotSeriesProperties.prototype,"minKey",2),__decorateClass([Validate25(STRING5)],BoxPlotSeriesProperties.prototype,"q1Key",2),__decorateClass([Validate25(STRING5)],BoxPlotSeriesProperties.prototype,"medianKey",2),__decorateClass([Validate25(STRING5)],BoxPlotSeriesProperties.prototype,"q3Key",2),__decorateClass([Validate25(STRING5)],BoxPlotSeriesProperties.prototype,"maxKey",2),__decorateClass([Validate25(STRING5,{optional:!0})],BoxPlotSeriesProperties.prototype,"xName",2),__decorateClass([Validate25(STRING5,{optional:!0})],BoxPlotSeriesProperties.prototype,"yName",2),__decorateClass([Validate25(STRING5,{optional:!0})],BoxPlotSeriesProperties.prototype,"minName",2),__decorateClass([Validate25(STRING5,{optional:!0})],BoxPlotSeriesProperties.prototype,"q1Name",2),__decorateClass([Validate25(STRING5,{optional:!0})],BoxPlotSeriesProperties.prototype,"medianName",2),__decorateClass([Validate25(STRING5,{optional:!0})],BoxPlotSeriesProperties.prototype,"q3Name",2),__decorateClass([Validate25(STRING5,{optional:!0})],BoxPlotSeriesProperties.prototype,"maxName",2),__decorateClass([Validate25(COLOR_STRING5,{optional:!0})],BoxPlotSeriesProperties.prototype,"fill",2),__decorateClass([Validate25(RATIO10)],BoxPlotSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate25(COLOR_STRING5)],BoxPlotSeriesProperties.prototype,"stroke",2),__decorateClass([Validate25(POSITIVE_NUMBER8)],BoxPlotSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate25(RATIO10)],BoxPlotSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate25(LINE_DASH4)],BoxPlotSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate25(POSITIVE_NUMBER8)],BoxPlotSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate25(POSITIVE_NUMBER8)],BoxPlotSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Validate25(FUNCTION4,{optional:!0})],BoxPlotSeriesProperties.prototype,"formatter",2),__decorateClass([Validate25(OBJECT4)],BoxPlotSeriesProperties.prototype,"cap",2),__decorateClass([Validate25(OBJECT4)],BoxPlotSeriesProperties.prototype,"whisker",2),__decorateClass([Validate25(OBJECT4)],BoxPlotSeriesProperties.prototype,"tooltip",2);var{extent,extractDecoratedProperties,fixNumericExtent:fixNumericExtent2,keyProperty,mergeDefaults:mergeDefaults4,SeriesNodePickMode,SMALLEST_KEY_INTERVAL,valueProperty:valueProperty2,diff,animationValidation,ChartAxisDirection:ChartAxisDirection8,convertValuesToScaleByDefs}=import_ag_charts_community47._ModuleSupport,{motion}=import_ag_charts_community47._Scene,BoxPlotSeriesNodeEvent=class extends import_ag_charts_community47._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.minKey=o.properties.minKey,this.q1Key=o.properties.q1Key,this.medianKey=o.properties.medianKey,this.q3Key=o.properties.q3Key,this.maxKey=o.properties.maxKey}},_BoxPlotSeries=class Dt extends import_ag_charts_community47._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},pathsPerSeries:1,hasHighlightedLabels:!0}),this.properties=new BoxPlotSeriesProperties,this.NodeEvent=BoxPlotSeriesNodeEvent}processData(t){return __async(this,null,function*(){var i,o,s,a;if(!this.properties.isValid())return;const{xKey:n,minKey:r,q1Key:l,medianKey:c,q3Key:h,maxKey:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),g=((i=this.getCategoryAxis())==null?void 0:i.scale)instanceof import_ag_charts_community47._Scale.ContinuousScale,m=[];d&&this.processedData&&m.push(diff(this.processedData)),d&&m.push(animationValidation(this));const{processedData:p}=yield this.requestDataModel(t,(o=this.data)!=null?o:[],{props:[keyProperty(this,n,g,{id:"xValue"}),valueProperty2(this,r,!0,{id:"minValue"}),valueProperty2(this,l,!0,{id:"q1Value"}),valueProperty2(this,c,!0,{id:"medianValue"}),valueProperty2(this,h,!0,{id:"q3Value"}),valueProperty2(this,u,!0,{id:"maxValue"}),...g?[SMALLEST_KEY_INTERVAL]:[],...m],dataVisible:this.visible});this.smallestDataInterval={x:(a=(s=p.reduced)==null?void 0:s.smallestKeyInterval)!=null?a:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var i;const{processedData:o,dataModel:s,smallestDataInterval:a}=this;if(!(o&&s))return[];if(t===this.getBarDirection()){const p=s.getDomain(this,"minValue","value",o),y=s.getDomain(this,"maxValue","value",o);return fixNumericExtent2([Math.min(...p),Math.max(...y)],this.getValueAxis())}const{index:n,def:r}=s.resolveProcessedDataIndexById(this,"xValue"),l=o.domain.keys[n];if(r.type==="key"&&r.valueType==="category")return l;const c=this.getCategoryAxis(),h=c?.isReversed(),u=(i=extent(l))!=null?i:[NaN,NaN],d=a&&isFinite(a.x)?a.x:0;if(t===ChartAxisDirection8.Y){const p=u[0]+(h?0:-d),y=u[1]+(h?d:0);return fixNumericExtent2([p,y],c)}const g=u[0]+(h?-d:0),m=u[1]+(h?0:d);return fixNumericExtent2([g,m],c)}createNodeData(){return __async(this,null,function*(){const{visible:t,dataModel:i}=this,o=this.getCategoryAxis(),s=this.getValueAxis();if(!(i&&t&&o&&s))return[];const{xKey:a,fill:n,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:u,lineDashOffset:d,cap:g,whisker:m}=this.properties,p=[],y=i.resolveProcessedDataDefsByIds(this,["xValue","minValue","q1Value","medianValue","q3Value","maxValue"]),{barWidth:f,groupIndex:v}=this.updateGroupScale(o),{groupScale:M,processedData:x}=this,S=this.isVertical();return x?.data.forEach(({datum:_,keys:D,values:N})=>{const{xValue:E,minValue:I,q1Value:b,medianValue:A,q3Value:T,maxValue:L}=i.resolveProcessedDataDefsValues(y,{keys:D,values:N});if([I,b,A,T,L].some(V=>typeof V!="number")||I>b||b>A||A>T||T>L)return;const O=convertValuesToScaleByDefs({defs:y,values:{xValue:E,minValue:I,q1Value:b,medianValue:A,q3Value:T,maxValue:L},xAxis:o,yAxis:s});O.xValue+=Math.round(M.convert(String(v)));const R=Math.round(f),C=Math.abs(O.q3Value-O.q1Value),k=O.xValue+R/2,P=Math.min(O.q3Value,O.q1Value)+C/2,w={x:S?k:P,y:S?P:k};p.push({series:this,itemId:E,datum:_,xKey:a,bandwidth:R,scaledValues:O,cap:g,whisker:m,fill:n,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:u,lineDashOffset:d,midPoint:w})}),[{itemId:a,nodeData:p,labelData:[],scales:__superGet(Dt.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}getLegendData(t){var i;const{id:o,data:s}=this,{xKey:a,yName:n,fill:r,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:u,showInLegend:d,legendItemName:g,visible:m}=this.properties;return!d||!s?.length||!a||t!=="category"?[]:[{legendType:"category",id:o,itemId:o,seriesId:o,enabled:m,label:{text:(i=g??n)!=null?i:o},marker:{fill:r,fillOpacity:l,stroke:c,strokeOpacity:u,strokeWidth:h},legendItemName:g}]}getTooltipHtml(t){const{xKey:i,minKey:o,q1Key:s,medianKey:a,q3Key:n,maxKey:r,xName:l,yName:c,minName:h,q1Name:u,medianName:d,q3Name:g,maxName:m,tooltip:p}=this.properties,{datum:y}=t,f=this.getCategoryAxis(),v=this.getValueAxis();if(!f||!v||!this.properties.isValid())return"";const M=import_ag_charts_community47._Util.sanitizeHtml(c),S=[[i,l,f],[o,h,v],[s,u,v],[a,d,v],[n,g,v],[r,m,v]].map(([D,N,E])=>import_ag_charts_community47._Util.sanitizeHtml(`${N??D}: ${E.formatDatum(y[D])}`)).join(M?"<br/>":", "),{fill:_}=this.getFormattedStyles(t);return p.toTooltipHtml({title:M,content:S,backgroundColor:_},{seriesId:this.id,datum:y,fill:_,xKey:i,minKey:o,q1Key:s,medianKey:a,q3Key:n,maxKey:r,xName:l,minName:h,q1Name:u,medianName:d,q3Name:g,maxName:m})}animateEmptyUpdateReady({datumSelections:t}){const i=this.isVertical(),{from:o,to:s}=prepareBoxPlotFromTo(i);motion.resetMotion(t,resetBoxPlotSelectionsScalingCenterFn(i)),motion.staticFromToMotion(this.id,"datums",this.ctx.animationManager,t,o,s,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(t){return __async(this,null,function*(){var i;const o=(i=t.nodeData)!=null?i:[];return t.datumSelection.update(o)})}updateDatumNodes(t){return __async(this,arguments,function*({datumSelection:i,isHighlight:o}){var s;const a=this.isVertical(),n=(s=this.getValueAxis())==null?void 0:s.isReversed(),{cornerRadius:r}=this.properties;i.each((l,c)=>{let h=this.getFormattedStyles(c,o);o&&(h=mergeDefaults4(this.properties.highlightStyle.item,h));const{stroke:u,strokeWidth:d,strokeOpacity:g,lineDash:m,lineDashOffset:p}=h;h.whisker=mergeDefaults4(h.whisker,{stroke:u,strokeWidth:d,strokeOpacity:g,lineDash:m,lineDashOffset:p}),l.updateDatumStyles(c,h,a,n,r)})})}updateLabelNodes(t){return __async(this,null,function*(){})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:i,labelSelection:o}=t;return o.update(i)})}nodeFactory(){return new BoxPlotGroup}getFormattedStyles(t,i=!1){const{id:o,ctx:{callbackCache:s}}=this,{xKey:a,minKey:n,q1Key:r,medianKey:l,q3Key:c,maxKey:h,formatter:u}=this.properties,{datum:d,fill:g,fillOpacity:m,stroke:p,strokeWidth:y,strokeOpacity:f,lineDash:v,lineDashOffset:M,cap:x,whisker:S}=t,_={fill:g,fillOpacity:m,stroke:p,strokeWidth:y,strokeOpacity:f,lineDash:v,lineDashOffset:M,cap:extractDecoratedProperties(x),whisker:extractDecoratedProperties(S)};if(u){const D=s.call(u,__spreadProps(__spreadValues({datum:d,seriesId:o,highlighted:i},_),{xKey:a,minKey:n,q1Key:r,medianKey:l,q3Key:c,maxKey:h}));if(D)return mergeDefaults4(D,_)}return _}};_BoxPlotSeries.className="BoxPlotSeries",_BoxPlotSeries.type="box-plot";var BoxPlotSeries=_BoxPlotSeries,import_ag_charts_community48=require("ag-charts-community"),BOX_PLOT_SERIES_THEME={series:{__extends__:import_ag_charts_community48._Theme.EXTENDS_SERIES_DEFAULTS,direction:"vertical",strokeWidth:2},axes:{[import_ag_charts_community48._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[import_ag_charts_community48._Theme.CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},BoxPlotModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",instanceConstructor:BoxPlotSeries,defaultAxes:[{type:import_ag_charts_community49._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community49._Theme.POSITION.LEFT},{type:import_ag_charts_community49._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community49._Theme.POSITION.BOTTOM}],themeTemplate:BOX_PLOT_SERIES_THEME,groupable:!0,paletteFactory:({takeColors:e,userPalette:t,themeTemplateParameters:i})=>{var o;const s=i.properties.get(import_ag_charts_community49._Theme.DEFAULT_BACKGROUND_COLOUR),a=(o=Array.isArray(s)?s[0]:s)!=null?o:"white",{fills:[n],strokes:[r]}=e(1);return{fill:t?n:import_ag_charts_community49._Util.Color.interpolate(n,a)(.7),stroke:r}},swapDefaultAxesCondition:({direction:e})=>e==="horizontal"},import_ag_charts_community53=require("ag-charts-community"),import_ag_charts_community51=require("ag-charts-community"),import_ag_charts_community50=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties2,BaseProperties:BaseProperties6,PropertiesArray,SeriesTooltip:SeriesTooltip2,Validate:Validate26,ARRAY:ARRAY2,COLOR_STRING:COLOR_STRING6,LINE_DASH:LINE_DASH5,OBJECT:OBJECT5,POSITIVE_NUMBER:POSITIVE_NUMBER9,RATIO:RATIO11,STRING:STRING6}=import_ag_charts_community50._ModuleSupport,TargetStyle=class extends BaseProperties6{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.lengthRatio=.75}};__decorateClass([Validate26(COLOR_STRING6)],TargetStyle.prototype,"fill",2),__decorateClass([Validate26(RATIO11)],TargetStyle.prototype,"fillOpacity",2),__decorateClass([Validate26(COLOR_STRING6)],TargetStyle.prototype,"stroke",2),__decorateClass([Validate26(POSITIVE_NUMBER9)],TargetStyle.prototype,"strokeWidth",2),__decorateClass([Validate26(RATIO11)],TargetStyle.prototype,"strokeOpacity",2),__decorateClass([Validate26(LINE_DASH5)],TargetStyle.prototype,"lineDash",2),__decorateClass([Validate26(POSITIVE_NUMBER9)],TargetStyle.prototype,"lineDashOffset",2),__decorateClass([Validate26(RATIO11)],TargetStyle.prototype,"lengthRatio",2);var BulletScale=class extends BaseProperties6{};__decorateClass([Validate26(POSITIVE_NUMBER9,{optional:!0})],BulletScale.prototype,"max",2);var BulletColorRange=class extends BaseProperties6{constructor(){super(...arguments),this.color="lightgrey"}};__decorateClass([Validate26(COLOR_STRING6)],BulletColorRange.prototype,"color",2),__decorateClass([Validate26(POSITIVE_NUMBER9,{optional:!0})],BulletColorRange.prototype,"stop",2);var BulletSeriesProperties=class extends AbstractBarSeriesProperties2{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.widthRatio=.5,this.colorRanges=new PropertiesArray(BulletColorRange),this.target=new TargetStyle,this.scale=new BulletScale,this.tooltip=new SeriesTooltip2,this.backgroundFill="white"}};__decorateClass([Validate26(STRING6)],BulletSeriesProperties.prototype,"valueKey",2),__decorateClass([Validate26(STRING6,{optional:!0})],BulletSeriesProperties.prototype,"valueName",2),__decorateClass([Validate26(STRING6,{optional:!0})],BulletSeriesProperties.prototype,"targetKey",2),__decorateClass([Validate26(STRING6,{optional:!0})],BulletSeriesProperties.prototype,"targetName",2),__decorateClass([Validate26(COLOR_STRING6)],BulletSeriesProperties.prototype,"fill",2),__decorateClass([Validate26(RATIO11)],BulletSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate26(COLOR_STRING6)],BulletSeriesProperties.prototype,"stroke",2),__decorateClass([Validate26(POSITIVE_NUMBER9)],BulletSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate26(RATIO11)],BulletSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate26(LINE_DASH5)],BulletSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate26(POSITIVE_NUMBER9)],BulletSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate26(RATIO11)],BulletSeriesProperties.prototype,"widthRatio",2),__decorateClass([Validate26(ARRAY2.restrict({minLength:0}))],BulletSeriesProperties.prototype,"colorRanges",2),__decorateClass([Validate26(OBJECT5)],BulletSeriesProperties.prototype,"target",2),__decorateClass([Validate26(OBJECT5)],BulletSeriesProperties.prototype,"scale",2),__decorateClass([Validate26(OBJECT5)],BulletSeriesProperties.prototype,"tooltip",2),__decorateClass([Validate26(COLOR_STRING6)],BulletSeriesProperties.prototype,"backgroundFill",2);var{animationValidation:animationValidation2,collapsedStartingBarPosition,diff:diff2,keyProperty:keyProperty2,partialAssign:partialAssign2,prepareBarAnimationFunctions,resetBarSelectionsFn,seriesLabelFadeInAnimation,valueProperty:valueProperty3,createDatumId}=import_ag_charts_community51._ModuleSupport,{fromToMotion}=import_ag_charts_community51._Scene.motion,{ContinuousScale,OrdinalTimeScale:OrdinalTimeScale2}=import_ag_charts_community51._Scale,{sanitizeHtml}=import_ag_charts_community51._Util,STYLING_KEYS=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],BulletSeries=class xt extends import_ag_charts_community51._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,directionKeys:{y:["targetKey","valueKey"]},directionNames:{y:["targetName","valueName"]},pickModes:[import_ag_charts_community51._ModuleSupport.SeriesNodePickMode.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,animationResetFns:{datum:resetBarSelectionsFn}}),this.properties=new BulletSeriesProperties,this.normalizedColorRanges=[],this.colorRangesGroup=new import_ag_charts_community51._Scene.Group({name:`${this.id}-colorRanges`}),this.colorRangesSelection=import_ag_charts_community51._Scene.Selection.select(this.colorRangesGroup,import_ag_charts_community51._Scene.Rect,!1),this.rootGroup.append(this.colorRangesGroup),this.targetLinesSelection=import_ag_charts_community51._Scene.Selection.select(this.annotationGroup,import_ag_charts_community51._Scene.Line,!1)}destroy(){this.rootGroup.removeChild(this.colorRangesGroup),super.destroy()}processData(t){return __async(this,null,function*(){var i,o;if(!this.properties.isValid()||!this.data)return;const{valueKey:s,targetKey:a}=this.properties,n=(i=this.getCategoryAxis())==null?void 0:i.scale,r=(o=this.getValueAxis())==null?void 0:o.scale,l=ContinuousScale.is(n)||OrdinalTimeScale2.is(n),c=ContinuousScale.is(r)||OrdinalTimeScale2.is(r),h=ContinuousScale.is(n)?"range":"category",u=[];a!==void 0&&u.push(valueProperty3(this,a,c,{id:"target"})),this.ctx.animationManager.isSkipped()||(this.processedData!==void 0&&u.push(diff2(this.processedData)),u.push(animationValidation2(this))),yield this.requestDataModel(t,this.data.slice(0,1),{props:[keyProperty2(this,s,l,{id:"xValue",valueType:h}),valueProperty3(this,s,c,{id:"value"}),...u],groupByKeys:!0,dataVisible:this.visible}),this.animationState.transition("updateData")})}getBandScalePadding(){return{inner:0,outer:0}}getMaxValue(){var t,i;return Math.max(...(i=(t=this.getValueAxis())==null?void 0:t.dataDomain.domain)!=null?i:[0])}getSeriesDomain(t){var i,o;const{dataModel:s,processedData:a}=this;if(!s||!a)return[];const{valueKey:n,targetKey:r,valueName:l,scale:c}=this.properties;if(t===this.getCategoryDirection())return[l??n];if(t==((i=this.getValueAxis())==null?void 0:i.direction)){const h=s.getDomain(this,"value","value",a),u=r===void 0?[]:s.getDomain(this,"target","value",a);return[0,(o=c.max)!=null?o:Math.max(...h,...u)]}throw new Error(`unknown direction ${t}`)}getKeys(t){return t===this.getBarDirection()?[this.properties.valueKey]:super.getKeys(t)}createNodeData(){return __async(this,null,function*(){var t,i,o,s;const{dataModel:a,processedData:n}=this,{valueKey:r,targetKey:l,widthRatio:c,target:{lengthRatio:h}}=this.properties,u=(t=this.getCategoryAxis())==null?void 0:t.scale,d=(i=this.getValueAxis())==null?void 0:i.scale;if(!r||!a||!n||!u||!d)return[];if(c===void 0||h===void 0)return[];const g=(o=u.bandwidth)!=null?o:NaN,m=this.getMaxValue(),p=a.resolveProcessedDataIndexById(this,"value").index,y=l===void 0?NaN:a.resolveProcessedDataIndexById(this,"target").index,f={itemId:r,nodeData:[],labelData:[],scales:__superGet(xt.prototype,this,"calculateScaling").call(this),visible:this.visible};for(const{datum:x,values:S}of n.data){if(!Array.isArray(x)||x.length<1)continue;S[0][p]<0&&import_ag_charts_community51._Util.Logger.warnOnce("negative values are not supported, clipping to 0.");const _=(s=this.properties.valueName)!=null?s:this.properties.valueKey,D=Math.min(m,Math.max(0,S[0][p])),N=d.convert(D),E=c*g,I=d.convert(0),b=this.getBarDirection()===import_ag_charts_community51._ModuleSupport.ChartAxisDirection.X,A={x:g*(1-c)/2,y:Math.min(N,I),width:E,height:Math.abs(I-N)};b&&([A.x,A.y,A.width,A.height]=[A.y,A.x,A.height,A.width]);let T;if(S[0][y]<0&&import_ag_charts_community51._Util.Logger.warnOnce("negative targets are not supported, ignoring."),this.properties.targetKey&&S[0][y]>=0){const O=h*g,R=Math.min(m,S[0][y]);if(!isNaN(R)&&R!==void 0){const C=d.convert(R);let k=g*(1-h)/2,P=k+O,[w,V]=[C,C];b&&([k,P,w,V]=[w,V,k,P]),T={value:R,x1:k,x2:P,y1:w,y2:V}}}const L=__spreadProps(__spreadValues({series:this,datum:x[0],xKey:r,xValue:_,yKey:r,yValue:D,cumulativeValue:D,target:T},A),{midPoint:{x:A.x+A.width/2,y:A.y+A.height/2},opacity:1});f.nodeData.push(L)}const v=[...this.getColorRanges()].sort((x,S)=>{var _,D;return((_=x.stop)!=null?_:m)-((D=S.stop)!=null?D:m)});let M=0;return this.normalizedColorRanges=v.map(x=>{var S;const _=Math.min(m,(S=x.stop)!=null?S:1/0),D={color:x.color,start:M,stop:_};return M=_,D}),[f]})}getColorRanges(){const{colorRanges:t,fill:i,backgroundFill:o}=this.properties;if(t!==void 0&&t.length>0)return t;const s=new BulletColorRange;return s.color=import_ag_charts_community51._Util.Color.interpolate(i,o)(.7),[s]}getLegendData(t){return[]}getTooltipHtml(t){const{valueKey:i,valueName:o,targetKey:s,targetName:a}=this.properties,n=this.getValueAxis(),{yValue:r,target:{value:l}={value:void 0},datum:c}=t;if(i===void 0||r===void 0||n===void 0)return"";const h=(g,m,p)=>{const y=sanitizeHtml(m??g),f=sanitizeHtml(n.formatDatum(p));return`<b>${y}</b>: ${f}`},u=void 0,d=s===void 0||l===void 0?h(i,o,r):`${h(i,o,r)}<br/>${h(s,a,l)}`;return this.properties.tooltip.toTooltipHtml({title:u,content:d,backgroundColor:this.properties.fill},{datum:c,title:u,seriesId:this.id,valueKey:i,valueName:o,targetKey:s,targetName:a})}isLabelEnabled(){return!1}nodeFactory(){return new import_ag_charts_community51._Scene.Rect}updateDatumSelection(t){return __async(this,null,function*(){return this.targetLinesSelection.update(t.nodeData,void 0,void 0),t.datumSelection.update(t.nodeData,void 0,void 0)})}updateDatumNodes(t){return __async(this,null,function*(){for(const{node:i}of t.datumSelection){const o=this.properties;partialAssign2(STYLING_KEYS,i,o)}for(const{node:i,datum:o}of this.targetLinesSelection)if(o.target===void 0)i.visible=!1;else{const s=this.properties.target;partialAssign2(["x1","x2","y1","y2"],i,o.target),partialAssign2(STYLING_KEYS,i,s)}})}updateColorRanges(){return __async(this,null,function*(){const t=this.getValueAxis(),i=this.getCategoryAxis();if(!t||!i)return;const[o,s]=[0,Math.max(...i.scale.range)],a=this.getBarDirection()===import_ag_charts_community51._ModuleSupport.ChartAxisDirection.Y?(n,r)=>{n.x=o,n.y=t.scale.convert(r.stop),n.height=t.scale.convert(r.start)-n.y,n.width=s}:(n,r)=>{n.x=t.scale.convert(r.start),n.y=o,n.height=s,n.width=t.scale.convert(r.stop)-n.x};this.colorRangesSelection.update(this.normalizedColorRanges);for(const{node:n,datum:r}of this.colorRangesSelection)a(n,r),n.fill=r.color})}updateNodes(t,i,o){return __async(this,null,function*(){yield __superGet(xt.prototype,this,"updateNodes").call(this,t,i,o),yield this.updateColorRanges()})}updateLabelSelection(t){return __async(this,null,function*(){return t.labelSelection})}updateLabelNodes(t){return __async(this,null,function*(){})}animateEmptyUpdateReady(t){const{datumSelections:i,annotationSelections:o}=t,s=prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(),this.axes,"normal"));fromToMotion(this.id,"nodes",this.ctx.animationManager,i,s),seriesLabelFadeInAnimation(this,"annotations",this.ctx.animationManager,o)}animateWaitingUpdateReady(t){var i,o,s;const{datumSelections:a,annotationSelections:n}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=(o=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:o.diff,l=prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(),this.axes,"normal"));fromToMotion(this.id,"nodes",this.ctx.animationManager,a,l,(h,u)=>createDatumId(u.xValue),r),((s=r?.changed)!=null?s:!0)&&seriesLabelFadeInAnimation(this,"annotations",this.ctx.animationManager,n)}},import_ag_charts_community52=require("ag-charts-community"),BULLET_SERIES_THEME={series:{direction:"vertical",strokeWidth:0,strokeOpacity:1,fillOpacity:1,widthRatio:.5,target:{strokeWidth:3,strokeOpacity:1,lengthRatio:.75}},axes:{[import_ag_charts_community52._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,crosshair:{enabled:!1}}}},BulletModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bullet",solo:!0,instanceConstructor:BulletSeries,defaultAxes:[{type:import_ag_charts_community53._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community53._Theme.POSITION.LEFT},{type:import_ag_charts_community53._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community53._Theme.POSITION.BOTTOM}],themeTemplate:BULLET_SERIES_THEME,swapDefaultAxesCondition:e=>e?.direction==="horizontal",paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{var o;const{properties:s}=i,{fills:[a],strokes:[n]}=e(t),r=i.properties.get(import_ag_charts_community53._Theme.DEFAULT_BACKGROUND_COLOUR),l=(o=Array.isArray(r)?r[0]:r)!=null?o:"white",c=s.get(import_ag_charts_community53._Theme.DEFAULT_CROSS_LINES_COLOUR);return{fill:a,stroke:n,target:{stroke:c},backgroundFill:l}}},import_ag_charts_community58=require("ag-charts-community"),import_ag_charts_community56=require("ag-charts-community"),import_ag_charts_community54=require("ag-charts-community"),CandlestickGroup=class extends import_ag_charts_community54._Scene.Group{constructor(){super(),this.append([new import_ag_charts_community54._Scene.Rect({tag:0}),new import_ag_charts_community54._Scene.Line({tag:2}),new import_ag_charts_community54._Scene.Line({tag:2})])}updateDatumStyles(e,t){const{bandwidth:i,scaledValues:{xValue:o}}=e,{openValue:s,closeValue:a,highValue:n,lowValue:r}=e.scaledValues,{fill:l,fillOpacity:c,stroke:h,strokeWidth:u,strokeOpacity:d,lineDash:g,lineDashOffset:m,wick:p,cornerRadius:y}=t,f=import_ag_charts_community54._Scene.Selection.select(this,import_ag_charts_community54._Scene.Rect),[v]=f.selectByTag(0),M=f.selectByTag(2);p.strokeWidth>i&&(p.strokeWidth=i);const x=Math.min(s,a),S=Math.max(s,a),_=Math.min(n,r),D=Math.max(n,r);v.setProperties({x:o,y:x,width:i,height:S-x}),v.setProperties({fill:l,fillOpacity:c,strokeWidth:u,strokeOpacity:d,stroke:h,lineDash:g,lineDashOffset:m,cornerRadius:y}),M[0].setProperties({y1:Math.round(D+p.strokeWidth/2),y2:S,x:Math.floor(o+i/2)}),M[0].setProperties(p),M[1].setProperties({y1:Math.round(_-p.strokeWidth/2),y2:x,x:Math.floor(o+i/2)}),M[1].setProperties(p)}},import_ag_charts_community55=require("ag-charts-community"),{BaseProperties:BaseProperties7,AbstractBarSeriesProperties:AbstractBarSeriesProperties3,SeriesTooltip:SeriesTooltip3,Validate:Validate27,COLOR_STRING:COLOR_STRING7,FUNCTION:FUNCTION5,LINE_DASH:LINE_DASH6,OBJECT:OBJECT6,POSITIVE_NUMBER:POSITIVE_NUMBER10,RATIO:RATIO12,STRING:STRING7}=import_ag_charts_community55._ModuleSupport,CandlestickSeriesWick=class extends BaseProperties7{};__decorateClass([Validate27(COLOR_STRING7,{optional:!0})],CandlestickSeriesWick.prototype,"stroke",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],CandlestickSeriesWick.prototype,"strokeWidth",2),__decorateClass([Validate27(RATIO12)],CandlestickSeriesWick.prototype,"strokeOpacity",2),__decorateClass([Validate27(LINE_DASH6,{optional:!0})],CandlestickSeriesWick.prototype,"lineDash",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],CandlestickSeriesWick.prototype,"lineDashOffset",2);var CandlestickSeriesItem=class extends BaseProperties7{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new CandlestickSeriesWick}};__decorateClass([Validate27(COLOR_STRING7,{optional:!0})],CandlestickSeriesItem.prototype,"fill",2),__decorateClass([Validate27(RATIO12)],CandlestickSeriesItem.prototype,"fillOpacity",2),__decorateClass([Validate27(COLOR_STRING7)],CandlestickSeriesItem.prototype,"stroke",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],CandlestickSeriesItem.prototype,"strokeWidth",2),__decorateClass([Validate27(RATIO12)],CandlestickSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Validate27(LINE_DASH6)],CandlestickSeriesItem.prototype,"lineDash",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],CandlestickSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],CandlestickSeriesItem.prototype,"cornerRadius",2),__decorateClass([Validate27(FUNCTION5,{optional:!0})],CandlestickSeriesItem.prototype,"formatter",2),__decorateClass([Validate27(OBJECT6)],CandlestickSeriesItem.prototype,"wick",2);var CandlestickSeriesItems=class extends BaseProperties7{constructor(){super(...arguments),this.up=new CandlestickSeriesItem,this.down=new CandlestickSeriesItem}};__decorateClass([Validate27(OBJECT6)],CandlestickSeriesItems.prototype,"up",2),__decorateClass([Validate27(OBJECT6)],CandlestickSeriesItems.prototype,"down",2);var CandlestickSeriesProperties=class extends AbstractBarSeriesProperties3{constructor(){super(...arguments),this.item=new CandlestickSeriesItems,this.tooltip=new SeriesTooltip3}};__decorateClass([Validate27(STRING7)],CandlestickSeriesProperties.prototype,"xKey",2),__decorateClass([Validate27(STRING7)],CandlestickSeriesProperties.prototype,"openKey",2),__decorateClass([Validate27(STRING7)],CandlestickSeriesProperties.prototype,"closeKey",2),__decorateClass([Validate27(STRING7)],CandlestickSeriesProperties.prototype,"highKey",2),__decorateClass([Validate27(STRING7)],CandlestickSeriesProperties.prototype,"lowKey",2),__decorateClass([Validate27(STRING7,{optional:!0})],CandlestickSeriesProperties.prototype,"xName",2),__decorateClass([Validate27(STRING7,{optional:!0})],CandlestickSeriesProperties.prototype,"yName",2),__decorateClass([Validate27(STRING7,{optional:!0})],CandlestickSeriesProperties.prototype,"openName",2),__decorateClass([Validate27(STRING7,{optional:!0})],CandlestickSeriesProperties.prototype,"closeName",2),__decorateClass([Validate27(STRING7,{optional:!0})],CandlestickSeriesProperties.prototype,"highName",2),__decorateClass([Validate27(STRING7,{optional:!0})],CandlestickSeriesProperties.prototype,"lowName",2),__decorateClass([Validate27(FUNCTION5,{optional:!0})],CandlestickSeriesProperties.prototype,"formatter",2),__decorateClass([Validate27(OBJECT6)],CandlestickSeriesProperties.prototype,"item",2),__decorateClass([Validate27(OBJECT6)],CandlestickSeriesProperties.prototype,"tooltip",2);function prepareCandlestickFromTo(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function resetCandlestickSelectionsScalingStartFn(e){return(t,i)=>e?{scalingCenterY:(i.itemId==="up"?Math.max:Math.min)(i.scaledValues.highValue,i.scaledValues.lowValue)}:{scalingCenterX:i.scaledValues.highValue}}var{extent:extent2,extractDecoratedProperties:extractDecoratedProperties2,fixNumericExtent:fixNumericExtent3,keyProperty:keyProperty3,mergeDefaults:mergeDefaults5,SeriesNodePickMode:SeriesNodePickMode2,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL2,valueProperty:valueProperty4,diff:diff3,animationValidation:animationValidation3,ChartAxisDirection:ChartAxisDirection9,convertValuesToScaleByDefs:convertValuesToScaleByDefs2}=import_ag_charts_community56._ModuleSupport,{motion:motion2}=import_ag_charts_community56._Scene,{sanitizeHtml:sanitizeHtml2,Logger:Logger4}=import_ag_charts_community56._Util,{ContinuousScale:ContinuousScale2,OrdinalTimeScale:OrdinalTimeScale3}=import_ag_charts_community56._Scale,CandlestickSeriesNodeEvent=class extends import_ag_charts_community56._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.openKey=o.properties.openKey,this.closeKey=o.properties.closeKey,this.highKey=o.properties.highKey,this.lowKey=o.properties.lowKey}},_CandlestickSeries=class It extends import_ag_charts_community56._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[SeriesNodePickMode2.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},pathsPerSeries:1}),this.properties=new CandlestickSeriesProperties,this.NodeEvent=CandlestickSeriesNodeEvent}processData(t){return __async(this,null,function*(){var i,o,s,a;if(!this.properties.isValid())return;const{xKey:n,openKey:r,closeKey:l,highKey:c,lowKey:h}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=(i=this.getCategoryAxis())==null?void 0:i.scale,g=ContinuousScale2.is(d)||OrdinalTimeScale3.is(d),m=ContinuousScale2.is(d)?"range":"category",p=[];u&&this.processedData&&p.push(diff3(this.processedData)),u&&p.push(animationValidation3(this));const{processedData:y}=yield this.requestDataModel(t,(o=this.data)!=null?o:[],{props:[keyProperty3(this,n,g,{id:"xValue",valueType:m}),valueProperty4(this,r,!0,{id:"openValue"}),valueProperty4(this,l,!0,{id:"closeValue"}),valueProperty4(this,c,!0,{id:"highValue"}),valueProperty4(this,h,!0,{id:"lowValue"}),...g?[SMALLEST_KEY_INTERVAL2]:[],...p],dataVisible:this.visible});this.smallestDataInterval={x:(a=(s=y.reduced)==null?void 0:s.smallestKeyInterval)!=null?a:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var i;const{processedData:o,dataModel:s,smallestDataInterval:a}=this;if(!(o&&s))return[];if(t===this.getBarDirection()){const p=s.getDomain(this,"lowValue","value",o),y=s.getDomain(this,"highValue","value",o),f=s.getDomain(this,"openValue","value",o),v=s.getDomain(this,"closeValue","value",o);return fixNumericExtent3([Math.min(...p,...y,...f,...v),Math.max(...y,...p,...f,...v)],this.getValueAxis())}const{index:n,def:r}=s.resolveProcessedDataIndexById(this,"xValue"),l=o.domain.keys[n];if(r.type==="key"&&r.valueType==="category")return l;const c=this.getCategoryAxis(),h=c?.isReversed(),u=(i=extent2(l))!=null?i:[NaN,NaN],d=a&&isFinite(a.x)?a.x:0;if(t===ChartAxisDirection9.Y){const p=u[0]+(h?0:-d),y=u[1]+(h?d:0);return fixNumericExtent3([p,y],c)}const g=u[0]+(h?-d:0),m=u[1]+(h?0:d);return fixNumericExtent3([g,m],c)}createNodeData(){return __async(this,null,function*(){const{visible:t,dataModel:i}=this,o=this.getCategoryAxis(),s=this.getValueAxis();if(!(i&&t&&o&&s))return[];const{xKey:a,openKey:n,closeKey:r,highKey:l,lowKey:c}=this.properties,h=[],u=i.resolveProcessedDataDefsByIds(this,["xValue","openValue","closeValue","highValue","lowValue"]),{barWidth:d,groupIndex:g}=this.updateGroupScale(o),{groupScale:m,processedData:p}=this;return p?.data.forEach(({datum:y,keys:f,values:v})=>{const{xValue:M,openValue:x,closeValue:S,highValue:_,lowValue:D}=i.resolveProcessedDataDefsValues(u,{keys:f,values:v}),N=D!==void 0&&D<=x&&D<=S,E=_!==void 0&&_>=x&&_>=S;if(!N){Logger4.warnOnce(`invalid low value for key [${c}] in data element, low value cannot be higher than datum open or close values`);return}if(!E){Logger4.warnOnce(`invalid high value for key [${l}] in data element, high value cannot be lower than datum open or close values.`);return}const I=convertValuesToScaleByDefs2({defs:u,values:{xValue:M,openValue:x,closeValue:S,highValue:_,lowValue:D},xAxis:o,yAxis:s});I.xValue+=Math.round(m.convert(String(g)));const b=S>x,A=this.getSeriesItemType(b),{fill:T,fillOpacity:L,stroke:O,strokeWidth:R,strokeOpacity:C,lineDash:k,lineDashOffset:P,wick:w,cornerRadius:V}=this.getItemConfig(A),U=Math.min(I.openValue,I.closeValue),z=Math.max(I.openValue,I.closeValue)-U,j={x:I.xValue+Math.round(d)/2,y:U+z/2};h.push({series:this,itemId:A,datum:y,xKey:a,xValue:M,openKey:n,closeKey:r,highKey:l,lowKey:c,openValue:x,closeValue:S,highValue:_,lowValue:D,bandwidth:Math.round(d),scaledValues:I,wick:w,fill:T,fillOpacity:L,stroke:O,strokeWidth:R,strokeOpacity:C,lineDash:k,lineDashOffset:P,cornerRadius:V,midPoint:j,aggregatedValue:S})}),[{itemId:a,nodeData:h,labelData:[],scales:__superGet(It.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}getSeriesItemType(t){return t?"up":"down"}getItemConfig(t){switch(t){case"up":return this.properties.item.up;case"down":return this.properties.item.down}}getLegendData(t){return[]}getTooltipHtml(t){const{xKey:i,openKey:o,closeKey:s,highKey:a,lowKey:n,xName:r,yName:l,openName:c,closeName:h,highName:u,lowName:d,tooltip:g}=this.properties,{datum:m}=t,p=this.getCategoryAxis(),y=this.getValueAxis();if(!p||!y||!this.properties.isValid())return"";const f=_=>_.charAt(0).toUpperCase()+_.substring(1),v=sanitizeHtml2(l),x=[[i,r,p],[o,c,y],[a,u,y],[n,d,y],[s,h,y]].map(([_,D,N])=>sanitizeHtml2(`${D??f(_)}: ${N.formatDatum(m[_])}`)).join("<br/>");let{fill:S}=this.getFormattedStyles(t);return S==="transparent"&&(S=this.properties.item.down.fill),g.toTooltipHtml({title:v,content:x,backgroundColor:S},{seriesId:this.id,datum:m,fill:S,xKey:i,openKey:o,closeKey:s,highKey:a,lowKey:n,xName:r,yName:l,openName:c,closeName:h,highName:u,lowName:d})}animateEmptyUpdateReady({datumSelections:t}){const i=this.isVertical(),{from:o,to:s}=prepareCandlestickFromTo(i);motion2.resetMotion(t,resetCandlestickSelectionsScalingStartFn(i)),motion2.staticFromToMotion(this.id,"datums",this.ctx.animationManager,t,o,s,{phase:"initial"})}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(t){return __async(this,null,function*(){var i;const o=(i=t.nodeData)!=null?i:[];return t.datumSelection.update(o)})}updateDatumNodes(t){return __async(this,arguments,function*({datumSelection:i,isHighlight:o}){i.each((s,a)=>{let n=this.getFormattedStyles(a,o);o&&(n=mergeDefaults5(this.properties.highlightStyle.item,n));const{stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:u}=n;n.wick=mergeDefaults5(n.wick,{stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:u}),s.updateDatumStyles(a,n)})})}updateLabelNodes(t){return __async(this,null,function*(){})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:i,labelSelection:o}=t;return o.update(i)})}nodeFactory(){return new CandlestickGroup}getFormattedStyles(t,i=!1){const{id:o,ctx:{callbackCache:s}}=this,{xKey:a,openKey:n,closeKey:r,highKey:l,lowKey:c,formatter:h}=this.properties,{datum:u,fill:d,fillOpacity:g,stroke:m,strokeWidth:p,strokeOpacity:y,lineDash:f,lineDashOffset:v,wick:M,itemId:x,cornerRadius:S}=t,_={fill:d,fillOpacity:g,stroke:m,strokeWidth:p,strokeOpacity:y,lineDash:f,lineDashOffset:v,wick:extractDecoratedProperties2(M),cornerRadius:S};if(h){const D=s.call(h,__spreadProps(__spreadValues({datum:u,seriesId:o,itemId:x,highlighted:i},_),{xKey:a,openKey:n,closeKey:r,highKey:l,lowKey:c}));if(D)return mergeDefaults5(D,_)}return _}};_CandlestickSeries.className="CandleStickSeries",_CandlestickSeries.type="candlestick";var CandlestickSeries=_CandlestickSeries,import_ag_charts_community57=require("ag-charts-community"),CANDLESTICK_SERIES_THEME={series:{__extends__:import_ag_charts_community57._Theme.EXTENDS_SERIES_DEFAULTS},axes:{[import_ag_charts_community57._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[import_ag_charts_community57._Theme.CARTESIAN_AXIS_TYPE.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},CandlestickModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",instanceConstructor:CandlestickSeries,hidden:!0,defaultAxes:[{type:import_ag_charts_community58._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community58._Theme.POSITION.LEFT},{type:import_ag_charts_community58._Theme.CARTESIAN_AXIS_TYPE.ORDINAL_TIME,position:import_ag_charts_community58._Theme.POSITION.BOTTOM}],themeTemplate:CANDLESTICK_SERIES_THEME,groupable:!1,paletteFactory:({takeColors:e,colorsCount:t})=>{const{fills:i,strokes:o}=e(t);return{item:{up:{fill:"transparent",stroke:o[0]},down:{fill:i[0],stroke:o[0]}}}}},import_ag_charts_community63=require("ag-charts-community"),import_ag_charts_community61=require("ag-charts-community"),import_ag_charts_community59=require("ag-charts-community"),{Validate:Validate28,NUMBER:NUMBER8,TEXT_WRAP,OVERFLOW_STRATEGY}=import_ag_charts_community59._ModuleSupport,{Logger:Logger5}=import_ag_charts_community59._Util,{Text:Text5,Label}=import_ag_charts_community59._Scene,BaseAutoSizedLabel=class extends Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}static lineHeight(e){return Math.ceil(e*Text5.defaultLineHeightRatio)}};__decorateClass([Validate28(TEXT_WRAP)],BaseAutoSizedLabel.prototype,"wrapping",2),__decorateClass([Validate28(OVERFLOW_STRATEGY)],BaseAutoSizedLabel.prototype,"overflowStrategy",2),__decorateClass([Validate28(NUMBER8,{optional:!0})],BaseAutoSizedLabel.prototype,"minimumFontSize",2);var AutoSizedLabel=class extends BaseAutoSizedLabel{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Validate28(NUMBER8)],AutoSizedLabel.prototype,"spacing",2);var AutoSizeableSecondaryLabel=class extends BaseAutoSizedLabel{};function generateLabelSecondaryLabelFontSizeCandidates(e,t){const{fontSize:i,minimumFontSize:o=i}=e,{fontSize:s,minimumFontSize:a=s}=t,n=i-o,r=s-a;let l=e.fontSize,c=t.fontSize;const h=[{labelFontSize:i,secondaryLabelFontSize:s}];for(;l>o||c>a;){const u=n>0?(l-o)/n:-1,d=r>0?(c-a)/r:-1;u>d?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function maximumValueSatisfying(e,t,i){if(e>t)return;let o=e,s=t,a;for(;s>=o;){const n=(s+o)/2|0,r=i(n);r==null?s=n-1:(a=r,o=n+1)}return a}function formatStackedLabels(e,t,i,o,{padding:s},a){var n,r;const{spacing:l}=t,c=2*s,h=2*s+l,u=((n=t.minimumFontSize)!=null?n:t.fontSize)+((r=o.minimumFontSize)!=null?r:o.fontSize);if(u>a(u+h,!1).height-h)return;const d=generateLabelSecondaryLabelFontSizeCandidates(t,o),g=new Text5;g.setFont(t);const m={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},p=new Text5;p.setFont(o);const y={fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight};let f,v;return maximumValueSatisfying(0,d.length-1,M=>{const{labelFontSize:x,secondaryLabelFontSize:S}=d[M],_=M===0,D=AutoSizedLabel.lineHeight(x),N=AutoSizeableSecondaryLabel.lineHeight(S),E=a(D+N+h,_),I=E.width-c,b=E.height-h;if(D+N>b)return;if(f==null||f.fontSize!==x){m.fontSize=x;const{lines:T}=Text5.wrapLines(e,I,b,m,t.wrapping,_?t.overflowStrategy:"hide");if(T==null)f=void 0;else{const L=T.join(`
`);g.text=L,g.fontSize=x,g.lineHeight=x;const O=g.computeBBox().width,R=T.length*D;f={text:L,fontSize:x,lineHeight:D,width:O,height:R}}}if(f==null||f.width>I||f.height>b)return;if(v==null||v.fontSize!==S){y.fontSize=S;const{lines:T}=Text5.wrapLines(i,I,b,y,o.wrapping,_?o.overflowStrategy:"hide");if(T==null)v=void 0;else{const L=T.join(`
`);p.text=L,p.fontSize=S,p.lineHeight=N;const O=p.computeBBox().width,R=T.length*N;v={text:L,fontSize:S,lineHeight:N,width:O,height:R}}}if(v==null)return;const A=f.height+v.height;if(!(v.width>I||A>b))return{width:Math.max(f.width,v.width),height:A+l,meta:E.meta,label:f,secondaryLabel:v}})}function formatSingleLabel(e,t,{padding:i},o){var s;const a=2*i,n=Math.min((s=t.minimumFontSize)!=null?s:t.fontSize,t.fontSize),r=new Text5;r.setFont(t);const l={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return maximumValueSatisfying(n,t.fontSize,c=>{const h=AutoSizedLabel.lineHeight(c),u=c===n,d=o(h+a,u),g=d.width-a,m=d.height-a;if(h>m)return;l.fontSize=c;const{lines:p}=Text5.wrapLines(e,g,m,l,t.wrapping,u?t.overflowStrategy:"hide");if(p==null)return;const y=p.join(`
`);r.text=y,r.fontSize=c,r.lineHeight=h;const f=r.computeBBox(),v=r.computeBBox().width,M=h*p.length;if(!(f.width>g||M>m))return[{text:y,fontSize:c,lineHeight:h,width:v,height:M},d.meta]})}function hasInvalidFontSize(e){return e?.minimumFontSize!=null&&e?.fontSize&&e?.minimumFontSize>e?.fontSize}function formatLabels(e,t,i,o,s,a){const n=t.enabled?e:void 0,r=o.enabled?i:void 0;(hasInvalidFontSize(t)||hasInvalidFontSize(o))&&Logger5.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;n!=null&&r!=null&&(l=formatStackedLabels(n,t,r,o,s,a));let c;if(l==null&&n!=null&&(c=formatSingleLabel(n,t,s,a)),c!=null){const[u,d]=c;l={width:u.width,height:u.height,meta:d,label:u,secondaryLabel:void 0}}let h;if(l==null&&n==null&&r!=null&&(h=formatSingleLabel(r,o,s,a)),h!=null){const[u,d]=h;l={width:u.width,height:u.height,meta:d,label:void 0,secondaryLabel:u}}return l}var import_ag_charts_community60=require("ag-charts-community"),{CartesianSeriesProperties,SeriesTooltip:SeriesTooltip4,Validate:Validate29,AND:AND7,ARRAY:ARRAY3,COLOR_STRING:COLOR_STRING8,COLOR_STRING_ARRAY,FUNCTION:FUNCTION6,OBJECT:OBJECT7,POSITIVE_NUMBER:POSITIVE_NUMBER11,RATIO:RATIO13,STRING:STRING8,TEXT_ALIGN,VERTICAL_ALIGN}=import_ag_charts_community60._ModuleSupport,HeatmapSeriesProperties=class extends CartesianSeriesProperties{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new AutoSizedLabel,this.tooltip=new SeriesTooltip4}};__decorateClass([Validate29(STRING8,{optional:!0})],HeatmapSeriesProperties.prototype,"title",2),__decorateClass([Validate29(STRING8)],HeatmapSeriesProperties.prototype,"xKey",2),__decorateClass([Validate29(STRING8)],HeatmapSeriesProperties.prototype,"yKey",2),__decorateClass([Validate29(STRING8,{optional:!0})],HeatmapSeriesProperties.prototype,"colorKey",2),__decorateClass([Validate29(STRING8,{optional:!0})],HeatmapSeriesProperties.prototype,"xName",2),__decorateClass([Validate29(STRING8,{optional:!0})],HeatmapSeriesProperties.prototype,"yName",2),__decorateClass([Validate29(STRING8,{optional:!0})],HeatmapSeriesProperties.prototype,"colorName",2),__decorateClass([Validate29(AND7(COLOR_STRING_ARRAY,ARRAY3.restrict({minLength:1})))],HeatmapSeriesProperties.prototype,"colorRange",2),__decorateClass([Validate29(COLOR_STRING8,{optional:!0})],HeatmapSeriesProperties.prototype,"stroke",2),__decorateClass([Validate29(RATIO13,{optional:!0})],HeatmapSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate29(POSITIVE_NUMBER11,{optional:!0})],HeatmapSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate29(TEXT_ALIGN)],HeatmapSeriesProperties.prototype,"textAlign",2),__decorateClass([Validate29(VERTICAL_ALIGN)],HeatmapSeriesProperties.prototype,"verticalAlign",2),__decorateClass([Validate29(POSITIVE_NUMBER11)],HeatmapSeriesProperties.prototype,"itemPadding",2),__decorateClass([Validate29(FUNCTION6,{optional:!0})],HeatmapSeriesProperties.prototype,"formatter",2),__decorateClass([Validate29(OBJECT7)],HeatmapSeriesProperties.prototype,"label",2),__decorateClass([Validate29(OBJECT7)],HeatmapSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode3,getMissCount,valueProperty:valueProperty5,ChartAxisDirection:ChartAxisDirection10,DEFAULT_CARTESIAN_DIRECTION_KEYS,DEFAULT_CARTESIAN_DIRECTION_NAMES}=import_ag_charts_community61._ModuleSupport,{Rect:Rect3,PointerEvents}=import_ag_charts_community61._Scene,{ColorScale}=import_ag_charts_community61._Scale,{sanitizeHtml:sanitizeHtml3,Color,Logger:Logger6}=import_ag_charts_community61._Util,HeatmapSeriesNodeEvent=class extends import_ag_charts_community61._ModuleSupport.CartesianSeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.colorKey=o.properties.colorKey}},textAlignFactors={left:-.5,center:0,right:-.5},verticalAlignFactors={top:-.5,middle:0,bottom:-.5},_HeatmapSeries=class Nt extends import_ag_charts_community61._ModuleSupport.CartesianSeries{constructor(t){super({moduleCtx:t,directionKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS,directionNames:DEFAULT_CARTESIAN_DIRECTION_NAMES,pickModes:[SeriesNodePickMode3.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new HeatmapSeriesProperties,this.NodeEvent=HeatmapSeriesNodeEvent,this.colorScale=new ColorScale}processData(t){return __async(this,null,function*(){var i;const o=this.axes[ChartAxisDirection10.X],s=this.axes[ChartAxisDirection10.Y];if(!o||!s||!this.properties.isValid()||!((i=this.data)!=null&&i.length))return;const{xKey:a,yKey:n,colorRange:r,colorKey:l}=this.properties,{isContinuousX:c,isContinuousY:h}=this.isContinuous(),{dataModel:u,processedData:d}=yield this.requestDataModel(t,this.data,{props:[valueProperty5(this,a,c,{id:"xValue"}),valueProperty5(this,n,h,{id:"yValue"}),...l?[valueProperty5(this,l,!0,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const g=u.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=d.domain.values[g],this.colorScale.range=r,this.colorScale.update()}})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:i,processedData:o}=this;if(!i||!o)return!1;const s=i.resolveProcessedDataIndexById(this,"colorValue").index,a=o.data.length,n=getMissCount(this,o.defs.values[s].missing);return!(a===0||a===n)}getSeriesDomain(t){const{dataModel:i,processedData:o}=this;return!i||!o?[]:t===ChartAxisDirection10.X?i.getDomain(this,"xValue","value",o):i.getDomain(this,"yValue","value",o)}createNodeData(){return __async(this,null,function*(){var t,i,o,s,a,n,r;const{data:l,visible:c,axes:h,dataModel:u}=this,d=h[ChartAxisDirection10.X],g=h[ChartAxisDirection10.Y];if(!(l&&u&&c&&d&&g))return[];if(d.type!=="category"||g.type!=="category")return Logger6.warnOnce(`Heatmap series expected axes to have "category" type, but received "${d.type}" and "${g.type}" instead.`),[];const{xKey:m,xName:p,yKey:y,yName:f,colorKey:v,colorName:M,textAlign:x,verticalAlign:S,itemPadding:_,colorRange:D,label:N}=this.properties,E=u.resolveProcessedDataIndexById(this,"xValue").index,I=u.resolveProcessedDataIndexById(this,"yValue").index,b=v?u.resolveProcessedDataIndexById(this,"colorValue").index:void 0,A=d.scale,T=g.scale,L=((t=A.bandwidth)!=null?t:0)/2,O=((i=T.bandwidth)!=null?i:0)/2,R=this.isColorScaleValid(),C=[],k=[],P=(o=A.bandwidth)!=null?o:10,w=(s=T.bandwidth)!=null?s:10,V=(P-2*_)*textAlignFactors[x],U=(w-2*_)*verticalAlignFactors[S],F=()=>({width:P,height:w,meta:null});for(const{values:z,datum:j}of(n=(a=this.processedData)==null?void 0:a.data)!=null?n:[]){const B=z[E],K=z[I],G=A.convert(B)+L,W=T.convert(K)+O,H=z[b??-1],Y=R&&H!=null?this.colorScale.convert(H):D[0],q=H==null?void 0:this.getLabelText(N,{value:H,datum:j,colorKey:v,colorName:M,xKey:m,yKey:y,xName:p,yName:f}),X=formatLabels(q,this.properties.label,void 0,this.properties.label,{padding:_},F),Z={x:G,y:W,size:0};if(C.push({series:this,itemId:y,yKey:y,xKey:m,xValue:B,yValue:K,colorValue:H,datum:j,point:Z,width:P,height:w,fill:Y,midPoint:{x:G,y:W}}),X?.label!=null){const{text:$,fontSize:J,lineHeight:st,height:tt}=X.label,{fontStyle:et,fontFamily:at,fontWeight:ct,color:ut}=this.properties.label,nt=Z.x+V*(P-2*_),ot=Z.y+U*(w-2*_)-(X.height-tt)*.5;k.push({series:this,itemId:y,datum:j,text:$,fontSize:J,lineHeight:st,fontStyle:et,fontFamily:at,fontWeight:ct,color:ut,textAlign:x,verticalAlign:S,x:nt,y:ot})}}return[{itemId:(r=this.properties.yKey)!=null?r:this.id,nodeData:C,labelData:k,scales:__superGet(Nt.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}nodeFactory(){return new Rect3}updateDatumSelection(t){return __async(this,null,function*(){const{nodeData:i,datumSelection:o}=t,s=i??[];return o.update(s)})}updateDatumNodes(t){return __async(this,null,function*(){var i;const{isHighlight:o}=t,{id:s,ctx:{callbackCache:a}}=this,{xKey:n,yKey:r,colorKey:l,formatter:c,highlightStyle:{item:{fill:h,stroke:u,strokeWidth:d,strokeOpacity:g,fillOpacity:m}}}=this.properties,p=this.axes[ChartAxisDirection10.X],[y,f]=(i=p?.visibleRange)!=null?i:[],M=!(y!==0||f!==1);t.datumSelection.each((x,S)=>{var _,D,N,E,I;const{point:b,width:A,height:T}=S,L=o&&h!==void 0?Color.interpolate(S.fill,h)(m??1):S.fill,O=o&&u!==void 0?u:this.properties.stroke,R=o&&g!==void 0?g:this.properties.strokeOpacity,C=o&&d!==void 0?d:this.properties.strokeWidth;let k;c&&(k=a.call(c,{datum:S.datum,fill:L,stroke:O,strokeOpacity:R,strokeWidth:C,highlighted:o,xKey:n,yKey:r,colorKey:l,seriesId:s})),x.crisp=M,x.x=Math.floor(b.x-A/2),x.y=Math.floor(b.y-T/2),x.width=Math.ceil(A),x.height=Math.ceil(T),x.fill=(_=k?.fill)!=null?_:L,x.stroke=(D=k?.stroke)!=null?D:O,x.strokeOpacity=(E=(N=k?.strokeOpacity)!=null?N:R)!=null?E:1,x.strokeWidth=(I=k?.strokeWidth)!=null?I:C})})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:i,labelSelection:o}=t,{enabled:s}=this.properties.label,a=s?i:[];return o.update(a)})}updateLabelNodes(t){return __async(this,null,function*(){t.labelSelection.each((i,o)=>{i.text=o.text,i.fontSize=o.fontSize,i.lineHeight=o.lineHeight,i.fontStyle=o.fontStyle,i.fontFamily=o.fontFamily,i.fontWeight=o.fontWeight,i.fill=o.color,i.textAlign=o.textAlign,i.textBaseline=o.verticalAlign,i.x=o.x,i.y=o.y,i.pointerEvents=PointerEvents.None})})}getTooltipHtml(t){var i,o,s;const a=this.axes[ChartAxisDirection10.X],n=this.axes[ChartAxisDirection10.Y];if(!this.properties.isValid()||!a||!n)return"";const{xKey:r,yKey:l,colorKey:c,xName:h,yName:u,colorName:d,stroke:g,strokeWidth:m,colorRange:p,formatter:y,tooltip:f}=this.properties,{colorScale:v,id:M,ctx:{callbackCache:x}}=this,{datum:S,xValue:_,yValue:D,colorValue:N}=t,E=this.isColorScaleValid()?v.convert(N):p[0];let I;y&&(I=x.call(y,{datum:t,xKey:r,yKey:l,colorKey:c,fill:E,stroke:g,strokeWidth:m,highlighted:!1,seriesId:M}));const b=(o=(i=I?.fill)!=null?i:E)!=null?o:"gray",A=(s=this.properties.title)!=null?s:u,T=sanitizeHtml3(a.formatDatum(_)),L=sanitizeHtml3(n.formatDatum(D));let O=`<b>${sanitizeHtml3(h??r)}</b>: ${T}<br><b>${sanitizeHtml3(u??l)}</b>: ${L}`;return c&&(O=`<b>${sanitizeHtml3(d??c)}</b>: ${sanitizeHtml3(N)}<br>`+O),f.toTooltipHtml({title:A,content:O,backgroundColor:b},{seriesId:M,datum:S,xKey:r,yKey:l,xName:h,yName:u,title:A,color:b,colorKey:c})}getLegendData(t){var i;return t!=="gradient"||!((i=this.data)!=null&&i.length)||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue").index],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}};_HeatmapSeries.className="HeatmapSeries",_HeatmapSeries.type="heatmap";var HeatmapSeries=_HeatmapSeries,import_ag_charts_community62=require("ag-charts-community"),HEATMAP_SERIES_THEME={series:{__extends__:import_ag_charts_community62._Theme.EXTENDS_SERIES_DEFAULTS,label:{__overrides__:import_ag_charts_community62._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS,enabled:!1,color:import_ag_charts_community62._Theme.DEFAULT_LABEL_COLOUR,fontSize:import_ag_charts_community62._Theme.FONT_SIZE.SMALL,fontFamily:import_ag_charts_community62._Theme.DEFAULT_FONT_FAMILY,wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},HeatmapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",instanceConstructor:HeatmapSeries,defaultAxes:[{type:import_ag_charts_community63._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community63._Theme.POSITION.LEFT},{type:import_ag_charts_community63._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community63._Theme.POSITION.BOTTOM}],themeTemplate:HEATMAP_SERIES_THEME,paletteFactory:({takeColors:e,colorsCount:t,userPalette:i,themeTemplateParameters:o})=>{var s;const{properties:a}=o,n=a.get(import_ag_charts_community63._Theme.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),r=a.get(import_ag_charts_community63._Theme.DEFAULT_BACKGROUND_COLOUR),l=(s=Array.isArray(r)?r[0]:r)!=null?s:"white",{fills:c,strokes:h}=e(t);return{stroke:i?h[0]:l,colorRange:i?[c[0],c[1]]:n}}},import_ag_charts_community69=require("ag-charts-community"),import_ag_charts_community68=require("ag-charts-community"),import_ag_charts_community65=require("ag-charts-community"),delta=1e-9;function lineSegmentDistanceToPointSquared(e,t,i,o){const[s,a]=e,[n,r]=t,l=n-s,c=r-a,h=l*l+c*c;let u,d;if(Math.abs(h)<delta)u=s,d=a;else{let p=((i-s)*l+(o-a)*c)/h;p=Math.max(0,Math.min(1,p)),u=s+p*(n-s),d=a+p*(r-a)}const g=i-u,m=o-d;return g*g+m*m}function lineStringDistance(e,t,i){let o=1/0,s=e[e.length-1];for(const a of e)o=Math.min(o,lineSegmentDistanceToPointSquared(s,a,t,i)),s=a;return Math.sqrt(o)}function lineStringLength(e){let[t,i]=e[0],o=0;for(let s=1;s<e.length;s+=1){const[a,n]=e[s],r=Math.hypot(a-t,n-i);o+=r,t=a,i=n}return o}function lineStringCenter(e){if(e.length===0)return;const t=lineStringLength(e)/2;let[i,o]=e[0],s=0;for(let a=1;a<e.length;a+=1){const[n,r]=e[a],l=Math.hypot(n-i,r-o),c=s+l;if(c>t){const h=(t-s)/l,u=[i+(n-i)*h,o+(r-o)*h],d=Math.atan2(r-o,n-i);return{point:u,angle:d}}s=c,i=n,o=r}}var import_ag_charts_community64=require("ag-charts-community"),{LonLatBBox}=import_ag_charts_community64._ModuleSupport;function extendBbox(e,t,i,o,s){return e==null?e=new LonLatBBox(t,i,o,s):(e.lon0=Math.min(e.lon0,t),e.lat0=Math.min(e.lat0,i),e.lon1=Math.max(e.lon1,o),e.lat1=Math.max(e.lat1,s)),e}var insertManySorted=(e,t,i)=>{let o=e,s=o;for(const a of t)if(o==null||i(o.value,a)>0)o={value:a,next:o},s=o;else{for(s=s;s.next!=null&&i(s.next.value,a)<=0;)s=s.next;s.next={value:a,next:s.next}}return o};function polygonBbox(e,t){return e.forEach(i=>{const[o,s]=i;t=extendBbox(t,o,s,o,s)}),t}function polygonCentroid(e){if(e.length===0)return;let t=0,i=0,o=0,[s,a]=e[e.length-1];for(const[n,r]of e){const l=s*r-n*a;o+=l,t+=(s+n)*l,i+=(a+r)*l,s=n,a=r}return o*=3,[t/o,i/o]}function polygonDistance(e,t,i){let o=!1,s=1/0;for(const a of e){let n=a[a.length-1],[r,l]=n;for(const c of a){const[h,u]=c;u>i!=l>i&&t<(r-h)*(i-u)/(l-u)+h&&(o=!o),s=Math.min(s,lineSegmentDistanceToPointSquared(n,c,t,i)),n=c,r=h,l=u}}return(o?-1:1)*Math.sqrt(s)}var{Path:Path5,Path2D,BBox:BBox7,ScenePathChangeDetection}=import_ag_charts_community65._Scene,GeoGeometry=class extends Path5{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new Path2D}computeBBox(){var e;return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),(e=this.bbox)==null?void 0:e.clone()}updatePath(){const{projectedGeometry:e}=this;this.strokePath.clear(),this.path.clear(),this.bbox=e!=null?this.drawGeometry(e,void 0):void 0}drawPath(e){super.drawPath(e),this.strokePath.draw(e),this.renderStroke(e)}containsPoint(e,t){const{projectedGeometry:i}=this;return i==null||({x:e,y:t}=this.transformPoint(e,t),!this.getCachedBBox().containsPoint(e,t))?!1:this.geometryDistance(i,e,t)<=0}distanceToPoint(e,t){const{projectedGeometry:i}=this;return{x:e,y:t}=this.transformPoint(e,t),i!=null?this.geometryDistance(i,e,t):1/0}geometryDistance(e,t,i){const{renderMode:o,strokeWidth:s}=this,a=(o&1)!==0,n=(o&2)!==0,r=Math.max(s/2,1)+1;switch(e.type){case"GeometryCollection":return e.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,t,i)),1/0);case"MultiPolygon":return a?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(polygonDistance(c,t,i),0)),1/0):1/0;case"Polygon":return a?Math.max(polygonDistance(e.coordinates,t,i),0):1/0;case"MultiLineString":return n?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(lineStringDistance(c,t,i)-r,0)),1/0):1/0;case"LineString":return n?Math.max(lineStringDistance(e.coordinates,t,i)-r,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(e,t){const{renderMode:i,path:o,strokePath:s}=this,a=(i&1)!==0,n=(i&2)!==0;switch(e.type){case"GeometryCollection":e.geometries.forEach(r=>{t=this.drawGeometry(r,t)});break;case"MultiPolygon":a&&e.coordinates.forEach(r=>{t=this.drawPolygon(o,r,t)});break;case"Polygon":a&&(t=this.drawPolygon(o,e.coordinates,t));break;case"LineString":n&&(t=this.drawLineString(s,e.coordinates,t,!1));break;case"MultiLineString":n&&e.coordinates.forEach(r=>{t=this.drawLineString(s,r,t,!1)});break;case"Point":case"MultiPoint":break}return t}drawPolygon(e,t,i){if(t.length<1)return i;i=this.drawLineString(e,t[0],i,!0);for(let o=1;o<t.length;o+=1){const s=t[o];this.drawLineString(e,s,void 0,!0)}return i}drawLineString(e,t,i,o){if(t.length<2)return i;const s=o?t.length-1:t.length;for(let a=0;a<s;a+=1){const[n,r]=t[a];if(a===0?e.moveTo(n,r):e.lineTo(n,r),i==null)i=new BBox7(n,r,0,0);else{const{x:l,y:c}=i,h=l+i.width,u=c+i.height;i.x=Math.min(l,n),i.y=Math.min(c,r),i.width=Math.max(h,n)-i.x,i.height=Math.max(u,r)-i.y}}return o&&e.closePath(),i}};__decorateClass([ScenePathChangeDetection()],GeoGeometry.prototype,"projectedGeometry",2),__decorateClass([ScenePathChangeDetection()],GeoGeometry.prototype,"renderMode",2);function geometryBbox(e,t){if(e.bbox!=null){const[i,o,s,a]=e.bbox;return t=extendBbox(t,i,o,s,a),t}switch(e.type){case"GeometryCollection":e.geometries.forEach(i=>{t=geometryBbox(i,t)});break;case"MultiPolygon":e.coordinates.forEach(i=>{i.length>0&&(t=polygonBbox(i[0],t))});break;case"Polygon":e.coordinates.length>0&&(t=polygonBbox(e.coordinates[0],t));break;case"MultiLineString":e.coordinates.forEach(i=>{t=polygonBbox(i,t)});break;case"LineString":t=polygonBbox(e.coordinates,t);break;case"MultiPoint":e.coordinates.forEach(i=>{const[o,s]=i;t=extendBbox(t,o,s,o,s)});break;case"Point":{const[i,o]=e.coordinates;t=extendBbox(t,i,o,i,o);break}}return t}function largestPolygon(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.map(o=>{const s=largestPolygon(o);if(s==null)return;const a=polygonBbox(s[0],void 0);if(a==null)return;const n=Math.abs(a.lat1-a.lat0)*Math.abs(a.lon1-a.lon0);(t==null||n>t)&&(t=n,i=s)}),i}case"MultiPolygon":{let t,i;return e.coordinates.forEach(o=>{const s=polygonBbox(o[0],void 0);if(s==null)return;const a=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(t==null||a>t)&&(t=a,i=o)}),i}case"Polygon":return e.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function largestLineString(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.map(o=>{const s=largestLineString(o);if(s==null)return;const a=lineStringLength(s);a!=null&&(t==null||a>t)&&(t=a,i=s)}),i}case"MultiLineString":{let t=0,i;return e.coordinates.forEach(o=>{const s=lineStringLength(o);s>t&&(t=s,i=o)}),i}case"LineString":return e.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function containsType(e,t){if(e==null)return!1;switch(e.type){case"GeometryCollection":return e.geometries.some(i=>containsType(i,t));case"MultiPolygon":case"Polygon":return(t&1)!==0;case"MultiLineString":case"LineString":return(t&2)!==0;case"MultiPoint":case"Point":return(t&4)!==0}}function projectGeometry(e,t){switch(e.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:e.geometries.map(i=>projectGeometry(i,t))};case"Polygon":return{type:"Polygon",coordinates:projectPolygon(e.coordinates,t)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:projectMultiPolygon(e.coordinates,t)};case"MultiLineString":return{type:"MultiLineString",coordinates:projectPolygon(e.coordinates,t)};case"LineString":return{type:"LineString",coordinates:projectLineString(e.coordinates,t)};case"MultiPoint":return{type:"MultiPoint",coordinates:projectLineString(e.coordinates,t)};case"Point":return{type:"Point",coordinates:t.convert(e.coordinates)}}}function projectMultiPolygon(e,t){return e.map(i=>projectPolygon(i,t))}function projectPolygon(e,t){return e.map(i=>projectLineString(i,t))}function projectLineString(e,t){return e.map(i=>t.convert(i))}var import_ag_charts_community66=require("ag-charts-community");function isValidCoordinate(e){return Array.isArray(e)&&e.length>=2&&e.every(import_ag_charts_community66._ModuleSupport.isFiniteNumber)}function isValidCoordinates(e){return Array.isArray(e)&&e.length>=2&&e.every(isValidCoordinate)}var delta2=.001;function hasSameStartEndPoint(e){return Math.abs(e[0][0]-e[e.length-1][0])<delta2&&Math.abs(e[0][1]-e[e.length-1][1])<delta2}function isValidPolygon(e){return Array.isArray(e)&&e.every(isValidCoordinates)&&e.every(hasSameStartEndPoint)}function isValidGeometry(e){if(e===null)return!0;if(typeof e!="object"||e.type==null)return!1;const{type:t,coordinates:i}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every(isValidGeometry);case"MultiPolygon":return Array.isArray(i)&&i.every(isValidPolygon);case"Polygon":return isValidPolygon(i);case"MultiLineString":return Array.isArray(i)&&i.every(isValidCoordinates);case"LineString":return isValidCoordinates(i);case"MultiPoint":return isValidCoordinates(i);case"Point":return isValidCoordinate(i)}}function isValidFeature(e){return e!==null&&typeof e=="object"&&e.type==="Feature"&&isValidGeometry(e.geometry)}function isValidFeatureCollection(e){return e!==null&&typeof e=="object"&&e.type==="FeatureCollection"&&Array.isArray(e.features)&&e.features.every(isValidFeature)}var GEOJSON_OBJECT=import_ag_charts_community66._ModuleSupport.predicateWithMessage(isValidFeatureCollection,"a GeoJSON object"),import_ag_charts_community67=require("ag-charts-community"),{COLOR_STRING:COLOR_STRING9,LINE_DASH:LINE_DASH7,OBJECT:OBJECT8,POSITIVE_NUMBER:POSITIVE_NUMBER12,RATIO:RATIO14,Validate:Validate30,SeriesProperties,SeriesTooltip:SeriesTooltip5}=import_ag_charts_community67._ModuleSupport,MapLineBackgroundSeriesProperties=class extends SeriesProperties{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new SeriesTooltip5}};__decorateClass([Validate30(GEOJSON_OBJECT,{optional:!0})],MapLineBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Validate30(COLOR_STRING9)],MapLineBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Validate30(RATIO14)],MapLineBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate30(POSITIVE_NUMBER12)],MapLineBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate30(LINE_DASH7)],MapLineBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate30(POSITIVE_NUMBER12)],MapLineBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate30(OBJECT8)],MapLineBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId2,DataModelSeries,SeriesNodePickMode:SeriesNodePickMode4,Validate:Validate31}=import_ag_charts_community68._ModuleSupport,{Group:Group7,Selection:Selection3,PointerEvents:PointerEvents2}=import_ag_charts_community68._Scene,{Logger:Logger7}=import_ag_charts_community68._Util,MapLineBackgroundSeries=class extends DataModelSeries{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[SeriesNodePickMode4.EXACT_SHAPE_MATCH]}),this.properties=new MapLineBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group7({name:"itemGroup"})),this.datumSelection=Selection3.select(this.itemGroup,()=>this.nodeFactory()),this.contextNodeData=[]}get topology(){var e;return(e=this.properties.topology)!=null?e:this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e.pointerEvents=PointerEvents2.None,e}processData(){return __async(this,null,function*(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const o=i.geometry;return o==null?t:geometryBbox(o,t)},void 0),e==null&&Logger7.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")})}createNodeData(){return __async(this,null,function*(){const{id:e,topology:t,scale:i}=this;if(t==null)return[];const o=[],s=[];return t.features.forEach((a,n)=>{const{geometry:r}=a,l=r!=null&&i!=null?projectGeometry(r,i):void 0;l!=null&&o.push({series:this,itemId:n,datum:a,index:n,projectedGeometry:l})}),[{itemId:e,nodeData:o,labelData:s}]})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return __async(this,null,function*(){const{datumSelection:e}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t}=this.contextNodeData[0];this.datumSelection=yield this.updateDatumSelection({nodeData:t,datumSelection:e}),yield this.updateDatumNodes({datumSelection:e})})}updateDatumSelection(e){return __async(this,null,function*(){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId2(t.index))})}updateDatumNodes(e){return __async(this,null,function*(){const{properties:t}=this,{datumSelection:i}=e,{stroke:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}=t,r=this.getStrokeWidth(t.strokeWidth);i.each((l,c)=>{const{projectedGeometry:h}=c;if(h==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=h,l.stroke=o,l.strokeWidth=r,l.strokeOpacity=s,l.lineDash=a,l.lineDashOffset=n})})}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return""}};MapLineBackgroundSeries.className="MapLineBackgroundSeries",MapLineBackgroundSeries.type="map-line-background",__decorateClass([Validate31(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapLineBackgroundSeries.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS,DEFAULT_HIERARCHY_STROKES}=import_ag_charts_community69._Theme,MapLineBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",instanceConstructor:MapLineBackgroundSeries,themeTemplate:{series:{__extends__:EXTENDS_SERIES_DEFAULTS,strokeWidth:1,lineDash:[0],lineDashOffset:0},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:({themeTemplateParameters:e})=>{var t;const{properties:i}=e;return{stroke:(t=i.get(DEFAULT_HIERARCHY_STROKES))==null?void 0:t[1]}}},import_ag_charts_community72=require("ag-charts-community"),import_ag_charts_community71=require("ag-charts-community"),import_ag_charts_community70=require("ag-charts-community"),{AND:AND8,ARRAY:ARRAY4,COLOR_STRING:COLOR_STRING10,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY2,FUNCTION:FUNCTION7,LINE_DASH:LINE_DASH8,NUMBER_ARRAY,OBJECT:OBJECT9,POSITIVE_NUMBER:POSITIVE_NUMBER13,RATIO:RATIO15,STRING:STRING9,Validate:Validate32,SeriesProperties:SeriesProperties2,SeriesTooltip:SeriesTooltip6}=import_ag_charts_community70._ModuleSupport,{Label:Label2}=import_ag_charts_community70._Scene,MapLineSeriesProperties=class extends SeriesProperties2{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new Label2,this.tooltip=new SeriesTooltip6}};__decorateClass([Validate32(GEOJSON_OBJECT,{optional:!0})],MapLineSeriesProperties.prototype,"topology",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"title",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"legendItemName",2),__decorateClass([Validate32(STRING9)],MapLineSeriesProperties.prototype,"idKey",2),__decorateClass([Validate32(STRING9)],MapLineSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"idName",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"labelName",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"sizeKey",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"sizeName",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"colorKey",2),__decorateClass([Validate32(STRING9,{optional:!0})],MapLineSeriesProperties.prototype,"colorName",2),__decorateClass([Validate32(NUMBER_ARRAY,{optional:!0})],MapLineSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Validate32(AND8(COLOR_STRING_ARRAY2,ARRAY4.restrict({minLength:1})),{optional:!0})],MapLineSeriesProperties.prototype,"colorRange",2),__decorateClass([Validate32(POSITIVE_NUMBER13,{optional:!0})],MapLineSeriesProperties.prototype,"maxStrokeWidth",2),__decorateClass([Validate32(COLOR_STRING10)],MapLineSeriesProperties.prototype,"stroke",2),__decorateClass([Validate32(RATIO15)],MapLineSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate32(POSITIVE_NUMBER13)],MapLineSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate32(LINE_DASH8)],MapLineSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate32(POSITIVE_NUMBER13)],MapLineSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate32(FUNCTION7,{optional:!0})],MapLineSeriesProperties.prototype,"formatter",2),__decorateClass([Validate32(OBJECT9)],MapLineSeriesProperties.prototype,"label",2),__decorateClass([Validate32(OBJECT9)],MapLineSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount2,createDatumId:createDatumId3,DataModelSeries:DataModelSeries2,SeriesNodePickMode:SeriesNodePickMode5,valueProperty:valueProperty6,Validate:Validate33}=import_ag_charts_community71._ModuleSupport,{ColorScale:ColorScale2,LinearScale:LinearScale3}=import_ag_charts_community71._Scale,{Group:Group8,Selection:Selection4,Text:Text6}=import_ag_charts_community71._Scene,{sanitizeHtml:sanitizeHtml4,Logger:Logger8}=import_ag_charts_community71._Util,MapLineSeries=class extends DataModelSeries2{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[SeriesNodePickMode5.EXACT_SHAPE_MATCH,SeriesNodePickMode5.NEAREST_NODE]}),this.properties=new MapLineSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale2,this.sizeScale=new LinearScale3,this.itemGroup=this.contentGroup.appendChild(new Group8({name:"itemGroup"})),this.datumSelection=Selection4.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection4.select(this.labelGroup,Text6),this.highlightDatumSelection=Selection4.select(this.highlightGroup,()=>this.nodeFactory()),this.contextNodeData=[],this._previousDatumMidPoint=void 0}get topology(){var e;return(e=this.properties.topology)!=null?e:this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>{this.onLegendItemClick(e)}),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e}processData(e){return __async(this,null,function*(){var t;if(this.data==null||!this.properties.isValid())return;const{data:i,topology:o,sizeScale:s,colorScale:a}=this,{topologyIdKey:n,idKey:r,sizeKey:l,colorKey:c,labelKey:h,sizeDomain:u,colorRange:d}=this.properties,g=new Map;o?.features.forEach(f=>{var v;const M=(v=f.properties)==null?void 0:v[n];M==null||!containsType(f.geometry,2)||g.set(M,f)});const{dataModel:m,processedData:p}=yield this.requestDataModel(e,i,{props:[valueProperty6(this,r,!1,{id:"idValue",includeProperty:!1}),valueProperty6(this,r,!1,{id:"featureValue",includeProperty:!1,processor:()=>f=>g.get(f)}),...h!=null?[valueProperty6(this,h,!1,{id:"labelValue"})]:[],...l!=null?[valueProperty6(this,l,!0,{id:"sizeValue"})]:[],...c!=null?[valueProperty6(this,c,!0,{id:"colorValue"})]:[]]}),y=m.resolveProcessedDataIndexById(this,"featureValue").index;if(this.topologyBounds=p.data.reduce((f,{values:v})=>{const M=v[y],x=M?.geometry;return x==null?f:geometryBbox(x,f)},void 0),l!=null){const f=m.resolveProcessedDataIndexById(this,"sizeValue").index,v=(t=p.domain.values[f])!=null?t:[];s.domain=u??v}if(d!=null&&this.isColorScaleValid()){const f=m.resolveProcessedDataIndexById(this,"colorValue").index;a.domain=p.domain.values[f],a.range=d,a.update()}o==null&&Logger8.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")})}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue").index,s=i.data.length,a=getMissCount2(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelDatum(e,t,i,o){if(t==null||i==null)return;const s=largestLineString(i);if(s==null)return;const{idKey:a,idName:n,sizeKey:r,sizeName:l,colorKey:c,colorName:h,labelKey:u,labelName:d,label:g}=this.properties,m=this.getLabelText(g,{value:t,datum:e,idKey:a,idName:n,sizeKey:r,sizeName:l,colorKey:c,colorName:h,labelKey:u,labelName:d});if(m==null)return;const p=Text6.getTextSize(String(m),o),y=lineStringCenter(s);if(y==null)return;const[f,v]=y.point,{width:M,height:x}=p;return{point:{x:f,y:v,size:0},label:{width:M,height:x,text:m},marker:void 0,placement:void 0}}createNodeData(){return __async(this,null,function*(){var e;const{id:t,dataModel:i,processedData:o,sizeScale:s,colorScale:a,properties:n,scale:r}=this,{idKey:l,sizeKey:c,colorKey:h,labelKey:u,label:d}=n;if(i==null||o==null)return[];const g=this.isColorScaleValid(),m=i.resolveProcessedDataIndexById(this,"idValue").index,p=i.resolveProcessedDataIndexById(this,"featureValue").index,y=u!=null?i.resolveProcessedDataIndexById(this,"labelValue").index:void 0,f=c!=null?i.resolveProcessedDataIndexById(this,"sizeValue").index:void 0,v=h!=null?i.resolveProcessedDataIndexById(this,"colorValue").index:void 0,M=(e=n.maxStrokeWidth)!=null?e:n.strokeWidth;s.range=[Math.min(n.strokeWidth,M),M];const x=d.getFont(),S=new Map;o.data.forEach(({values:I})=>{var b;const A=I[m],T=(b=I[p])==null?void 0:b.geometry,L=T!=null&&r!=null?projectGeometry(T,r):void 0;A!=null&&L!=null&&S.set(A,L)});const _=[],D=[],N=[];o.data.forEach(({datum:I,values:b})=>{const A=b[m],T=v!=null?b[v]:void 0,L=f!=null?b[f]:void 0,O=y!=null?b[y]:void 0,R=g&&T!=null?a.convert(T):void 0,C=L!=null?s.convert(L,{clampMode:"clamped"}):void 0,k=S.get(A);k==null&&N.push(A);const P=this.getLabelDatum(I,O,k,x);P!=null&&D.push(P),_.push({series:this,itemId:l,datum:I,stroke:R,strokeWidth:C,idValue:A,labelValue:O,colorValue:T,sizeValue:L,projectedGeometry:k})});const E=10;if(N.length>E){const I=N.length-E;N.length=E,N.push(`(+${I} more)`)}return N.length>0&&Logger8.warnOnce("some data items do not have matches in the provided topology",N),[{itemId:t,nodeData:_,labelData:D}]})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return __async(this,null,function*(){var e,t,i;const{datumSelection:o,labelSelection:s,highlightDatumSelection:a}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight();n!=null&&(n.series!==this||n.datum==null)&&(n=void 0);const r=(i=(t=this.contextNodeData[0])==null?void 0:t.nodeData)!=null?i:[];this.datumSelection=yield this.updateDatumSelection({nodeData:r,datumSelection:o}),yield this.updateDatumNodes({datumSelection:o,isHighlight:!1}),this.labelSelection=yield this.updateLabelSelection({labelSelection:s}),yield this.updateLabelNodes({labelSelection:s}),this.highlightDatumSelection=yield this.updateDatumSelection({nodeData:n!=null?[n]:[],datumSelection:a}),yield this.updateDatumNodes({datumSelection:a,isHighlight:!0})})}updateDatumSelection(e){return __async(this,null,function*(){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId3(t.idValue))})}updateDatumNodes(e){return __async(this,null,function*(){const{id:t,properties:i,ctx:{callbackCache:o}}=this,{datumSelection:s,isHighlight:a}=e,{idKey:n,labelKey:r,sizeKey:l,colorKey:c,stroke:h,strokeOpacity:u,lineDash:d,lineDashOffset:g,formatter:m}=i,p=a?i.highlightStyle.item:void 0,y=this.getStrokeWidth(i.strokeWidth);s.each((f,v)=>{var M,x,S,_,D,N,E,I,b,A,T,L;const{projectedGeometry:O}=v;if(O==null){f.visible=!1,f.projectedGeometry=void 0;return}let R;if(m!=null){const C={seriesId:t,datum:v.datum,itemId:v.itemId,idKey:n,labelKey:r,sizeKey:l,colorKey:c,strokeOpacity:u,stroke:h,strokeWidth:y,lineDash:d,lineDashOffset:g,highlighted:a};R=o.call(m,C)}f.visible=!0,f.projectedGeometry=O,f.stroke=(S=(x=(M=p?.stroke)!=null?M:R?.stroke)!=null?x:v.stroke)!=null?S:h,f.strokeWidth=Math.max((_=p?.strokeWidth)!=null?_:0,(N=(D=R?.strokeWidth)!=null?D:v.strokeWidth)!=null?N:y),f.strokeOpacity=(I=(E=p?.strokeOpacity)!=null?E:R?.strokeOpacity)!=null?I:u,f.lineDash=(A=(b=p?.lineDash)!=null?b:R?.lineDash)!=null?A:d,f.lineDashOffset=(L=(T=p?.lineDashOffset)!=null?T:R?.lineDashOffset)!=null?L:g})})}updateLabelSelection(e){return __async(this,null,function*(){var t,i;const o=(i=this.isLabelEnabled()?(t=this.chart)==null?void 0:t.placeLabels().get(this):void 0)!=null?i:[];return e.labelSelection.update(o)})}updateLabelNodes(e){return __async(this,null,function*(){const{labelSelection:t}=e,{color:i,fontStyle:o,fontWeight:s,fontSize:a,fontFamily:n}=this.properties.label;t.each((r,{x:l,y:c,width:h,height:u,text:d})=>{r.visible=!0,r.x=l+h/2,r.y=c+u/2,r.text=d,r.fill=i,r.fontStyle=o,r.fontWeight=s,r.fontSize=a,r.fontFamily=n,r.textAlign="center",r.textBaseline="middle"})})}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:o,series:s}=e,a=t!=null&&t===e.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:o,numVisibleItems:s}=e,{legendItemName:a}=this.properties,n=a!=null&&a===e.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):t&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){return this.contextNodeData.flatMap(({labelData:e})=>e)}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const n=s.distanceToPoint(e,t);n<i&&(i=n,o=a)}),o!=null?{datum:o,distance:i}:void 0}datumMidPoint(e){var t;const{_previousDatumMidPoint:i}=this;if(i?.datum===e)return i.point;const o=e.projectedGeometry,s=o!=null?largestLineString(o):void 0,a=s!=null?(t=lineStringCenter(s))==null?void 0:t.point:void 0,n=a!=null?{x:a[0],y:a[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:n},n}getLegendData(e){var t,i,o,s;const{processedData:a,dataModel:n}=this;if(a==null||n==null)return[];const{title:r,legendItemName:l,idKey:c,idName:h,colorKey:u,colorName:d,colorRange:g,stroke:m,strokeWidth:p,strokeOpacity:y,lineDash:f,visible:v}=this.properties;if(e==="gradient"&&u!=null&&g!=null){const M=a.domain.values[n.resolveProcessedDataIndexById(this,"colorValue").index];return[{legendType:"gradient",enabled:v,seriesId:this.id,colorName:d,colorRange:g,colorDomain:M}]}else return e==="category"?[{legendType:"category",id:this.id,itemId:(i=(t=l??r)!=null?t:h)!=null?i:c,seriesId:this.id,enabled:v,label:{text:(s=(o=l??r)!=null?o:h)!=null?s:c},marker:{fill:m,fillOpacity:y,stroke:void 0,strokeWidth:0,strokeOpacity:0,enabled:!1},line:{stroke:m,strokeOpacity:y,strokeWidth:p,lineDash:f},legendItemName:l}]:[]}getTooltipHtml(e){var t,i,o,s,a;const{id:n,processedData:r,properties:l,ctx:{callbackCache:c}}=this;if(!r||!l.isValid())return"";const{legendItemName:h,idKey:u,idName:d,colorKey:g,colorName:m,sizeKey:p,sizeName:y,labelKey:f,labelName:v,formatter:M,tooltip:x}=l,{datum:S,stroke:_,idValue:D,colorValue:N,sizeValue:E,labelValue:I}=e,b=(i=sanitizeHtml4((t=l.title)!=null?t:h))!=null?i:"",A=[];A.push(sanitizeHtml4((d!=null?`${d}: `:"")+D)),N!=null&&A.push(sanitizeHtml4((m??g)+": "+N)),E!=null&&A.push(sanitizeHtml4((y??p)+": "+E)),I!=null&&f!==u&&A.push(sanitizeHtml4((v??f)+": "+I));const T=A.join("<br>");let L;M&&(L=c.call(M,{seriesId:n,datum:S,idKey:u,stroke:_,strokeWidth:this.getStrokeWidth((o=e.strokeWidth)!=null?o:l.strokeWidth),highlighted:!1}));const O=(a=(s=L?.stroke)!=null?s:_)!=null?a:l.stroke;return x.toTooltipHtml({title:b,content:T,backgroundColor:O},__spreadValues({seriesId:n,datum:S,idKey:u,title:b,color:O},this.getModuleTooltipParams()))}};MapLineSeries.className="MapLineSeries",MapLineSeries.type="map-line",__decorateClass([Validate33(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapLineSeries.prototype,"_chartTopology",2);var{DEFAULT_DIVERGING_SERIES_COLOUR_RANGE,EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS2,DEFAULT_FONT_FAMILY,DEFAULT_LABEL_COLOUR,singleSeriesPaletteFactory}=import_ag_charts_community72._Theme,MapLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",instanceConstructor:MapLineSeries,themeTemplate:{series:{__extends__:EXTENDS_SERIES_DEFAULTS2,strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:DEFAULT_FONT_FAMILY,color:DEFAULT_LABEL_COLOUR}},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:o,themeTemplateParameters:s}=e,{fill:a}=singleSeriesPaletteFactory(e),{properties:n}=s,r=n.get(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),{fills:l}=t(i);return{colorRange:o?[l[0],l[1]]:r,stroke:a}}},import_ag_charts_community75=require("ag-charts-community"),import_ag_charts_community74=require("ag-charts-community");function prepareMapMarkerAnimationFunctions(){return{fromFn:(i,o,s)=>s==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,o,s)=>s==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function polygonPointSearch(e,t,i){const o=polygonBbox(e[0],void 0);if(o==null)return;const s=(o.lon0+o.lon1)/2,a=(o.lat0+o.lat1)/2,n=Math.abs(o.lon1-o.lon0),r=Math.abs(o.lat1-o.lat0),l=polygonCentroid(e[0]),[c,h]=l,u=-polygonDistance(e,c,h);let d;const g=(S,_)=>{const N=Math.max(_-u,0);return S-.5*N},m=(S,_,D)=>{const{distance:N,maxDistance:E}=i(e,S,_,D),I=Math.hypot(c-S,h-_),b=Math.min(Math.max(c,S-D/2),S+D/2),A=Math.min(Math.max(h,_-D/2),_+D/2),T=Math.hypot(c-b,h-A),L=g(N,I),O=g(E,T);return{distance:N,maxDistance:E,value:L,maxValue:O,x:S,y:_,stride:D}},p=(S,_,D,N)=>{const E=m(_,D,N);E.maxDistance>=0&&S.push(E)},y=Math.min(n,r)/2;let f={value:m(s,a,y),next:null};for(;f!=null;){const S=f.value,{distance:_,value:D,maxValue:N,x:E,y:I,stride:b}=S;if(f=f.next,_>0&&(d==null||D>d.value)&&(d=S),d!=null&&N-d.value<=t)continue;const A=b/2,T=[];p(T,E-A,I-A,A),p(T,E+A,I-A,A),p(T,E-A,I+A,A),p(T,E+A,I+A,A),T.sort(labelPlacementCmp),f=insertManySorted(f,T,labelPlacementCmp)}if(d==null)return;const{distance:v,x:M,y:x}=d;return{x:M,y:x,distance:v}}var labelPlacementCmp=(e,t)=>t.maxValue-e.maxValue;function polygonMarkerCenter(e,t){const i=polygonPointSearch(e,t,(a,n,r,l)=>{const c=-polygonDistance(a,n,r),h=c+l*Math.SQRT2;return{distance:c,maxDistance:h}});if(i==null)return;const{x:o,y:s}=i;return[o,s]}function markerPositions(e,t){var i,o;let s;switch(e.type){case"GeometryCollection":return e.geometries.flatMap(a=>markerPositions(a,t));case"MultiPoint":return e.coordinates;case"Point":return[e.coordinates];case"MultiPolygon":{const a=largestPolygon(e);s=a!=null?polygonMarkerCenter(a,t):void 0;break}case"Polygon":{const a=e.coordinates;s=a!=null?polygonMarkerCenter(a,t):void 0;break}case"MultiLineString":{const a=largestLineString(e);s=a!=null?(i=lineStringCenter(a))==null?void 0:i.point:void 0;break}case"LineString":{const a=e.coordinates;s=(o=lineStringCenter(a))==null?void 0:o.point;break}}return s!=null?[s]:[]}var import_ag_charts_community73=require("ag-charts-community"),{AND:AND9,ARRAY:ARRAY5,COLOR_STRING:COLOR_STRING11,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY3,FUNCTION:FUNCTION8,NUMBER_ARRAY:NUMBER_ARRAY2,OBJECT:OBJECT10,POSITIVE_NUMBER:POSITIVE_NUMBER14,RATIO:RATIO16,STRING:STRING10,MARKER_SHAPE,Validate:Validate34,SeriesProperties:SeriesProperties3,SeriesTooltip:SeriesTooltip7}=import_ag_charts_community73._ModuleSupport,{Label:Label3,Circle}=import_ag_charts_community73._Scene,{Logger:Logger9}=import_ag_charts_community73._Util,MapMarkerSeriesLabel=class extends Label3{constructor(){super(...arguments),this.placement="bottom"}};__decorateClass([Validate34(STRING10)],MapMarkerSeriesLabel.prototype,"placement",2);var MapMarkerSeriesProperties=class extends SeriesProperties3{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape=Circle,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.label=new MapMarkerSeriesLabel,this.tooltip=new SeriesTooltip7}isValid(){const e=super.isValid(),t=this.idKey!=null,i=this.latitudeKey!=null&&this.longitudeKey!=null;return!t&&!i?(Logger9.warnOnce("Either both [topology] and [idKey] or both [latitudeKey] and [longitudeKey] must be set to render a map marker series."),!1):e}};__decorateClass([Validate34(GEOJSON_OBJECT,{optional:!0})],MapMarkerSeriesProperties.prototype,"topology",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"title",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"legendItemName",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"idKey",2),__decorateClass([Validate34(STRING10)],MapMarkerSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"idName",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"latitudeKey",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"latitudeName",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"longitudeKey",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"longitudeName",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"labelName",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeKey",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeName",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"colorKey",2),__decorateClass([Validate34(STRING10,{optional:!0})],MapMarkerSeriesProperties.prototype,"colorName",2),__decorateClass([Validate34(AND9(COLOR_STRING_ARRAY3,ARRAY5.restrict({minLength:1})),{optional:!0})],MapMarkerSeriesProperties.prototype,"colorRange",2),__decorateClass([Validate34(MARKER_SHAPE)],MapMarkerSeriesProperties.prototype,"shape",2),__decorateClass([Validate34(POSITIVE_NUMBER14)],MapMarkerSeriesProperties.prototype,"size",2),__decorateClass([Validate34(POSITIVE_NUMBER14,{optional:!0})],MapMarkerSeriesProperties.prototype,"maxSize",2),__decorateClass([Validate34(NUMBER_ARRAY2,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Validate34(COLOR_STRING11,{optional:!0})],MapMarkerSeriesProperties.prototype,"fill",2),__decorateClass([Validate34(RATIO16)],MapMarkerSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate34(COLOR_STRING11,{optional:!0})],MapMarkerSeriesProperties.prototype,"stroke",2),__decorateClass([Validate34(POSITIVE_NUMBER14)],MapMarkerSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate34(RATIO16)],MapMarkerSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate34(FUNCTION8,{optional:!0})],MapMarkerSeriesProperties.prototype,"formatter",2),__decorateClass([Validate34(OBJECT10)],MapMarkerSeriesProperties.prototype,"label",2),__decorateClass([Validate34(OBJECT10)],MapMarkerSeriesProperties.prototype,"tooltip",2);var{Validate:Validate35,fromToMotion:fromToMotion2,StateMachine,getMissCount:getMissCount3,createDatumId:createDatumId4,DataModelSeries:DataModelSeries3,SeriesNodePickMode:SeriesNodePickMode6,Layers:Layers6,valueProperty:valueProperty7}=import_ag_charts_community74._ModuleSupport,{ColorScale:ColorScale3,LinearScale:LinearScale4}=import_ag_charts_community74._Scale,{Group:Group9,Selection:Selection5,Text:Text7,getMarker}=import_ag_charts_community74._Scene,{sanitizeHtml:sanitizeHtml5,Logger:Logger10}=import_ag_charts_community74._Util,MapMarkerSeries=class extends DataModelSeries3{constructor(e){super({moduleCtx:e,contentGroupVirtual:!0,useLabelLayer:!0,pickModes:[SeriesNodePickMode6.EXACT_SHAPE_MATCH,SeriesNodePickMode6.NEAREST_NODE]}),this.properties=new MapMarkerSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale3,this.sizeScale=new LinearScale4,this.markerGroup=this.contentGroup.appendChild(new Group9({name:"markerGroup",layer:!0,isVirtual:!1,zIndex:Layers6.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelSelection=Selection5.select(this.labelGroup,Text7,!1),this.markerSelection=Selection5.select(this.markerGroup,()=>this.markerFactory(),!1),this.highlightMarkerSelection=Selection5.select(this.highlightGroup,()=>this.markerFactory()),this.contextNodeData=[],this.animationState=new StateMachine("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get topology(){var e;return(e=this.properties.topology)!=null?e:this._chartTopology}get hasData(){const e=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||e)}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>{this.onLegendItemClick(e)}),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}markerFactory(){const{shape:e}=this.properties,t=getMarker(e);return new t}processData(e){return __async(this,null,function*(){var t;if(this.data==null||!this.properties.isValid())return;const{data:i,topology:o,sizeScale:s,colorScale:a}=this,{topologyIdKey:n,idKey:r,latitudeKey:l,longitudeKey:c,sizeKey:h,colorKey:u,labelKey:d,sizeDomain:g,colorRange:m}=this.properties,p=new Map;o?.features.forEach(_=>{var D;const N=(D=_.properties)==null?void 0:D[n];N!=null&&p.set(N,_)});const y=l!=null&&c!=null,{dataModel:f,processedData:v}=yield this.requestDataModel(e,i,{props:[...r!=null?[valueProperty7(this,r,!1,{id:"idValue",includeProperty:!1}),valueProperty7(this,r,!1,{id:"featureValue",includeProperty:!1,processor:()=>_=>p.get(_)})]:[],...y?[valueProperty7(this,l,!1,{id:"latValue"}),valueProperty7(this,c,!1,{id:"lonValue"})]:[],...d?[valueProperty7(this,d,!1,{id:"labelValue"})]:[],...h?[valueProperty7(this,h,!0,{id:"sizeValue"})]:[],...u?[valueProperty7(this,u,!0,{id:"colorValue"})]:[]]}),M=r!=null?f.resolveProcessedDataIndexById(this,"featureValue").index:void 0,x=y?f.resolveProcessedDataIndexById(this,"latValue").index:void 0,S=y?f.resolveProcessedDataIndexById(this,"lonValue").index:void 0;if(this.topologyBounds=v.data.reduce((_,{values:D})=>{const N=M!=null?D[M]:void 0,E=N?.geometry;if(E!=null&&(_=geometryBbox(E,_)),x!=null&&S!=null){const I=D[S],b=D[x];_=extendBbox(_,I,b,I,b)}return _},void 0),h!=null){const _=f.resolveProcessedDataIndexById(this,"sizeValue").index,D=(t=v.domain.values[_])!=null?t:[];s.domain=g??D}if(m!=null&&this.isColorScaleValid()){const _=f.resolveProcessedDataIndexById(this,"colorValue").index;a.domain=v.domain.values[_],a.range=m,a.update()}this.animationState.transition("updateData")})}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue").index,s=i.data.length,a=getMissCount3(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelDatum(e,t,i,o,s,a){if(t==null)return;const{idKey:n,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:u,sizeKey:d,sizeName:g,colorKey:m,colorName:p,labelKey:y,labelName:f,label:v}=this.properties,{placement:M}=v,x=this.getLabelText(v,{value:t,datum:e,idKey:n,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:u,sizeKey:d,sizeName:g,colorKey:m,colorName:p,labelKey:y,labelName:f});if(x==null)return;const{width:S,height:_}=Text7.getTextSize(String(x),a);return{point:{x:i,y:o,size:s},label:{width:S,height:_,text:x},marker:getMarker(this.properties.shape),placement:M}}createNodeData(){return __async(this,null,function*(){var e;const{id:t,dataModel:i,processedData:o,colorScale:s,sizeScale:a,properties:n,scale:r}=this,{idKey:l,latitudeKey:c,longitudeKey:h,sizeKey:u,colorKey:d,labelKey:g,label:m}=n;if(i==null||o==null||r==null)return[];const p=this.isColorScaleValid(),y=c!=null&&h!=null,f=l!=null?i.resolveProcessedDataIndexById(this,"idValue").index:void 0,v=l!=null?i.resolveProcessedDataIndexById(this,"featureValue").index:void 0,M=y?i.resolveProcessedDataIndexById(this,"latValue").index:void 0,x=y?i.resolveProcessedDataIndexById(this,"lonValue").index:void 0,S=g!=null?i.resolveProcessedDataIndexById(this,"labelValue").index:void 0,_=u!=null?i.resolveProcessedDataIndexById(this,"sizeValue").index:void 0,D=d!=null?i.resolveProcessedDataIndexById(this,"colorValue").index:void 0,N=(e=n.maxSize)!=null?e:n.size;a.range=[Math.min(n.size,N),N];const E=m.getFont();let I;f!=null&&v!=null&&(I=new Map,o.data.forEach(({values:O})=>{var R;const C=O[f],k=(R=O[v])==null?void 0:R.geometry,P=k!=null&&r!=null?projectGeometry(k,r):void 0;C!=null&&P!=null&&I.set(C,P)}));const b=[],A=[],T=[];o.data.forEach(({datum:O,values:R})=>{const C=f!=null?R[f]:void 0,k=x!=null?R[x]:void 0,P=M!=null?R[M]:void 0,w=D!=null?R[D]:void 0,V=_!=null?R[_]:void 0,U=S!=null?R[S]:void 0,F=p&&w!=null?s.convert(w):void 0,z=V!=null?a.convert(V,{clampMode:"clamped"}):n.size,j=C!=null?I?.get(C):void 0;if(C!=null&&projectGeometry==null&&T.push(C),k!=null&&P!=null){const[B,K]=r.convert([k,P]),G=this.getLabelDatum(O,U,B,K,z,E);G&&A.push(G),b.push({series:this,itemId:c,datum:O,index:-1,fill:F,idValue:C,lonValue:k,latValue:P,labelValue:U,sizeValue:V,colorValue:w,point:{x:B,y:K,size:z},midPoint:{x:B,y:K}})}else j!=null&&markerPositions(j,1).forEach(([B,K],G)=>{const W=this.getLabelDatum(O,U,B,K,z,E);W&&A.push(W),b.push({series:this,itemId:c,datum:O,index:G,fill:F,idValue:C,lonValue:k,latValue:P,labelValue:U,sizeValue:V,colorValue:w,point:{x:B,y:K,size:z},midPoint:{x:B,y:K}})})});const L=10;if(T.length>L){const O=T.length-L;T.length=L,T.push(`(+${O} more)`)}return T.length>0&&Logger10.warnOnce("some data items do not have matches in the provided topology",T),[{itemId:t,nodeData:b,labelData:A}]})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(e){return __async(this,arguments,function*({seriesRect:t}){var i,o,s;const{labelSelection:a,markerSelection:n,highlightMarkerSelection:r}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let l=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();l!=null&&(l.series!==this||l.datum==null)&&(l=void 0);const c=(s=(o=this.contextNodeData[0])==null?void 0:o.nodeData)!=null?s:[];this.labelSelection=yield this.updateLabelSelection({labelSelection:a}),yield this.updateLabelNodes({labelSelection:a}),this.markerSelection=yield this.updateMarkerSelection({markerData:c,markerSelection:n}),yield this.updateMarkerNodes({markerSelection:n,isHighlight:!1,highlightedDatum:l}),this.highlightMarkerSelection=yield this.updateMarkerSelection({markerData:l!=null?[l]:[],markerSelection:r}),yield this.updateMarkerNodes({markerSelection:r,isHighlight:!0,highlightedDatum:l}),this.checkResize(t)&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateLabelSelection(e){return __async(this,null,function*(){var t,i;const o=(i=this.isLabelEnabled()?(t=this.chart)==null?void 0:t.placeLabels().get(this):void 0)!=null?i:[];return e.labelSelection.update(o)})}updateLabelNodes(e){return __async(this,null,function*(){const{labelSelection:t}=e,{color:i,fontStyle:o,fontWeight:s,fontSize:a,fontFamily:n}=this.properties.label;t.each((r,{x:l,y:c,width:h,height:u,text:d})=>{r.visible=!0,r.x=l+h/2,r.y=c+u/2,r.text=d,r.fill=i,r.fontStyle=o,r.fontWeight=s,r.fontSize=a,r.fontFamily=n,r.textAlign="center",r.textBaseline="middle"})})}updateMarkerSelection(e){return __async(this,null,function*(){const{markerData:t,markerSelection:i}=e;return i.update(t,void 0,o=>createDatumId4([o.index,o.idValue,o.lonValue,o.latValue]))})}updateMarkerNodes(e){return __async(this,null,function*(){const{id:t,properties:i,ctx:{callbackCache:o}}=this,{markerSelection:s,isHighlight:a,highlightedDatum:n}=e,{idKey:r,latitudeKey:l,longitudeKey:c,labelKey:h,sizeKey:u,colorKey:d,fill:g,fillOpacity:m,stroke:p,strokeOpacity:y,formatter:f}=i,v=a?i.highlightStyle.item:void 0,M=this.getStrokeWidth(i.strokeWidth);s.each((x,S)=>{var _,D,N,E,I,b,A,T,L,O,R;const{datum:C,point:k}=S;let P;if(f!=null){const w={seriesId:t,datum:S.datum,itemId:S.itemId,size:k.size,idKey:r,latitudeKey:l,longitudeKey:c,labelKey:h,sizeKey:u,colorKey:d,fill:g,fillOpacity:m,stroke:p,strokeWidth:M,strokeOpacity:y,highlighted:a};P=o.call(f,w)}x.size=k.size,x.fill=(N=(D=(_=v?.fill)!=null?_:P?.fill)!=null?D:S.fill)!=null?N:g,x.fillOpacity=(I=(E=v?.fillOpacity)!=null?E:P?.fillOpacity)!=null?I:m,x.stroke=(A=(b=v?.stroke)!=null?b:P?.stroke)!=null?A:p,x.strokeWidth=(L=(T=v?.strokeWidth)!=null?T:P?.strokeWidth)!=null?L:M,x.strokeOpacity=(R=(O=v?.strokeOpacity)!=null?O:P?.strokeOpacity)!=null?R:y,x.translationX=k.x,x.translationY=k.y,x.zIndex=!a&&n!=null&&C===n.datum?1:0})})}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:o,series:s}=e,a=t!=null&&t===e.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:o,numVisibleItems:s}=e,{legendItemName:a}=this.properties,n=a!=null&&a===e.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):t&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isProcessedDataAnimatable(){return!0}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:e}=this.ctx,t=prepareMapMarkerAnimationFunctions();fromToMotion2(this.id,"markers",e,[this.markerSelection,this.highlightMarkerSelection],t)}getLabelData(){return this.contextNodeData.flatMap(({labelData:e})=>e)}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum(e){const{x:t,y:i}=this.rootGroup.transformPoint(e.x,e.y);let o=1/0,s;return this.contextNodeData[0].nodeData.forEach(a=>{const{x:n,y:r,size:l}=a.point,c=Math.max(Math.abs(n-t)-l,0),h=Math.max(Math.abs(r-i)-l,0),u=c*c+h*h;u<o&&(o=u,s=a)}),s!=null?{datum:s,distance:Math.sqrt(o)}:void 0}getLegendData(e){var t,i,o,s,a,n;const{processedData:r,dataModel:l}=this;if(r==null||l==null)return[];const{title:c,legendItemName:h,idName:u,idKey:d,colorKey:g,colorName:m,colorRange:p,visible:y,shape:f,fill:v,stroke:M,fillOpacity:x,strokeOpacity:S,strokeWidth:_}=this.properties;if(e==="gradient"&&g!=null&&p!=null){const D=r.domain.values[l.resolveProcessedDataIndexById(this,"colorValue").index];return[{legendType:"gradient",enabled:y,seriesId:this.id,colorName:m,colorRange:p,colorDomain:D}]}else return e==="category"?[{legendType:"category",id:this.id,itemId:(o=(i=(t=h??c)!=null?t:u)!=null?i:d)!=null?o:this.id,seriesId:this.id,enabled:y,label:{text:(n=(a=(s=h??c)!=null?s:u)!=null?a:d)!=null?n:this.id},marker:{shape:f,fill:v,fillOpacity:x,stroke:M,strokeWidth:_,strokeOpacity:S},legendItemName:h}]:[]}getTooltipHtml(e){var t,i,o,s;const{id:a,processedData:n,ctx:{callbackCache:r},properties:l}=this;if(!n||!this.properties.isValid())return"";const{legendItemName:c,idKey:h,idName:u,latitudeKey:d,longitudeKey:g,sizeKey:m,sizeName:p,colorKey:y,colorName:f,labelKey:v,labelName:M,formatter:x,tooltip:S}=l,{datum:_,fill:D,idValue:N,latValue:E,lonValue:I,sizeValue:b,colorValue:A,labelValue:T}=e,L=(i=sanitizeHtml5((t=l.title)!=null?t:c))!=null?i:"",O=[];N!=null&&O.push(sanitizeHtml5((u!=null?`${u}: `:"")+N)),A!=null&&O.push(sanitizeHtml5((f??y)+": "+A)),b!=null&&O.push(sanitizeHtml5((p??m)+": "+b)),T!=null&&(h==null||h!==v)&&O.push(sanitizeHtml5((M??v)+": "+T)),E!=null&&I!=null&&O.push(sanitizeHtml5(`${Math.abs(E).toFixed(4)}\xB0 ${E>=0?"N":"S"}, ${Math.abs(I).toFixed(4)}\xB0 ${E>=0?"W":"E"}`));const R=O.join("<br>");let C;x&&(C=r.call(x,{seriesId:a,datum:_,latitudeKey:d,longitudeKey:g,fill:D,highlighted:!1}));const k=(s=(o=C?.fill)!=null?o:D)!=null?s:l.fill;return S.toTooltipHtml({title:L,content:R,backgroundColor:k},__spreadValues({seriesId:a,datum:_,idKey:h,latitudeKey:d,longitudeKey:g,title:L,color:k},this.getModuleTooltipParams()))}};MapMarkerSeries.className="MapMarkerSeries",MapMarkerSeries.type="map-marker",__decorateClass([Validate35(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapMarkerSeries.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS3,DEFAULT_LABEL_COLOUR:DEFAULT_LABEL_COLOUR2,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:DEFAULT_DIVERGING_SERIES_COLOUR_RANGE2,singleSeriesPaletteFactory:singleSeriesPaletteFactory2}=import_ag_charts_community75._Theme,MapMarkerModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",instanceConstructor:MapMarkerSeries,themeTemplate:{series:{__extends__:EXTENDS_SERIES_DEFAULTS3,maxSize:30,fillOpacity:.5,label:{color:DEFAULT_LABEL_COLOUR2}},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:o,themeTemplateParameters:s}=e,{fill:a,stroke:n}=singleSeriesPaletteFactory2(e),{properties:r}=s,l=r.get(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE2),{fills:c}=t(i);return{fill:a,stroke:n,colorRange:o?[c[0],c[1]]:l}}},import_ag_charts_community78=require("ag-charts-community"),import_ag_charts_community77=require("ag-charts-community"),import_ag_charts_community76=require("ag-charts-community"),{COLOR_STRING:COLOR_STRING12,LINE_DASH:LINE_DASH9,OBJECT:OBJECT11,POSITIVE_NUMBER:POSITIVE_NUMBER15,RATIO:RATIO17,Validate:Validate36,SeriesProperties:SeriesProperties4,SeriesTooltip:SeriesTooltip8}=import_ag_charts_community76._ModuleSupport,MapShapeBackgroundSeriesProperties=class extends SeriesProperties4{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new SeriesTooltip8}};__decorateClass([Validate36(GEOJSON_OBJECT,{optional:!0})],MapShapeBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Validate36(COLOR_STRING12)],MapShapeBackgroundSeriesProperties.prototype,"fill",2),__decorateClass([Validate36(RATIO17)],MapShapeBackgroundSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate36(COLOR_STRING12)],MapShapeBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Validate36(RATIO17)],MapShapeBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate36(POSITIVE_NUMBER15)],MapShapeBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate36(LINE_DASH9)],MapShapeBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate36(POSITIVE_NUMBER15)],MapShapeBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate36(OBJECT11)],MapShapeBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId5,Series,SeriesNodePickMode:SeriesNodePickMode7,Validate:Validate37}=import_ag_charts_community77._ModuleSupport,{Selection:Selection6,Group:Group10,PointerEvents:PointerEvents3}=import_ag_charts_community77._Scene,{Logger:Logger11}=import_ag_charts_community77._Util,MapShapeBackgroundSeries=class extends Series{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[SeriesNodePickMode7.EXACT_SHAPE_MATCH]}),this.properties=new MapShapeBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group10({name:"itemGroup"})),this.datumSelection=Selection6.select(this.itemGroup,()=>this.nodeFactory()),this.contextNodeData=[]}get topology(){var e;return(e=this.properties.topology)!=null?e:this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e.pointerEvents=PointerEvents3.None,e}processData(){return __async(this,null,function*(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const o=i.geometry;return o==null?t:geometryBbox(o,t)},void 0),e==null&&Logger11.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")})}createNodeData(){return __async(this,null,function*(){const{id:e,topology:t,scale:i}=this;if(t==null)return[];const o=[],s=[];return t.features.forEach((a,n)=>{const{geometry:r}=a,l=r!=null&&i!=null?projectGeometry(r,i):void 0;l!=null&&o.push({series:this,itemId:n,datum:a,index:n,projectedGeometry:l})}),[{itemId:e,nodeData:o,labelData:s}]})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return __async(this,null,function*(){const{datumSelection:e}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t}=this.contextNodeData[0];this.datumSelection=yield this.updateDatumSelection({nodeData:t,datumSelection:e}),yield this.updateDatumNodes({datumSelection:e})})}updateDatumSelection(e){return __async(this,null,function*(){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId5(t.index))})}updateDatumNodes(e){return __async(this,null,function*(){const{properties:t}=this,{datumSelection:i}=e,{fill:o,fillOpacity:s,stroke:a,strokeOpacity:n,lineDash:r,lineDashOffset:l}=t,c=this.getStrokeWidth(t.strokeWidth);i.each((h,u)=>{const{projectedGeometry:d}=u;if(d==null){h.visible=!1,h.projectedGeometry=void 0;return}h.visible=!0,h.projectedGeometry=d,h.fill=o,h.fillOpacity=s,h.stroke=a,h.strokeWidth=c,h.strokeOpacity=n,h.lineDash=r,h.lineDashOffset=l})})}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return""}};MapShapeBackgroundSeries.className="MapShapeBackgroundSeries",MapShapeBackgroundSeries.type="map-shape-background",__decorateClass([Validate37(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapShapeBackgroundSeries.prototype,"_chartTopology",2);var{DEFAULT_BACKGROUND_COLOUR,DEFAULT_HIERARCHY_FILLS}=import_ag_charts_community78._Theme,MapShapeBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",instanceConstructor:MapShapeBackgroundSeries,themeTemplate:{series:{stroke:DEFAULT_BACKGROUND_COLOUR,strokeWidth:1},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:({themeTemplateParameters:e})=>{var t;const{properties:i}=e;return{fill:(t=i.get(DEFAULT_HIERARCHY_FILLS))==null?void 0:t[1]}}},import_ag_charts_community81=require("ag-charts-community"),import_ag_charts_community80=require("ag-charts-community");function preferredLabelCenter(e,{aspectRatio:t,precision:i}){const o=polygonPointSearch(e,i,(l,c,h,u)=>{const d=maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(l,c,h,t),g=d+2*u*t,m=d*Math.SQRT2,p=g*Math.SQRT2;return{distance:m,maxDistance:p}});if(o==null)return;const{x:s,y:a,distance:n}=o,r=n/Math.SQRT2;return{x:s,y:a,maxWidth:r}}function maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(e,t,i,o,s){const[a,n]=e,[r,l]=t,c=1/s,h=r-a,u=l-n,[d,g]=n<=l?e:t,[m,p]=a<=r?e:t,[y,f]=n<=l?t:e,[v,M]=a<=r?t:e;let x=1/0;if(h!==0){const I=u/h;for(let b=0;b<=1;b+=1){const A=b===0?c:-c,T=(I*a-n-A*i+o)/(I-A);if(T>=m&&T<=v){const L=Math.abs(i-T)*2;x=Math.min(x,L)}}}else for(let I=0;I<=1;I+=1){const A=(I===0?c:-c)*(a-i)+o;if(A>=g&&A<=f){const L=Math.abs(o-A)*2*s;x=Math.min(x,L)}}const S=s,_=Math.abs((d-i)/(g-o)),D=Math.abs((y-i)/(f-o));if(f<o&&D<S){const b=Math.abs(o-f)*2*s;x=Math.min(x,b)}else if(g>o&&_<S){const b=Math.abs(o-g)*2*s;x=Math.min(x,b)}const N=Math.abs((p-o)/(m-i)),E=Math.abs((M-o)/(v-i));if(v<i&&E<c){const I=Math.abs(i-v)*2;x=Math.min(x,I)}else if(m>i&&N<c){const I=Math.abs(i-m)*2;x=Math.min(x,I)}return x}function maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(e,t,i,o){let s=!1,a=1/0;for(const n of e){let r=n[n.length-1],[l,c]=r;for(const h of n){const[u,d]=h;d>i!=c>i&&t<(l-u)*(i-d)/(c-d)+u&&(s=!s);const g=maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(r,h,t,i,o);a=Math.min(a,g),r=h,l=u,c=d}}return(s?1:-1)*a}function applyX(e,t,i){i>=t&&(e.maxX=Math.min(e.maxX,i-t)),i<=t&&(e.minX=Math.max(e.minX,i-t))}function xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(e,t,i,o,s,a){const n=s-a/2,r=s+a/2,[l,c]=t,[h,u]=i,d=h-l,g=u-c,[m,p]=l<=h?t:i,[y,f]=l<=h?i:t;if(d!==0){const v=g/d;for(let M=0;M<=1;M+=1){const S=((M===0?n:r)-c)/v+l;S>=m&&S<=y&&applyX(e,o,S)}}else Math.max(n,Math.min(c,u))<=Math.min(r,Math.max(c,u))&&applyX(e,o,l);return y<o&&f>=n&&f<=r?applyX(e,o,y):m>o&&p>=n&&p<=r&&applyX(e,o,m),e}function maxWidthInPolygonForRectOfHeight(e,t,i,o){const s={minX:-1/0,maxX:1/0};for(const r of e){let l=r[r.length-1];for(const c of r)xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(s,l,c,t,i,o),l=c}const{minX:a,maxX:n}=s;return Number.isFinite(a)&&Number.isFinite(n)?{x:t+(a+n)/2,width:n-a}:{x:t,width:0}}var import_ag_charts_community79=require("ag-charts-community"),{AND:AND10,ARRAY:ARRAY6,COLOR_STRING:COLOR_STRING13,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY4,FUNCTION:FUNCTION9,LINE_DASH:LINE_DASH10,OBJECT:OBJECT12,POSITIVE_NUMBER:POSITIVE_NUMBER16,RATIO:RATIO18,STRING:STRING11,Validate:Validate38,SeriesProperties:SeriesProperties5,SeriesTooltip:SeriesTooltip9}=import_ag_charts_community79._ModuleSupport,MapShapeSeriesProperties=class extends SeriesProperties5{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new AutoSizeableSecondaryLabel,this.tooltip=new SeriesTooltip9}};__decorateClass([Validate38(GEOJSON_OBJECT,{optional:!0})],MapShapeSeriesProperties.prototype,"topology",2),__decorateClass([Validate38(STRING11,{optional:!0})],MapShapeSeriesProperties.prototype,"title",2),__decorateClass([Validate38(STRING11,{optional:!0})],MapShapeSeriesProperties.prototype,"legendItemName",2),__decorateClass([Validate38(STRING11)],MapShapeSeriesProperties.prototype,"idKey",2),__decorateClass([Validate38(STRING11,{optional:!0})],MapShapeSeriesProperties.prototype,"idName",2),__decorateClass([Validate38(STRING11)],MapShapeSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Validate38(STRING11,{optional:!0})],MapShapeSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate38(STRING11,{optional:!0})],MapShapeSeriesProperties.prototype,"labelName",2),__decorateClass([Validate38(STRING11,{optional:!0})],MapShapeSeriesProperties.prototype,"colorKey",2),__decorateClass([Validate38(STRING11,{optional:!0})],MapShapeSeriesProperties.prototype,"colorName",2),__decorateClass([Validate38(AND10(COLOR_STRING_ARRAY4,ARRAY6.restrict({minLength:1})),{optional:!0})],MapShapeSeriesProperties.prototype,"colorRange",2),__decorateClass([Validate38(COLOR_STRING13)],MapShapeSeriesProperties.prototype,"fill",2),__decorateClass([Validate38(RATIO18)],MapShapeSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate38(COLOR_STRING13)],MapShapeSeriesProperties.prototype,"stroke",2),__decorateClass([Validate38(RATIO18)],MapShapeSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate38(POSITIVE_NUMBER16)],MapShapeSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate38(LINE_DASH10)],MapShapeSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate38(POSITIVE_NUMBER16)],MapShapeSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate38(POSITIVE_NUMBER16)],MapShapeSeriesProperties.prototype,"padding",2),__decorateClass([Validate38(FUNCTION9,{optional:!0})],MapShapeSeriesProperties.prototype,"formatter",2),__decorateClass([Validate38(OBJECT12)],MapShapeSeriesProperties.prototype,"label",2),__decorateClass([Validate38(OBJECT12)],MapShapeSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount4,createDatumId:createDatumId6,DataModelSeries:DataModelSeries4,SeriesNodePickMode:SeriesNodePickMode8,valueProperty:valueProperty8,Validate:Validate39}=import_ag_charts_community80._ModuleSupport,{ColorScale:ColorScale4}=import_ag_charts_community80._Scale,{Group:Group11,Selection:Selection7,Text:Text8,PointerEvents:PointerEvents4}=import_ag_charts_community80._Scene,{sanitizeHtml:sanitizeHtml6,Logger:Logger12}=import_ag_charts_community80._Util,fixedScale=import_ag_charts_community80._ModuleSupport.MercatorScale.fixedScale(),MapShapeSeries=class extends DataModelSeries4{constructor(e){super({moduleCtx:e,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[SeriesNodePickMode8.EXACT_SHAPE_MATCH,SeriesNodePickMode8.NEAREST_NODE]}),this.properties=new MapShapeSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale4,this.itemGroup=this.contentGroup.appendChild(new Group11({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group11({name:"itemLabelGroup"})),this.datumSelection=Selection7.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection7.select(this.itemLabelGroup,Text8),this.highlightDatumSelection=Selection7.select(this.highlightGroup,()=>this.nodeFactory()),this.contextNodeData=[],this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=PointerEvents4.None}get topology(){var e;return(e=this.properties.topology)!=null?e:this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>{this.onLegendItemClick(e)}),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e}processData(e){return __async(this,null,function*(){if(this.data==null||!this.properties.isValid())return;const{data:t,topology:i,colorScale:o}=this,{topologyIdKey:s,idKey:a,colorKey:n,labelKey:r,colorRange:l}=this.properties,c=new Map;i?.features.forEach(g=>{var m;const p=(m=g.properties)==null?void 0:m[s];p==null||!containsType(g.geometry,1)||c.set(p,g)});const{dataModel:h,processedData:u}=yield this.requestDataModel(e,t,{props:[valueProperty8(this,a,!1,{id:"idValue",includeProperty:!1}),valueProperty8(this,a,!1,{id:"featureValue",includeProperty:!1,processor:()=>g=>c.get(g)}),...r?[valueProperty8(this,r,!1,{id:"labelValue"})]:[],...n?[valueProperty8(this,n,!0,{id:"colorValue"})]:[]]}),d=h.resolveProcessedDataIndexById(this,"featureValue").index;if(this.topologyBounds=u.data.reduce((g,{values:m})=>{const p=m[d],y=p?.geometry;return y==null?g:geometryBbox(y,g)},void 0),l!=null&&this.isColorScaleValid()){const g=h.resolveProcessedDataIndexById(this,"colorValue").index;o.domain=u.domain.values[g],o.range=l,o.update()}i==null&&Logger12.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")})}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue").index,s=i.data.length,a=getMissCount4(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelLayout(e,t,i,o,s){if(t==null||o==null)return;const{idKey:a,idName:n,colorKey:r,colorName:l,labelKey:c,labelName:h,padding:u,label:d}=this.properties,g=this.getLabelText(d,{value:t,datum:e,idKey:a,idName:n,colorKey:r,colorName:l,labelKey:c,labelName:h});if(g==null)return;const m=Text8.getTextSize(String(g),i),p=g.split(`
`).length,y=(m.width+2*u)/(p*AutoSizedLabel.lineHeight(d.fontSize)+2*u);if(s?.geometry===o&&s?.labelText===g&&s?.aspectRatio===y)return s;const f=projectGeometry(o,fixedScale),v=largestPolygon(f);if(v==null)return;const M=preferredLabelCenter(v,{aspectRatio:y,precision:.001});if(M==null)return;const{x,y:S,maxWidth:_}=M;return{geometry:o,labelText:g,aspectRatio:y,x,y:S,maxWidth:_,fixedPolygon:v}}getLabelDatum(e,t,i,o){const{padding:s,label:a}=this.properties,{labelText:n,aspectRatio:r,x:l,y:c,maxWidth:h,fixedPolygon:u}=e,d={width:Math.ceil(h*t),height:Math.ceil(h*t/r),meta:l},g=formatSingleLabel(n,a,{padding:s},(x,S)=>{if(!S)return d;const _=maxWidthInPolygonForRectOfHeight(u,l,c,x/t);return{width:_.width*t,height:x,meta:_.x}});if(g==null)return;const[{text:m,fontSize:p,lineHeight:y,width:f},v]=g;return m===Text8.ellipsis?void 0:{x:(f>d.width?l:v)*t-i,y:c*t-o,text:m,fontSize:p,lineHeight:y}}createNodeData(){return __async(this,null,function*(){const{id:e,dataModel:t,processedData:i,colorScale:o,properties:s,scale:a,previousLabelLayouts:n}=this,{idKey:r,colorKey:l,labelKey:c,label:h,fill:u}=s;if(t==null||i==null)return[];const d=this.isColorScaleValid(),g=t.resolveProcessedDataIndexById(this,"idValue").index,m=t.resolveProcessedDataIndexById(this,"featureValue").index,p=c!=null?t.resolveProcessedDataIndexById(this,"labelValue").index:void 0,y=l!=null?t.resolveProcessedDataIndexById(this,"colorValue").index:void 0,f=h.getFont(),v=new Map;this.previousLabelLayouts=v;const M=[],x=[],S=[];i.data.forEach(({datum:D,values:N})=>{var E;const I=N[g],b=y!=null?N[y]:void 0,A=p!=null?N[p]:void 0,T=(E=N[m])==null?void 0:E.geometry;T==null&&S.push(I);const L=d&&b!=null?o.convert(b):void 0,O=this.getLabelLayout(D,A,f,T,n?.get(I));O!=null&&v.set(I,O);const R=O!=null&&a!=null?this.getLabelDatum(O,a.scale/fixedScale.scale,a.originX,a.originY):void 0;R!=null&&x.push(R);const C=T!=null&&a!=null?projectGeometry(T,a):void 0;M.push({series:this,itemId:r,datum:D,idValue:I,colorValue:b,labelValue:A,fill:L??u,projectedGeometry:C})});const _=10;if(S.length>_){const D=S.length-_;S.length=_,S.push(`(+${D} more)`)}return S.length>0&&Logger12.warnOnce("some data items do not have matches in the provided topology",S),[{itemId:e,nodeData:M,labelData:x}]})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return __async(this,null,function*(){var e,t,i,o,s;const{datumSelection:a,labelSelection:n,highlightDatumSelection:r}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let l=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight();l!=null&&(l.series!==this||l.datum==null)&&(l=void 0);const c=(i=(t=this.contextNodeData[0])==null?void 0:t.nodeData)!=null?i:[],h=(s=(o=this.contextNodeData[0])==null?void 0:o.labelData)!=null?s:[];this.datumSelection=yield this.updateDatumSelection({nodeData:c,datumSelection:a}),yield this.updateDatumNodes({datumSelection:a,isHighlight:!1}),this.labelSelection=yield this.updateLabelSelection({labelData:h,labelSelection:n}),yield this.updateLabelNodes({labelSelection:n}),this.highlightDatumSelection=yield this.updateDatumSelection({nodeData:l!=null?[l]:[],datumSelection:r}),yield this.updateDatumNodes({datumSelection:r,isHighlight:!0})})}updateDatumSelection(e){return __async(this,null,function*(){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId6(t.idValue))})}updateDatumNodes(e){return __async(this,null,function*(){const{id:t,properties:i,ctx:{callbackCache:o}}=this,{datumSelection:s,isHighlight:a}=e,{idKey:n,colorKey:r,labelKey:l,fillOpacity:c,stroke:h,strokeOpacity:u,lineDash:d,lineDashOffset:g,formatter:m}=i,p=a?i.highlightStyle.item:void 0,y=this.getStrokeWidth(i.strokeWidth);s.each((f,v)=>{var M,x,S,_,D,N,E,I,b,A,T,L,O,R;const{projectedGeometry:C}=v;if(C==null){f.visible=!1,f.projectedGeometry=void 0;return}let k;if(m!=null){const P={seriesId:t,datum:v.datum,itemId:v.itemId,idKey:n,colorKey:r,labelKey:l,fill:v.fill,fillOpacity:c,strokeOpacity:u,stroke:h,strokeWidth:y,lineDash:d,lineDashOffset:g,highlighted:a};k=o.call(m,P)}f.visible=!0,f.projectedGeometry=C,f.fill=(x=(M=p?.fill)!=null?M:k?.fill)!=null?x:v.fill,f.fillOpacity=(_=(S=p?.fillOpacity)!=null?S:k?.fillOpacity)!=null?_:c,f.stroke=(N=(D=p?.stroke)!=null?D:k?.stroke)!=null?N:h,f.strokeWidth=(I=(E=p?.strokeWidth)!=null?E:k?.strokeWidth)!=null?I:y,f.strokeOpacity=(A=(b=p?.strokeOpacity)!=null?b:k?.strokeOpacity)!=null?A:u,f.lineDash=(L=(T=p?.lineDash)!=null?T:k?.lineDash)!=null?L:d,f.lineDashOffset=(R=(O=p?.lineDashOffset)!=null?O:k?.lineDashOffset)!=null?R:g})})}updateLabelSelection(e){return __async(this,null,function*(){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)})}updateLabelNodes(e){return __async(this,null,function*(){const{labelSelection:t}=e,{color:i,fontStyle:o,fontWeight:s,fontFamily:a}=this.properties.label;t.each((n,{x:r,y:l,text:c,fontSize:h,lineHeight:u})=>{n.visible=!0,n.x=r,n.y=l,n.text=c,n.fill=i,n.fontStyle=o,n.fontWeight=s,n.fontSize=h,n.lineHeight=u,n.fontFamily=a,n.textAlign="center",n.textBaseline="middle"})})}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:o,series:s}=e,a=t!=null&&t===e.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:o,numVisibleItems:s}=e,{legendItemName:a}=this.properties,n=a!=null&&a===e.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):t&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const n=s.distanceToPoint(e,t);n<i&&(i=n,o=a)}),o!=null?{datum:o,distance:i}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,o=i!=null?largestPolygon(i):void 0,s=o!=null?polygonMarkerCenter(o,2):void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:a},a}getLegendData(e){var t,i,o,s;const{processedData:a,dataModel:n}=this;if(a==null||n==null)return[];const{title:r,legendItemName:l,idKey:c,idName:h,fill:u,fillOpacity:d,stroke:g,strokeWidth:m,strokeOpacity:p,colorKey:y,colorName:f,colorRange:v,visible:M}=this.properties;if(e==="gradient"&&y!=null&&v!=null){const x=a.domain.values[n.resolveProcessedDataIndexById(this,"colorValue").index];return[{legendType:"gradient",enabled:M,seriesId:this.id,colorName:f,colorRange:v,colorDomain:x}]}else return e==="category"?[{legendType:"category",id:this.id,itemId:(i=(t=l??r)!=null?t:h)!=null?i:c,seriesId:this.id,enabled:M,label:{text:(s=(o=l??r)!=null?o:h)!=null?s:c},marker:{fill:u,fillOpacity:d,stroke:g,strokeWidth:m,strokeOpacity:p},legendItemName:l}]:[]}getTooltipHtml(e){var t,i,o;const{id:s,processedData:a,ctx:{callbackCache:n},properties:r}=this;if(!a||!r.isValid())return"";const{legendItemName:l,idKey:c,idName:h,colorKey:u,colorName:d,labelKey:g,labelName:m,stroke:p,strokeWidth:y,formatter:f,tooltip:v}=r,{datum:M,fill:x,idValue:S,colorValue:_,labelValue:D}=e,N=(i=sanitizeHtml6((t=r.title)!=null?t:l))!=null?i:"",E=[];E.push(sanitizeHtml6((h!=null?`${h}: `:"")+S)),_!=null&&E.push(sanitizeHtml6((d??u)+": "+_)),D!=null&&g!==c&&E.push(sanitizeHtml6((m??g)+": "+D));const I=E.join("<br>");let b;f&&(b=n.call(f,{seriesId:s,datum:M,idKey:c,fill:x,stroke:p,strokeWidth:this.getStrokeWidth(y),highlighted:!1}));const A=(o=b?.fill)!=null?o:x;return v.toTooltipHtml({title:N,content:I,backgroundColor:A},__spreadValues({seriesId:s,datum:M,idKey:c,title:N,color:A},this.getModuleTooltipParams()))}};MapShapeSeries.className="MapShapeSeries",MapShapeSeries.type="map-shape",__decorateClass([Validate39(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapShapeSeries.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS4,DEFAULT_INVERTED_LABEL_COLOUR,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:DEFAULT_DIVERGING_SERIES_COLOUR_RANGE3,DEFAULT_BACKGROUND_COLOUR:DEFAULT_BACKGROUND_COLOUR2,singleSeriesPaletteFactory:singleSeriesPaletteFactory3}=import_ag_charts_community81._Theme,MapShapeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",instanceConstructor:MapShapeSeries,themeTemplate:{series:{__extends__:EXTENDS_SERIES_DEFAULTS4,fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:DEFAULT_INVERTED_LABEL_COLOUR,fontWeight:"bold",overflowStrategy:"hide"}},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:e=>{const{takeColors:t,colorsCount:i,userPalette:o,themeTemplateParameters:s}=e,{fill:a}=singleSeriesPaletteFactory3(e),{properties:n}=s,r=n.get(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE3),{fills:l}=t(i);return{fill:a,stroke:n.get(DEFAULT_BACKGROUND_COLOUR2),colorRange:o?[l[0],l[1]]:r}}},import_ag_charts_community88=require("ag-charts-community"),import_ag_charts_community86=require("ag-charts-community"),import_ag_charts_community82=require("ag-charts-community"),{isDefined:isDefined3,ChartAxisDirection:ChartAxisDirection11,PolarAxis,diff:diff4,fixNumericExtent:fixNumericExtent4,groupAccumulativeValueProperty:groupAccumulativeValueProperty2,keyProperty:keyProperty4,normaliseGroupTo,resetLabelFn,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation2,seriesLabelFadeOutAnimation,valueProperty:valueProperty9,animationValidation:animationValidation4}=import_ag_charts_community82._ModuleSupport,{BandScale:BandScale3}=import_ag_charts_community82._Scale,{motion:motion3}=import_ag_charts_community82._Scene,{isNumber,normalizeAngle360:normalizeAngle3605,sanitizeHtml:sanitizeHtml7}=import_ag_charts_community82._Util,RadialColumnSeriesNodeEvent=class extends import_ag_charts_community82._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadialColumnSeriesBase=class extends import_ag_charts_community82._ModuleSupport.PolarSeries{constructor(e,{animationResetFns:t}){super({moduleCtx:e,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:__spreadProps(__spreadValues({},t),{label:resetLabelFn})}),this.NodeEvent=RadialColumnSeriesNodeEvent,this.nodeData=[],this.groupScale=new BandScale3,this.circleCache={r:0,cx:0,cy:0}}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(e){const{axes:t,dataModel:i,processedData:o}=this;if(!o||!i)return[];if(e===ChartAxisDirection11.X)return i.getDomain(this,"angleValue","key",o);{const s=t[ChartAxisDirection11.Y],a=i.getDomain(this,"radiusValue-end","value",o),n=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return fixNumericExtent4(n,s)}}processData(e){return __async(this,null,function*(){var t;if(!this.properties.isValid())return;const i=this.getStackId(),o=`${i}-trailing`,{angleKey:s,radiusKey:a,normalizedTo:n,visible:r}=this.properties,l=[];isDefined3(n)&&l.push(normaliseGroupTo(this,[i,o],Math.abs(n),"range"));const c=!this.ctx.animationManager.isSkipped();c&&this.processedData&&l.push(diff4(this.processedData)),c&&l.push(animationValidation4(this));const h=r||!c?{}:{forceValue:0};yield this.requestDataModel(e,(t=this.data)!=null?t:[],{props:[keyProperty4(this,s,!1,{id:"angleValue"}),valueProperty9(this,a,!0,__spreadValues({id:"radiusValue-raw",invalidValue:null},h)),...groupAccumulativeValueProperty2(this,a,!0,"normal","current",__spreadValues({id:"radiusValue-end",invalidValue:null,groupId:i},h)),...groupAccumulativeValueProperty2(this,a,!0,"trailing","current",__spreadValues({id:"radiusValue-start",invalidValue:null,groupId:o},h)),...l],dataVisible:r||c}),this.animationState.transition("updateData")})}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e===o.r&&t===o.cx&&i===o.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}isRadiusAxisReversed(){var e;return(e=this.axes[ChartAxisDirection11.Y])==null?void 0:e.isReversed()}maybeRefreshNodeData(){return __async(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection11.Y];return e instanceof PolarAxis?this.radius*e.innerRadiusRatio:0}createNodeData(){return __async(this,null,function*(){var e;const{processedData:t,dataModel:i,groupScale:o}=this;if(!t||!i||!this.properties.isValid())return[];const s=this.axes[ChartAxisDirection11.X],a=this.axes[ChartAxisDirection11.Y],n=s?.scale,r=a?.scale;if(!n||!r)return[];const l=i.resolveProcessedDataIndexById(this,"radiusValue-start").index,c=i.resolveProcessedDataIndexById(this,"radiusValue-end").index,h=i.resolveProcessedDataIndexById(this,"radiusValue-raw").index;let u=0,d=0;s instanceof AngleCategoryAxis&&(u=s.groupPaddingInner,d=s.paddingInner);const m=((e=n.bandwidth)!=null?e:0)*(1-d),{index:p,visibleGroupCount:y}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);o.domain=Array.from({length:y}).map((A,T)=>String(T)),o.range=[-m/2,m/2],o.paddingInner=y>1?u:0;const f=this.isRadiusAxisReversed(),v=f?this.radius:this.getAxisInnerRadius(),M=f?this.getAxisInnerRadius():this.radius,x=M+v,{angleKey:S,radiusKey:_,angleName:D,radiusName:N,label:E}=this.properties,I=(A,T,L,O)=>{const R=this.getLabelText(E,{value:T,datum:A,angleKey:S,radiusKey:_,angleName:D,radiusName:N},C=>isNumber(C)?C.toFixed(2):String(C));if(R)return{x:L,y:O,text:R,textAlign:"center",textBaseline:"middle"}},b=t.data.map((A,T,L)=>{const{datum:O,keys:R,values:C}=A,k=R[0],P=C[h],w=C[l],V=C[c];let U,F;if(L.length===1)U=-.5*Math.PI,F=1.5*Math.PI;else{const Z=n.convert(k);U=normalizeAngle3605(Z+o.convert(String(p))),F=normalizeAngle3605(U+o.bandwidth)}const z=U+o.bandwidth/2,j=x-r.convert(w),B=x-r.convert(V),K=(j+B)/2,G=Math.cos(z),W=Math.sin(z),H=G*K,Y=W*K,q=this.properties.label.enabled?I(O,P,H,Y):void 0,X=this.getColumnWidth(U,F);return{series:this,datum:O,point:{x:H,y:Y,size:0},midPoint:{x:H,y:Y},label:q,angleValue:k,radiusValue:P,innerRadius:j,outerRadius:B,startAngle:U,endAngle:F,axisInnerRadius:v,axisOuterRadius:M,columnWidth:X,index:T}});return[{itemId:_,nodeData:b,labelData:b}]})}getColumnWidth(e,t){return NaN}update(e){return __async(this,arguments,function*({seriesRect:t}){const i=this.checkResize(t);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(e,t){var i,o,s,a,n;let r=[];if(t){const p=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();p?.datum&&p.series===this&&(r=[p])}else r=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0,c=(o=l?.fill)!=null?o:this.properties.fill,h=(s=l?.fillOpacity)!=null?s:this.properties.fillOpacity,u=(a=l?.stroke)!=null?a:this.properties.stroke,d=this.properties.strokeOpacity,g=(n=l?.strokeWidth)!=null?n:this.properties.strokeWidth,m=p=>p.angleValue;e.update(r,void 0,m).each((p,y)=>{var f,v,M,x;const S=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:y,fill:c,stroke:u,strokeWidth:g,highlighted:t,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;this.updateItemPath(p,y,t,S),p.fill=(f=S?.fill)!=null?f:c,p.fillOpacity=(v=S?.fillOpacity)!=null?v:h,p.stroke=(M=S?.stroke)!=null?M:u,p.strokeOpacity=d,p.strokeWidth=(x=S?.strokeWidth)!=null?x:g,p.lineDash=this.properties.lineDash,p.lineJoin="round"})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getColumnTransitionFunctions();motion3.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,[e])}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getColumnTransitionFunctions();motion3.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation(this,"labels",t,[this.labelSelection])}getTooltipHtml(e){var t;const{id:i,axes:o,dataModel:s}=this,{angleKey:a,radiusKey:n,angleName:r,radiusName:l,fill:c,stroke:h,strokeWidth:u,formatter:d,tooltip:g}=this.properties,{angleValue:m,radiusValue:p,datum:y}=e,f=o[ChartAxisDirection11.X],v=o[ChartAxisDirection11.Y];if(!this.properties.isValid()||!(f&&v&&isNumber(p))||!s)return"";const M=f.formatDatum(m),x=v.formatDatum(p),S=sanitizeHtml7(l),_=sanitizeHtml7(`${M}: ${x}`),{fill:D}=(t=d&&this.ctx.callbackCache.call(d,{seriesId:i,datum:y,fill:c,stroke:h,strokeWidth:u,highlighted:!1,angleKey:a,radiusKey:n}))!=null?t:{fill:c};return g.toTooltipHtml({title:S,backgroundColor:c,content:_},{seriesId:i,datum:y,color:D,title:S,angleKey:a,radiusKey:n,angleName:r,radiusName:l})}getLegendData(e){var t;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||e!=="category")return[];const{radiusKey:i,radiusName:o,fill:s,stroke:a,fillOpacity:n,strokeOpacity:r,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:o??i},marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:n??1,strokeOpacity:r??1,strokeWidth:l}}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:o}=e;o.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:o,numVisibleItems:s}=e,n=o.id===this.id||t&&s===1;this.toggleSeriesItem(i,n)}computeLabelsBBox(){return null}},import_ag_charts_community83=require("ag-charts-community"),{Label:Label4}=import_ag_charts_community83._Scene,{SeriesProperties:SeriesProperties6,SeriesTooltip:SeriesTooltip10,Validate:Validate40,COLOR_STRING:COLOR_STRING14,DEGREE:DEGREE3,FUNCTION:FUNCTION10,LINE_DASH:LINE_DASH11,NUMBER:NUMBER9,OBJECT:OBJECT13,POSITIVE_NUMBER:POSITIVE_NUMBER17,RATIO:RATIO19,STRING:STRING12}=import_ag_charts_community83._ModuleSupport,RadialColumnSeriesBaseProperties=class extends SeriesProperties6{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new Label4,this.tooltip=new SeriesTooltip10}};__decorateClass([Validate40(STRING12)],RadialColumnSeriesBaseProperties.prototype,"angleKey",2),__decorateClass([Validate40(STRING12,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"angleName",2),__decorateClass([Validate40(STRING12)],RadialColumnSeriesBaseProperties.prototype,"radiusKey",2),__decorateClass([Validate40(STRING12,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"radiusName",2),__decorateClass([Validate40(COLOR_STRING14)],RadialColumnSeriesBaseProperties.prototype,"fill",2),__decorateClass([Validate40(RATIO19)],RadialColumnSeriesBaseProperties.prototype,"fillOpacity",2),__decorateClass([Validate40(COLOR_STRING14)],RadialColumnSeriesBaseProperties.prototype,"stroke",2),__decorateClass([Validate40(POSITIVE_NUMBER17)],RadialColumnSeriesBaseProperties.prototype,"strokeWidth",2),__decorateClass([Validate40(RATIO19)],RadialColumnSeriesBaseProperties.prototype,"strokeOpacity",2),__decorateClass([Validate40(LINE_DASH11)],RadialColumnSeriesBaseProperties.prototype,"lineDash",2),__decorateClass([Validate40(POSITIVE_NUMBER17)],RadialColumnSeriesBaseProperties.prototype,"lineDashOffset",2),__decorateClass([Validate40(FUNCTION10,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"formatter",2),__decorateClass([Validate40(DEGREE3)],RadialColumnSeriesBaseProperties.prototype,"rotation",2),__decorateClass([Validate40(STRING12,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"stackGroup",2),__decorateClass([Validate40(NUMBER9,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"normalizedTo",2),__decorateClass([Validate40(OBJECT13)],RadialColumnSeriesBaseProperties.prototype,"label",2),__decorateClass([Validate40(OBJECT13)],RadialColumnSeriesBaseProperties.prototype,"tooltip",2);var import_ag_charts_community85=require("ag-charts-community"),import_ag_charts_community84=require("ag-charts-community"),{motion:motion4}=import_ag_charts_community84._Scene;function createAngleMotionCalculator(){const e={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],i=(n,r,l)=>{t.forEach(c=>{var h,u;const d=e[c];let g=(l==="removed"||l==="updated"?n:r)[c],m=(l==="removed"?n:r)[c];isNaN(m)&&(m=(u=(h=n.previousDatum)==null?void 0:h[c])!=null?u:NaN);const p=g-m;Math.abs(p)>Math.PI&&(g-=Math.sign(p)*2*Math.PI),d.set(r,{from:g,to:m})})},o=(n,r)=>({startAngle:e.startAngle.get(n)[r],endAngle:e.endAngle.get(n)[r]});return{calculate:i,from:n=>o(n,"from"),to:n=>o(n,"to")}}function fixRadialColumnAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.startAngle)||isNaN(e.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialColumnAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(s,a,n)=>{const{startAngle:r,endAngle:l}=t.to(a);let c,h,u,d,g;return n==="removed"?(c=s.innerRadius,h=s.innerRadius,u=s.columnWidth,d=s.axisInnerRadius,g=s.axisOuterRadius):(c=isNaN(a.innerRadius)?e:a.innerRadius,h=isNaN(a.outerRadius)?e:a.outerRadius,u=isNaN(a.columnWidth)?s.columnWidth:a.columnWidth,d=a.axisInnerRadius,g=a.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:u,axisInnerRadius:d,axisOuterRadius:g,startAngle:r,endAngle:l}},fromFn:(s,a,n)=>{n=fixRadialColumnAnimationStatus(s,a,n),t.calculate(s,a,n);const{startAngle:r,endAngle:l}=t.from(a);let c,h,u,d,g;n==="removed"||n==="updated"?(c=s.innerRadius,h=s.outerRadius,u=s.columnWidth,d=s.axisInnerRadius,g=s.axisOuterRadius):(c=e,h=e,u=a.columnWidth,d=a.axisInnerRadius,g=a.axisOuterRadius);const m=motion4.NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{innerRadius:c,outerRadius:h,columnWidth:u,axisInnerRadius:d,axisOuterRadius:g,startAngle:r,endAngle:l,phase:m}}}}function resetRadialColumnSelectionFn(e,{innerRadius:t,outerRadius:i,columnWidth:o,axisInnerRadius:s,axisOuterRadius:a,startAngle:n,endAngle:r}){return{innerRadius:t,outerRadius:i,columnWidth:o,axisInnerRadius:s,axisOuterRadius:a,startAngle:n,endAngle:r}}var{motion:motion5}=import_ag_charts_community85._Scene;function prepareNightingaleAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(s,a,n)=>{const{startAngle:r,endAngle:l}=t.to(a);let c,h;return n==="removed"?(c=e,h=e):(c=isNaN(a.innerRadius)?e:a.innerRadius,h=isNaN(a.outerRadius)?e:a.outerRadius),{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l}},fromFn:(s,a,n)=>{n=fixRadialColumnAnimationStatus(s,a,n),t.calculate(s,a,n);const{startAngle:r,endAngle:l}=t.from(a);let c,h;n==="removed"||n==="updated"?(c=s.innerRadius,h=s.outerRadius):(c=e,h=e);const u=motion5.NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l,phase:u}}}}function resetNightingaleSelectionFn(e,{innerRadius:t,outerRadius:i,startAngle:o,endAngle:s}){return{innerRadius:t,outerRadius:i,startAngle:o,endAngle:s}}var{Sector:Sector3}=import_ag_charts_community86._Scene,NightingaleSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetNightingaleSelectionFn}}),this.properties=new RadialColumnSeriesBaseProperties}getStackId(){var e,t;return`nightingale-stack-${(t=(e=this.seriesGrouping)==null?void 0:e.groupIndex)!=null?t:this.id}-yValues`}nodeFactory(){return new Sector3}updateItemPath(e,t,i,o){e.centerX=0,e.centerY=0,i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle)}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareNightingaleAnimationFunctions(e)}};NightingaleSeries.className="NightingaleSeries",NightingaleSeries.type="nightingale";var import_ag_charts_community87=require("ag-charts-community"),NIGHTINGALE_SERIES_THEME={series:{__extends__:import_ag_charts_community87._Theme.EXTENDS_SERIES_DEFAULTS,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community87._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community87._Theme.DEFAULT_LABEL_COLOUR,__overrides__:import_ag_charts_community87._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[import_ag_charts_community87._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:import_ag_charts_community87._Theme.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[import_ag_charts_community87._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:import_ag_charts_community87._Theme.POLAR_AXIS_SHAPE.CIRCLE}}},NightingaleModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",instanceConstructor:NightingaleSeries,defaultAxes:[{type:import_ag_charts_community88._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:import_ag_charts_community88._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:NIGHTINGALE_SERIES_THEME,paletteFactory({takeColors:e,userPalette:t}){const{fills:[i],strokes:[o]}=e(1);return{fill:i,stroke:t?o:import_ag_charts_community88._Theme.DEFAULT_POLAR_SERIES_STROKE}},stackable:!0,groupable:!0,stackedByDefault:!0},import_ag_charts_community94=require("ag-charts-community"),import_ag_charts_community89=require("ag-charts-community"),BASE_RADAR_SERIES_THEME={series:{__extends__:import_ag_charts_community89._Theme.EXTENDS_SERIES_DEFAULTS,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community89._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community89._Theme.DEFAULT_LABEL_COLOUR,__overrides__:import_ag_charts_community89._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS},marker:{enabled:!0,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[import_ag_charts_community89._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{label:{padding:10}}}},RADAR_LINE_SERIES_THEME=import_ag_charts_community89._ModuleSupport.mergeDefaults({series:{strokeWidth:2}},BASE_RADAR_SERIES_THEME),RADAR_AREA_SERIES_THEME=import_ag_charts_community89._ModuleSupport.mergeDefaults({series:{fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},BASE_RADAR_SERIES_THEME),import_ag_charts_community93=require("ag-charts-community"),import_ag_charts_community91=require("ag-charts-community"),import_ag_charts_community90=require("ag-charts-community"),{Label:Label5}=import_ag_charts_community90._Scene,{SeriesMarker,SeriesProperties:SeriesProperties7,SeriesTooltip:SeriesTooltip11,Validate:Validate41,BOOLEAN:BOOLEAN14,COLOR_STRING:COLOR_STRING15,DEGREE:DEGREE4,FUNCTION:FUNCTION11,LINE_DASH:LINE_DASH12,OBJECT:OBJECT14,POSITIVE_NUMBER:POSITIVE_NUMBER18,RATIO:RATIO20,STRING:STRING13}=import_ag_charts_community90._ModuleSupport,RadarSeriesProperties=class extends SeriesProperties7{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new SeriesMarker,this.label=new Label5,this.tooltip=new SeriesTooltip11,this.connectMissingData=!1}};__decorateClass([Validate41(STRING13)],RadarSeriesProperties.prototype,"angleKey",2),__decorateClass([Validate41(STRING13)],RadarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Validate41(STRING13,{optional:!0})],RadarSeriesProperties.prototype,"angleName",2),__decorateClass([Validate41(STRING13,{optional:!0})],RadarSeriesProperties.prototype,"radiusName",2),__decorateClass([Validate41(COLOR_STRING15)],RadarSeriesProperties.prototype,"stroke",2),__decorateClass([Validate41(POSITIVE_NUMBER18)],RadarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate41(RATIO20)],RadarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate41(LINE_DASH12)],RadarSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate41(POSITIVE_NUMBER18)],RadarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate41(FUNCTION11,{optional:!0})],RadarSeriesProperties.prototype,"formatter",2),__decorateClass([Validate41(DEGREE4)],RadarSeriesProperties.prototype,"rotation",2),__decorateClass([Validate41(OBJECT14)],RadarSeriesProperties.prototype,"marker",2),__decorateClass([Validate41(OBJECT14)],RadarSeriesProperties.prototype,"label",2),__decorateClass([Validate41(OBJECT14)],RadarSeriesProperties.prototype,"tooltip",2),__decorateClass([Validate41(BOOLEAN14)],RadarSeriesProperties.prototype,"connectMissingData",2);var{ChartAxisDirection:ChartAxisDirection12,PolarAxis:PolarAxis2,SeriesNodePickMode:SeriesNodePickMode9,valueProperty:valueProperty10,fixNumericExtent:fixNumericExtent5,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation3,markerFadeInAnimation,resetMarkerFn,animationValidation:animationValidation5}=import_ag_charts_community91._ModuleSupport,{BBox:BBox8,Group:Group12,Path:Path6,PointerEvents:PointerEvents5,Selection:Selection8,Text:Text9,getMarker:getMarker2}=import_ag_charts_community91._Scene,{extent:extent3,isNumber:isNumber2,isNumberEqual:isNumberEqual8,sanitizeHtml:sanitizeHtml8,toFixed}=import_ag_charts_community91._Util,RadarSeriesNodeEvent=class extends import_ag_charts_community91._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadarSeries=class extends import_ag_charts_community91._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,useLabelLayer:!0,pickModes:[SeriesNodePickMode9.NEAREST_NODE,SeriesNodePickMode9.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:resetMarkerFn}}),this.properties=new RadarSeriesProperties,this.NodeEvent=RadarSeriesNodeEvent,this.nodeData=[],this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0};const t=new Group12;this.contentGroup.append(t),this.lineSelection=Selection8.select(t,Path6),t.zIndexSubOrder=[()=>this._declarationOrder,1]}nodeFactory(){const{shape:e}=this.properties.marker,t=getMarker2(e);return new t}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection12.X)return t.getDomain(this,"angleValue","value",i);{const o=t.getDomain(this,"radiusValue","value",i),s=extent3(o.length===0?o:[0].concat(o));return fixNumericExtent5(s)}}processData(e){return __async(this,null,function*(){var t;if(!this.properties.isValid())return;const{angleKey:i,radiusKey:o}=this.properties,s=[];this.ctx.animationManager.isSkipped()||s.push(animationValidation5(this)),yield this.requestDataModel(e,(t=this.data)!=null?t:[],{props:[valueProperty10(this,i,!1,{id:"angleValue"}),valueProperty10(this,o,!1,{id:"radiusValue",invalidValue:void 0}),...s]}),this.animationState.transition("updateData")})}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e===o.r&&t===o.cx&&i===o.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection12.Y];return e instanceof PolarAxis2?this.radius*e.innerRadiusRatio:0}maybeRefreshNodeData(){return __async(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}createNodeData(){return __async(this,null,function*(){var e,t;const{processedData:i,dataModel:o}=this;if(!i||!o||!this.properties.isValid())return[];const{angleKey:s,radiusKey:a,angleName:n,radiusName:r,marker:l,label:c}=this.properties,h=(e=this.axes[ChartAxisDirection12.X])==null?void 0:e.scale,u=(t=this.axes[ChartAxisDirection12.Y])==null?void 0:t.scale;if(!h||!u)return[];const d=o.resolveProcessedDataIndexById(this,"angleValue").index,g=o.resolveProcessedDataIndexById(this,"radiusValue").index,m=this.getAxisInnerRadius(),p=i.data.map(y=>{const{datum:f,values:v}=y,M=v[d],x=v[g],S=h.convert(M),_=this.radius+m-u.convert(x),D=Math.cos(S),N=Math.sin(S),E=D*_,I=N*_;let b;if(c.enabled){const A=this.getLabelText(c,{value:x,datum:f,angleKey:s,radiusKey:a,angleName:n,radiusName:r},T=>isNumber2(T)?T.toFixed(2):String(T));if(A){let T="right";isNumberEqual8(D,0)?T="center":D>0&&(T="left");let L="bottom";isNumberEqual8(N,0)?L="middle":N>0&&(L="top"),b={x:E+D*l.size,y:I+N*l.size,text:A,textAlign:T,textBaseline:L}}}return{series:this,datum:f,point:{x:E,y:I,size:l.size},midPoint:{x:E,y:I},label:b,angleValue:M,radiusValue:x}});return[{itemId:a,nodeData:p,labelData:p}]})}update(e){return __async(this,arguments,function*({seriesRect:t}){var i,o;const s=this.checkResize(t),a=!this.ctx.animationManager.isSkipped(),{series:n}=(o=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())!=null?o:{};this.highlightGroup.visible=(a||this.visible)&&n===this,yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),s&&this.animationState.transition("resize"),this.animationState.transition("update")})}updatePathSelections(){const e=this.visible?[!0]:[];this.lineSelection.update(e)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=Selection8.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(e){var t;return(t=e?.fill)!=null?t:this.properties.marker.fill}updateMarkers(e,t){var i;const{angleKey:o,radiusKey:s,marker:a,visible:n}=this.properties;let r=[];if(n&&a.shape&&a.enabled)if(t){const c=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();c?.datum&&(r=[c])}else r=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0;e.update(r).each((c,h)=>{var u,d,g,m,p,y,f,v,M,x,S,_,D;const N=this.getMarkerFill(l),E=(d=(u=l?.stroke)!=null?u:a.stroke)!=null?d:this.properties.stroke,I=(p=(m=(g=l?.strokeWidth)!=null?g:a.strokeWidth)!=null?m:this.properties.strokeWidth)!=null?p:1,b=a.formatter?this.ctx.callbackCache.call(a.formatter,{datum:h.datum,angleKey:o,radiusKey:s,fill:N,stroke:E,strokeWidth:I,size:a.size,highlighted:t,seriesId:this.id}):void 0;c.fill=(y=b?.fill)!=null?y:N,c.stroke=(f=b?.stroke)!=null?f:E,c.strokeWidth=(v=b?.strokeWidth)!=null?v:I,c.fillOpacity=(x=(M=l?.fillOpacity)!=null?M:a.fillOpacity)!=null?x:1,c.strokeOpacity=(_=(S=a.strokeOpacity)!=null?S:this.properties.strokeOpacity)!=null?_:1,c.size=(D=b?.size)!=null?D:a.size;const{x:A,y:T}=h.point;c.translationX=A,c.translationY=T,c.visible=n&&c.size>0&&!isNaN(A)&&!isNaN(T)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getTooltipHtml(e){var t;if(!this.properties.isValid())return"";const{id:i}=this,{angleKey:o,radiusKey:s,angleName:a,radiusName:n,marker:r,tooltip:l}=this.properties,{datum:c,angleValue:h,radiusValue:u}=e,d=typeof h=="number"?toFixed(h):String(h),g=typeof u=="number"?toFixed(u):String(u),m=sanitizeHtml8(n),p=sanitizeHtml8(`${d}: ${g}`),{formatter:y,fill:f,stroke:v,strokeWidth:M,size:x}=r,S=M??this.properties.strokeWidth,{fill:_}=(t=y&&this.ctx.callbackCache.call(y,{datum:c,angleKey:o,radiusKey:s,fill:f,stroke:v,strokeWidth:S,size:x,highlighted:!1,seriesId:i}))!=null?t:{fill:f};return l.toTooltipHtml({title:m,content:p,backgroundColor:_},{datum:c,angleKey:o,angleName:a,radiusKey:s,radiusName:n,title:m,color:_,seriesId:i})}getLegendData(e){var t,i,o,s,a,n,r,l,c,h;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||e!=="category")return[];const{radiusKey:u,radiusName:d,stroke:g,strokeWidth:m,strokeOpacity:p,lineDash:y,visible:f,marker:v}=this.properties;return[{legendType:"category",id:this.id,itemId:u,seriesId:this.id,enabled:f,label:{text:d??u},marker:{shape:v.shape,fill:(s=(o=(i=this.getMarkerFill())!=null?i:v.stroke)!=null?o:g)!=null?s:"rgba(0, 0, 0, 0)",stroke:(n=(a=v.stroke)!=null?a:g)!=null?n:"rgba(0, 0, 0, 0)",fillOpacity:(r=v.fillOpacity)!=null?r:1,strokeOpacity:(c=(l=v.strokeOpacity)!=null?l:p)!=null?c:1,strokeWidth:(h=v.strokeWidth)!=null?h:0,enabled:v.enabled||m<=0},line:{stroke:g,strokeOpacity:p,strokeWidth:m,lineDash:y}}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:o}=e;o.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:o,numVisibleItems:s}=e,n=o.id===this.id||t&&s===1;this.toggleSeriesItem(i,n)}pickNodeClosestDatum(e){var t,i;const{x:o,y:s}=e,{rootGroup:a,nodeData:n,centerX:r,centerY:l}=this,c=a.transformPoint(o,s),h=this.radius;if(Math.sqrt(__pow(o-r,2)+__pow(s-l,2))>h+this.properties.marker.size)return;let d=1/0,g;for(const m of n){const{point:{x:p=NaN,y=NaN}={}}=m;if(isNaN(p)||isNaN(y))continue;const f=Math.sqrt(__pow(c.x-p-r,2)+__pow(c.y-y-l,2));f<d&&(d=f,g=m)}if(g){const m=Math.max(d-((i=(t=g.point)==null?void 0:t.size)!=null?i:0),0);return{datum:g,distance:m}}}computeLabelsBBox(){return __async(this,null,function*(){const{label:e}=this.properties;yield this.maybeRefreshNodeData();const t=[],i=new Text9;return this.nodeData.forEach(o=>{if(!e.enabled||!o.label)return;i.text=o.label.text,i.x=o.label.x,i.y=o.label.y,i.setFont(e),i.setAlign(o.label);const s=i.computeBBox();t.push(s)}),t.length===0?null:BBox8.merge(t)})}getLineNode(){return this.lineSelection.nodes()[0]}beforePathAnimation(){const e=this.getLineNode();e.fill=void 0,e.lineJoin="round",e.lineCap="round",e.pointerEvents=PointerEvents5.None,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset}getLinePoints(){const{nodeData:e,resetInvalidToZero:t}=this,{connectMissingData:i}=this.properties;if(e.length===0)return[];const o=this.axes[ChartAxisDirection12.Y],s=this.axes[ChartAxisDirection12.X],a=s?.isReversed(),r=o?.isReversed()&&!a?[...e].reverse():e,l=[];let c=!1,h;return r.forEach((u,d)=>{let{x:g,y:m}=u.point;const p=isNaN(g)||isNaN(m);p||(h??(h=u)),p&&!i&&(g=0,m=0);const y=d===0||!t&&!i&&(p||c);l.push({x:g,y:m,moveTo:y}),c=p}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(e,t,i){const{path:o}=e;o.clear({trackChanges:!0});const s=this.getAxisInnerRadius(),a=this.axes[ChartAxisDirection12.Y],r=a?.isReversed()?this.radius+s-a?.scale.convert(0):s;t.forEach(l=>{const{x:c,y:h,arc:u,radius:d=0,startAngle:g=0,endAngle:m=0,moveTo:p}=l,y=Math.atan2(h,c),f=r*Math.cos(y),v=r*Math.sin(y),M=i,x=f*(1-M)+c*M,S=v*(1-M)+h*M;u?o.arc(c,h,d,g,m):p?o.moveTo(x,S):o.lineTo(x,S)}),e.checkPathDirty()}animatePaths(e){const t=this.getLinePoints();this.animateSinglePath(this.getLineNode(),t,e)}animateEmptyUpdateReady(){const{itemSelection:e,labelSelection:t}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:o=>this.animatePaths(o),onStop:()=>this.animatePaths(1)}),markerFadeInAnimation(this,i,[e],"added"),seriesLabelFadeInAnimation3(this,"labels",i,[t])}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e),this.resetPaths()}animateReadyResize(e){super.animateReadyResize(e),this.resetPaths()}resetPaths(){const e=this.getLineNode();if(e){const{path:t}=e,i=this.getLinePoints();e.fill=void 0,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,t.clear({trackChanges:!0}),i.forEach(({x:o,y:s,moveTo:a})=>{a?t.moveTo(o,s):t.lineTo(o,s)}),e.checkPathDirty()}}};RadarSeries.className="RadarSeries";var import_ag_charts_community92=require("ag-charts-community"),{RATIO:RATIO21,COLOR_STRING:COLOR_STRING16,Validate:Validate42}=import_ag_charts_community92._ModuleSupport,RadarAreaSeriesProperties=class extends RadarSeriesProperties{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};__decorateClass([Validate42(COLOR_STRING16)],RadarAreaSeriesProperties.prototype,"fill",2),__decorateClass([Validate42(RATIO21)],RadarAreaSeriesProperties.prototype,"fillOpacity",2);var{Group:Group13,Path:Path7,PointerEvents:PointerEvents6,Selection:Selection9}=import_ag_charts_community93._Scene,{ChartAxisDirection:ChartAxisDirection13}=import_ag_charts_community93._ModuleSupport,RadarAreaSeries=class extends RadarSeries{constructor(e){super(e),this.properties=new RadarAreaSeriesProperties,this.resetInvalidToZero=!0;const t=new Group13;t.zIndexSubOrder=[()=>this._declarationOrder,0],this.contentGroup.append(t),this.areaSelection=Selection9.select(t,Path7)}updatePathSelections(){const e=this.visible?[!0]:[];this.areaSelection.update(e),super.updatePathSelections()}getAreaNode(){return this.areaSelection.nodes()[0]}getMarkerFill(e){var t,i;return(i=(t=e?.fill)!=null?t:this.properties.marker.fill)!=null?i:this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const e=this.getAreaNode();e.fill=this.properties.fill,e.fillOpacity=this.properties.fillOpacity,e.pointerEvents=PointerEvents6.None,e.stroke=void 0}animatePaths(e){super.animatePaths(e),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),e)}getAreaPoints(){var e,t;const i=this.getLinePoints(),o=l=>{const c=this.axes[l];return c instanceof import_ag_charts_community93._ModuleSupport.PolarAxis?c:void 0},s=o(ChartAxisDirection13.Y),a=o(ChartAxisDirection13.X);if(!s?.isReversed())return i;const{points:r=[]}=(t=(e=a?.getAxisLinePoints)==null?void 0:e.call(a))!=null?t:{};return i.concat(...r)}resetPaths(){super.resetPaths();const e=this.getAreaNode();if(e){const{path:t}=e,i=this.getAreaPoints();e.fill=this.properties.fill,e.fillOpacity=this.properties.fillOpacity,e.stroke=void 0,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,e.lineJoin=e.lineCap="round",t.clear({trackChanges:!0}),i.forEach(({x:o,y:s,moveTo:a,arc:n,radius:r=0,startAngle:l=0,endAngle:c=0})=>{n?t.arc(o,s,r,l,c):a?t.moveTo(o,s):t.lineTo(o,s)}),t.closePath(),e.checkPathDirty()}}};RadarAreaSeries.className="RadarAreaSeries",RadarAreaSeries.type="radar-area";var{markerPaletteFactory}=import_ag_charts_community94._ModuleSupport,RadarAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",instanceConstructor:RadarAreaSeries,defaultAxes:[{type:import_ag_charts_community94._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:import_ag_charts_community94._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:RADAR_AREA_SERIES_THEME,paletteFactory:e=>{const{marker:t}=markerPaletteFactory(e);return{stroke:t.stroke,fill:t.fill,marker:t}}},import_ag_charts_community95=require("ag-charts-community"),RadarLineSeries=class extends RadarSeries{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};RadarLineSeries.className="RadarLineSeries",RadarLineSeries.type="radar-line";var RadarLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",instanceConstructor:RadarLineSeries,defaultAxes:[{type:import_ag_charts_community95._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:import_ag_charts_community95._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:RADAR_LINE_SERIES_THEME,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{stroke:t,marker:{fill:t,stroke:i}}}},import_ag_charts_community100=require("ag-charts-community"),import_ag_charts_community98=require("ag-charts-community"),import_ag_charts_community96=require("ag-charts-community"),{Label:Label6}=import_ag_charts_community96._Scene,{SeriesProperties:SeriesProperties8,SeriesTooltip:SeriesTooltip12,Validate:Validate43,COLOR_STRING:COLOR_STRING17,DEGREE:DEGREE5,FUNCTION:FUNCTION12,LINE_DASH:LINE_DASH13,NUMBER:NUMBER10,OBJECT:OBJECT15,POSITIVE_NUMBER:POSITIVE_NUMBER19,RATIO:RATIO22,STRING:STRING14}=import_ag_charts_community96._ModuleSupport,RadialBarSeriesProperties=class extends SeriesProperties8{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new Label6,this.tooltip=new SeriesTooltip12}};__decorateClass([Validate43(STRING14)],RadialBarSeriesProperties.prototype,"angleKey",2),__decorateClass([Validate43(STRING14)],RadialBarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Validate43(STRING14,{optional:!0})],RadialBarSeriesProperties.prototype,"angleName",2),__decorateClass([Validate43(STRING14,{optional:!0})],RadialBarSeriesProperties.prototype,"radiusName",2),__decorateClass([Validate43(COLOR_STRING17)],RadialBarSeriesProperties.prototype,"fill",2),__decorateClass([Validate43(RATIO22)],RadialBarSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate43(COLOR_STRING17)],RadialBarSeriesProperties.prototype,"stroke",2),__decorateClass([Validate43(POSITIVE_NUMBER19)],RadialBarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate43(RATIO22)],RadialBarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate43(LINE_DASH13)],RadialBarSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate43(POSITIVE_NUMBER19)],RadialBarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate43(FUNCTION12,{optional:!0})],RadialBarSeriesProperties.prototype,"formatter",2),__decorateClass([Validate43(DEGREE5)],RadialBarSeriesProperties.prototype,"rotation",2),__decorateClass([Validate43(STRING14,{optional:!0})],RadialBarSeriesProperties.prototype,"stackGroup",2),__decorateClass([Validate43(NUMBER10,{optional:!0})],RadialBarSeriesProperties.prototype,"normalizedTo",2),__decorateClass([Validate43(OBJECT15)],RadialBarSeriesProperties.prototype,"label",2),__decorateClass([Validate43(OBJECT15)],RadialBarSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community97=require("ag-charts-community"),{motion:motion6}=import_ag_charts_community97._Scene;function fixRadialBarAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.innerRadius)||isNaN(e.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialBarSeriesAnimationFunctions(e){return{toFn:(o,s,a)=>{let n,r,l,c;return a==="removed"?(n=e,r=e,l=s.innerRadius,c=s.outerRadius):(n=s.startAngle,r=s.endAngle,l=isNaN(s.innerRadius)?o.innerRadius:s.innerRadius,c=isNaN(s.outerRadius)?o.outerRadius:s.outerRadius),{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c}},fromFn:(o,s,a)=>{a=fixRadialBarAnimationStatus(o,s,a);let n,r,l,c;a==="removed"||a==="updated"?(n=o.startAngle,r=o.endAngle,l=o.innerRadius,c=o.outerRadius):(n=e,r=e,l=s.innerRadius,c=s.outerRadius);const h=motion6.NODE_UPDATE_STATE_TO_PHASE_MAPPING[a];return{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c,phase:h}}}}function resetRadialBarSelectionsFn(e,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}var{ChartAxisDirection:ChartAxisDirection14,PolarAxis:PolarAxis3,diff:diff5,isDefined:isDefined4,groupAccumulativeValueProperty:groupAccumulativeValueProperty3,keyProperty:keyProperty5,normaliseGroupTo:normaliseGroupTo2,valueProperty:valueProperty11,fixNumericExtent:fixNumericExtent6,resetLabelFn:resetLabelFn2,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation4,seriesLabelFadeOutAnimation:seriesLabelFadeOutAnimation2,animationValidation:animationValidation6}=import_ag_charts_community98._ModuleSupport,{BandScale:BandScale4}=import_ag_charts_community98._Scale,{Sector:Sector4,motion:motion7}=import_ag_charts_community98._Scene,{angleBetween:angleBetween3,isNumber:isNumber3,sanitizeHtml:sanitizeHtml9}=import_ag_charts_community98._Util,RadialBarSeriesNodeEvent=class extends import_ag_charts_community98._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadialBarSeries=class extends import_ag_charts_community98._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:resetRadialBarSelectionsFn,label:resetLabelFn2}}),this.properties=new RadialBarSeriesProperties,this.NodeEvent=RadialBarSeriesNodeEvent,this.nodeData=[],this.groupScale=new BandScale4,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new Sector4}addChartEventListeners(){var e,t;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(e){const{axes:t,dataModel:i,processedData:o}=this;if(!o||!i)return[];if(e===ChartAxisDirection14.X){const s=t[ChartAxisDirection14.X],a=i.getDomain(this,"angleValue-end","value",o),n=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return fixNumericExtent6(n,s)}else return i.getDomain(this,"radiusValue","key",o)}processData(e){return __async(this,null,function*(){var t;if(!this.properties.isValid())return;const i=this.getStackId(),o=`${i}-trailing`,{angleKey:s,radiusKey:a,normalizedTo:n,visible:r}=this.properties,l=[];isDefined4(n)&&l.push(normaliseGroupTo2(this,[i,o],Math.abs(n),"range"));const c=!this.ctx.animationManager.isSkipped();c&&(this.processedData&&l.push(diff5(this.processedData)),l.push(animationValidation6(this)));const h=this.visible||!c?{}:{forceValue:0};yield this.requestDataModel(e,(t=this.data)!=null?t:[],{props:[keyProperty5(this,a,!1,{id:"radiusValue"}),valueProperty11(this,s,!0,__spreadValues({id:"angleValue-raw",invalidValue:null},h)),...groupAccumulativeValueProperty3(this,s,!0,"normal","current",__spreadValues({id:"angleValue-end",invalidValue:null,groupId:i},h)),...groupAccumulativeValueProperty3(this,s,!0,"trailing","current",__spreadValues({id:"angleValue-start",invalidValue:null,groupId:o},h)),...l],dataVisible:r||c}),this.animationState.transition("updateData")})}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e===o.r&&t===o.cx&&i===o.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}maybeRefreshNodeData(){return __async(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection14.Y];return e instanceof PolarAxis3?this.radius*e.innerRadiusRatio:0}createNodeData(){return __async(this,null,function*(){var e,t;const{processedData:i,dataModel:o}=this;if(!i||!o||!this.properties.isValid())return[];const s=this.axes[ChartAxisDirection14.X],a=this.axes[ChartAxisDirection14.Y],n=s?.scale,r=a?.scale;if(!n||!r)return[];const l=o.resolveProcessedDataIndexById(this,"angleValue-start").index,c=o.resolveProcessedDataIndexById(this,"angleValue-end").index,h=o.resolveProcessedDataIndexById(this,"angleValue-raw").index;let u=0;a instanceof RadiusCategoryAxis&&(u=a.groupPaddingInner);const{groupScale:d}=this,{index:g,visibleGroupCount:m}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);d.domain=Array.from({length:m}).map((b,A)=>String(A)),d.range=[0,Math.abs((e=r.bandwidth)!=null?e:0)],d.paddingInner=m>1?u:0;const p=d.bandwidth>=1?d.bandwidth:d.rawBandwidth,y=(t=this.axes[ChartAxisDirection14.Y])==null?void 0:t.isReversed(),f=y?this.radius:this.getAxisInnerRadius(),M=(y?this.getAxisInnerRadius():this.radius)+f,{angleKey:x,radiusKey:S,angleName:_,radiusName:D,label:N}=this.properties,E=(b,A,T,L)=>{const O=this.getLabelText(N,{value:A,datum:b,angleKey:x,radiusKey:S,angleName:_,radiusName:D},R=>isNumber3(R)?R.toFixed(2):String(R));if(O)return{x:T,y:L,text:O,textAlign:"center",textBaseline:"middle"}},I=i.data.map((b,A)=>{const{datum:T,keys:L,values:O}=b,R=L[0],C=O[h],k=O[l],P=O[c];let w=Math.max(n.convert(k),n.range[0]),V=Math.min(n.convert(P),n.range[1]);w>V&&([w,V]=[V,w]),C<0&&([w,V]=[V,w]);const F=M-r.convert(R)+d.convert(String(g)),z=F+p,j=(F+z)/2,B=w+angleBetween3(w,V)/2,K=Math.cos(B)*j,G=Math.sin(B)*j,W=this.properties.label.enabled?E(T,C,K,G):void 0;return{series:this,datum:T,point:{x:K,y:G,size:0},midPoint:{x:K,y:G},label:W,angleValue:C,radiusValue:R,innerRadius:F,outerRadius:z,startAngle:w,endAngle:V,index:A}});return[{itemId:S,nodeData:I,labelData:I}]})}update(e){return __async(this,arguments,function*({seriesRect:t}){const i=this.checkResize(t);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(e,t){var i,o,s,a,n;let r=[];if(t){const p=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();p?.datum&&p.series===this&&(r=[p])}else r=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0,c=(o=l?.fill)!=null?o:this.properties.fill,h=(s=l?.fillOpacity)!=null?s:this.properties.fillOpacity,u=(a=l?.stroke)!=null?a:this.properties.stroke,d=this.properties.strokeOpacity,g=(n=l?.strokeWidth)!=null?n:this.properties.strokeWidth,m=p=>p.radiusValue;e.update(r,void 0,m).each((p,y)=>{var f,v,M,x,S;const _=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:y,fill:c,stroke:u,strokeWidth:g,highlighted:t,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;p.fill=(f=_?.fill)!=null?f:c,p.fillOpacity=(v=_?.fillOpacity)!=null?v:h,p.stroke=(M=_?.stroke)!=null?M:u,p.strokeOpacity=d,p.strokeWidth=(x=_?.strokeWidth)!=null?x:g,p.lineDash=this.properties.lineDash,p.lineJoin="round",p.inset=u!=null?((S=_?.strokeWidth)!=null?S:g)/2:0,t&&(p.startAngle=y.startAngle,p.endAngle=y.endAngle,p.innerRadius=y.innerRadius,p.outerRadius=y.outerRadius)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getBarTransitionFunctions(){var e;const t=(e=this.axes[ChartAxisDirection14.X])==null?void 0:e.scale;let i=0;if(!t)return prepareRadialBarSeriesAnimationFunctions(i);const o=Math.min(t.domain[0],t.domain[1]),s=Math.max(t.domain[0],t.domain[1]);return o<=0&&s>=0&&(i=t.convert(0)),prepareRadialBarSeriesAnimationFunctions(i)}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getBarTransitionFunctions();motion7.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,[e])}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getBarTransitionFunctions();motion7.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation2(this,"labels",t,[this.labelSelection])}getTooltipHtml(e){var t;const{id:i,axes:o,dataModel:s}=this,{angleKey:a,angleName:n,radiusKey:r,radiusName:l,fill:c,stroke:h,strokeWidth:u,formatter:d,tooltip:g}=this.properties,{angleValue:m,radiusValue:p,datum:y}=e,f=o[ChartAxisDirection14.X],v=o[ChartAxisDirection14.Y];if(!this.properties.isValid()||!(f&&v&&isNumber3(m))||!s)return"";const M=f.formatDatum(m),x=v.formatDatum(p),S=sanitizeHtml9(n),_=sanitizeHtml9(`${x}: ${M}`),{fill:D}=(t=d&&this.ctx.callbackCache.call(d,{datum:y,fill:c,stroke:h,strokeWidth:u,highlighted:!1,angleKey:a,radiusKey:r,seriesId:i}))!=null?t:{fill:c};return g.toTooltipHtml({title:S,backgroundColor:c,content:_},{seriesId:i,datum:y,color:D,title:S,angleKey:a,radiusKey:r,angleName:n,radiusName:l})}getLegendData(e){var t;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||e!=="category")return[];const{angleKey:i,angleName:o,fill:s,stroke:a,fillOpacity:n,strokeOpacity:r,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:o??i},marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:n??1,strokeOpacity:r??1,strokeWidth:l}}]}onLegendItemClick(e){const{enabled:t,itemId:i,series:o}=e;o.id===this.id&&this.toggleSeriesItem(i,t)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:o,numVisibleItems:s}=e,n=o.id===this.id||t&&s===1;this.toggleSeriesItem(i,n)}computeLabelsBBox(){return null}getStackId(){var e,t;return`radialBar-stack-${(t=(e=this.seriesGrouping)==null?void 0:e.groupIndex)!=null?t:this.id}-xValues`}};RadialBarSeries.className="RadialBarSeries",RadialBarSeries.type="radial-bar";var import_ag_charts_community99=require("ag-charts-community"),RADIAL_BAR_SERIES_THEME={series:{__extends__:import_ag_charts_community99._Theme.EXTENDS_SERIES_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community99._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community99._Theme.DEFAULT_INVERTED_LABEL_COLOUR,__overrides__:import_ag_charts_community99._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[import_ag_charts_community99._Theme.POLAR_AXIS_TYPE.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},RadialBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",instanceConstructor:RadialBarSeries,defaultAxes:[{type:import_ag_charts_community100._Theme.POLAR_AXIS_TYPE.ANGLE_NUMBER},{type:import_ag_charts_community100._Theme.POLAR_AXIS_TYPE.RADIUS_CATEGORY}],themeTemplate:RADIAL_BAR_SERIES_THEME,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},stackable:!0,groupable:!0},import_ag_charts_community104=require("ag-charts-community"),import_ag_charts_community102=require("ag-charts-community"),import_ag_charts_community101=require("ag-charts-community"),{Validate:Validate44,RATIO:RATIO23}=import_ag_charts_community101._ModuleSupport,RadialColumnSeriesProperties=class extends RadialColumnSeriesBaseProperties{};__decorateClass([Validate44(RATIO23,{optional:!0})],RadialColumnSeriesProperties.prototype,"columnWidthRatio",2),__decorateClass([Validate44(RATIO23,{optional:!0})],RadialColumnSeriesProperties.prototype,"maxColumnWidthRatio",2);var{ChartAxisDirection:ChartAxisDirection15,PolarAxis:PolarAxis4}=import_ag_charts_community102._ModuleSupport,{RadialColumnShape,getRadialColumnWidth}=import_ag_charts_community102._Scene,RadialColumnSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetRadialColumnSelectionFn}}),this.properties=new RadialColumnSeriesProperties}getStackId(){var e,t;return`radarColumn-stack-${(t=(e=this.seriesGrouping)==null?void 0:e.groupIndex)!=null?t:this.id}-yValues`}nodeFactory(){return new RadialColumnShape}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareRadialColumnAnimationFunctions(e)}isRadiusAxisCircle(){const e=this.axes[ChartAxisDirection15.Y];return e instanceof PolarAxis4?e.shape==="circle":!1}updateItemPath(e,t,i){e.isBeveled=this.isRadiusAxisCircle(),e.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.columnWidth=t.columnWidth,e.axisInnerRadius=t.axisInnerRadius,e.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(e,t){const{columnWidthRatio:i=.5,maxColumnWidthRatio:o=.5}=this.properties;return getRadialColumnWidth(e,t,this.radius,i,o)}};RadialColumnSeries.className="RadialColumnSeries",RadialColumnSeries.type="radial-column";var import_ag_charts_community103=require("ag-charts-community"),RADIAL_COLUMN_SERIES_THEME={series:{__extends__:import_ag_charts_community103._Theme.EXTENDS_SERIES_DEFAULTS,columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community103._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community103._Theme.DEFAULT_LABEL_COLOUR,__overrides__:import_ag_charts_community103._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[import_ag_charts_community103._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:import_ag_charts_community103._Theme.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[import_ag_charts_community103._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:import_ag_charts_community103._Theme.POLAR_AXIS_SHAPE.CIRCLE,innerRadiusRatio:.5}}},RadialColumnModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",instanceConstructor:RadialColumnSeries,defaultAxes:[{type:import_ag_charts_community104._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:import_ag_charts_community104._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:RADIAL_COLUMN_SERIES_THEME,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},stackable:!0,groupable:!0},import_ag_charts_community108=require("ag-charts-community"),import_ag_charts_community106=require("ag-charts-community"),import_ag_charts_community105=require("ag-charts-community"),{DropShadow,Label:Label7}=import_ag_charts_community105._Scene,{CartesianSeriesProperties:CartesianSeriesProperties2,SeriesMarker:SeriesMarker2,SeriesTooltip:SeriesTooltip13,Validate:Validate45,BOOLEAN:BOOLEAN15,COLOR_STRING:COLOR_STRING18,LINE_DASH:LINE_DASH14,OBJECT:OBJECT16,PLACEMENT,POSITIVE_NUMBER:POSITIVE_NUMBER20,RATIO:RATIO24,STRING:STRING15}=import_ag_charts_community105._ModuleSupport,RangeAreaSeriesLabel=class extends Label7{constructor(){super(...arguments),this.placement="outside",this.padding=6}};__decorateClass([Validate45(PLACEMENT)],RangeAreaSeriesLabel.prototype,"placement",2),__decorateClass([Validate45(POSITIVE_NUMBER20)],RangeAreaSeriesLabel.prototype,"padding",2);var RangeAreaProperties=class extends CartesianSeriesProperties2{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new DropShadow().set({enabled:!1}),this.marker=new SeriesMarker2,this.label=new RangeAreaSeriesLabel,this.tooltip=new SeriesTooltip13,this.connectMissingData=!1}};__decorateClass([Validate45(STRING15)],RangeAreaProperties.prototype,"xKey",2),__decorateClass([Validate45(STRING15)],RangeAreaProperties.prototype,"yLowKey",2),__decorateClass([Validate45(STRING15)],RangeAreaProperties.prototype,"yHighKey",2),__decorateClass([Validate45(STRING15,{optional:!0})],RangeAreaProperties.prototype,"xName",2),__decorateClass([Validate45(STRING15,{optional:!0})],RangeAreaProperties.prototype,"yName",2),__decorateClass([Validate45(STRING15,{optional:!0})],RangeAreaProperties.prototype,"yLowName",2),__decorateClass([Validate45(STRING15,{optional:!0})],RangeAreaProperties.prototype,"yHighName",2),__decorateClass([Validate45(COLOR_STRING18)],RangeAreaProperties.prototype,"fill",2),__decorateClass([Validate45(RATIO24)],RangeAreaProperties.prototype,"fillOpacity",2),__decorateClass([Validate45(COLOR_STRING18)],RangeAreaProperties.prototype,"stroke",2),__decorateClass([Validate45(POSITIVE_NUMBER20)],RangeAreaProperties.prototype,"strokeWidth",2),__decorateClass([Validate45(RATIO24)],RangeAreaProperties.prototype,"strokeOpacity",2),__decorateClass([Validate45(LINE_DASH14)],RangeAreaProperties.prototype,"lineDash",2),__decorateClass([Validate45(POSITIVE_NUMBER20)],RangeAreaProperties.prototype,"lineDashOffset",2),__decorateClass([Validate45(OBJECT16)],RangeAreaProperties.prototype,"shadow",2),__decorateClass([Validate45(OBJECT16)],RangeAreaProperties.prototype,"marker",2),__decorateClass([Validate45(OBJECT16)],RangeAreaProperties.prototype,"label",2),__decorateClass([Validate45(OBJECT16)],RangeAreaProperties.prototype,"tooltip",2),__decorateClass([Validate45(BOOLEAN15)],RangeAreaProperties.prototype,"connectMissingData",2);var{valueProperty:valueProperty12,keyProperty:keyProperty6,ChartAxisDirection:ChartAxisDirection16,mergeDefaults:mergeDefaults6,updateLabelNode,fixNumericExtent:fixNumericExtent7,AreaSeriesTag,buildResetPathFn,resetLabelFn:resetLabelFn3,resetMarkerFn:resetMarkerFn2,resetMarkerPositionFn,pathSwipeInAnimation,resetMotion,markerSwipeScaleInAnimation,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation5,animationValidation:animationValidation7,diff:diff6,updateClipPath}=import_ag_charts_community106._ModuleSupport,{getMarker:getMarker3,PointerEvents:PointerEvents7}=import_ag_charts_community106._Scene,{sanitizeHtml:sanitizeHtml10,extent:extent4,isNumber:isNumber4}=import_ag_charts_community106._Util,RangeAreaSeriesNodeEvent=class extends import_ag_charts_community106._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},_RangeAreaSeries=class At extends import_ag_charts_community106._ModuleSupport.CartesianSeries{constructor(t){super({moduleCtx:t,hasMarkers:!0,pathsPerSeries:2,directionKeys:{[ChartAxisDirection16.X]:["xKey"],[ChartAxisDirection16.Y]:["yLowKey","yHighKey"]},directionNames:{[ChartAxisDirection16.X]:["xName"],[ChartAxisDirection16.Y]:["yLowName","yHighName","yName"]},animationResetFns:{path:buildResetPathFn({getOpacity:()=>this.getOpacity()}),label:resetLabelFn3,marker:(i,o)=>__spreadValues(__spreadValues({},resetMarkerFn2(i)),resetMarkerPositionFn(i,o))}}),this.properties=new RangeAreaProperties,this.NodeEvent=RangeAreaSeriesNodeEvent}processData(t){return __async(this,null,function*(){var i;if(!this.properties.isValid())return;const{xKey:o,yLowKey:s,yHighKey:a}=this.properties,{isContinuousX:n,isContinuousY:r}=this.isContinuous(),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(diff6(this.processedData)),c&&l.push(animationValidation7(this)),yield this.requestDataModel(t,(i=this.data)!=null?i:[],{props:[keyProperty6(this,o,n,{id:"xValue"}),valueProperty12(this,s,r,{id:"yLowValue",invalidValue:void 0}),valueProperty12(this,a,r,{id:"yHighValue",invalidValue:void 0}),...l],dataVisible:this.visible}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:i,dataModel:o,axes:s}=this;if(!(i&&o))return[];const{domain:{keys:[a],values:n}}=i;if(t===ChartAxisDirection16.X){const r=o.resolveProcessedDataDefById(this,"xValue"),l=s[ChartAxisDirection16.X];return r?.def.type==="key"&&r.def.valueType==="category"?a:fixNumericExtent7(extent4(a),l)}else{const r=o.resolveProcessedDataIndexById(this,"yLowValue").index,l=n[r],c=o.resolveProcessedDataIndexById(this,"yHighValue").index,h=n[c],u=[l[0]>h[0]?h[0]:l[0],h[1]<l[1]?l[1]:h[1]];return fixNumericExtent7(u)}}createNodeData(){return __async(this,null,function*(){var t,i;const{data:o,dataModel:s,axes:a,visible:n}=this,r=a[ChartAxisDirection16.X],l=a[ChartAxisDirection16.Y];if(!(o&&n&&r&&l&&s))return[];const c=r.scale,h=l.scale,{xKey:u,yLowKey:d,yHighKey:g,connectMissingData:m,marker:p}=this.properties,y=`${d}-${g}`,f=((t=c.bandwidth)!=null?t:0)/2,v=s.resolveProcessedDataDefsByIds(this,["xValue","yHighValue","yLowValue"]),M=(C,k,P)=>{const w=c.convert(C)+f,V=h.convert(k),U=h.convert(P);return[{point:{x:w,y:V},size:p.size,itemId:"high",yValue:k,xValue:C},{point:{x:w,y:U},size:p.size,itemId:"low",yValue:P,xValue:C}]},x=C=>{const k=C,{point:P}=k,w=__objRest(k,["point"]);return __spreadProps(__spreadValues({},w),{point:__spreadProps(__spreadValues({},P),{moveTo:!0})})},S=[],_=[],D={itemId:y,points:[]},N={itemId:y,points:[]},E={itemId:y,labelData:S,nodeData:_,fillData:N,strokeData:D,scales:__superGet(At.prototype,this,"calculateScaling").call(this),visible:this.visible},I=N.points,b=[],A=D.points,T=[];let L,O=-1/0,R=-1/0;return(i=this.processedData)==null||i.data.forEach(({keys:C,datum:k,values:P},w)=>{const V=s.resolveProcessedDataDefsValues(v,{keys:C,values:P}),{xValue:U,yHighValue:F,yLowValue:z}=V,B=F==null||z==null?[]:M(U,F,z),K=z>F;B.forEach(({point:{x:$,y:J},size:st,itemId:tt="",yValue:et})=>{_.push({index:w,series:this,itemId:tt,datum:k,midPoint:{x:$,y:J},yHighValue:F,yLowValue:z,xValue:U,xKey:u,yLowKey:d,yHighKey:g,point:{x:$,y:J,size:st}});const at=this.createLabelData({point:{x:$,y:J},value:et,yLowValue:z,yHighValue:F,itemId:tt,inverted:K,datum:k,series:this});S.push(at)});const G=O!=null&&R!=null,W=L!=null&&G,H=U!=null,Y=F!=null&&z!=null;let[q,X]=M(U,F??0,z??0);if(!m)if(Y){if(!G){const[$,J]=M(U,0,0);I.push($),b.push(J)}}else{const[$,J]=M(L,0,0);I.push($),b.push(J)}H&&Y&&(I.push(q),b.push(X)),H&&Y&&!W&&!m&&w>0&&(q=x(q),X=x(X)),H&&Y&&(A.push(q),T.push(X)),L=U,O=F,R=z}),I.length>0&&(I[0]=x(I[0])),I.push(...b.reverse()),T.length>0&&(T[0]=x(T[0])),A.push(...T),[E]})}createLabelData({point:t,value:i,itemId:o,inverted:s,datum:a,series:n}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yName:u,yLowName:d,yHighName:g,label:m}=this.properties,{placement:p,padding:y=10}=m;let f=o;s&&(f=o==="low"?"high":"low");const v=p==="outside"&&f==="high"||p==="inside"&&f==="low"?-1:1;return{x:t.x,y:t.y+y*v,series:n,itemId:o,datum:a,text:this.getLabelText(m,{value:i,datum:a,itemId:o,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:d,yHighName:g,yName:u},M=>isNumber4(M)?M.toFixed(2):String(M)),textAlign:"center",textBaseline:v===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,i=getMarker3(t);return new i}updatePathNodes(t){return __async(this,null,function*(){const{opacity:i,visible:o}=t,[s,a]=t.paths,n=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:AreaSeriesTag.Stroke,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:PointerEvents7.None,stroke:this.properties.stroke,strokeWidth:n,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:i,visible:o}),s.setProperties({tag:AreaSeriesTag.Fill,stroke:void 0,lineJoin:"round",pointerEvents:PointerEvents7.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:n,opacity:i,visible:o}),updateClipPath(this,a),updateClipPath(this,s)})}updatePaths(t){return __async(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,i){this.updateFillPath(t,i),this.updateStrokePath(t,i)}updateFillPath(t,i){i.forEach(({fillData:o},s)=>{const[a]=t[s],{path:n}=a;n.clear({trackChanges:!0});for(const{point:r}of o.points)r.moveTo?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y);n.closePath(),a.checkPathDirty()})}updateStrokePath(t,i){i.forEach(({strokeData:o},s)=>{const[,a]=t[s],{path:n}=a;n.clear({trackChanges:!0});for(const{point:r}of o.points)r.moveTo?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y);a.checkPathDirty()})}updateMarkerSelection(t){return __async(this,null,function*(){const{nodeData:i,markerSelection:o}=t;return this.properties.marker.isDirty()&&(o.clear(),o.cleanup()),o.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(t){return __async(this,null,function*(){const{markerSelection:i,isHighlight:o}=t,{xKey:s,yLowKey:a,yHighKey:n,marker:r,fill:l,stroke:c,strokeWidth:h,fillOpacity:u,strokeOpacity:d}=this.properties,g=mergeDefaults6(o&&this.properties.highlightStyle.item,r.getStyle(),{fill:l,fillOpacity:u,stroke:c,strokeWidth:h,strokeOpacity:d});i.each((m,p)=>{this.updateMarkerStyle(m,r,{datum:p,highlighted:o,xKey:s,yHighKey:n,yLowKey:a},g)}),o||this.properties.marker.markClean()})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:i,labelSelection:o}=t;return o.update(i,s=>{s.tag=AreaSeriesTag.Label,s.pointerEvents=PointerEvents7.None})})}updateLabelNodes(t){return __async(this,null,function*(){t.labelSelection.each((i,o)=>{updateLabelNode(i,this.properties.label,o)})})}getHighlightLabelData(t,i){const o=t.filter(s=>s.datum===i.datum);return o.length>0?o:void 0}getHighlightData(t,i){const o=t.filter(s=>s.datum===i.datum);return o.length>0?o:void 0}getTooltipHtml(t){const i=this.axes[ChartAxisDirection16.X],o=this.axes[ChartAxisDirection16.Y];if(!this.properties.isValid()||!i||!o)return"";const{id:s}=this,{xKey:a,yLowKey:n,yHighKey:r,xName:l,yName:c,yLowName:h,yHighName:u,fill:d,tooltip:g}=this.properties,{datum:m,itemId:p,xValue:y,yLowValue:f,yHighValue:v}=t,M=d??"gray",x=sanitizeHtml10(i.formatDatum(y)),S=sanitizeHtml10(o.formatDatum(f)),_=sanitizeHtml10(o.formatDatum(v)),D=l??a,N=h??n,E=u??r,I=sanitizeHtml10(c),b=c?`<b>${sanitizeHtml10(D)}</b>: ${x}<br><b>${sanitizeHtml10(N)}</b>: ${S}<br><b>${sanitizeHtml10(E)}</b>: ${_}<br>`:`${x}: ${S} - ${_}`;return g.toTooltipHtml({title:I,content:b,backgroundColor:M},{seriesId:s,itemId:p,datum:m,xKey:a,yLowKey:n,yHighKey:r,xName:l,yLowName:h,yHighName:u,yName:c,color:M})}getLegendData(t){var i,o;if(t!=="category")return[];const{yLowKey:s,yHighKey:a,yName:n,yLowName:r,yHighName:l,fill:c,stroke:h,strokeWidth:u,strokeOpacity:d,lineDash:g,visible:m,marker:p}=this.properties,y=n??`${r??s} - ${l??a}`;return[{legendType:"category",id:this.id,itemId:`${s}-${a}`,seriesId:this.id,enabled:m,label:{text:`${y}`},marker:{shape:p.shape,fill:(i=p.fill)!=null?i:c,stroke:(o=p.stroke)!=null?o:h,fillOpacity:p.fillOpacity,strokeOpacity:p.strokeOpacity,strokeWidth:p.strokeWidth},line:{stroke:h,strokeOpacity:d,strokeWidth:u,lineDash:g}}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new import_ag_charts_community106._Scene.Group}animateEmptyUpdateReady(t){const{markerSelections:i,labelSelections:o,contextData:s,paths:a}=t,{animationManager:n}=this.ctx;this.updateAreaPaths(a,s),pathSwipeInAnimation(this,n,a.flat()),resetMotion(i,resetMarkerPositionFn),markerSwipeScaleInAnimation(this,n,i),seriesLabelFadeInAnimation5(this,"labels",n,o)}animateReadyResize(t){const{contextData:i,paths:o}=t;this.updateAreaPaths(o,i),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{contextData:i,paths:o}=t;super.animateWaitingUpdateReady(t),this.updateAreaPaths(o,i)}};_RangeAreaSeries.className="RangeAreaSeries",_RangeAreaSeries.type="range-area";var RangeAreaSeries=_RangeAreaSeries,import_ag_charts_community107=require("ag-charts-community"),RANGE_AREA_SERIES_THEME={series:{__extends__:import_ag_charts_community107._Theme.EXTENDS_SERIES_DEFAULTS,fillOpacity:.7,nodeClickRange:"nearest",marker:{__extends__:import_ag_charts_community107._Theme.EXTENDS_CARTESIAN_MARKER_DEFAULTS,enabled:!1,fillOpacity:1,strokeWidth:2,size:6},label:{enabled:!1,placement:"outside",padding:10,fontSize:12,fontFamily:import_ag_charts_community107._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community107._Theme.DEFAULT_LABEL_COLOUR,__overrides__:import_ag_charts_community107._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[import_ag_charts_community107._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0,snap:!1}}}},{markerPaletteFactory:markerPaletteFactory2}=import_ag_charts_community108._ModuleSupport,RangeAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",instanceConstructor:RangeAreaSeries,defaultAxes:[{type:import_ag_charts_community108._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community108._Theme.POSITION.LEFT},{type:import_ag_charts_community108._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community108._Theme.POSITION.BOTTOM}],themeTemplate:RANGE_AREA_SERIES_THEME,paletteFactory:e=>{const{marker:t}=markerPaletteFactory2(e);return{fill:t.fill,stroke:t.stroke,marker:t}}},import_ag_charts_community112=require("ag-charts-community"),import_ag_charts_community110=require("ag-charts-community"),import_ag_charts_community109=require("ag-charts-community"),{DropShadow:DropShadow2,Label:Label8}=import_ag_charts_community109._Scene,{AbstractBarSeriesProperties:AbstractBarSeriesProperties4,SeriesTooltip:SeriesTooltip14,Validate:Validate46,COLOR_STRING:COLOR_STRING19,FUNCTION:FUNCTION13,LINE_DASH:LINE_DASH15,OBJECT:OBJECT17,PLACEMENT:PLACEMENT2,POSITIVE_NUMBER:POSITIVE_NUMBER21,RATIO:RATIO25,STRING:STRING16}=import_ag_charts_community109._ModuleSupport,RangeBarSeriesLabel=class extends Label8{constructor(){super(...arguments),this.placement="inside",this.padding=6}};__decorateClass([Validate46(PLACEMENT2)],RangeBarSeriesLabel.prototype,"placement",2),__decorateClass([Validate46(POSITIVE_NUMBER21)],RangeBarSeriesLabel.prototype,"padding",2);var RangeBarProperties=class extends AbstractBarSeriesProperties4{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new DropShadow2().set({enabled:!1}),this.label=new RangeBarSeriesLabel,this.tooltip=new SeriesTooltip14}};__decorateClass([Validate46(STRING16)],RangeBarProperties.prototype,"xKey",2),__decorateClass([Validate46(STRING16)],RangeBarProperties.prototype,"yLowKey",2),__decorateClass([Validate46(STRING16)],RangeBarProperties.prototype,"yHighKey",2),__decorateClass([Validate46(STRING16,{optional:!0})],RangeBarProperties.prototype,"xName",2),__decorateClass([Validate46(STRING16,{optional:!0})],RangeBarProperties.prototype,"yName",2),__decorateClass([Validate46(STRING16,{optional:!0})],RangeBarProperties.prototype,"yLowName",2),__decorateClass([Validate46(STRING16,{optional:!0})],RangeBarProperties.prototype,"yHighName",2),__decorateClass([Validate46(COLOR_STRING19)],RangeBarProperties.prototype,"fill",2),__decorateClass([Validate46(RATIO25)],RangeBarProperties.prototype,"fillOpacity",2),__decorateClass([Validate46(COLOR_STRING19)],RangeBarProperties.prototype,"stroke",2),__decorateClass([Validate46(POSITIVE_NUMBER21)],RangeBarProperties.prototype,"strokeWidth",2),__decorateClass([Validate46(RATIO25)],RangeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Validate46(LINE_DASH15)],RangeBarProperties.prototype,"lineDash",2),__decorateClass([Validate46(POSITIVE_NUMBER21)],RangeBarProperties.prototype,"lineDashOffset",2),__decorateClass([Validate46(POSITIVE_NUMBER21)],RangeBarProperties.prototype,"cornerRadius",2),__decorateClass([Validate46(FUNCTION13,{optional:!0})],RangeBarProperties.prototype,"formatter",2),__decorateClass([Validate46(OBJECT17)],RangeBarProperties.prototype,"shadow",2),__decorateClass([Validate46(OBJECT17)],RangeBarProperties.prototype,"label",2),__decorateClass([Validate46(OBJECT17)],RangeBarProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode10,valueProperty:valueProperty13,keyProperty:keyProperty7,ChartAxisDirection:ChartAxisDirection17,getRectConfig,updateRect,checkCrisp,updateLabelNode:updateLabelNode2,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL3,diff:diff7,prepareBarAnimationFunctions:prepareBarAnimationFunctions2,midpointStartingBarPosition,resetBarSelectionsFn:resetBarSelectionsFn2,fixNumericExtent:fixNumericExtent8,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation6,resetLabelFn:resetLabelFn4,animationValidation:animationValidation8,createDatumId:createDatumId7}=import_ag_charts_community110._ModuleSupport,{Rect:Rect4,PointerEvents:PointerEvents8,motion:motion8}=import_ag_charts_community110._Scene,{sanitizeHtml:sanitizeHtml11,isNumber:isNumber5,extent:extent5}=import_ag_charts_community110._Util,{ContinuousScale:ContinuousScale3,OrdinalTimeScale:OrdinalTimeScale4}=import_ag_charts_community110._Scale,RangeBarSeriesNodeEvent=class extends import_ag_charts_community110._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},_RangeBarSeries=class bt extends import_ag_charts_community110._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[SeriesNodePickMode10.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:resetBarSelectionsFn2,label:resetLabelFn4}}),this.properties=new RangeBarProperties,this.NodeEvent=RangeBarSeriesNodeEvent}processData(t){return __async(this,null,function*(){var i,o,s,a,n;if(!this.properties.isValid())return;const{xKey:r,yLowKey:l,yHighKey:c}=this.properties,h=(i=this.getCategoryAxis())==null?void 0:i.scale,u=(o=this.getValueAxis())==null?void 0:o.scale,d=ContinuousScale3.is(h)||OrdinalTimeScale4.is(h),g=ContinuousScale3.is(u)||OrdinalTimeScale4.is(u),m=ContinuousScale3.is(h)?"range":"category",p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(diff7(this.processedData)),p.push(animationValidation8(this)));const y=this.visible?{}:{forceValue:0},{processedData:f}=yield this.requestDataModel(t,(s=this.data)!=null?s:[],{props:[keyProperty7(this,r,d,{id:"xValue",valueType:m}),valueProperty13(this,l,g,__spreadValues({id:"yLowValue"},y)),valueProperty13(this,c,g,__spreadValues({id:"yHighValue"},y)),...d?[SMALLEST_KEY_INTERVAL3]:[],...p],groupByKeys:!0});this.smallestDataInterval={x:(n=(a=f.reduced)==null?void 0:a.smallestKeyInterval)!=null?n:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var i;const{processedData:o,dataModel:s}=this;if(!(o&&s))return[];const{domain:{keys:[a],values:n}}=o;if(t===this.getCategoryDirection()){const r=s.resolveProcessedDataDefById(this,"xValue");if(r?.def.type==="key"&&r?.def.valueType==="category")return a;const{reduced:{[SMALLEST_KEY_INTERVAL3.property]:l}={}}=o,c=l!=null&&isFinite(l)?l:0,h=(i=extent5(a))!=null?i:[NaN,NaN],u=this.getCategoryAxis(),d=u?.isReversed();if(t===ChartAxisDirection17.Y){const p=h[0]+(d?0:-c),y=h[1]+(d?c:0);return fixNumericExtent8([p,y],u)}const g=h[0]+(d?-c:0),m=h[1]+(d?0:c);return fixNumericExtent8([g,m],u)}else{const r=s.resolveProcessedDataIndexById(this,"yLowValue").index,l=n[r],c=s.resolveProcessedDataIndexById(this,"yHighValue").index,h=n[c],u=[l[0]>h[0]?h[0]:l[0],h[1]<l[1]?l[1]:h[1]];return fixNumericExtent8(u)}}createNodeData(){return __async(this,null,function*(){const{data:t,dataModel:i,groupScale:o,processedData:s,properties:{visible:a}}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!(t&&a&&n&&r&&i))return[];const l=n.scale,c=r.scale,h=this.getBarDirection()===ChartAxisDirection17.X,{xKey:u,yLowKey:d,yHighKey:g,fill:m,stroke:p,strokeWidth:y}=this.properties,f=`${d}-${g}`,v=[],M=i.resolveProcessedDataIndexById(this,"yLowValue").index,x=i.resolveProcessedDataIndexById(this,"yHighValue").index,S=i.resolveProcessedDataIndexById(this,"xValue").index,{barWidth:_,groupIndex:D}=this.updateGroupScale(n);return s?.data.forEach(({keys:N,datum:E,values:I},b)=>{I.forEach((A,T)=>{var L;(L=v[T])!=null||(v[T]={itemId:f,nodeData:[],labelData:[],scales:__superGet(bt.prototype,this,"calculateScaling").call(this),visible:this.visible});const O=N[S],R=Math.round(l.convert(O))+o.convert(String(D)),C=A[M],k=A[x],P=Math.min(C,k),w=Math.max(C,k),V=Math.round(c.convert(P)),F=Math.round(c.convert(w)),z=V,j=Math.max(y,Math.abs(z-F)),B={x:h?Math.min(F,z):R,y:h?R:Math.min(F,z),width:h?j:_,height:h?_:j},K={x:B.x+B.width/2,y:B.y+B.height/2},G=this.createLabelData({rect:B,barAlongX:h,yLowValue:P,yHighValue:w,datum:E[T],series:this}),W={index:b,series:this,itemId:f,datum:E[T],xValue:O,yLowValue:C,yHighValue:k,yLowKey:d,yHighKey:g,xKey:u,x:B.x,y:B.y,width:B.width,height:B.height,midPoint:K,fill:m,stroke:p,strokeWidth:y,opacity:1,labels:G};v[T].nodeData.push(W),v[T].labelData.push(...G)})}),v})}createLabelData({rect:t,barAlongX:i,yLowValue:o,yHighValue:s,datum:a,series:n}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:u,yHighName:d,yName:g,label:m}=this.properties,p={datum:a,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:u,yHighName:d,yName:g},{placement:y,padding:f}=m,M=f*(y==="outside"?1:-1),x={x:t.x+(i?-M:t.width/2),y:t.y+(i?t.height/2:t.height+M),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(m,__spreadValues({itemId:"low",value:o},p),_=>isNumber5(_)?_.toFixed(2):""),itemId:"low",datum:a,series:n},S={x:t.x+(i?t.width+M:t.width/2),y:t.y+(i?t.height/2:-M),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(m,__spreadValues({itemId:"high",value:s},p),_=>isNumber5(_)?_.toFixed(2):""),itemId:"high",datum:a,series:n};return y==="outside"&&(x.textAlign=i?"right":"center",x.textBaseline=i?"middle":"top",S.textAlign=i?"left":"center",S.textBaseline=i?"middle":"bottom"),[x,S]}nodeFactory(){return new Rect4}updateDatumSelection(t){return __async(this,null,function*(){const{nodeData:i,datumSelection:o}=t,s=i??[];return o.update(s,void 0,a=>this.getDatumId(a))})}updateDatumNodes(t){return __async(this,null,function*(){const{datumSelection:i,isHighlight:o}=t,{id:s,ctx:a}=this,{yLowKey:n,yHighKey:r,highlightStyle:{item:l}}=this.properties,c=this.axes[ChartAxisDirection17.X],h=checkCrisp(c?.visibleRange),u=this.getCategoryDirection()===ChartAxisDirection17.X;i.each((d,g)=>{const{fillOpacity:m,strokeOpacity:p,strokeWidth:y,lineDash:f,lineDashOffset:v,formatter:M,shadow:x}=this.properties,S={fill:g.fill,stroke:g.stroke,fillOpacity:m,strokeOpacity:p,lineDash:f,lineDashOffset:v,fillShadow:x,strokeWidth:this.getStrokeWidth(y),cornerRadius:this.properties.cornerRadius},_=u?g.width>0:g.height>0,D=getRectConfig({datum:g,lowValue:g.yLowValue,highValue:g.yHighValue,isHighlighted:o,style:S,highlightStyle:l,formatter:M,seriesId:s,itemId:g.itemId,ctx:a,yLowKey:n,yHighKey:r});D.crisp=h,D.visible=_,updateRect({rect:d,config:D})})})}getHighlightLabelData(t,i){const o=t.filter(s=>s.datum===i.datum);return o.length>0?o:void 0}updateLabelSelection(t){return __async(this,null,function*(){const i=this.properties.label.enabled?t.labelData:[];return t.labelSelection.update(i,o=>{o.pointerEvents=PointerEvents8.None})})}updateLabelNodes(t){return __async(this,null,function*(){t.labelSelection.each((i,o)=>{updateLabelNode2(i,this.properties.label,o)})})}getTooltipHtml(t){var i,o;const{id:s,ctx:{callbackCache:a}}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!this.properties.isValid()||!n||!r)return"";const{xKey:l,yLowKey:c,yHighKey:h,xName:u,yLowName:d,yHighName:g,yName:m,fill:p,strokeWidth:y,formatter:f,tooltip:v}=this.properties,{datum:M,itemId:x,xValue:S,yLowValue:_,yHighValue:D}=t;let N;f&&(N=a.call(f,{datum:M,xKey:l,yLowKey:c,yHighKey:h,fill:p,strokeWidth:y,highlighted:!1,seriesId:s,itemId:x}));const E=(o=(i=N?.fill)!=null?i:p)!=null?o:"gray",I=sanitizeHtml11(n.formatDatum(S)),b=sanitizeHtml11(r.formatDatum(_)),A=sanitizeHtml11(r.formatDatum(D)),T=u??l,L=d??c,O=g??h,R=sanitizeHtml11(m),C=m?`<b>${sanitizeHtml11(T)}</b>: ${I}<br><b>${sanitizeHtml11(L)}</b>: ${b}<br><b>${sanitizeHtml11(O)}</b>: ${A}<br>`:`${I}: ${b} - ${A}`,k={title:R,content:C,backgroundColor:E};return v.toTooltipHtml(k,{datum:M,xKey:l,xName:u,yLowKey:c,yLowName:d,yHighKey:h,yHighName:g,yName:m,color:E,seriesId:s,itemId:x})}getLegendData(t){const{id:i,visible:o}=this;if(t!=="category")return[];const{fill:s,stroke:a,strokeWidth:n,fillOpacity:r,strokeOpacity:l,yName:c,yLowName:h,yHighName:u,yLowKey:d,yHighKey:g}=this.properties,m=c??`${h??d} - ${u??g}`;return[{legendType:"category",id:i,itemId:`${d}-${g}`,seriesId:i,enabled:o,label:{text:`${m}`},marker:{fill:s,stroke:a,fillOpacity:r,strokeOpacity:l,strokeWidth:n}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:i}){const o=prepareBarAnimationFunctions2(midpointStartingBarPosition(this.isVertical(),"normal"));motion8.fromToMotion(this.id,"datums",this.ctx.animationManager,t,o),seriesLabelFadeInAnimation6(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){var i;const{datumSelections:o,labelSelections:s}=t,{processedData:a}=this,n=(i=a?.reduced)==null?void 0:i.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=prepareBarAnimationFunctions2(midpointStartingBarPosition(this.isVertical(),"fade"));motion8.fromToMotion(this.id,"datums",this.ctx.animationManager,o,r,(l,c)=>createDatumId7(c.xValue),n),seriesLabelFadeInAnimation6(this,"labels",this.ctx.animationManager,s)}getDatumId(t){return`${t.xValue}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}};_RangeBarSeries.className="RangeBarSeries",_RangeBarSeries.type="range-bar";var RangeBarSeries=_RangeBarSeries,import_ag_charts_community111=require("ag-charts-community"),RANGE_BAR_SERIES_THEME={series:{__extends__:import_ag_charts_community111._Theme.EXTENDS_SERIES_DEFAULTS,direction:"vertical",strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community111._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community111._Theme.DEFAULT_INSIDE_SERIES_LABEL_COLOUR,placement:"inside",__overrides__:import_ag_charts_community111._Theme.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[import_ag_charts_community111._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0,snap:!1}}}},RangeBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",instanceConstructor:RangeBarSeries,defaultAxes:[{type:import_ag_charts_community112._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community112._Theme.POSITION.BOTTOM},{type:import_ag_charts_community112._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community112._Theme.POSITION.LEFT}],themeTemplate:RANGE_BAR_SERIES_THEME,paletteFactory:({takeColors:e})=>{const{fills:[t],strokes:[i]}=e(1);return{fill:t,stroke:i}},groupable:!0,swapDefaultAxesCondition:({direction:e})=>e==="horizontal"},import_ag_charts_community115=require("ag-charts-community"),import_ag_charts_community114=require("ag-charts-community"),import_ag_charts_community113=require("ag-charts-community"),{HierarchySeriesProperties,HighlightStyle,SeriesTooltip:SeriesTooltip15,Validate:Validate47,COLOR_STRING:COLOR_STRING20,FUNCTION:FUNCTION14,NUMBER:NUMBER11,OBJECT:OBJECT18,POSITIVE_NUMBER:POSITIVE_NUMBER22,RATIO:RATIO26,STRING:STRING17}=import_ag_charts_community113._ModuleSupport,SunburstSeriesTileHighlightStyle=class extends HighlightStyle{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedLabel}};__decorateClass([Validate47(STRING17,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Validate47(RATIO26,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Validate47(COLOR_STRING20,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Validate47(POSITIVE_NUMBER22,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Validate47(RATIO26,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Validate47(OBJECT18)],SunburstSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Validate47(OBJECT18)],SunburstSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var SunburstSeriesProperties=class extends HierarchySeriesProperties{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.highlightStyle=new SunburstSeriesTileHighlightStyle,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizeableSecondaryLabel,this.tooltip=new SeriesTooltip15}};__decorateClass([Validate47(STRING17,{optional:!0})],SunburstSeriesProperties.prototype,"sizeName",2),__decorateClass([Validate47(STRING17,{optional:!0})],SunburstSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate47(STRING17,{optional:!0})],SunburstSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Validate47(RATIO26)],SunburstSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate47(POSITIVE_NUMBER22)],SunburstSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate47(RATIO26)],SunburstSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate47(NUMBER11,{optional:!0})],SunburstSeriesProperties.prototype,"sectorSpacing",2),__decorateClass([Validate47(NUMBER11,{optional:!0})],SunburstSeriesProperties.prototype,"padding",2),__decorateClass([Validate47(FUNCTION14,{optional:!0})],SunburstSeriesProperties.prototype,"formatter",2),__decorateClass([Validate47(OBJECT18)],SunburstSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Validate47(OBJECT18)],SunburstSeriesProperties.prototype,"label",2),__decorateClass([Validate47(OBJECT18)],SunburstSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([Validate47(OBJECT18)],SunburstSeriesProperties.prototype,"tooltip",2);var{fromToMotion:fromToMotion3}=import_ag_charts_community114._ModuleSupport,{Sector:Sector5,Group:Group14,Selection:Selection10,Text:Text10}=import_ag_charts_community114._Scene,{sanitizeHtml:sanitizeHtml12}=import_ag_charts_community114._Util,getAngleData=(e,t=0,i=2*Math.PI/e.sumSize,o=Array.from(e,()=>{}))=>{let s=t;for(const a of e.children){const n=s,r=s+a.sumSize*i;o[a.index]={start:n,end:r},getAngleData(a,n,i,o),s=r}return o},_SunburstSeries=class Tt extends import_ag_charts_community114._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.properties=new SunburstSeriesProperties,this.groupSelection=Selection10.select(this.contentGroup,Group14),this.highlightSelection=Selection10.select(this.highlightGroup,Group14),this.angleData=[]}processData(){return __async(this,null,function*(){const{childrenKey:t,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r}=this.properties;yield __superGet(Tt.prototype,this,"processData").call(this),this.angleData=getAngleData(this.rootNode);const l=c=>typeof c=="number"?c.toFixed(2):typeof c=="string"?c:"";this.labelData=Array.from(this.rootNode,({datum:c,depth:h})=>{let u;if(c!=null&&h!=null&&s!=null){const g=c[s];u=this.getLabelText(this.properties.label,{depth:h,datum:c,childrenKey:t,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r,value:g},l)}u===""&&(u=void 0);let d;if(c!=null&&h!=null&&a!=null){const g=c[a];d=this.getLabelText(this.properties.secondaryLabel,{depth:h,datum:c,childrenKey:t,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r,value:g},l)}return d===""&&(d=void 0),u!=null||d!=null?{label:u,secondaryLabel:d}:void 0})})}updateSelections(){return __async(this,null,function*(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:t}=this;if(t==null||t.seriesRect==null)return;const o=Array.from(this.rootNode),s=a=>{a.append([new Sector5,new Text10({tag:0}),new Text10({tag:1})])};this.groupSelection.update(o,s,a=>this.getDatumId(a)),this.highlightSelection.update(o,s,a=>this.getDatumId(a))})}updateNodes(){return __async(this,null,function*(){var t;const{chart:i,data:o,maxDepth:s,labelData:a}=this;if(i==null||o==null||a==null)return;const{width:n,height:r}=i.seriesRect,{sectorSpacing:l=0,padding:c=0,highlightStyle:h}=this.properties;this.contentGroup.translationX=n/2,this.contentGroup.translationY=r/2,this.highlightGroup.translationX=n/2,this.highlightGroup.translationY=r/2;const u=l*.5,g=Math.min(n,r)/2/(s+1),m=-Math.PI/2,p=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight();new Text10().setFont(this.properties.label),this.rootNode.walk(x=>{const S=this.angleData[x.index];if(x.depth!=null&&S!=null){const _=S.end-S.start,D=(x.depth+.5)*g;x.midPoint.x=Math.cos(_)*D,x.midPoint.y=Math.sin(_)*D}});const f=(x,S,_)=>{var D,N,E,I,b,A,T,L,O,R;const{depth:C}=x,k=this.angleData[x.index];if(C==null||k==null){S.visible=!1;return}S.visible=!0;let P,w,V,U,F;_&&(P=h.fill,w=h.fillOpacity,V=h.stroke,U=h.strokeWidth,F=h.strokeOpacity);const z=this.getSectorFormat(x,_),j=(N=(D=z?.fill)!=null?D:P)!=null?N:x.fill,B=(I=(E=z?.fillOpacity)!=null?E:w)!=null?I:this.properties.fillOpacity,K=(A=(b=z?.stroke)!=null?b:V)!=null?A:x.stroke,G=(L=(T=z?.strokeWidth)!=null?T:U)!=null?L:this.properties.strokeWidth,W=(R=(O=z?.strokeOpacity)!=null?O:F)!=null?R:this.properties.strokeOpacity;S.fill=j,S.fillOpacity=B,S.stroke=K,S.strokeWidth=G,S.strokeOpacity=W,S.centerX=0,S.centerY=0,S.innerRadius=C*g,S.outerRadius=(C+1)*g,S.angleOffset=m,S.startAngle=k.start,S.endAngle=k.end,S.inset=u+G*.5};this.groupSelection.selectByClass(Sector5).forEach(x=>{f(x.datum,x,!1)}),this.highlightSelection.selectByClass(Sector5).forEach(x=>{const S=x.datum,_=p===S;x.visible=_,x.visible&&f(x.datum,x,_)});const v=Array.from(this.rootNode,(x,S)=>{const{depth:_}=x,D=a[S],N=this.angleData[S];if(_==null||N==null)return;const E=_*g+u,I=(_+1)*g-u,b=E>u?u/E:u,A=I>u?u/I:u,T=N.start+b,O=N.end+b-T,R=N.start+A,k=N.end+A-R,P=Y=>{var q;if(_===0&&((q=x.parent)==null?void 0:q.sumSize)===x.sumSize)return{width:2*Math.sqrt(__pow(I,2)-__pow(Y*.5,2)),height:Y,meta:0};const Z=Y,$=2*Math.sqrt(__pow(I,2)-__pow(E+Z,2)),J=O<Math.PI?2*E*Math.tan(O*.5):1/0,st=Math.min($,J);let tt,et;return _===0?(tt=Y,et=Math.sqrt(__pow(I,2)-__pow(tt/2,2))-Y/(2*Math.tan(k*.5))):(tt=2*E*Math.tan(O*.5),et=Math.sqrt(__pow(I,2)-__pow(tt/2,2))-E),st>=et?{width:st,height:Z,meta:1}:{width:et,height:tt,meta:2}},w=formatLabels(D?.label,this.properties.label,D?.secondaryLabel,this.properties.secondaryLabel,{padding:c},P);if(w==null)return;const{width:V,height:U,meta:F,label:z,secondaryLabel:j}=w,B=m+(N.start+N.end)/2,K=Math.sin(B)>=0,G=Math.cos(B)>=0,W=(K?3:12)&(G?6:9);let H;switch(F){case 0:H=0;break;case 1:{const q=I-(g-U)*.58,X=Math.sqrt(__pow(I-c,2)-__pow(V/2,2));H=Math.min(q,X);break}case 2:if(_===0){const Y=U/(2*Math.tan(O*.5))+V*.5,q=Math.sqrt(__pow(I,2)-__pow(U*.5,2))-V*.5;H=(Y+q)*.5}else H=(E+I)*.5;break}return{width:V,height:U,labelPlacement:F,circleQuarter:W,radius:H,theta:B,label:z,secondaryLabel:j}}),M=(x,S,_,D)=>{const{index:N,depth:E}=x,I=v?.[N],b=_===0?this.properties.label:this.properties.secondaryLabel,A=_===0?I?.label:I?.secondaryLabel;if(E==null||I==null||A==null){S.visible=!1;return}const{height:T,labelPlacement:L,circleQuarter:O,radius:R,theta:C}=I;let k;switch(D&&(k=(_===0?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),S.text=A.text,S.fontSize=A.fontSize,S.lineHeight=A.lineHeight,S.fontStyle=b.fontStyle,S.fontFamily=b.fontFamily,S.fontWeight=b.fontWeight,S.fill=k??b.color,L){case 0:S.textAlign="center",S.textBaseline="top",S.translationX=0,S.translationY=(_===0?0:T-A.height)-T*.5,S.rotation=0;break;case 1:{const P=(O&3)!==0,w=_===0==!P?R:R-(T-A.height);S.textAlign="center",S.textBaseline=P?"bottom":"top",S.translationX=Math.cos(C)*w,S.translationY=Math.sin(C)*w,S.rotation=P?C-Math.PI*.5:C+Math.PI*.5;break}case 2:{const P=(O&6)!==0,w=_===0==!P?(T-A.height)*.5:(A.height-T)*.5;S.textAlign="center",S.textBaseline="middle",S.translationX=Math.cos(C)*R+Math.cos(C+Math.PI/2)*w,S.translationY=Math.sin(C)*R+Math.sin(C+Math.PI/2)*w,S.rotation=P?C:C+Math.PI;break}}S.visible=!0};this.groupSelection.selectByClass(Text10).forEach(x=>{M(x.datum,x,x.tag,!1)}),this.highlightSelection.selectByClass(Text10).forEach(x=>{const S=x.datum,_=p===S;x.visible=_,x.visible&&M(x.datum,x,x.tag,_)})})}getSectorFormat(t,i){const{datum:o,fill:s,stroke:a,depth:n}=t,{ctx:{callbackCache:r},properties:{formatter:l}}=this;if(!l||o==null||n==null)return{};const{colorKey:c,labelKey:h,sizeKey:u,strokeWidth:d}=this.properties,g=r.call(l,{seriesId:this.id,depth:n,datum:o,colorKey:c,labelKey:h,sizeKey:u,fill:s,stroke:a,strokeWidth:d,highlighted:i});return g??{}}getTooltipHtml(t){var i;const{id:o}=this,{tooltip:s,colorKey:a,colorName:n=a,labelKey:r,secondaryLabelKey:l,sizeKey:c,sizeName:h=c}=this.properties,{datum:u,depth:d}=t;if(u==null||d==null)return"";const g=r!=null?u[r]:void 0,m=this.getSectorFormat(t,!1),p=(i=m?.fill)!=null?i:t.fill;if(!s.renderer&&!g)return"";const y=[],f=l!=null?u[l]:void 0;f!=null&&l!==a&&l!==c&&y.push(sanitizeHtml12(f));const v=c!=null?u[c]:void 0;v!=null&&y.push(`${h}: ${sanitizeHtml12(v)}`);const M=a!=null?u[a]:void 0;M!=null&&y.push(`${n}: ${sanitizeHtml12(M)}`);const x=y.join("<br>"),S={title:g,color:this.properties.label.color,backgroundColor:p,content:x};return s.toTooltipHtml(S,{depth:d,datum:u,colorKey:a,labelKey:r,secondaryLabelKey:l,sizeKey:c,title:g,color:p,seriesId:o})}createNodeData(){return __async(this,null,function*(){return[]})}animateEmptyUpdateReady({datumSelections:t}){fromToMotion3(this.id,"nodes",this.ctx.animationManager,t,{toFn(i,o,s){return{scalingX:1,scalingY:1}},fromFn(i,o,s){return s==="unknown"&&o!=null&&i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}})}};_SunburstSeries.className="SunburstSeries",_SunburstSeries.type="sunburst";var SunburstSeries=_SunburstSeries,{EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS5,DEFAULT_INSIDE_SERIES_LABEL_COLOUR}=import_ag_charts_community115._Theme,SunburstModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",instanceConstructor:SunburstSeries,solo:!0,themeTemplate:{series:{__extends__:EXTENDS_SERIES_DEFAULTS5,label:{fontSize:14,minimumFontSize:9,color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR,overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontSize:8,minimumFontSize:7,color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR,overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR},secondaryLabel:{color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR},stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{const{properties:o}=i,{fills:s,strokes:a}=e(t),n=o.get(import_ag_charts_community115._Theme.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE);return{fills:s,strokes:a,colorRange:n}}},import_ag_charts_community118=require("ag-charts-community"),import_ag_charts_community117=require("ag-charts-community"),import_ag_charts_community116=require("ag-charts-community"),{Label:Label9}=import_ag_charts_community116._Scene,{BaseProperties:BaseProperties8,HierarchySeriesProperties:HierarchySeriesProperties2,HighlightStyle:HighlightStyle2,SeriesTooltip:SeriesTooltip16,Validate:Validate48,BOOLEAN:BOOLEAN16,COLOR_STRING:COLOR_STRING21,FUNCTION:FUNCTION15,NUMBER:NUMBER12,OBJECT:OBJECT19,POSITIVE_NUMBER:POSITIVE_NUMBER23,RATIO:RATIO27,STRING:STRING18,STRING_ARRAY,TEXT_ALIGN:TEXT_ALIGN2,VERTICAL_ALIGN:VERTICAL_ALIGN2}=import_ag_charts_community116._ModuleSupport,TreemapGroupLabel=class extends Label9{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Validate48(NUMBER12)],TreemapGroupLabel.prototype,"spacing",2);var TreemapSeriesGroup=class extends BaseProperties8{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new TreemapGroupLabel}};__decorateClass([Validate48(STRING18,{optional:!0})],TreemapSeriesGroup.prototype,"fill",2),__decorateClass([Validate48(RATIO27)],TreemapSeriesGroup.prototype,"fillOpacity",2),__decorateClass([Validate48(COLOR_STRING21,{optional:!0})],TreemapSeriesGroup.prototype,"stroke",2),__decorateClass([Validate48(POSITIVE_NUMBER23)],TreemapSeriesGroup.prototype,"strokeWidth",2),__decorateClass([Validate48(RATIO27)],TreemapSeriesGroup.prototype,"strokeOpacity",2),__decorateClass([Validate48(TEXT_ALIGN2)],TreemapSeriesGroup.prototype,"textAlign",2),__decorateClass([Validate48(POSITIVE_NUMBER23)],TreemapSeriesGroup.prototype,"gap",2),__decorateClass([Validate48(POSITIVE_NUMBER23)],TreemapSeriesGroup.prototype,"padding",2),__decorateClass([Validate48(BOOLEAN16)],TreemapSeriesGroup.prototype,"interactive",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesGroup.prototype,"label",2);var TreemapSeriesTile=class extends BaseProperties8{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizeableSecondaryLabel}};__decorateClass([Validate48(STRING18,{optional:!0})],TreemapSeriesTile.prototype,"fill",2),__decorateClass([Validate48(RATIO27)],TreemapSeriesTile.prototype,"fillOpacity",2),__decorateClass([Validate48(COLOR_STRING21,{optional:!0})],TreemapSeriesTile.prototype,"stroke",2),__decorateClass([Validate48(POSITIVE_NUMBER23,{optional:!0})],TreemapSeriesTile.prototype,"strokeWidth",2),__decorateClass([Validate48(RATIO27)],TreemapSeriesTile.prototype,"strokeOpacity",2),__decorateClass([Validate48(TEXT_ALIGN2)],TreemapSeriesTile.prototype,"textAlign",2),__decorateClass([Validate48(VERTICAL_ALIGN2)],TreemapSeriesTile.prototype,"verticalAlign",2),__decorateClass([Validate48(POSITIVE_NUMBER23)],TreemapSeriesTile.prototype,"gap",2),__decorateClass([Validate48(POSITIVE_NUMBER23)],TreemapSeriesTile.prototype,"padding",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesTile.prototype,"label",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesTile.prototype,"secondaryLabel",2);var TreemapSeriesGroupHighlightStyle=class extends BaseProperties8{constructor(){super(...arguments),this.label=new AutoSizedLabel}};__decorateClass([Validate48(STRING18,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"fill",2),__decorateClass([Validate48(RATIO27,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Validate48(COLOR_STRING21,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"stroke",2),__decorateClass([Validate48(POSITIVE_NUMBER23,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Validate48(RATIO27,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesGroupHighlightStyle.prototype,"label",2);var TreemapSeriesTileHighlightStyle=class extends BaseProperties8{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizeableSecondaryLabel}};__decorateClass([Validate48(STRING18,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Validate48(RATIO27,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Validate48(COLOR_STRING21,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Validate48(POSITIVE_NUMBER23,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Validate48(RATIO27,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var TreemapSeriesHighlightStyle=class extends HighlightStyle2{constructor(){super(...arguments),this.group=new TreemapSeriesGroupHighlightStyle,this.tile=new TreemapSeriesTileHighlightStyle}};__decorateClass([Validate48(OBJECT19)],TreemapSeriesHighlightStyle.prototype,"group",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesHighlightStyle.prototype,"tile",2);var TreemapSeriesProperties=class extends HierarchySeriesProperties2{constructor(){super(...arguments),this.highlightStyle=new TreemapSeriesHighlightStyle,this.tooltip=new SeriesTooltip16,this.group=new TreemapSeriesGroup,this.tile=new TreemapSeriesTile,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};__decorateClass([Validate48(STRING18,{optional:!0})],TreemapSeriesProperties.prototype,"sizeName",2),__decorateClass([Validate48(STRING18,{optional:!0})],TreemapSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate48(STRING18,{optional:!0})],TreemapSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Validate48(FUNCTION15,{optional:!0})],TreemapSeriesProperties.prototype,"formatter",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesProperties.prototype,"tooltip",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesProperties.prototype,"group",2),__decorateClass([Validate48(OBJECT19)],TreemapSeriesProperties.prototype,"tile",2),__decorateClass([Validate48(STRING_ARRAY)],TreemapSeriesProperties.prototype,"undocumentedGroupFills",2),__decorateClass([Validate48(STRING_ARRAY)],TreemapSeriesProperties.prototype,"undocumentedGroupStrokes",2);var{Rect:Rect5,Group:Group15,BBox:BBox9,Selection:Selection11,Text:Text11}=import_ag_charts_community117._Scene,{Color:Color2,Logger:Logger13,isEqual,sanitizeHtml:sanitizeHtml13}=import_ag_charts_community117._Util,tempText=new Text11;function getTextSize(e,t){const{fontStyle:i,fontWeight:o,fontSize:s,fontFamily:a}=t;tempText.setProperties({text:e,fontStyle:i,fontWeight:o,fontSize:s,fontFamily:a,textAlign:"left",textBaseline:"top"});const{width:n,height:r}=tempText.computeBBox();return{width:n,height:r}}function validateColor(e){if(typeof e=="string"&&!Color2.validColorString(e)){const t="black";return Logger13.warnOnce(`invalid Treemap tile colour string "${e}". Affected treemap tiles will be coloured ${t}.`),t}return e}function nodeSize(e){return e.children.length>0?e.sumSize-e.size:e.size}var textAlignFactors2={left:0,center:.5,right:1},verticalAlignFactors2={top:0,middle:.5,bottom:1},_TreemapSeries=class Et extends import_ag_charts_community117._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.properties=new TreemapSeriesProperties,this.groupSelection=Selection11.select(this.contentGroup,Group15),this.highlightSelection=Selection11.select(this.highlightGroup,Group15)}groupTitleHeight(t,i){var o,s;const a=(s=(o=this.labelData)==null?void 0:o[t.index])==null?void 0:s.label,{label:n}=this.properties.group,r=3;if(a!=null){if(n.fontSize>i.width/r||n.fontSize>i.height/r)return;{const{height:l}=getTextSize(a,n);return Math.max(l,n.fontSize)}}}getNodePadding(t,i){if(t.index===0)return{top:0,right:0,bottom:0,left:0};if(t.children.length===0){const{padding:r}=this.properties.tile;return{top:r,right:r,bottom:r,left:r}}const{label:{spacing:o},padding:s}=this.properties.group,a=this.groupTitleHeight(t,i),n=a!=null?a+o:0;return{top:s+n,right:s,bottom:s,left:s}}processData(){return __async(this,null,function*(){var t;yield __superGet(Et.prototype,this,"processData").call(this);const{childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,tile:c,group:h}=this.properties;if(!((t=this.data)!=null&&t.length)){this.labelData=void 0;return}const u=d=>typeof d=="number"?d.toFixed(2):typeof d=="string"?d:"";this.labelData=Array.from(this.rootNode,({datum:d,depth:g,children:m})=>{const p=m.length===0,y=p?c.label:h.label;let f;if(d!=null&&g!=null&&a!=null){const M=d[a];f=this.getLabelText(y,{depth:g,datum:d,childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,value:M},u)}f===""&&(f=void 0);let v;if(p&&d!=null&&g!=null&&n!=null){const M=d[n];v=this.getLabelText(c.secondaryLabel,{depth:g,datum:d,childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,value:M},u)}return v===""&&(v=void 0),f!=null||v!=null?{label:f,secondaryLabel:v}:void 0})})}squarify(t,i,o){const{index:s,datum:a,children:n}=t;if(i.width<=0||i.height<=0){o[s]=void 0;return}o[s]=s===0?void 0:i;const r=Array.from(n,(N,E)=>E).filter(N=>nodeSize(n[N])>0).sort((N,E)=>nodeSize(n[E])-nodeSize(n[N])),l=N=>{const E=r[N];return n[E]},c=r.every(N=>n[N].children.length===0),h=1,u=a!=null?this.getNodePadding(t,i):{top:0,right:0,bottom:0,left:0},d=i.width-u.left-u.right,g=i.height-u.top-u.bottom;if(d<=0||g<=0)return;const m=r.length;let p=0,y=0,f=1/0,v=r.reduce((N,E)=>N+nodeSize(n[E]),0);const M=new BBox9(i.x+u.left,i.y+u.top,d,g),x=M.clone();let S=0;for(;S<m;){const N=nodeSize(l(S)),E=nodeSize(l(y)),I=x.width<x.height;p+=N;const b=I?x.height:x.width,A=I?x.width:x.height,T=A*E/p;let L=b*p/v;const O=Math.max(T,L)/Math.min(T,L),R=Math.abs(h-O);if(R<f){f=R,S++;continue}p-=N,L=b*p/v;let C=I?x.x:x.y;for(let k=y;k<S;k++){const P=l(k),w=nodeSize(P),V=I?C:x.x,U=I?x.y:C,F=A*w/p,z=I?F:L,j=I?L:F,B=new BBox9(V,U,z,j);this.applyGap(M,B,c),this.squarify(P,B,o),v-=w,C+=F}I?(x.y+=L,x.height-=L):(x.x+=L,x.width-=L),y=S,p=0,f=1/0}const _=x.width<x.height;let D=_?x.x:x.y;for(let N=y;N<m;N++){const E=l(N),I=_?D:x.x,b=_?x.y:D,A=nodeSize(E)/v,T=x.width*(_?A:1),L=x.height*(_?1:A),O=new BBox9(I,b,T,L);this.applyGap(M,O,c),this.squarify(E,O,o),D+=_?T:L}}applyGap(t,i,o){const s=o?this.properties.tile.gap*.5:this.properties.group.gap*.5,a=c=>({left:c.x,top:c.y,right:c.x+c.width,bottom:c.y+c.height}),n=a(t),r=a(i);["top","right","bottom","left"].forEach(c=>{isEqual(n[c],r[c])||i.shrink(s,c)})}createNodeData(){return __async(this,null,function*(){return[]})}updateSelections(){return __async(this,null,function*(){var t;if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:i}=(t=this.chart)!=null?t:{};if(!i)return;const o=Array.from(this.rootNode),s=a=>{a.append([new Rect5,new Text11({tag:0}),new Text11({tag:1})])};this.groupSelection.update(o,s,a=>this.getDatumId(a)),this.highlightSelection.update(o,s,a=>this.getDatumId(a))})}getTileFormat(t,i){var o,s;const{datum:a,depth:n,children:r}=t,{colorKey:l,labelKey:c,secondaryLabelKey:h,sizeKey:u,tile:d,group:g,formatter:m}=this.properties;if(!m||a==null||n==null)return{};const p=r.length===0,y=(o=p?d.fill:g.fill)!=null?o:t.fill,f=(s=p?d.stroke:g.stroke)!=null?s:t.stroke,v=p?d.strokeWidth:g.strokeWidth,M=this.ctx.callbackCache.call(m,{seriesId:this.id,depth:n,datum:a,colorKey:l,labelKey:c,secondaryLabelKey:h,sizeKey:u,fill:y,stroke:f,strokeWidth:v,highlighted:i});return M??{}}getNodeFill(t){var i,o,s;if(t.children.length===0)return(i=this.properties.tile.fill)!=null?i:t.fill;const{undocumentedGroupFills:n}=this.properties,r=n[Math.min((o=t.depth)!=null?o:0,n.length)];return(s=this.properties.group.fill)!=null?s:r}getNodeStroke(t){var i,o,s;if(t.children.length===0)return(i=this.properties.tile.stroke)!=null?i:t.stroke;const{undocumentedGroupStrokes:n}=this.properties,r=n[Math.min((o=t.depth)!=null?o:0,n.length)];return(s=this.properties.group.stroke)!=null?s:r}updateNodes(){return __async(this,null,function*(){var t,i;const{rootNode:o,data:s}=this,{highlightStyle:a,tile:n,group:r}=this.properties,{seriesRect:l}=(t=this.chart)!=null?t:{};if(!l||!s)return;const{width:c,height:h}=l,u=Array.from(this.rootNode,()=>{});this.squarify(o,new BBox9(0,0,c,h),u);let d=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();d!=null&&!this.properties.group.interactive&&d.children.length!==0&&(d=void 0),this.updateNodeMidPoint(u);const g=(y,f,v)=>{var M,x,S,_,D,N,E,I,b,A;const T=u[y.index];if(T==null){f.visible=!1;return}const L=y.children.length===0;let O,R,C,k,P;if(v){const{tile:B,group:K}=a;O=L?B.fill:K.fill,R=L?B.fillOpacity:K.fillOpacity,C=L?B.stroke:K.stroke,k=L?B.strokeWidth:K.strokeWidth,P=L?B.strokeOpacity:K.strokeOpacity}const w=this.getTileFormat(y,v),V=(x=(M=w?.fill)!=null?M:O)!=null?x:this.getNodeFill(y),U=(_=(S=w?.fillOpacity)!=null?S:R)!=null?_:L?n.fillOpacity:r.fillOpacity,F=(N=(D=w?.stroke)!=null?D:C)!=null?N:this.getNodeStroke(y),z=(I=(E=w?.strokeWidth)!=null?E:k)!=null?I:L?n.strokeWidth:r.strokeWidth,j=(A=(b=w?.strokeOpacity)!=null?b:P)!=null?A:L?n.strokeOpacity:r.strokeOpacity;f.fill=validateColor(V),f.fillOpacity=U,f.stroke=validateColor(F),f.strokeWidth=z,f.strokeOpacity=j,f.crisp=!0,f.x=T.x,f.y=T.y,f.width=T.width,f.height=T.height,f.visible=!0};this.groupSelection.selectByClass(Rect5).forEach(y=>g(y.datum,y,!1)),this.highlightSelection.selectByClass(Rect5).forEach(y=>{var f;const v=y.datum===d;y.visible=v||((f=d?.contains(y.datum))!=null?f:!1),y.visible&&g(y.datum,y,v)});const m=Array.from(this.rootNode,y=>{var f,v,M,x;const{index:S,children:_}=y,D=u[S],N=(f=this.labelData)==null?void 0:f[S];if(!(D==null||N==null))if(_.length===0){const E={width:D.width,height:D.height,meta:null},I=formatLabels(N.label,this.properties.tile.label,N.secondaryLabel,this.properties.tile.secondaryLabel,{padding:n.padding},()=>E);if(I==null)return;const{height:b,label:A,secondaryLabel:T}=I,{textAlign:L,verticalAlign:O,padding:R}=n,C=(v=textAlignFactors2[L])!=null?v:.5,k=D.x+R+(D.width-2*R)*C,P=(M=verticalAlignFactors2[O])!=null?M:.5,w=D.y+R+b*.5+(D.height-2*R-b)*P;return{label:A!=null?{text:A.text,fontSize:A.fontSize,lineHeight:A.lineHeight,style:this.properties.tile.label,x:k,y:w-(b-A.height)*.5}:void 0,secondaryLabel:T!=null?{text:T.text,fontSize:T.fontSize,lineHeight:T.fontSize,style:this.properties.tile.secondaryLabel,x:k,y:w+(b-T.height)*.5}:void 0,verticalAlign:"middle",textAlign:L}}else{if(N?.label==null)return;{const{padding:E,textAlign:I}=r,b=this.groupTitleHeight(y,D);if(b==null)return;const A=D.width-2*E,{text:T}=Text11.wrap(N.label,D.width-2*E,1/0,r.label,"never"),L=(x=textAlignFactors2[I])!=null?x:.5;return{label:{text:T,fontSize:r.label.fontSize,lineHeight:AutoSizedLabel.lineHeight(r.label.fontSize),style:this.properties.group.label,x:D.x+E+A*L,y:D.y+E+b*.5},secondaryLabel:void 0,verticalAlign:"middle",textAlign:I}}}}),p=(y,f,v,M)=>{const x=y.children.length===0,S=m[y.index],_=v===0?S?.label:S?.secondaryLabel;if(S==null||_==null){f.visible=!1;return}let D;if(M){const{tile:N,group:E}=a;D=N.secondaryLabel.color,x?v===0&&(D=N.label.color):D=E.label.color}f.text=_.text,f.fontSize=_.fontSize,f.lineHeight=_.lineHeight,f.fontStyle=_.style.fontStyle,f.fontFamily=_.style.fontFamily,f.fontWeight=_.style.fontWeight,f.fill=D??_.style.color,f.textAlign=S.textAlign,f.textBaseline=S.verticalAlign,f.x=_.x,f.y=_.y,f.visible=!0};this.groupSelection.selectByClass(Text11).forEach(y=>{p(y.datum,y,y.tag,!1)}),this.highlightSelection.selectByClass(Text11).forEach(y=>{var f;const v=y.datum===d;y.visible=v||((f=d?.contains(y.datum))!=null?f:!1),y.visible&&p(y.datum,y,y.tag,v)})})}updateNodeMidPoint(t){this.rootNode.walk(i=>{const o=t[i.index];o!=null&&(i.midPoint.x=o.x+o.width/2,i.midPoint.y=o.y)})}getTooltipHtml(t){var i;const{datum:o,depth:s}=t,{id:a}=this,{tooltip:n,colorKey:r,colorName:l=r,labelKey:c,secondaryLabelKey:h,sizeKey:u,sizeName:d=u}=this.properties,g=t.children.length===0,m=g||this.properties.group.interactive;if(o==null||s==null||!m)return"";const p=c!=null?o[c]:void 0,y=this.getTileFormat(t,!1),f=(i=y?.fill)!=null?i:this.getNodeFill(t);if(!n.renderer&&!p)return"";const v=[],M=h!=null?o[h]:void 0;M!=null&&h!==r&&h!==u&&v.push(sanitizeHtml13(M));const x=u!=null?o[u]:void 0;x!=null&&v.push(`${d}: ${sanitizeHtml13(x)}`);const S=r!=null?o[r]:void 0;S!=null&&v.push(`${l}: ${sanitizeHtml13(S)}`);const _=v.join("<br>"),D={title:p,color:g?this.properties.tile.label.color:this.properties.group.label.color,backgroundColor:f,content:_};return n.toTooltipHtml(D,{depth:s,datum:o,colorKey:r,labelKey:c,secondaryLabelKey:h,sizeKey:u,title:p,color:f,seriesId:a})}};_TreemapSeries.className="TreemapSeries",_TreemapSeries.type="treemap";var TreemapSeries=_TreemapSeries,{DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:DEFAULT_DIVERGING_SERIES_COLOUR_RANGE4,DEFAULT_FONT_FAMILY:DEFAULT_FONT_FAMILY2,DEFAULT_HIERARCHY_FILLS:DEFAULT_HIERARCHY_FILLS2,DEFAULT_HIERARCHY_STROKES:DEFAULT_HIERARCHY_STROKES2,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2,EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS6,DEFAULT_LABEL_COLOUR:DEFAULT_LABEL_COLOUR3,FONT_WEIGHT:FONT_WEIGHT2}=import_ag_charts_community118._Theme,TreemapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",instanceConstructor:TreemapSeries,solo:!0,themeTemplate:{series:{__extends__:EXTENDS_SERIES_DEFAULTS6,group:{label:{enabled:!0,color:DEFAULT_LABEL_COLOUR3,fontStyle:void 0,fontWeight:FONT_WEIGHT2.NORMAL,fontSize:12,fontFamily:DEFAULT_FONT_FAMILY2,spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2,fontStyle:void 0,fontWeight:FONT_WEIGHT2.NORMAL,fontSize:18,minimumFontSize:10,fontFamily:DEFAULT_FONT_FAMILY2,wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2,fontStyle:void 0,fontWeight:void 0,fontSize:12,minimumFontSize:10,fontFamily:DEFAULT_FONT_FAMILY2,wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:DEFAULT_LABEL_COLOUR3},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2},secondaryLabel:{color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:e,colorsCount:t,themeTemplateParameters:i})=>{const{properties:o}=i,{fills:s,strokes:a}=e(t),n=o.get(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE4),r=o.get(DEFAULT_HIERARCHY_FILLS2),l=o.get(DEFAULT_HIERARCHY_STROKES2);return{fills:s,strokes:a,colorRange:n,undocumentedGroupFills:r,undocumentedGroupStrokes:l}}},import_ag_charts_community122=require("ag-charts-community"),import_ag_charts_community120=require("ag-charts-community"),import_ag_charts_community119=require("ag-charts-community"),{DropShadow:DropShadow3,Label:Label10}=import_ag_charts_community119._Scene,{AbstractBarSeriesProperties:AbstractBarSeriesProperties5,BaseProperties:BaseProperties9,PropertiesArray:PropertiesArray2,SeriesTooltip:SeriesTooltip17,Validate:Validate49,BOOLEAN:BOOLEAN17,COLOR_STRING:COLOR_STRING22,FUNCTION:FUNCTION16,LINE_DASH:LINE_DASH16,NUMBER:NUMBER13,OBJECT:OBJECT20,OBJECT_ARRAY,POSITIVE_NUMBER:POSITIVE_NUMBER24,RATIO:RATIO28,STRING:STRING19,UNION:UNION5}=import_ag_charts_community119._ModuleSupport,WaterfallSeriesTotal=class extends BaseProperties9{};__decorateClass([Validate49(UNION5(["subtotal","total"],"a total type"))],WaterfallSeriesTotal.prototype,"totalType",2),__decorateClass([Validate49(NUMBER13)],WaterfallSeriesTotal.prototype,"index",2),__decorateClass([Validate49(STRING19)],WaterfallSeriesTotal.prototype,"axisLabel",2);var WaterfallSeriesItemTooltip=class extends BaseProperties9{};__decorateClass([Validate49(FUNCTION16,{optional:!0})],WaterfallSeriesItemTooltip.prototype,"renderer",2);var WaterfallSeriesLabel=class extends Label10{constructor(){super(...arguments),this.placement="end",this.padding=6}};__decorateClass([Validate49(UNION5(["start","end","inside"],"a placement"))],WaterfallSeriesLabel.prototype,"placement",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],WaterfallSeriesLabel.prototype,"padding",2);var WaterfallSeriesItem=class extends BaseProperties9{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new DropShadow3().set({enabled:!1}),this.label=new WaterfallSeriesLabel,this.tooltip=new WaterfallSeriesItemTooltip}};__decorateClass([Validate49(STRING19,{optional:!0})],WaterfallSeriesItem.prototype,"name",2),__decorateClass([Validate49(COLOR_STRING22)],WaterfallSeriesItem.prototype,"fill",2),__decorateClass([Validate49(COLOR_STRING22)],WaterfallSeriesItem.prototype,"stroke",2),__decorateClass([Validate49(RATIO28)],WaterfallSeriesItem.prototype,"fillOpacity",2),__decorateClass([Validate49(RATIO28)],WaterfallSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Validate49(LINE_DASH16)],WaterfallSeriesItem.prototype,"lineDash",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],WaterfallSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],WaterfallSeriesItem.prototype,"strokeWidth",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],WaterfallSeriesItem.prototype,"cornerRadius",2),__decorateClass([Validate49(FUNCTION16,{optional:!0})],WaterfallSeriesItem.prototype,"formatter",2),__decorateClass([Validate49(OBJECT20)],WaterfallSeriesItem.prototype,"shadow",2),__decorateClass([Validate49(OBJECT20)],WaterfallSeriesItem.prototype,"label",2),__decorateClass([Validate49(OBJECT20)],WaterfallSeriesItem.prototype,"tooltip",2);var WaterfallSeriesConnectorLine=class extends BaseProperties9{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};__decorateClass([Validate49(BOOLEAN17)],WaterfallSeriesConnectorLine.prototype,"enabled",2),__decorateClass([Validate49(COLOR_STRING22)],WaterfallSeriesConnectorLine.prototype,"stroke",2),__decorateClass([Validate49(RATIO28)],WaterfallSeriesConnectorLine.prototype,"strokeOpacity",2),__decorateClass([Validate49(LINE_DASH16)],WaterfallSeriesConnectorLine.prototype,"lineDash",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],WaterfallSeriesConnectorLine.prototype,"lineDashOffset",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],WaterfallSeriesConnectorLine.prototype,"strokeWidth",2);var WaterfallSeriesItems=class extends BaseProperties9{constructor(){super(...arguments),this.positive=new WaterfallSeriesItem,this.negative=new WaterfallSeriesItem,this.total=new WaterfallSeriesItem}};__decorateClass([Validate49(OBJECT20)],WaterfallSeriesItems.prototype,"positive",2),__decorateClass([Validate49(OBJECT20)],WaterfallSeriesItems.prototype,"negative",2),__decorateClass([Validate49(OBJECT20)],WaterfallSeriesItems.prototype,"total",2);var WaterfallSeriesProperties=class extends AbstractBarSeriesProperties5{constructor(){super(...arguments),this.item=new WaterfallSeriesItems,this.totals=new PropertiesArray2(WaterfallSeriesTotal),this.line=new WaterfallSeriesConnectorLine,this.tooltip=new SeriesTooltip17}};__decorateClass([Validate49(STRING19)],WaterfallSeriesProperties.prototype,"xKey",2),__decorateClass([Validate49(STRING19)],WaterfallSeriesProperties.prototype,"yKey",2),__decorateClass([Validate49(STRING19,{optional:!0})],WaterfallSeriesProperties.prototype,"xName",2),__decorateClass([Validate49(STRING19,{optional:!0})],WaterfallSeriesProperties.prototype,"yName",2),__decorateClass([Validate49(OBJECT20)],WaterfallSeriesProperties.prototype,"item",2),__decorateClass([Validate49(OBJECT_ARRAY)],WaterfallSeriesProperties.prototype,"totals",2),__decorateClass([Validate49(OBJECT20)],WaterfallSeriesProperties.prototype,"line",2),__decorateClass([Validate49(OBJECT20)],WaterfallSeriesProperties.prototype,"tooltip",2);var{adjustLabelPlacement,SeriesNodePickMode:SeriesNodePickMode11,fixNumericExtent:fixNumericExtent9,valueProperty:valueProperty14,keyProperty:keyProperty8,accumulativeValueProperty,trailingAccumulatedValueProperty,ChartAxisDirection:ChartAxisDirection18,getRectConfig:getRectConfig2,updateRect:updateRect2,checkCrisp:checkCrisp2,updateLabelNode:updateLabelNode3,prepareBarAnimationFunctions:prepareBarAnimationFunctions3,collapsedStartingBarPosition:collapsedStartingBarPosition2,resetBarSelectionsFn:resetBarSelectionsFn3,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation7,resetLabelFn:resetLabelFn5,animationValidation:animationValidation9,DEFAULT_CARTESIAN_DIRECTION_KEYS:DEFAULT_CARTESIAN_DIRECTION_KEYS2,DEFAULT_CARTESIAN_DIRECTION_NAMES:DEFAULT_CARTESIAN_DIRECTION_NAMES2}=import_ag_charts_community120._ModuleSupport,{Rect:Rect6,motion:motion9}=import_ag_charts_community120._Scene,{sanitizeHtml:sanitizeHtml14,isContinuous,isNumber:isNumber6}=import_ag_charts_community120._Util,{ContinuousScale:ContinuousScale4,OrdinalTimeScale:OrdinalTimeScale5}=import_ag_charts_community120._Scale,_WaterfallSeries=class Lt extends import_ag_charts_community120._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,directionKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS2,directionNames:DEFAULT_CARTESIAN_DIRECTION_NAMES2,pickModes:[SeriesNodePickMode11.EXACT_SHAPE_MATCH],pathsPerSeries:1,hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:resetBarSelectionsFn3,label:resetLabelFn5}}),this.properties=new WaterfallSeriesProperties,this.seriesItemTypes=new Set(["positive","negative","total"])}processData(t){return __async(this,null,function*(){var i,o,s;const{xKey:a,yKey:n,totals:r}=this.properties,{data:l=[]}=this;if(!this.properties.isValid())return;const c=x=>isContinuous(x)&&Number(x)>=0,h=x=>isContinuous(x)&&Number(x)<0,u=x=>x==="total"||x==="subtotal",d={missingValue:void 0,invalidValue:void 0},g=[],m=r.reduce((x,S)=>{const _=x.get(S.index);return _?_.push(S):x.set(S.index,[S]),x},new Map);l.forEach((x,S)=>{var _;g.push(x),(_=m.get(S))==null||_.forEach(D=>g.push(__spreadProps(__spreadValues({},D.toJson()),{[a]:D.axisLabel})))});const p=(i=this.getCategoryAxis())==null?void 0:i.scale,y=ContinuousScale4.is(p)||OrdinalTimeScale5.is(p),f=ContinuousScale4.is(p)?"range":"category",v=[];this.ctx.animationManager.isSkipped()||v.push(animationValidation9(this));const{processedData:M}=yield this.requestDataModel(t,g,{props:[keyProperty8(this,a,y,{id:"xValue",valueType:f}),accumulativeValueProperty(this,n,!0,__spreadProps(__spreadValues({},d),{id:"yCurrent"})),accumulativeValueProperty(this,n,!0,__spreadProps(__spreadValues({},d),{missingValue:0,id:"yCurrentTotal"})),accumulativeValueProperty(this,n,!0,__spreadProps(__spreadValues({},d),{id:"yCurrentPositive",validation:c})),accumulativeValueProperty(this,n,!0,__spreadProps(__spreadValues({},d),{id:"yCurrentNegative",validation:h})),trailingAccumulatedValueProperty(this,n,!0,__spreadProps(__spreadValues({},d),{id:"yPrevious"})),valueProperty14(this,n,!0,{id:"yRaw"}),valueProperty14(this,"totalType",!1,{id:"totalTypeValue",missingValue:void 0,validation:u}),...y?[import_ag_charts_community120._ModuleSupport.SMALLEST_KEY_INTERVAL]:[],...v],dataVisible:this.visible});this.smallestDataInterval={x:(s=(o=M.reduced)==null?void 0:o.smallestKeyInterval)!=null?s:1/0,y:1/0},this.updateSeriesItemTypes(),this.animationState.transition("updateData")})}getSeriesDomain(t){var i;const{processedData:o,dataModel:s}=this;if(!o||!s)return[];const{domain:{keys:[a],values:n},reduced:{[import_ag_charts_community120._ModuleSupport.SMALLEST_KEY_INTERVAL.property]:r}={}}=o,l=s.resolveProcessedDataDefById(this,"xValue");if(t===this.getCategoryDirection()){if(l?.def.type==="key"&&l?.def.valueType==="category")return a;const c=r!=null&&isFinite(r)?r:0,h=(i=import_ag_charts_community120._ModuleSupport.extent(a))!=null?i:[NaN,NaN],u=this.getCategoryAxis(),d=!!u?.isReversed(),g=t===ChartAxisDirection18.Y,m=d===g?0:-c,p=d===g?c:0,y=h[0]+m,f=h[1]+p;return fixNumericExtent9([y,f],u)}else{const c=s.resolveProcessedDataIndexById(this,"yCurrent").index,h=n[c],u=[Math.min(0,h[0]),Math.max(0,h[1])];return fixNumericExtent9(u)}}createNodeData(){return __async(this,null,function*(){var t,i,o;const{data:s,dataModel:a,smallestDataInterval:n}=this,{visible:r,line:l}=this.properties,c=this.getCategoryAxis(),h=this.getValueAxis();if(!(s&&r&&c&&h&&a))return[];const u=c.scale,d=h.scale,g=c.isReversed(),m=this.getBarDirection()===ChartAxisDirection18.X,p=(t=ContinuousScale4.is(u)?u.calcBandwidth(n?.x):u.bandwidth)!=null?t:10;if(((i=this.processedData)==null?void 0:i.type)!=="ungrouped")return[];const y=[],f=a.resolveProcessedDataIndexById(this,"yRaw").index,v=a.resolveProcessedDataIndexById(this,"xValue").index,M=a.resolveProcessedDataIndexById(this,"totalTypeValue").index,x=new Map,S=[],_=a.resolveProcessedDataIndexById(this,"yCurrent").index,D=a.resolveProcessedDataIndexById(this,"yPrevious").index,N=a.resolveProcessedDataIndexById(this,"yCurrentTotal").index;function E(C,k,P){return C||k?{cumulativeValue:P[N],trailingValue:k?b:0}:{cumulativeValue:P[_],trailingValue:P[D]}}function I(C,k,P,w,V){return C?w:k?(w??0)-(V??0):P}let b=0;const{xKey:A,yKey:T,xName:L,yName:O}=this.properties;(o=this.processedData)==null||o.data.forEach(({keys:C,datum:k,values:P},w)=>{var V;const U=P[M],F=this.isSubtotal(U),z=this.isTotal(U),j=z||F,B=C[v],K=Math.round(u.convert(B)),G=P[f],{cumulativeValue:W,trailingValue:H}=E(z,F,P);j&&(b=W??0);const Y=Math.round(d.convert(W)),q=Math.round(d.convert(H)),X=I(z,F,G,W,H),Z=(X??0)>=0,$=this.getSeriesItemType(Z,U),{fill:J,stroke:st,strokeWidth:tt,label:et}=this.getItemConfig($),at=Z?Y:q,ct=Z?q:Y,ut=Math.max(tt,Math.abs(ct-at)),nt=$;let ot=x.get(nt);ot===void 0&&(ot=y.length,x.set(nt,ot)),(V=y[ot])!=null||(y[ot]={itemId:nt,nodeData:[],labelData:[],pointData:[],scales:__superGet(Lt.prototype,this,"calculateScaling").call(this),visible:this.visible});const Q={x:m?Math.min(at,ct):K,y:m?K:Math.min(at,ct),width:m?ut:p,height:m?p:ut},Ot={x:Q.x+Q.width/2,y:Q.y+Q.height/2},St=j?Y:q,dt=Math.floor(l.strokeWidth)%2/2,vt=g?Y:St,_t=g?St:Y;let rt,lt;m?(rt={x:vt+dt,y:Q.y},lt={x:_t+dt,y:Q.y+Q.height}):(rt={x:Q.x,y:vt+dt},lt={x:Q.x+Q.width,y:_t+dt});const kt={x:g?lt.x:rt.x,y:g?lt.y:rt.y,x2:g?rt.x:lt.x,y2:g?rt.y:lt.y,size:0};S.push(kt);const Rt=this.getLabelText(et,{itemId:nt==="subtotal"?"total":nt,value:X,datum:k,xKey:A,yKey:T,xName:L,yName:O},gt=>isNumber6(gt)?gt.toFixed(2):String(gt)),Mt={index:w,series:this,itemId:nt,datum:k,cumulativeValue:W??0,xValue:B,yValue:X,yKey:T,xKey:A,x:Q.x,y:Q.y,width:Q.width,height:Q.height,midPoint:Ot,fill:J,stroke:st,strokeWidth:tt,opacity:1,label:__spreadValues({text:Rt},adjustLabelPlacement({isPositive:(X??-1)>=0,isVertical:!m,placement:et.placement,padding:et.padding,rect:Q}))};y[ot].nodeData.push(Mt),y[ot].labelData.push(Mt)});const R=this.properties.line.enabled;return y.length>0&&_!==void 0&&R&&(y[0].pointData=S),y})}updateSeriesItemTypes(){var t,i;const{dataModel:o,seriesItemTypes:s,processedData:a}=this;if(!o||!a)return;s.clear();const n=o.resolveProcessedDataIndexById(this,"yCurrentPositive").index,r=o.resolveProcessedDataIndexById(this,"yCurrentNegative").index,l=o.resolveProcessedDataIndexById(this,"totalTypeValue").index,c=(t=a.domain.values[n])!=null?t:[],h=(i=a.domain.values[r])!=null?i:[];c.length>0&&s.add("positive"),h.length>0&&s.add("negative");const u=a?.domain.values[l];u&&u.forEach(d=>{(d==="total"||d==="subtotal")&&s.add("total")})}isSubtotal(t){return t==="subtotal"}isTotal(t){return t==="total"}nodeFactory(){return new Rect6}getSeriesItemType(t,i){return i??(t?"positive":"negative")}getItemConfig(t){switch(t){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(t){return __async(this,null,function*(){const{nodeData:i,datumSelection:o}=t,s=i??[];return o.update(s)})}updateDatumNodes(t){return __async(this,null,function*(){const{datumSelection:i,isHighlight:o}=t,{id:s,ctx:a}=this,{yKey:n,highlightStyle:{item:r}}=this.properties,l=this.getCategoryAxis(),c=checkCrisp2(l?.visibleRange),h=this.getCategoryDirection()===ChartAxisDirection18.X;i.each((u,d)=>{const g=d.itemId,{fillOpacity:m,strokeOpacity:p,strokeWidth:y,lineDash:f,lineDashOffset:v,cornerRadius:M,formatter:x,shadow:S}=this.getItemConfig(g),_={fill:d.fill,stroke:d.stroke,fillOpacity:m,strokeOpacity:p,lineDash:f,lineDashOffset:v,fillShadow:S,strokeWidth:this.getStrokeWidth(y),cornerRadius:M},D=h?d.width>0:d.height>0,N=getRectConfig2({datum:d,isHighlighted:o,style:_,highlightStyle:r,formatter:x,seriesId:s,itemId:d.itemId,ctx:a,value:d.yValue,yKey:n});N.crisp=c,N.visible=D,updateRect2({rect:u,config:N})})})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:i,labelSelection:o}=t;if(i.length===0)return o.update([]);const s=i[0].itemId,{label:a}=this.getItemConfig(s),n=a.enabled?i:[];return o.update(n)})}updateLabelNodes(t){return __async(this,null,function*(){t.labelSelection.each((i,o)=>{updateLabelNode3(i,this.getItemConfig(o.itemId).label,o.label)})})}getTooltipHtml(t){var i,o,s;const a=this.getCategoryAxis(),n=this.getValueAxis();if(!this.properties.isValid()||!a||!n)return"";const{id:r}=this,{xKey:l,yKey:c,xName:h,yName:u,tooltip:d}=this.properties,{datum:g,itemId:m,xValue:p,yValue:y}=t,{fill:f,strokeWidth:v,name:M,formatter:x}=this.getItemConfig(m);let S;x&&(S=this.ctx.callbackCache.call(x,{datum:g,value:y,xKey:l,yKey:c,fill:f,strokeWidth:v,highlighted:!1,seriesId:r,itemId:t.itemId}));const _=(o=(i=S?.fill)!=null?i:f)!=null?o:"gray",D=sanitizeHtml14(a.formatDatum(p)),N=sanitizeHtml14(n.formatDatum(y)),E=this.isTotal(m),I=this.isSubtotal(m);let b;E?b="Total":I?b="Subtotal":b=(s=M??u)!=null?s:c;const A=sanitizeHtml14(u),T=`<b>${sanitizeHtml14(h??l)}</b>: ${D}<br/><b>${sanitizeHtml14(b)}</b>: ${N}`;return d.toTooltipHtml({title:A,content:T,backgroundColor:_},{seriesId:r,itemId:m,datum:g,xKey:l,yKey:c,xName:h,yName:u,color:_})}getLegendData(t){if(t!=="category")return[];const{id:i,seriesItemTypes:o}=this,s=[],a=n=>n.charAt(0).toUpperCase()+n.substring(1);return o.forEach(n=>{const{fill:r,stroke:l,fillOpacity:c,strokeOpacity:h,strokeWidth:u,name:d}=this.getItemConfig(n);s.push({legendType:"category",id:i,itemId:n,seriesId:i,enabled:!0,label:{text:d??a(n)},marker:{fill:r,stroke:l,fillOpacity:c,strokeOpacity:h,strokeWidth:u}})}),s}toggleSeriesItem(){}animateEmptyUpdateReady({datumSelections:t,labelSelections:i,contextData:o,paths:s}){const a=prepareBarAnimationFunctions3(collapsedStartingBarPosition2(this.isVertical(),this.axes,"normal"));motion9.fromToMotion(this.id,"datums",this.ctx.animationManager,t,a),seriesLabelFadeInAnimation7(this,"labels",this.ctx.animationManager,i),o.forEach(({pointData:n},r)=>{if(r!==0||!n)return;const[l]=s[r];this.isVertical()?this.animateConnectorLinesVertical(l,n):this.animateConnectorLinesHorizontal(l,n)})}animateConnectorLinesHorizontal(t,i){const{path:o}=t;this.updateLineNode(t);const s=this.getValueAxis(),a=s?.isReversed(),n=a?(h,u)=>h<u:(h,u)=>h>u,r=s?.scale.convert(0),l=i.reduce((h,u)=>(n(u.x,h)&&(h=u.x),h),a?1/0:0),c=(h,u,d,g,m)=>(h-u)/(d-u)*(m-g)+g;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:r,to:l,ease:import_ag_charts_community120._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(h){o.clear({trackChanges:!0}),i.forEach((u,d)=>{const g=c(h,r,l,r,u.x),m=c(h,r,l,r,u.x2);d!==0&&o.lineTo(g,u.y),o.moveTo(m,u.y2)}),t.checkPathDirty()}})}animateConnectorLinesVertical(t,i){const{path:o}=t;this.updateLineNode(t);const s=this.getValueAxis(),a=s?.isReversed(),n=a?(h,u)=>h>u:(h,u)=>h<u,r=s?.scale.convert(0),l=i.reduce((h,u)=>(n(u.y,h)&&(h=u.y),h),a?0:1/0),c=(h,u,d,g,m)=>(h-u)/(d-u)*(m-g)+g;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:r,to:l,ease:import_ag_charts_community120._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(h){o.clear({trackChanges:!0}),i.forEach((u,d)=>{const g=c(h,r,l,r,u.y),m=c(h,r,l,r,u.y2);d!==0&&o.lineTo(u.x,g),o.moveTo(u.x2,m)}),t.checkPathDirty()}})}animateReadyResize(t){super.animateReadyResize(t),this.resetConnectorLinesPath(t)}updatePaths(t){return __async(this,null,function*(){this.resetConnectorLinesPath({contextData:[t.contextData],paths:[t.paths]})})}resetConnectorLinesPath({contextData:t,paths:i}){if(i.length===0)return;const[o]=i[0];this.updateLineNode(o);const{path:s}=o;s.clear({trackChanges:!0});const{pointData:a}=t[0];a&&(a.forEach((n,r)=>{r!==0&&s.lineTo(n.x,n.y),s.moveTo(n.x2,n.y2)}),o.checkPathDirty())}updateLineNode(t){const{stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}=this.properties.line;t.setProperties({fill:void 0,stroke:i,strokeWidth:this.getStrokeWidth(o),strokeOpacity:s,lineDash:a,lineDashOffset:n,lineJoin:"round",pointerEvents:import_ag_charts_community120._Scene.PointerEvents.None})}isLabelEnabled(){const{positive:t,negative:i,total:o}=this.properties.item;return t.label.enabled||i.label.enabled||o.label.enabled}onDataChange(){}};_WaterfallSeries.className="WaterfallSeries",_WaterfallSeries.type="waterfall";var WaterfallSeries=_WaterfallSeries,import_ag_charts_community121=require("ag-charts-community"),itemTheme={strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:import_ag_charts_community121._Theme.FONT_WEIGHT.NORMAL,fontSize:12,fontFamily:import_ag_charts_community121._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community121._Theme.DEFAULT_LABEL_COLOUR,formatter:void 0,placement:"inside"}},WATERFALL_SERIES_THEME={series:{__extends__:import_ag_charts_community121._Theme.EXTENDS_SERIES_DEFAULTS,item:{positive:itemTheme,negative:itemTheme,total:itemTheme},line:{stroke:import_ag_charts_community121._Theme.DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,item:{toggleSeriesVisible:!1}}},WaterfallModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,instanceConstructor:WaterfallSeries,defaultAxes:[{type:import_ag_charts_community122._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community122._Theme.POSITION.BOTTOM},{type:import_ag_charts_community122._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community122._Theme.POSITION.LEFT}],themeTemplate:WATERFALL_SERIES_THEME,swapDefaultAxesCondition:({direction:e})=>e==="horizontal",paletteFactory:({takeColors:e,colorsCount:t,userPalette:i,themeTemplateParameters:o})=>{const{properties:s}=o,{fills:a,strokes:n}=e(t);return i?{item:{positive:{fill:a[0],stroke:n[0]},negative:{fill:a[1],stroke:n[1]},total:{fill:a[2],stroke:n[2]}}}:{item:{positive:s.get(import_ag_charts_community122._Theme.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS),negative:s.get(import_ag_charts_community122._Theme.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS),total:s.get(import_ag_charts_community122._Theme.DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS)}}}};function setupEnterpriseModules(){import_ag_charts_community123._ModuleSupport.moduleRegistry.register(AngleCategoryAxisModule,AngleNumberAxisModule,AnimationModule,BackgroundModule,BoxPlotModule,CandlestickModule,BulletModule,ContextMenuModule,CrosshairModule,DataSourceModule,ErrorBarsModule,MapLineModule,MapLineBackgroundModule,MapMarkerModule,MapShapeModule,MapShapeBackgroundModule,NavigatorModule,GradientLegendModule,HeatmapModule,NightingaleModule,OrdinalTimeAxisModule,RadarAreaModule,RadarLineModule,RadialBarModule,RadialColumnModule,RadiusCategoryAxisModule,RadiusNumberAxisModule,RangeBarModule,RangeButtonsModule,RangeAreaModule,SunburstModule,SyncModule,TreemapModule,WaterfallModule,ZoomModule),import_ag_charts_community123._ModuleSupport.enterpriseModule.isEnterprise=!0,import_ag_charts_community123._ModuleSupport.enterpriseModule.licenseManager=e=>{var t,i;return new LicenseManager((i=(t=e.container)==null?void 0:t.ownerDocument)!=null?i:typeof document>"u"?void 0:document)},import_ag_charts_community123._ModuleSupport.enterpriseModule.injectWatermark=injectWatermark}__reExport(main_exports,require("ag-charts-community"),module.exports),setupEnterpriseModules();
