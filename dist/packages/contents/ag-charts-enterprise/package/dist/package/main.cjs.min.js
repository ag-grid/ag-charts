"use strict";var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__reflectGet=Reflect.get,__pow=Math.pow,__defNormalProp=(t,e,i)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,__spreadValues=(t,e)=>{for(var i in e||(e={}))__hasOwnProp.call(e,i)&&__defNormalProp(t,i,e[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(e))__propIsEnum.call(e,i)&&__defNormalProp(t,i,e[i]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),__objRest=(t,e)=>{var i={};for(var o in t)__hasOwnProp.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&__getOwnPropSymbols)for(var o of __getOwnPropSymbols(t))e.indexOf(o)<0&&__propIsEnum.call(t,o)&&(i[o]=t[o]);return i},__export=(t,e)=>{for(var i in e)__defProp(t,i,{get:e[i],enumerable:!0})},__copyProps=(t,e,i,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of __getOwnPropNames(e))!__hasOwnProp.call(t,s)&&s!==i&&__defProp(t,s,{get:()=>e[s],enumerable:!(o=__getOwnPropDesc(e,s))||o.enumerable});return t},__reExport=(t,e,i)=>(__copyProps(t,e,"default"),i&&__copyProps(i,e,"default")),__toCommonJS=t=>__copyProps(__defProp({},"__esModule",{value:!0}),t),__decorateClass=(t,e,i,o)=>{for(var s=o>1?void 0:o?__getOwnPropDesc(e,i):e,a=t.length-1,n;a>=0;a--)(n=t[a])&&(s=(o?n(e,i,s):n(s))||s);return o&&s&&__defProp(e,i,s),s},__superGet=(t,e,i)=>__reflectGet(__getProtoOf(t),i,e),__async=(t,e,i)=>new Promise((o,s)=>{var a=l=>{try{r(i.next(l))}catch(c){s(c)}},n=l=>{try{r(i.throw(l))}catch(c){s(c)}},r=l=>l.done?o(l.value):Promise.resolve(l.value).then(a,n);r((i=i.apply(t,e)).next())}),main_exports={};__export(main_exports,{AgCharts:()=>import_ag_charts_community139.AgCharts,time:()=>import_ag_charts_community139.time}),module.exports=__toCommonJS(main_exports);var import_ag_charts_community139=require("ag-charts-community"),import_ag_charts_community138=require("ag-charts-community"),import_ag_charts_community=require("ag-charts-community"),ANGLE_AXIS_THEME={__extends__:import_ag_charts_community._Theme.EXTENDS_AXES_DEFAULTS,gridLine:{enabled:!1,__extends__:import_ag_charts_community._Theme.EXTENDS_AXES_GRID_LINE_DEFAULTS}},import_ag_charts_community5=require("ag-charts-community");function loopSymmetrically(t,e,i){const o=(a,n,r,l)=>{let c=t[0];for(let u=a;r>0?u<=n:u>n;u+=r){const h=t[u];if(l(c,h))return!0;c=h}return!1},s=Math.floor(t.length/2);return o(e,s,e,i)?!0:o(t.length-e,s,-e,i)}var import_ag_charts_community4=require("ag-charts-community"),import_ag_charts_community3=require("ag-charts-community"),import_ag_charts_community2=require("ag-charts-community"),{ChartAxisDirection,Layers,ARRAY,BOOLEAN,COLOR_STRING,FONT_STYLE,FONT_WEIGHT,LINE_DASH,NUMBER,POSITIVE_NUMBER,RATIO,STRING,UNION,AND,Validate,MATCHING_CROSSLINE_TYPE}=import_ag_charts_community2._ModuleSupport,{Group}=import_ag_charts_community2._Scene,{createId}=import_ag_charts_community2._Util,PolarCrossLineLabel=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.parallel=void 0}};__decorateClass([Validate(BOOLEAN,{optional:!0})],PolarCrossLineLabel.prototype,"enabled",2),__decorateClass([Validate(STRING,{optional:!0})],PolarCrossLineLabel.prototype,"text",2),__decorateClass([Validate(FONT_STYLE,{optional:!0})],PolarCrossLineLabel.prototype,"fontStyle",2),__decorateClass([Validate(FONT_WEIGHT,{optional:!0})],PolarCrossLineLabel.prototype,"fontWeight",2),__decorateClass([Validate(POSITIVE_NUMBER)],PolarCrossLineLabel.prototype,"fontSize",2),__decorateClass([Validate(STRING)],PolarCrossLineLabel.prototype,"fontFamily",2),__decorateClass([Validate(NUMBER)],PolarCrossLineLabel.prototype,"padding",2),__decorateClass([Validate(COLOR_STRING,{optional:!0})],PolarCrossLineLabel.prototype,"color",2),__decorateClass([Validate(BOOLEAN,{optional:!0})],PolarCrossLineLabel.prototype,"parallel",2);var _PolarCrossLine=class pt{constructor(){this.id=createId(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.shape="polygon",this.label=new PolarCrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.group=new Group({name:`${this.id}`,layer:!0,zIndex:pt.LINE_LAYER_ZINDEX}),this.labelGroup=new Group({name:`${this.id}`,layer:!0,zIndex:pt.LABEL_LAYER_ZINDEX})}setSectorNodeProps(e){var i,o,s;e.fill=this.fill,e.fillOpacity=(i=this.fillOpacity)!=null?i:1,e.stroke=this.stroke,e.strokeOpacity=(o=this.strokeOpacity)!=null?o:1,e.strokeWidth=(s=this.strokeWidth)!=null?s:1,e.lineDash=this.lineDash}setLabelNodeProps(e,i,o,s,a){const{label:n}=this;e.x=i,e.y=o,e.text=n.text,e.textAlign="center",e.textBaseline=s,e.rotation=a,e.rotationCenterX=i,e.rotationCenterY=o,e.fill=n.color,e.fontFamily=n.fontFamily,e.fontSize=n.fontSize,e.fontStyle=n.fontStyle,e.visible=!0}calculateLayout(e){}};_PolarCrossLine.LINE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_LINE_ZINDEX,_PolarCrossLine.RANGE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_RANGE_ZINDEX,_PolarCrossLine.LABEL_LAYER_ZINDEX=Layers.SERIES_LABEL_ZINDEX,__decorateClass([Validate(BOOLEAN,{optional:!0})],_PolarCrossLine.prototype,"enabled",2),__decorateClass([Validate(UNION(["range","line"],"a crossLine type"),{optional:!0})],_PolarCrossLine.prototype,"type",2),__decorateClass([Validate(AND(MATCHING_CROSSLINE_TYPE("range"),ARRAY.restrict({length:2})),{optional:!0})],_PolarCrossLine.prototype,"range",2),__decorateClass([Validate(MATCHING_CROSSLINE_TYPE("value"),{optional:!0})],_PolarCrossLine.prototype,"value",2),__decorateClass([Validate(COLOR_STRING,{optional:!0})],_PolarCrossLine.prototype,"fill",2),__decorateClass([Validate(RATIO,{optional:!0})],_PolarCrossLine.prototype,"fillOpacity",2),__decorateClass([Validate(COLOR_STRING,{optional:!0})],_PolarCrossLine.prototype,"stroke",2),__decorateClass([Validate(NUMBER,{optional:!0})],_PolarCrossLine.prototype,"strokeWidth",2),__decorateClass([Validate(RATIO,{optional:!0})],_PolarCrossLine.prototype,"strokeOpacity",2),__decorateClass([Validate(LINE_DASH,{optional:!0})],_PolarCrossLine.prototype,"lineDash",2);var PolarCrossLine=_PolarCrossLine,{ChartAxisDirection:ChartAxisDirection2,validateCrossLineValues}=import_ag_charts_community3._ModuleSupport,{Path,Sector,Text}=import_ag_charts_community3._Scene,{normalizeAngle360,isNumberEqual}=import_ag_charts_community3._Util,_AngleCrossLine=class ht extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection2.X,this.polygonNode=new Path,this.sectorNode=new Sector,this.lineNode=new Path,this.labelNode=new Text,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.group.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:i,shape:o,type:s,value:a,range:n}=this;if(!i||!s||!validateCrossLineValues(s,a,n,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=e,this.labelGroup.visible=e,s==="line"&&o==="circle"&&i instanceof import_ag_charts_community3._Scale.BandScale&&(this.type="range",this.range=[a,a]),this.updateLineNode(e),this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e)}updateLineNode(e){var i,o;const{scale:s,type:a,value:n,lineNode:r}=this;let l;if(!e||a!=="line"||!s||isNaN(l=s.convert(n))){r.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:u}=this;r.visible=!0,r.stroke=this.stroke,r.strokeOpacity=(i=this.strokeOpacity)!=null?i:1,r.strokeWidth=(o=this.strokeWidth)!=null?o:1,r.fill=void 0,r.lineDash=this.lineDash;const h=u*Math.cos(l),d=u*Math.sin(l),p=c*Math.cos(l),y=c*Math.sin(l);r.path.clear(!0),r.path.moveTo(p,y),r.path.lineTo(h,d),this.group.zIndex=ht.LINE_LAYER_ZINDEX}updatePolygonNode(e){var i;const{polygonNode:o,range:s,scale:a,shape:n,type:r}=this;let l;if(!e||r!=="range"||n!=="polygon"||!a||!s||!(l=(i=a.ticks)==null?void 0:i.call(a))){o.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:u}=this,h=l.indexOf(s[0]),d=l.indexOf(s[1]),y=(h<=d?l.slice(h,d+1):l.slice(h).concat(l.slice(0,d+1))).map(f=>a.convert(f));o.visible=!0,this.setSectorNodeProps(o);const{path:g}=o;g.clear(!0),y.forEach((f,m)=>{const S=u*Math.cos(f),v=u*Math.sin(f);m===0?g.moveTo(S,v):g.lineTo(S,v)}),c===0?g.lineTo(0,0):y.slice().reverse().forEach(f=>{const m=c*Math.cos(f),S=c*Math.sin(f);g.lineTo(m,S)}),o.path.closePath(),this.group.zIndex=ht.RANGE_LAYER_ZINDEX}updateSectorNode(e){var i;const{sectorNode:o,range:s,scale:a,shape:n,type:r}=this;if(!e||r!=="range"||n!=="circle"||!a||!s){o.visible=!1;return}const{axisInnerRadius:l,axisOuterRadius:c}=this,u=s.map(p=>a.convert(p)),h=(i=a.step)!=null?i:0,d=a instanceof import_ag_charts_community3._Scale.BandScale?h/2:0;o.visible=!0,this.setSectorNodeProps(o),o.centerX=0,o.centerY=0,o.innerRadius=l,o.outerRadius=c,o.startAngle=u[0]-d,o.endAngle=u[1]+d,this.group.zIndex=ht.RANGE_LAYER_ZINDEX}updateLabelNode(e){var i,o;const{label:s,labelNode:a,range:n,scale:r,type:l}=this;if(!e||s.enabled===!1||!s.text||!r||l==="range"&&!n){a.visible=!0;return}const{axisInnerRadius:c,axisOuterRadius:u}=this;let h,d,p,y;if(l==="line"){const g=normalizeAngle360(r.convert(this.value)),f=1.5*Math.PI,m=isNumberEqual(g,f)||g>f||g<Math.PI/2,S=(c+u)/2*Math.cos(g),v=(c+u)/2*Math.sin(g);h=S+s.padding*Math.cos(g+Math.PI/2),d=v+s.padding*Math.sin(g+Math.PI/2),y=m?"top":"bottom",p=m?g:g-Math.PI}else{const[g,f]=n.map(x=>normalizeAngle360(r.convert(x)));let m=(g+f)/2;g>f&&(m-=Math.PI),m=normalizeAngle360(m);const S=(isNumberEqual(m,0)||m>0)&&m<Math.PI;let v;const M=(o=(i=r.ticks)==null?void 0:i.call(r))!=null?o:[];this.shape==="circle"||M.length<3?v=u-s.padding:v=u*Math.cos(Math.PI/M.length)-s.padding,h=v*Math.cos(m),d=v*Math.sin(m),y=S?"bottom":"top",p=S?m-Math.PI/2:m+Math.PI/2}this.setLabelNodeProps(a,h,d,y,p)}};_AngleCrossLine.className="AngleCrossLine";var AngleCrossLine=_AngleCrossLine,{AND:AND2,assignJsonApplyConstructedArray,ChartAxisDirection:ChartAxisDirection3,GREATER_THAN,NUMBER:NUMBER2,UNION:UNION2,ProxyOnWrite,Validate:Validate2}=import_ag_charts_community4._ModuleSupport,{Path:Path2,Text:Text2}=import_ag_charts_community4._Scene,{angleBetween,isNumberEqual:isNumberEqual2,toRadians,normalizeAngle360:normalizeAngle3602}=import_ag_charts_community4._Util,AngleAxisLabel=class extends import_ag_charts_community4._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};__decorateClass([Validate2(UNION2(["fixed","parallel","perpendicular"],"a label orientation"))],AngleAxisLabel.prototype,"orientation",2);var AngleAxis=class extends import_ag_charts_community4._ModuleSupport.PolarAxis{constructor(t,e){super(t,e),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new Path2),this.computeRange=()=>{const i=normalizeAngle3602(-Math.PI/2+toRadians(this.startAngle));let o=this.endAngle==null?i+Math.PI*2:-Math.PI/2+toRadians(this.endAngle);o<i&&(o+=2*Math.PI),this.range=[i,o]},this.includeInvisibleDomains=!0}get direction(){return ChartAxisDirection3.X}assignCrossLineArrayConstructor(t){assignJsonApplyConstructedArray(t,AngleCrossLine)}createLabel(){return new AngleAxisLabel}update(){return this.updateScale(),this.updatePosition(),this.updateGridLines(),this.updateTickLines(),this.updateLabels(),this.updateRadiusLine(),this.updateCrossLines(),this.tickData.length}calculateAvailableRange(){const{range:t,gridLength:e}=this;return angleBetween(t[0],t[1])*e}updatePosition(){const{translation:t,axisGroup:e,gridGroup:i,crossLineGroup:o}=this,s=Math.floor(t.x),a=Math.floor(t.y);e.translationX=s,e.translationY=a,i.translationX=s,i.translationY=a,o.translationX=s,o.translationY=a}updateRadiusLine(){const t=this.radiusLine,{path:e}=t;e.clear(!0);const{points:i,closePath:o}=this.getAxisLinePoints();i.forEach(({x:s,y:a,moveTo:n,arc:r,radius:l=0,startAngle:c=0,endAngle:u=0})=>{r?e.arc(s,a,l,c,u):n?e.moveTo(s,a):e.lineTo(s,a)}),o&&e.closePath(),t.visible=this.line.enabled,t.stroke=this.line.color,t.strokeWidth=this.line.width,t.fill=void 0}getAxisLinePoints(){var t,e;const{scale:i,shape:o,gridLength:s}=this,[a,n]=this.range,r=isNumberEqual2(n-a,2*Math.PI),l=[];if(o==="circle")r?(l.push({x:s,y:0,moveTo:!0}),l.push({x:0,y:0,radius:s,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1})):(l.push({x:s*Math.cos(a),y:s*Math.sin(a),moveTo:!0}),l.push({x:0,y:0,radius:s,startAngle:normalizeAngle3602(a),endAngle:normalizeAngle3602(n),arc:!0,moveTo:!1}));else if(o==="polygon"){const c=((e=(t=i.ticks)==null?void 0:t.call(i))!=null?e:[]).map(u=>i.convert(u));c.length>2&&c.forEach((u,h)=>{const d=s*Math.cos(u),p=s*Math.sin(u),y=h===0;l.push({x:d,y:p,moveTo:y})})}return{points:l,closePath:r}}updateGridLines(){const{scale:t,gridLength:e,gridLine:{enabled:i,style:o,width:s},innerRadiusRatio:a}=this;if(!(o&&e>0))return;const n=this.tickData,r=e*a,l=o.length,c=u=>u.value;this.gridLineGroupSelection.update(i?n:[],void 0,c).each((u,h,d)=>{const{value:p}=h,{stroke:y,lineDash:g}=o[d%l],f=t.convert(p);u.x1=r*Math.cos(f),u.y1=r*Math.sin(f),u.x2=e*Math.cos(f),u.y2=e*Math.sin(f),u.stroke=y,u.strokeWidth=s,u.lineDash=g,u.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:t,tickLabelGroupSelection:e}=this,i=this.tickData;e.update(t.enabled?i:[]).each((o,s,a)=>{const n=this.labelData[a];if(!n||n.hidden){o.visible=!1;return}o.text=n.text,o.setFont(t),o.fill=t.color,o.x=n.x,o.y=n.y,o.textAlign=n.textAlign,o.textBaseline=n.textBaseline,o.visible=!0,n.rotation?(o.rotation=n.rotation,o.rotationCenterX=n.x,o.rotationCenterY=n.y):o.rotation=0})}updateTickLines(){const{scale:t,gridLength:e,tick:i,tickLineGroupSelection:o}=this,s=this.tickData;o.update(i.enabled?s:[]).each((a,n)=>{const{value:r}=n,l=t.convert(r),c=Math.cos(l),u=Math.sin(l);a.x1=e*c,a.y1=e*u,a.x2=(e+i.size)*c,a.y2=(e+i.size)*u,a.stroke=i.color,a.strokeWidth=i.width})}createLabelNodeData(t,e,i){const{label:o,gridLength:s,scale:a,tick:n}=this;if(!o.enabled)return[];const r=new Text2,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,u=t.map((h,d)=>{var p;const{value:y}=h,g=s+o.padding+n.size,f=a.convert(y),m=Math.cos(f),S=Math.sin(f),v=g*m,M=g*S,{textAlign:x,textBaseline:_}=this.getLabelAlign(f),D=d===t.length-1&&y!==t[0]&&isNumberEqual2(normalizeAngle3602(f),normalizeAngle3602(a.convert(t[0]))),I=this.getLabelRotation(f);let T=String(y);if(o.formatter){const{callbackCache:b}=this.moduleCtx;T=(p=b.call(o.formatter,{value:y,index:d}))!=null?p:""}r.text=T,r.x=v,r.y=M,r.setFont(o),r.textAlign=x,r.textBaseline=_,r.rotation=I,I&&(r.rotationCenterX=v,r.rotationCenterY=M);let N=I?r.computeTransformedBBox():r.computeBBox();if(N&&e.hideWhenNecessary&&!I){const b=l-N.x,A=N.x+N.width-c,E=1;if(b>E||A>E){const L=N.width-Math.max(b,A);({text:T}=Text2.wrap(T,L,1/0,o,"never")),T==="\u2026"&&(T="",N=void 0),r.text=T,N=r.computeBBox()}}return{text:T,x:v,y:M,textAlign:x,textBaseline:_,hidden:T===""||h.hidden||D,rotation:I,box:N}});return o.avoidCollisions&&this.avoidLabelCollisions(u),u}computeLabelsBBox(t,e){this.tickData=this.generateAngleTicks(),this.labelData=this.createLabelNodeData(this.tickData,t,e);const i=this.labelData.map(({box:o})=>o).filter(o=>o!=null);return!this.label.enabled||i.length===0?null:import_ag_charts_community4._Scene.BBox.merge(i)}getLabelOrientation(){const{label:t}=this;return t instanceof AngleAxisLabel?t.orientation:"fixed"}getLabelRotation(t){var e;let i=toRadians((e=this.label.rotation)!=null?e:0);t=normalizeAngle3602(t);const o=this.getLabelOrientation();return o==="parallel"?(i+=t,t>=0&&t<Math.PI?i-=Math.PI/2:i+=Math.PI/2):o==="perpendicular"&&(i+=t,t>=Math.PI/2&&t<1.5*Math.PI&&(i+=Math.PI)),i}getLabelAlign(t){const e=Math.cos(t),i=Math.sin(t);let o,s;const a=this.getLabelOrientation(),n=isNumberEqual2(e,0),r=isNumberEqual2(i,0),l=isNumberEqual2(e,1),c=isNumberEqual2(i,-1),u=e>0&&!n,h=i>0&&!r;return a==="parallel"?(o="center",s=l&&r||h?"top":"bottom"):a==="perpendicular"?(o=c||u?"left":"right",s="middle"):(o="right",n?o="center":u&&(o="left"),s="bottom",r?s="middle":h&&(s="top")),{textAlign:o,textBaseline:s}}updateCrossLines(){var t;(t=this.crossLines)==null||t.forEach(e=>{if(e instanceof AngleCrossLine){const{shape:i,gridLength:o,innerRadiusRatio:s}=this;e.shape=i,e.axisOuterRadius=o,e.axisInnerRadius=o*s}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}};__decorateClass([ProxyOnWrite("rotation"),Validate2(NUMBER2.restrict({min:0,max:360}))],AngleAxis.prototype,"startAngle",2),__decorateClass([Validate2(AND2(NUMBER2.restrict({min:0,max:720}),GREATER_THAN("startAngle")),{optional:!0})],AngleAxis.prototype,"endAngle",2);var{RATIO:RATIO2,OR,POSITIVE_NUMBER:POSITIVE_NUMBER2,NAN,Validate:Validate3}=import_ag_charts_community5._ModuleSupport,{BandScale}=import_ag_charts_community5._Scale,{isNumberEqual:isNumberEqual3}=import_ag_charts_community5._Util,AngleCategoryAxisTick=class extends import_ag_charts_community5._ModuleSupport.AxisTick{constructor(){super(...arguments),this.minSpacing=NaN}};__decorateClass([Validate3(OR(POSITIVE_NUMBER2,NAN))],AngleCategoryAxisTick.prototype,"minSpacing",2);var AngleCategoryAxis=class extends AngleAxis{constructor(t){super(t,new BandScale),this.groupPaddingInner=0,this.paddingInner=0}createTick(){return new AngleCategoryAxisTick}generateAngleTicks(){var t,e;const{scale:i,tick:o,gridLength:s}=this,a=(e=(t=o.values)!=null?t:i.ticks())!=null?e:[];if(a.length<2||isNaN(o.minSpacing))return a.map(u=>({value:u,visible:!0}));const n=a[0],r=i.convert(n),l=s*Math.cos(r),c=s*Math.sin(r);for(let u=1;u<a.length-1;u++){const h=a[u],d=i.convert(h);if(d-r>Math.PI)break;const p=s*Math.cos(d),y=s*Math.sin(d);if(Math.sqrt(__pow(p-l,2)+__pow(y-c,2))>o.minSpacing){const f=new Set([n]);return loopSymmetrically(a,u,(m,S)=>{f.add(S)}),a.map(m=>{const S=f.has(m);return{value:m,visible:S}})}}return[{value:n,visible:!0}]}avoidLabelCollisions(t){let{minSpacing:e}=this.label;if(Number.isFinite(e)||(e=0),t.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;const u=l.box.clone().grow(e/2),h=c.box.clone().grow(e/2);return u.collidesBBox(h)},o=t[0],s=t.at(-1),a=new Set([o]),n=isNumberEqual3(o.x,s.x)&&isNumberEqual3(o.y,s.y),r=Math.floor(t.length/2);for(let l=1;l<=r;l++){const c=n?t.slice(0,-1):t;if(!loopSymmetrically(c,l,i)){loopSymmetrically(c,l,(h,d)=>{a.add(d)});break}}t.forEach(l=>{a.has(l)||(l.hidden=!0,l.box=void 0)})}};AngleCategoryAxis.className="AngleCategoryAxis",AngleCategoryAxis.type="angle-category",__decorateClass([Validate3(RATIO2)],AngleCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([Validate3(RATIO2)],AngleCategoryAxis.prototype,"paddingInner",2);var AngleCategoryAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",instanceConstructor:AngleCategoryAxis,themeTemplate:ANGLE_AXIS_THEME},import_ag_charts_community7=require("ag-charts-community"),import_ag_charts_community6=require("ag-charts-community"),{LinearScale,Invalidating}=import_ag_charts_community6._Scale,{isNumberEqual:isNumberEqual4,range,isDenseInterval}=import_ag_charts_community6._Util,LinearAngleScale=class extends LinearScale{constructor(){super(...arguments),this.arcLength=0,this.niceTickStep=0}ticks(){if(!this.domain||this.domain.length<2||this.domain.some(s=>!isFinite(s))||this.arcLength<=0)return[];this.refresh();const[t,e]=this.getDomain(),{interval:i}=this;if(i){const s=Math.abs(i),a=this.getPixelRange();if(!isDenseInterval({start:t,stop:e,interval:s,availableRange:a}))return range(t,e,s)}const o=this.nice&&this.niceTickStep?this.niceTickStep:this.getTickStep(t,e);return range(t,e,o)}hasNiceRange(){const t=this.range.slice().sort((i,o)=>i-o);return[Math.PI,2*Math.PI].some(i=>isNumberEqual4(i,t[1]-t[0]))}getNiceStepAndTickCount(){const[t,e]=this.niceDomain;let i=this.getTickStep(t,e);const o=isNaN(this.maxTickCount)?1/0:this.maxTickCount,s=Math.abs(e-t)/i;let a=Math.pow(2,Math.ceil(Math.log(s)/Math.log(2)));return a>o&&(a/=2,i*=2),{count:a,step:i}}updateNiceDomain(){if(super.updateNiceDomain(),!this.hasNiceRange())return;const t=this.niceDomain[0]>this.niceDomain[1],e=t?this.niceDomain[1]:this.niceDomain[0],{step:i,count:o}=this.getNiceStepAndTickCount(),s=1/i,a=i>=1?Math.ceil(e/i+o)*i:Math.ceil((e+o*i)*s)/s;this.niceDomain=t?[a,e]:[e,a],this.niceTickStep=i}getPixelRange(){return this.arcLength}};__decorateClass([Invalidating],LinearAngleScale.prototype,"arcLength",2);var{AND:AND3,Default,GREATER_THAN:GREATER_THAN2,LESS_THAN,OR:OR2,POSITIVE_NUMBER:POSITIVE_NUMBER3,NAN:NAN2,NUMBER_OR_NAN,MIN_SPACING,Validate:Validate4}=import_ag_charts_community7._ModuleSupport,{angleBetween:angleBetween2,isNumberEqual:isNumberEqual5,normalisedExtentWithMetadata}=import_ag_charts_community7._Util,AngleNumberAxisTick=class extends import_ag_charts_community7._ModuleSupport.AxisTick{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};__decorateClass([Validate4(OR2(POSITIVE_NUMBER3,NAN2))],AngleNumberAxisTick.prototype,"minSpacing",2),__decorateClass([Validate4(MIN_SPACING),Default(NaN)],AngleNumberAxisTick.prototype,"maxSpacing",2);var AngleNumberAxis=class extends AngleAxis{constructor(t){super(t,new LinearAngleScale),this.shape="circle",this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:o,clipped:s}=normalisedExtentWithMetadata(t,e,i);return{domain:o,clipped:s}}createTick(){return new AngleNumberAxisTick}getRangeArcLength(){const{range:t}=this,e=Math.min(...t),i=Math.max(...t),o=angleBetween2(e,i)||2*Math.PI,s=this.gridLength;return o*s}generateAngleTicks(){var t;const e=this.getRangeArcLength(),{scale:i,tick:o,range:s}=this,{minSpacing:a=NaN,maxSpacing:n=NaN}=o,r=n?Math.floor(e/n):1,l=a?Math.floor(e/a):1/0,c=Math.floor(4/Math.PI*Math.abs(s[0]-s[1]));return i.tickCount=Math.max(r,Math.min(l,c)),i.minTickCount=r,i.maxTickCount=l,i.arcLength=e,((t=o.values)!=null?t:i.ticks()).map(h=>({value:h,visible:!0}))}avoidLabelCollisions(t){let{minSpacing:e}=this.label;Number.isFinite(e)||(e=0);const i=(a,n)=>{if(a.hidden||n.hidden)return!1;const r=a.box.clone().grow(e/2),l=n.box.clone().grow(e/2);return r.collidesBBox(l)},o=t[0],s=t.at(-1);o!==s&&isNumberEqual5(o.x,s.x)&&isNumberEqual5(o.y,s.y)&&(s.hidden=!0);for(let a=1;a<t.length;a*=2){let n=!1;for(let r=a;r<t.length;r+=a){const l=t[r],c=t[r-a];if(i(c,l)){n=!0;break}}if(!n){t.forEach((r,l)=>{l%a>0&&(r.hidden=!0,r.box=void 0)});return}}t.forEach((a,n)=>{n>0&&(a.hidden=!0,a.box=void 0)})}};AngleNumberAxis.className="AngleNumberAxis",AngleNumberAxis.type="angle-number",__decorateClass([Validate4(AND3(NUMBER_OR_NAN,LESS_THAN("max"))),Default(NaN)],AngleNumberAxis.prototype,"min",2),__decorateClass([Validate4(AND3(NUMBER_OR_NAN,GREATER_THAN2("min"))),Default(NaN)],AngleNumberAxis.prototype,"max",2);var AngleNumberAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",instanceConstructor:AngleNumberAxis,themeTemplate:ANGLE_AXIS_THEME},import_ag_charts_community8=require("ag-charts-community"),{OrdinalTimeScale}=import_ag_charts_community8._Scale,{dateToNumber,Validate:Validate5,Default:Default2,MAX_SPACING,MIN_SPACING:MIN_SPACING2}=import_ag_charts_community8._ModuleSupport,OrdinalTimeAxisTick=class extends import_ag_charts_community8._ModuleSupport.AxisTick{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};__decorateClass([Validate5(MIN_SPACING2)],OrdinalTimeAxisTick.prototype,"minSpacing",2),__decorateClass([Validate5(MAX_SPACING),Default2(NaN)],OrdinalTimeAxisTick.prototype,"maxSpacing",2);var OrdinalTimeAxis=class extends import_ag_charts_community8._ModuleSupport.CategoryAxis{constructor(t){super(t,new OrdinalTimeScale)}createTick(){return new OrdinalTimeAxisTick}normaliseDataDomain(t){const e=[],i=new Set;for(let o of t){typeof o=="number"&&(o=new Date(o));const s=dateToNumber(o);i.has(s)||(i.add(s),e.push(o))}return e.sort((o,s)=>dateToNumber(o)-dateToNumber(s)),{domain:e,clipped:!1}}onLabelFormatChange(t,e,i){i?super.onLabelFormatChange(t,e,i):this.labelFormatter=this.scale.tickFormat({ticks:t,domain:e})}};OrdinalTimeAxis.className="OrdinalTimeAxis",OrdinalTimeAxis.type="ordinal-time";var import_ag_charts_community9=require("ag-charts-community"),ORDINAL_TIME_AXIS_THEME={__extends__:import_ag_charts_community9._Theme.EXTENDS_AXES_DEFAULTS,groupPaddingInner:0,label:{autoRotate:!1},gridLine:{__extends__:import_ag_charts_community9._Theme.EXTENDS_AXES_GRID_LINE_DEFAULTS,enabled:!1},crosshair:{enabled:!0,snap:!0,stroke:import_ag_charts_community9._Theme.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}},OrdinalTimeAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ordinal-time",instanceConstructor:OrdinalTimeAxis,themeTemplate:ORDINAL_TIME_AXIS_THEME},import_ag_charts_community10=require("ag-charts-community"),RADIUS_AXIS_THEME={__extends__:import_ag_charts_community10._Theme.EXTENDS_AXES_DEFAULTS,line:{enabled:!1,__extends__:import_ag_charts_community10._Theme.EXTENDS_AXES_LINE_DEFAULTS},tick:{enabled:!1,__extends__:import_ag_charts_community10._Theme.EXTENDS_AXES_TICK_DEFAULTS}},import_ag_charts_community13=require("ag-charts-community"),import_ag_charts_community12=require("ag-charts-community"),import_ag_charts_community11=require("ag-charts-community"),{ChartAxisDirection:ChartAxisDirection4,Validate:Validate6,DEGREE,validateCrossLineValues:validateCrossLineValues2}=import_ag_charts_community11._ModuleSupport,{Path:Path3,Sector:Sector2,Text:Text3}=import_ag_charts_community11._Scene,{normalizeAngle360:normalizeAngle3603,toRadians:toRadians2,isNumberEqual:isNumberEqual6}=import_ag_charts_community11._Util,RadiusCrossLineLabel=class extends PolarCrossLineLabel{constructor(){super(...arguments),this.positionAngle=void 0}};__decorateClass([Validate6(DEGREE,{optional:!0})],RadiusCrossLineLabel.prototype,"positionAngle",2);var _RadiusCrossLine=class gt extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection4.Y,this.label=new RadiusCrossLineLabel,this.polygonNode=new Path3,this.sectorNode=new Sector2,this.labelNode=new Text3,this.outerRadius=0,this.innerRadius=0,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:i,type:o,value:s,range:a}=this;if(!i||!o||!validateCrossLineValues2(o,s,a,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}o==="line"&&i instanceof import_ag_charts_community11._Scale.BandScale&&(this.type="range",this.range=[s,s]),this.updateRadii();const{innerRadius:n,outerRadius:r}=this;e&&(e=n>=this.axisInnerRadius&&r<=this.axisOuterRadius),this.group.visible=e,this.labelGroup.visible=e,this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e),this.group.zIndex=this.type==="line"?gt.LINE_LAYER_ZINDEX:gt.RANGE_LAYER_ZINDEX}updateRadii(){var e;const{range:i,scale:o,type:s,axisInnerRadius:a,axisOuterRadius:n}=this;if(!o)return{innerRadius:0,outerRadius:0};const r=u=>n+a-u;let l=0,c=0;if(s==="line")l=r(o.convert(this.value)),c=l;else{const u=Math.abs((e=o?.bandwidth)!=null?e:0),h=i.map(d=>o.convert(d));l=r(Math.max(...h)),c=r(Math.min(...h))+u}this.outerRadius=l,this.innerRadius=c}drawPolygon(e,i,o){i.forEach((s,a)=>{const n=e*Math.cos(s),r=e*Math.sin(s);a===0?o.path.moveTo(n,r):o.path.lineTo(n,r)}),o.path.closePath()}updatePolygonNode(e){const{gridAngles:i,polygonNode:o,scale:s,shape:a,type:n,innerRadius:r,outerRadius:l}=this;if(!e||a!=="polygon"||!s||!i){o.visible=!1;return}o.visible=!0;const c=this.getPadding();o.path.clear(!0),this.drawPolygon(l-c,i,o);const u=i.slice().reverse(),h=n==="line"?l-c:r+c;this.drawPolygon(h,u,o),this.setSectorNodeProps(o)}updateSectorNode(e){const{axisInnerRadius:i,axisOuterRadius:o,scale:s,sectorNode:a,shape:n,innerRadius:r,outerRadius:l}=this;if(!e||n!=="circle"||!s){a.visible=!1;return}a.visible=!0,a.startAngle=0,a.endAngle=2*Math.PI;const c=this.getPadding();a.innerRadius=import_ag_charts_community11._Util.clamp(i,r+c,o),a.outerRadius=import_ag_charts_community11._Util.clamp(i,l-c,o),this.setSectorNodeProps(a)}updateLabelNode(e){var i,o;const{innerRadius:s,label:a,labelNode:n,scale:r,shape:l,type:c}=this;if(!e||a.enabled===!1||!a.text||!r){n.visible=!1;return}const u=normalizeAngle3603(toRadians2(((i=a.positionAngle)!=null?i:0)-90)),h=(isNumberEqual6(u,0)||u>0)&&u<Math.PI,d=h?u-Math.PI/2:u+Math.PI/2;let p=0;const y=(o=this.gridAngles)!=null?o:[];c==="line"?p=s+a.padding:l==="circle"||y.length<3?p=s-a.padding:p=s*Math.cos(Math.PI/y.length)-a.padding;const g=p*Math.cos(u),f=p*Math.sin(u);let m;c==="line"?m=h?"top":"bottom":m=h?"bottom":"top",this.setLabelNodeProps(n,g,f,m,d)}getPadding(){var e,i;const{scale:o}=this;if(!o)return 0;const s=Math.abs((e=o.bandwidth)!=null?e:0),a=Math.abs((i=o.step)!=null?i:0);return o instanceof import_ag_charts_community11._Scale.BandScale?(a-s)/2:0}};_RadiusCrossLine.className="RadiusCrossLine";var RadiusCrossLine=_RadiusCrossLine,{assignJsonApplyConstructedArray:assignJsonApplyConstructedArray2,ChartAxisDirection:ChartAxisDirection5,Default:Default3,Layers:Layers2,DEGREE:DEGREE2,MIN_SPACING:MIN_SPACING3,MAX_SPACING:MAX_SPACING2,BOOLEAN:BOOLEAN2,Validate:Validate7}=import_ag_charts_community12._ModuleSupport,{Caption,Group:Group2,Path:Path4,Selection}=import_ag_charts_community12._Scene,{isNumberEqual:isNumberEqual7,normalizeAngle360:normalizeAngle3604,toRadians:toRadians3}=import_ag_charts_community12._Util,RadiusAxisTick=class extends import_ag_charts_community12._ModuleSupport.AxisTick{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};__decorateClass([Validate7(MIN_SPACING3),Default3(NaN)],RadiusAxisTick.prototype,"minSpacing",2),__decorateClass([Validate7(MAX_SPACING2),Default3(NaN)],RadiusAxisTick.prototype,"maxSpacing",2);var RadiusAxisLabel=class extends import_ag_charts_community12._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};__decorateClass([Validate7(BOOLEAN2,{optional:!0})],RadiusAxisLabel.prototype,"autoRotate",2),__decorateClass([Validate7(DEGREE2)],RadiusAxisLabel.prototype,"autoRotateAngle",2);var RadiusAxis=class extends import_ag_charts_community12._ModuleSupport.PolarAxis{constructor(t,e){super(t,e),this.positionAngle=0,this.gridPathGroup=this.gridGroup.appendChild(new Group2({name:`${this.id}-gridPaths`,zIndex:Layers2.AXIS_GRID_ZINDEX})),this.gridPathSelection=Selection.select(this.gridPathGroup,Path4)}get direction(){return ChartAxisDirection5.Y}assignCrossLineArrayConstructor(t){assignJsonApplyConstructedArray2(t,RadiusCrossLine)}getAxisTransform(){const t=this.scale.range[0],{translation:e,positionAngle:i,innerRadiusRatio:o}=this,s=t*o,a=toRadians3(i);return{translationX:e.x,translationY:e.y-t-s,rotation:a,rotationCenterX:0,rotationCenterY:t+s}}updateSelections(t,e,i){var o;super.updateSelections(t,e,i);const{gridLine:{enabled:s,style:a,width:n},shape:r}=this;if(!a)return;const l=this.prepareTickData(e),c=a.length,u=(f,m)=>{const{stroke:S,lineDash:v}=a[m%c];f.stroke=S,f.strokeWidth=n,f.lineDash=v,f.fill=void 0},[h,d]=(o=this.gridRange)!=null?o:[0,2*Math.PI],p=isNumberEqual7(d-h,2*Math.PI),y=(f,m)=>{const{path:S}=f;S.clear(!0);const v=this.getTickRadius(m);p?(S.moveTo(v,0),S.arc(0,0,v,0,2*Math.PI)):(S.moveTo(v*Math.cos(h),v*Math.sin(h)),S.arc(0,0,v,normalizeAngle3604(h),normalizeAngle3604(d))),p&&S.closePath()},g=(f,m)=>{const{path:S}=f,v=this.gridAngles;if(S.clear(!0),!v||v.length<3)return;const M=this.getTickRadius(m);v.forEach((x,_)=>{const D=M*Math.cos(x),I=M*Math.sin(x);_===0?S.moveTo(D,I):S.lineTo(D,I),v.forEach((T,N)=>{const b=M*Math.cos(T),A=M*Math.sin(T);N===0?S.moveTo(b,A):S.lineTo(b,A)}),S.closePath()}),S.closePath()};this.gridPathSelection.update(s?l:[]).each((f,m,S)=>{u(f,S),r==="circle"?y(f,m):g(f,m)})}updateTitle(){var t;const e=c=>c.defaultValue,{title:i,_titleCaption:o,range:s,moduleCtx:{callbackCache:a}}=this,{formatter:n=e}=(t=this.title)!=null?t:{};if(!i){o.enabled=!1;return}o.enabled=i.enabled,o.fontFamily=i.fontFamily,o.fontSize=i.fontSize,o.fontStyle=i.fontStyle,o.fontWeight=i.fontWeight,o.color=i.color,o.wrapping=i.wrapping;let r=!1;const l=o.node;i.enabled&&(r=!0,l.rotation=Math.PI/2,l.x=Math.floor((s[0]+s[1])/2),l.y=-Caption.SMALL_PADDING,l.textAlign="center",l.textBaseline="bottom",l.text=a.call(n,this.getTitleFormatterParams())),l.visible=r}createTick(){return new RadiusAxisTick}updateCrossLines(){var t;(t=this.crossLines)==null||t.forEach(e=>{if(e instanceof RadiusCrossLine){const{shape:i,gridAngles:o,range:s,innerRadiusRatio:a}=this,n=s[0];e.shape=i,e.gridAngles=o,e.axisOuterRadius=n,e.axisInnerRadius=n*a}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}createLabel(){return new RadiusAxisLabel}};__decorateClass([Validate7(DEGREE2),Default3(0)],RadiusAxis.prototype,"positionAngle",2);var{RATIO:RATIO3,ProxyPropertyOnWrite,Validate:Validate8}=import_ag_charts_community13._ModuleSupport,{BandScale:BandScale2}=import_ag_charts_community13._Scale,RadiusCategoryAxis=class extends RadiusAxis{constructor(t){super(t,new BandScale2),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}prepareTickData(t){return t.slice().reverse()}getTickRadius(t){const{scale:e}=this,i=e.range[0],o=i*this.innerRadiusRatio,s=(i-o)/e.domain.length;return i-t.translationY+o-s/2}};RadiusCategoryAxis.className="RadiusCategoryAxis",RadiusCategoryAxis.type="radius-category",__decorateClass([Validate8(RATIO3)],RadiusCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingInner"),Validate8(RATIO3)],RadiusCategoryAxis.prototype,"paddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingOuter"),Validate8(RATIO3)],RadiusCategoryAxis.prototype,"paddingOuter",2);var RadiusCategoryAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",instanceConstructor:RadiusCategoryAxis,themeTemplate:RADIUS_AXIS_THEME},import_ag_charts_community14=require("ag-charts-community"),{AND:AND4,Default:Default4,GREATER_THAN:GREATER_THAN3,LESS_THAN:LESS_THAN2,NUMBER_OR_NAN:NUMBER_OR_NAN2,Validate:Validate9}=import_ag_charts_community14._ModuleSupport,{LinearScale:LinearScale2}=import_ag_charts_community14._Scale,{normalisedExtentWithMetadata:normalisedExtentWithMetadata2}=import_ag_charts_community14._Util,RadiusNumberAxis=class extends RadiusAxis{constructor(t){super(t,new LinearScale2),this.shape="polygon",this.min=NaN,this.max=NaN}prepareTickData(t){var e;const{scale:i}=this,o=(e=i.getDomain)==null?void 0:e.call(i)[1];return t.filter(({tick:s})=>s!==o).sort((s,a)=>a.tick-s.tick)}getTickRadius(t){const{scale:e}=this,i=e.range[0],o=i*this.innerRadiusRatio;return i-t.translationY+o}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:o,clipped:s}=normalisedExtentWithMetadata2(t,e,i);return{domain:o,clipped:s}}};RadiusNumberAxis.className="RadiusNumberAxis",RadiusNumberAxis.type="radius-number",__decorateClass([Validate9(AND4(NUMBER_OR_NAN2,LESS_THAN2("max"))),Default4(NaN)],RadiusNumberAxis.prototype,"min",2),__decorateClass([Validate9(AND4(NUMBER_OR_NAN2,GREATER_THAN3("min"))),Default4(NaN)],RadiusNumberAxis.prototype,"max",2);var RadiusNumberAxisModule={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",instanceConstructor:RadiusNumberAxis,themeTemplate:RADIUS_AXIS_THEME},import_ag_charts_community15=require("ag-charts-community"),{BOOLEAN:BOOLEAN3,POSITIVE_NUMBER:POSITIVE_NUMBER4,ObserveChanges,Validate:Validate10}=import_ag_charts_community15._ModuleSupport,Animation=class extends import_ag_charts_community15._ModuleSupport.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!0,t.animationManager.skip(!1)}};__decorateClass([ObserveChanges((t,e)=>{t.ctx.animationManager.skip(!e)}),Validate10(BOOLEAN3)],Animation.prototype,"enabled",2),__decorateClass([ObserveChanges((t,e)=>{t.ctx.animationManager.defaultDuration=e}),Validate10(POSITIVE_NUMBER4,{optional:!0})],Animation.prototype,"duration",2);var AnimationModule={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:Animation,themeTemplate:{animation:{enabled:!0}}},import_ag_charts_community22=require("ag-charts-community"),import_ag_charts_community21=require("ag-charts-community"),import_ag_charts_community16=require("ag-charts-community"),{BOOLEAN:BOOLEAN4,COLOR_STRING:COLOR_STRING2,DATE,LINE_DASH:LINE_DASH2,NUMBER:NUMBER3,RATIO:RATIO4,STRING:STRING2,OBJECT,OR:OR3,UNION:UNION3,BaseProperties,Validate:Validate11}=import_ag_charts_community16._ModuleSupport,LineAnnotationStylesProperties=class extends BaseProperties{};__decorateClass([Validate11(COLOR_STRING2,{optional:!0})],LineAnnotationStylesProperties.prototype,"stroke",2),__decorateClass([Validate11(RATIO4,{optional:!0})],LineAnnotationStylesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate11(NUMBER3,{optional:!0})],LineAnnotationStylesProperties.prototype,"strokeWidth",2),__decorateClass([Validate11(LINE_DASH2,{optional:!0})],LineAnnotationStylesProperties.prototype,"lineDash",2),__decorateClass([Validate11(NUMBER3,{optional:!0})],LineAnnotationStylesProperties.prototype,"lineDashOffset",2);var ChannelAnnotationStylesProperties=class extends LineAnnotationStylesProperties{constructor(){super(...arguments),this.middle=new LineAnnotationStylesProperties,this.background=new AnnotationFillProperties}};__decorateClass([Validate11(OBJECT,{optional:!0})],ChannelAnnotationStylesProperties.prototype,"middle",2),__decorateClass([Validate11(OBJECT,{optional:!0})],ChannelAnnotationStylesProperties.prototype,"background",2);var AnnotationProperties=class extends LineAnnotationStylesProperties{constructor(){super(...arguments),this.type="line",this.handle=new AnnotationHandleProperties,this.start=new AnnotationPointProperties,this.end=new AnnotationPointProperties,this.top=new AnnotationLinePointsProperties,this.bottom=new AnnotationLinePointsProperties,this.middle=new LineAnnotationStylesProperties,this.background=new AnnotationFillProperties}};__decorateClass([Validate11(UNION3(["line","parallel-channel"]))],AnnotationProperties.prototype,"type",2),__decorateClass([Validate11(BOOLEAN4,{optional:!0})],AnnotationProperties.prototype,"locked",2),__decorateClass([Validate11(BOOLEAN4,{optional:!0})],AnnotationProperties.prototype,"visible",2),__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationProperties.prototype,"handle",2),__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationProperties.prototype,"start",2),__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationProperties.prototype,"end",2),__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationProperties.prototype,"top",2),__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationProperties.prototype,"bottom",2),__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationProperties.prototype,"middle",2),__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationProperties.prototype,"background",2);var AnnotationLinePointsProperties=class extends BaseProperties{constructor(){super(...arguments),this.start=new AnnotationPointProperties,this.end=new AnnotationPointProperties}};__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationLinePointsProperties.prototype,"start",2),__decorateClass([Validate11(OBJECT,{optional:!0})],AnnotationLinePointsProperties.prototype,"end",2);var AnnotationHandleProperties=class extends BaseProperties{};__decorateClass([Validate11(COLOR_STRING2,{optional:!0})],AnnotationHandleProperties.prototype,"fill",2),__decorateClass([Validate11(COLOR_STRING2,{optional:!0})],AnnotationHandleProperties.prototype,"stroke",2),__decorateClass([Validate11(RATIO4,{optional:!0})],AnnotationHandleProperties.prototype,"strokeOpacity",2),__decorateClass([Validate11(LINE_DASH2,{optional:!0})],AnnotationHandleProperties.prototype,"lineDash",2),__decorateClass([Validate11(NUMBER3,{optional:!0})],AnnotationHandleProperties.prototype,"lineDashOffset",2);var AnnotationPointProperties=class extends BaseProperties{};__decorateClass([Validate11(OR3(STRING2,NUMBER3,DATE))],AnnotationPointProperties.prototype,"x",2),__decorateClass([Validate11(OR3(STRING2,NUMBER3,DATE))],AnnotationPointProperties.prototype,"y",2);var AnnotationFillProperties=class extends BaseProperties{};__decorateClass([Validate11(COLOR_STRING2,{optional:!0})],AnnotationFillProperties.prototype,"fill",2),__decorateClass([Validate11(RATIO4,{optional:!0})],AnnotationFillProperties.prototype,"fillOpacity",2);var AnnotationType=(t=>(t.Line="line",t.ParallelChannel="parallel-channel",t))(AnnotationType||{}),import_ag_charts_community20=require("ag-charts-community"),import_ag_charts_community17=require("ag-charts-community"),Annotation=class extends import_ag_charts_community17._Scene.Group{constructor(){super(...arguments),this.locked=!1}},import_ag_charts_community18=require("ag-charts-community"),Handle=class extends import_ag_charts_community18._Scene.Group{constructor(){super(...arguments),this.visible=!1}drag(t){return{point:t,offset:{x:t.x-this.handle.x,y:t.y-this.handle.y}}}toggleActive(t){this.handle.strokeWidth=t?1.5:1,this.handle.dirtyPath=!0}toggleHovered(t){this.glow.visible=t,this.glow.dirtyPath=!0}toggleDragging(t){this.handle.visible=!t,this.glow.visible=this.glow.visible&&!t,this.handle.dirtyPath=!0,this.glow.dirtyPath=!0}getCursor(){return"default"}containsPoint(t,e){return this.handle.containsPoint(t,e)}},UnivariantHandle=class extends Handle{constructor(){super(),this.handle=new import_ag_charts_community18._Scene.Rect,this.glow=new import_ag_charts_community18._Scene.Rect,this.gradient="horizontal",this.append([this.glow,this.handle]),this.handle.cornerRadius=4,this.handle.width=12,this.handle.height=12,this.handle.strokeWidth=1,this.handle.zIndex=2,this.glow.cornerRadius=4,this.glow.width=16,this.glow.height=16,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}update(t){var e,i,o;this.handle.setProperties(t),this.glow.setProperties(__spreadProps(__spreadValues({},t),{x:((e=t.x)!=null?e:this.glow.x)-2,y:((i=t.y)!=null?i:this.glow.y)-2,fill:(o=t.stroke)!=null?o:t.fill}))}drag(t){return this.gradient==="vertical"?{point:{x:t.x,y:this.handle.y},offset:{x:t.x-this.handle.x,y:0}}:{point:{x:this.handle.x,y:t.y},offset:{x:0,y:t.y-this.handle.y}}}getCursor(){return this.gradient==="vertical"?"col-resize":"row-resize"}},DivariantHandle=class extends Handle{constructor(){super(),this.handle=new import_ag_charts_community18._Scene.Circle,this.glow=new import_ag_charts_community18._Scene.Circle,this.append([this.glow,this.handle]),this.handle.size=11,this.handle.strokeWidth=1,this.handle.zIndex=2,this.glow.size=17,this.glow.strokeWidth=0,this.glow.fillOpacity=.2,this.glow.zIndex=1,this.glow.visible=!1}update(t){this.handle.setProperties(t),this.glow.setProperties(__spreadProps(__spreadValues({},t),{fill:t.stroke}))}},import_ag_charts_community19=require("ag-charts-community"),magnitude=(t,e)=>Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),CollidableLine=class extends import_ag_charts_community19._Scene.Line{constructor(){super(...arguments),this.growCollisionBox=2}updateCollisionBBox(){const t=this.x1,e=this.strokeWidth+this.growCollisionBox,i=this.y1-Math.floor(e/2),o=magnitude(this.x2-t,this.y2-i);this.collisionBBox=new import_ag_charts_community19._Scene.BBox(t,i,o,e)}isPointInPath(t,e){var i,o;const{collisionBBox:s,x1:a,y1:n,x2:r,y2:l}=this;if(!s)return!1;t-=a,e-=n;const c=r-a,u=l-n,h=Math.atan2(e,t)-Math.atan2(u,c),d=magnitude(t,e),p=a+d*Math.cos(h),y=n+d*Math.sin(h);return(o=(i=this.collisionBBox)==null?void 0:i.containsPoint(p,y))!=null?o:!1}},Channel=class extends Annotation{constructor(){super(),this.type="channel",this.topLine=new CollidableLine,this.middleLine=new import_ag_charts_community20._Scene.Line,this.bottomLine=new CollidableLine,this.background=new import_ag_charts_community20._Scene.Path,this.handles={topLeft:new DivariantHandle,topMiddle:new UnivariantHandle,topRight:new DivariantHandle,bottomLeft:new DivariantHandle,bottomMiddle:new UnivariantHandle,bottomRight:new DivariantHandle},this.append([this.background,this.topLine,this.middleLine,this.bottomLine,...Object.values(this.handles)])}update(t,e,i,o){const{locked:s,visible:a}=t;if(this.locked=s??!1,this.seriesRect=e,i==null||o==null){this.visible=!1;return}else this.visible=a??!0;this.updateLines(t,i,o),this.updateHandles(t,i,o),this.updateBackground(t,i,o)}toggleHandles(t){var e;typeof t=="boolean"&&(t={topLeft:t,topMiddle:t,topRight:t,bottomLeft:t,bottomMiddle:t,bottomRight:t});for(const[i,o]of Object.entries(this.handles))o.visible=(e=t[i])!=null?e:!0,o.toggleHovered(this.activeHandle===i)}toggleActive(t){this.toggleHandles(t);for(const e of Object.values(this.handles))e.toggleActive(t)}dragHandle(t,e,i){const{activeHandle:o,handles:s}=this;if(o==null)return;const{offset:a}=s[o].drag(e);s[o].toggleDragging(!0);let n=[];switch(o){case"topLeft":case"bottomLeft":n=["topLeft","bottomLeft"];break;case"topMiddle":n=["topLeft","topRight"],a.y-=6;break;case"topRight":case"bottomRight":n=["topRight","bottomRight"];break;case"bottomMiddle":n=["bottomLeft","bottomRight"],a.y-=6;break}const r=n.map(l=>i({x:s[l].handle.x+a.x,y:s[l].handle.y+a.y}));if(!r.some(l=>l===void 0))for(const[l,c]of r.entries()){const u=this.getHandleDatumPoint(n[l],t);u.x=c.x,u.y=c.y}}stopDragging(){const{activeHandle:t,handles:e}=this;t!=null&&e[t].toggleDragging(!1)}getCursor(){return this.activeHandle==null?"pointer":this.handles[this.activeHandle].getCursor()}containsPoint(t,e){var i,o;const{handles:s,seriesRect:a,topLine:n,bottomLine:r}=this;this.activeHandle=void 0;for(const[l,c]of Object.entries(s))if(c.containsPoint(t,e))return this.activeHandle=l,!0;return t-=(i=a?.x)!=null?i:0,e-=(o=a?.y)!=null?o:0,n.containsPoint(t,e)||r.containsPoint(t,e)}updateLines(t,e,i){var o,s,a,n,r;const{topLine:l,middleLine:c,bottomLine:u}=this,{lineDash:h,lineDashOffset:d,stroke:p,strokeOpacity:y,strokeWidth:g}=t,f={lineDash:h,lineDashOffset:d,stroke:p,strokeOpacity:y,strokeWidth:g};l.setProperties(__spreadValues({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},f)),u.setProperties(__spreadValues({x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},f)),l.updateCollisionBBox(),u.updateCollisionBBox(),t.type==="parallel-channel"?c.setProperties({x1:e.x1,y1:i.y1+(e.y1-i.y1)/2,x2:e.x2,y2:i.y2+(e.y2-i.y2)/2,lineDash:(o=t.middle.lineDash)!=null?o:h,lineDashOffset:(s=t.middle.lineDashOffset)!=null?s:d,stroke:(a=t.middle.stroke)!=null?a:p,strokeOpacity:(n=t.middle.strokeOpacity)!=null?n:y,strokeWidth:(r=t.middle.strokeWidth)!=null?r:g}):c.visible=!1}updateHandles(t,e,i){var o,s;const{handles:{topLeft:a,topMiddle:n,topRight:r,bottomLeft:l,bottomMiddle:c,bottomRight:u}}=this,h={fill:t.handle.fill,stroke:(o=t.handle.stroke)!=null?o:t.stroke,strokeOpacity:(s=t.handle.strokeOpacity)!=null?s:t.strokeOpacity};a.update(__spreadProps(__spreadValues({},h),{x:e.x1,y:e.y1})),r.update(__spreadProps(__spreadValues({},h),{x:e.x2,y:e.y2})),l.update(__spreadProps(__spreadValues({},h),{x:i.x1,y:i.y1})),u.update(__spreadProps(__spreadValues({},h),{x:i.x2,y:i.y2})),n.update(__spreadProps(__spreadValues({},h),{x:e.x1+(e.x2-e.x1)/2-n.handle.width/2,y:e.y1+(e.y2-e.y1)/2-n.handle.height/2})),c.update(__spreadProps(__spreadValues({},h),{x:i.x1+(i.x2-i.x1)/2-c.handle.width/2,y:i.y1+(i.y2-i.y1)/2-c.handle.height/2}))}updateBackground(t,e,i){const{background:o}=this;o.path.clear(),o.path.moveTo(e.x1,e.y1),o.path.lineTo(e.x2,e.y2),o.path.lineTo(i.x2,i.y2),o.path.lineTo(i.x1,i.y1),o.path.closePath(),o.checkPathDirty(),o.setProperties({fill:t.background.fill,fillOpacity:t.background.fillOpacity})}getHandleDatumPoint(t,e){switch(t){case"topLeft":return e.top.start;case"topRight":return e.top.end;case"bottomLeft":return e.bottom.start;case"bottomRight":default:return e.bottom.end}}},Line=class extends Annotation{constructor(){super(),this.type="line",this.line=new CollidableLine,this.start=new DivariantHandle,this.end=new DivariantHandle,this.append([this.line,this.start,this.end])}update(t,e,i){var o,s;const{line:a,start:n,end:r}=this,{locked:l,visible:c,lineDash:u,lineDashOffset:h,stroke:d,strokeWidth:p,strokeOpacity:y}=t;if(this.locked=l??!1,this.seriesRect=e,i==null){this.visible=!1;return}else this.visible=c??!0;const{x1:g,y1:f,x2:m,y2:S}=i;a.setProperties({x1:g,y1:f,x2:m,y2:S,lineDash:u,lineDashOffset:h,stroke:d,strokeWidth:p,strokeOpacity:y,fillOpacity:0}),a.updateCollisionBBox();const v={fill:t.handle.fill,stroke:(o=t.handle.stroke)!=null?o:d,strokeOpacity:(s=t.handle.strokeOpacity)!=null?s:y};n.update(__spreadProps(__spreadValues({},v),{x:g,y:f})),r.update(__spreadProps(__spreadValues({},v),{x:m,y:S}))}toggleHandles(t){var e,i;typeof t=="boolean"&&(t={start:t,end:t}),this.start.visible=(e=t.start)!=null?e:!0,this.end.visible=(i=t.end)!=null?i:!0,this.start.toggleHovered(this.activeHandle==="start"),this.end.toggleHovered(this.activeHandle==="end")}toggleActive(t){this.toggleHandles(t),this.start.toggleActive(t),this.end.toggleActive(t)}dragHandle(t,e,i){const{activeHandle:o}=this;if(!o||t.start==null||t.end==null)return;this[o].toggleDragging(!0);const s=i(this[o].drag(e).point);s&&(t[o].x=s.x,t[o].y=s.y)}stopDragging(){this.start.toggleDragging(!1),this.end.toggleDragging(!1)}getCursor(){return this.activeHandle==null?"pointer":"default"}containsPoint(t,e){var i,o;const{start:s,end:a,seriesRect:n,line:r}=this;return this.activeHandle=void 0,s.containsPoint(t,e)?(this.activeHandle="start",!0):a.containsPoint(t,e)?(this.activeHandle="end",!0):(t-=(i=n?.x)!=null?i:0,e-=(o=n?.y)!=null?o:0,r.isPointInPath(t,e))}},{BOOLEAN:BOOLEAN5,OBJECT_ARRAY,InteractionState,PropertiesArray,Validate:Validate12}=import_ag_charts_community21._ModuleSupport,Annotations=class extends import_ag_charts_community21._ModuleSupport.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!0,this.initial=new PropertiesArray(AnnotationProperties),this.container=new import_ag_charts_community21._Scene.Group({name:"static-annotations"}),this.annotations=new import_ag_charts_community21._Scene.Selection(this.container,this.createAnnotation.bind(this)),this.hoverAddingFns={line:{end:(n,r,l)=>{n.set({end:l}),r.toggleHandles({end:!1})}},"parallel-channel":{end:(n,r,l)=>{n.set({top:{end:l},bottom:{end:l}}),r.toggleHandles(!1)},height:(n,r,l,c)=>{const u=this.convertPoint(n.bottom.start),h=this.convertPoint(n.bottom.end);if(!u||!h)return;const d=c.y-h.y,p=this.invertY(u.y+d),y=l.y;!this.validateDatumPoint({x:u.x,y:p})||!this.validateDatumPoint({x:h.x,y})||(r.toggleHandles({topMiddle:!1,bottomMiddle:!1}),n.set({bottom:{start:{y:p},end:{y}}}))}}},this.clickAddingFns={line:{start:(n,r)=>{var l;const c=this.createDatum("line",r);(l=this.annotationData)==null||l.push(c),this.addingStep="end"},end:(n,r)=>{var l,c;(c=(l=this.annotationData)==null?void 0:l.at(-1))==null||c.set({end:r}),n?.toggleHandles(!0),this.addingStep=void 0,this.ctx.cursorManager.updateCursor("annotations"),this.ctx.interactionManager.popState(InteractionState.Annotations)}},"parallel-channel":{start:(n,r)=>{var l;const c=this.createDatum("parallel-channel",r);(l=this.annotationData)==null||l.push(c),this.addingStep="end"},end:(n,r)=>{var l,c;(c=(l=this.annotationData)==null?void 0:l.at(-1))==null||c.set({top:{end:r},bottom:{end:r}}),n?.toggleHandles({topMiddle:!1,bottomMiddle:!1}),this.addingStep="height"},height:(n,r,l)=>{var c;const u=(c=this.annotationData)==null?void 0:c.at(-1),h=this.convertPoint(u.bottom.start),d=this.convertPoint(u.bottom.end);if(!h||!d)return;const p=l.y-d.y,y=this.invertY(h.y+p),g=r.y;u&&this.validateDatumPoint({x:h.x,y})&&this.validateDatumPoint({x:d.x,y:g})&&u.set({bottom:{start:{y},end:{y:g}}}),n?.toggleHandles(!0),this.addingStep=void 0,this.ctx.cursorManager.updateCursor("annotations"),this.ctx.interactionManager.popState(InteractionState.Annotations)}}};const{All:e,Default:i,Annotations:o,ZoomDrag:s}=InteractionState,a=t.regionManager.getRegion("series");this.destroyFns.push(t.annotationManager.attachNode(this.container),a.addListener("hover",this.onHover.bind(this),e),a.addListener("click",this.onClick.bind(this),e),a.addListener("drag",this.onDrag.bind(this),i|s|o),a.addListener("drag-end",this.onDragEnd.bind(this),e),t.toolbarManager.addListener("button-pressed",n=>this.onToolbarButtonPress(n)),t.layoutService.addListener("layout-complete",this.onLayoutComplete.bind(this)))}onToolbarButtonPress(t){this.active!=null&&(this.annotations.nodes()[this.active].toggleActive(!1),this.active=void 0),!(t.group!=="annotations"||!Object.values(AnnotationType).includes(t.value))&&(this.ctx.interactionManager.pushState(InteractionState.Annotations),this.addingStep="start",this.addingType=t.value)}createAnnotation(t){switch(t.type){case"parallel-channel":return new Channel;case"line":default:return new Line}}createDatum(t,e){const i=new AnnotationProperties;switch(i.set(import_ag_charts_community21._ModuleSupport.mergeDefaults({type:t},this.ctx.annotationManager.getAnnotationTypeStyles(t))),t){case"line":i.set({start:e,end:e});break;case"parallel-channel":i.set({top:{start:e,end:e},bottom:{start:e,end:e}});break}return i}onLayoutComplete(t){var e,i,o,s,a;const{annotationData:n,annotations:r}=this;this.seriesRect=t.series.rect;for(const l of(e=t.axes)!=null?e:[])l.direction===import_ag_charts_community21._ModuleSupport.ChartAxisDirection.X?((i=this.scaleX)!=null||(this.scaleX=l.scale),(o=this.domainX)!=null||(this.domainX=l.domain)):((s=this.scaleY)!=null||(this.scaleY=l.scale),(a=this.domainY)!=null||(this.domainY=l.domain));r.update(n??[]).each((l,c)=>{if(this.validateDatum(c))switch(c.type){case"line":l.update(c,t.series.rect,this.convertLine(c));break;case"parallel-channel":l.update(c,t.series.rect,this.convertLine(c.top),this.convertLine(c.bottom));break}})}validateDatum(t){let e=!0;switch(t.type){case"line":e=this.validateDatumLine(t,`Annotation [${t.type}]`);break;case"parallel-channel":e=this.validateDatumLine(t.top,`Annotation [${t.type}] [top]`),e&&(e=this.validateDatumLine(t.bottom,`Annotation [${t.type}] [bottom]`));break}return e}validateDatumLine(t,e){let i=!0;return t.start==null||t.end==null?(import_ag_charts_community21._Util.Logger.warnOnce(`${e} requires both a [start] and [end] property, ignoring.`),i=!1):(i&&(i=this.validateDatumPoint(t.start,`${e} [start]`)),i&&(i=this.validateDatumPoint(t.end,`${e} [end]`))),i}validateDatumPoint(t,e){const{domainX:i,domainY:o,scaleX:s,scaleY:a}=this;if(t.x==null||t.y==null)return e&&import_ag_charts_community21._Util.Logger.warnOnce(`${e} requires both an [x] and [y] property, ignoring.`),!1;if(!i||!o||!s||!a)return!0;const n=this.validateDatumPointDirection(i,s,t.x),r=this.validateDatumPointDirection(o,a,t.y);if(!n||!r){let l="x & y domains";return n&&(l="y domain"),r&&(l="x domain"),e&&import_ag_charts_community21._Util.Logger.warnOnce(`${e} is outside the ${l}, ignoring. - x: [${t.x}], y: ${t.y}]`),!1}return!0}validateDatumPointDirection(t,e,i){return import_ag_charts_community21._Scene.ContinuousScale.is(e)?i>=t[0]&&i<=t[1]:!0}onHover(t){const{addingStep:e}=this;e==null?this.onHoverSelecting(t):this.onHoverEditing(t)}onHoverSelecting(t){const{active:e,annotations:i,ctx:{cursorManager:o}}=this;this.hovered=void 0,i.each((s,a,n)=>{var r;if(s.locked)return;const l=s.containsPoint(t.offsetX,t.offsetY);l&&((r=this.hovered)!=null||(this.hovered=n)),s.toggleHandles(l||e===n)}),o.updateCursor("annotations",this.hovered==null?void 0:i.nodes()[this.hovered].getCursor())}onHoverEditing(t){var e,i,o,s,a;const{annotationData:n,annotations:r,addingStep:l,addingType:c,ctx:{cursorManager:u,updateService:h}}=this;if(!n||!c||!l)return;const d={x:t.offsetX-((i=(e=this.seriesRect)==null?void 0:e.x)!=null?i:0),y:t.offsetY-((s=(o=this.seriesRect)==null?void 0:o.y)!=null?s:0)},p=this.invertPoint(d),y=this.validateDatumPoint(p);if(u.updateCursor("annotations",y?void 0:"not-allowed"),!y||l==="start")return;const g=n.at(-1);this.active=n.length-1;const f=r.nodes()[this.active];if(!g||!f)return;f.toggleActive(!0);const m=(a=this.hoverAddingFns[c])==null?void 0:a[l];m&&m(g,f,p,d),h.update()}onClick(t){this.addingStep==null?this.onClickSelecting():this.onClickAdding(t)}onClickSelecting(){this.active!=null&&this.annotations.nodes()[this.active].toggleActive(!1),this.active=this.hovered,this.active!=null&&this.annotations.nodes()[this.active].toggleActive(!0)}onClickAdding(t){var e,i,o,s,a;const{active:n,annotationData:r,annotations:l,addingStep:c,addingType:u,ctx:{updateService:h}}=this;if(!r||!c||!u)return;const d={x:t.offsetX-((i=(e=this.seriesRect)==null?void 0:e.x)!=null?i:0),y:t.offsetY-((s=(o=this.seriesRect)==null?void 0:o.y)!=null?s:0)},p=this.invertPoint(d),y=n?l.nodes()[n]:void 0;if(!this.validateDatumPoint(p))return;const g=(a=this.clickAddingFns[u])==null?void 0:a[c];g&&g(y,p,d),h.update(import_ag_charts_community21._ModuleSupport.ChartUpdateType.PERFORM_LAYOUT,{skipAnimations:!0})}onDrag(t){var e,i;const{active:o,annotationData:s,annotations:a,addingStep:n,seriesRect:r,ctx:{cursorManager:l,interactionManager:c,updateService:u}}=this;if(o==null||s==null||n!=null)return;c.pushState(InteractionState.Annotations);const{offsetX:h,offsetY:d}=t,p=s[o],y=a.nodes()[o],g={x:h-((e=r?.x)!=null?e:0),y:d-((i=r?.y)!=null?i:0)};l.updateCursor("annotations"),y.dragHandle(p,g,this.onDragNodeHandle.bind(this)),u.update(import_ag_charts_community21._ModuleSupport.ChartUpdateType.PERFORM_LAYOUT,{skipAnimations:!0})}onDragNodeHandle(t){const e=this.invertPoint(t);if(!this.validateDatumPoint(e)){this.ctx.cursorManager.updateCursor("annotations","not-allowed");return}return e}onDragEnd(t){const{active:e,annotations:i,addingStep:o,ctx:{cursorManager:s,interactionManager:a,updateService:n}}=this;o==null&&(a.popState(InteractionState.Annotations),s.updateCursor("annotations"),e!=null&&(i.nodes()[e].stopDragging(),n.update(import_ag_charts_community21._ModuleSupport.ChartUpdateType.PERFORM_LAYOUT,{skipAnimations:!0})))}convertLine(t){if(t.start==null||t.end==null)return;const e=this.convertPoint(t.start),i=this.convertPoint(t.end);if(!(e==null||i==null))return{x1:e.x,y1:e.y,x2:i.x,y2:i.y}}convertPoint(t){const{scaleX:e,scaleY:i}=this;let o=0,s=0;return!e||!i||t.x==null||t.y==null?{x:o,y:s}:(o=e.convert(t.x),s=i.convert(t.y),{x:o,y:s})}invertPoint(t){return{x:this.invertX(t.x),y:this.invertY(t.y)}}invertX(t){const{scaleX:e}=this;return import_ag_charts_community21._Scene.ContinuousScale.is(e)?t=e.invert(t):import_ag_charts_community21._Scene.BandScale.is(e)&&(t=e.invertNearest(t)),t}invertY(t){const{scaleY:e}=this;return import_ag_charts_community21._Scene.ContinuousScale.is(e)?t=e.invert(t):import_ag_charts_community21._Scene.BandScale.is(e)&&(t=e.invertNearest(t)),t}};__decorateClass([import_ag_charts_community21._ModuleSupport.ObserveChanges((t,e)=>{t.ctx.toolbarManager.toggleGroup("annotations",!!e)}),Validate12(BOOLEAN5)],Annotations.prototype,"enabled",2),__decorateClass([import_ag_charts_community21._ModuleSupport.ObserveChanges((t,e)=>{var i;(i=t.annotationData)!=null||(t.annotationData=e)}),Validate12(OBJECT_ARRAY,{optional:!0})],Annotations.prototype,"initial",2);var AnnotationsModule={type:"root",optionsKey:"annotations",packageType:"enterprise",chartTypes:["cartesian"],dependencies:["toolbar"],instanceConstructor:Annotations,themeTemplate:{annotations:{line:{stroke:import_ag_charts_community22._Theme.DEFAULT_ANNOTATION_STROKE,strokeWidth:2,strokeOpacity:1,handle:{fill:import_ag_charts_community22._Theme.DEFAULT_ANNOTATION_HANDLE_FILL}},"parallel-channel":{stroke:import_ag_charts_community22._Theme.DEFAULT_ANNOTATION_STROKE,strokeWidth:2,strokeOpacity:1,middle:{lineDash:[6,5],strokeWidth:1},background:{fill:import_ag_charts_community22._Theme.DEFAULT_ANNOTATION_BACKGROUND_FILL,fillOpacity:.2},handle:{fill:import_ag_charts_community22._Theme.DEFAULT_ANNOTATION_HANDLE_FILL}}}}},import_ag_charts_community24=require("ag-charts-community"),import_ag_charts_community23=require("ag-charts-community"),{Image}=import_ag_charts_community23._Scene,{BaseProperties:BaseProperties2,ObserveChanges:ObserveChanges2,ProxyProperty,Validate:Validate13,NUMBER:NUMBER4,POSITIVE_NUMBER:POSITIVE_NUMBER5,RATIO:RATIO5,createElement,calculatePlacement}=import_ag_charts_community23._ModuleSupport,BackgroundImage=class extends BaseProperties2{constructor(){super(),this.opacity=1,this.loadedSynchronously=!0,this.containerWidth=0,this.containerHeight=0,this.onLoad=void 0,this.onImageLoad=()=>{var t;this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),(t=this.onLoad)==null||t.call(this))},this.imageElement=createElement("img"),this.imageElement.onload=this.onImageLoad,this.node=new Image(this.imageElement)}get complete(){return this.imageElement.width>0&&this.imageElement.height>0}performLayout(t,e){this.containerWidth=t,this.containerHeight=e,this.node.setProperties(this.complete?__spreadValues({visible:!0,opacity:this.opacity},calculatePlacement(this.imageElement.width,this.imageElement.height,this.containerWidth,this.containerHeight,this)):{visible:!1})}};__decorateClass([Validate13(NUMBER4,{optional:!0})],BackgroundImage.prototype,"top",2),__decorateClass([Validate13(NUMBER4,{optional:!0})],BackgroundImage.prototype,"right",2),__decorateClass([Validate13(NUMBER4,{optional:!0})],BackgroundImage.prototype,"bottom",2),__decorateClass([Validate13(NUMBER4,{optional:!0})],BackgroundImage.prototype,"left",2),__decorateClass([Validate13(POSITIVE_NUMBER5,{optional:!0})],BackgroundImage.prototype,"width",2),__decorateClass([Validate13(POSITIVE_NUMBER5,{optional:!0})],BackgroundImage.prototype,"height",2),__decorateClass([Validate13(RATIO5)],BackgroundImage.prototype,"opacity",2),__decorateClass([ProxyProperty("imageElement.src"),ObserveChanges2(t=>t.loadedSynchronously=t.complete)],BackgroundImage.prototype,"url",2);var{ActionOnSet,OBJECT:OBJECT2,Validate:Validate14}=import_ag_charts_community24._ModuleSupport,Background=class extends import_ag_charts_community24._ModuleSupport.Background{constructor(t){super(t),this.ctx=t,this.image=new BackgroundImage}onLayoutComplete(t){if(super.onLayoutComplete(t),this.image){const{width:e,height:i}=t.chart;this.image.performLayout(e,i)}}onImageLoad(){this.ctx.updateService.update(import_ag_charts_community24._ModuleSupport.ChartUpdateType.SCENE_RENDER)}};__decorateClass([Validate14(OBJECT2,{optional:!0}),ActionOnSet({newValue(t){this.node.appendChild(t.node),t.onLoad=()=>this.onImageLoad()},oldValue(t){this.node.removeChild(t.node),t.onLoad=void 0}})],Background.prototype,"image",2);var BackgroundModule={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:Background},import_ag_charts_community26=require("ag-charts-community"),import_ag_charts_community25=require("ag-charts-community"),DEFAULT_CONTEXT_MENU_CLASS="ag-chart-context-menu",DEFAULT_CONTEXT_MENU_DARK_CLASS="ag-charts-dark-context-menu",defaultContextMenuCss=`
.${DEFAULT_CONTEXT_MENU_CLASS} {
    background: rgb(248, 248, 248);
    border: 1px solid #babfc7;
    border-radius: 5px;
    box-shadow: 0 1px 4px 1px rgba(186, 191, 199, 0.4);
    color: rgb(24, 29, 31);
    font: 13px Verdana, sans-serif;
    position: fixed;
    transition: transform 0.1s ease;
    white-space: nowrap;
    z-index: 99999;
}

.${DEFAULT_CONTEXT_MENU_CLASS}.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    color: white;
    background: #15181c;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__cover {
    position: fixed;
    left: 0px;
    top: 0px;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__menu {
    display: flex;
    flex-direction: column;
    padding: 0.5em 0;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item {
    background: none;
    border: none;
    box-sizing: border-box;
    font: inherit;
    padding: 0.5em 1em;
    text-align: left;
    -webkit-appearance: none;
    -moz-appearance: none;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    color: white;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item:hover {
    background: rgb(33, 150, 243, 0.1);
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item:hover.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    background: rgb(33, 150, 243, 0.1);
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item:active {
    background: rgb(33, 150, 243, 0.2);
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item:active.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    background: rgb(33, 150, 243, 0.1);
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item[disabled] {
    border: none;
    opacity: 0.5;
    text-align: left;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__item[disabled]:hover {
    background: inherit;
    cursor: inherit;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__divider {
    margin: 5px 0;
    background: #babfc7;
    height: 1px;
}

.${DEFAULT_CONTEXT_MENU_CLASS}__divider.${DEFAULT_CONTEXT_MENU_DARK_CLASS} {
    background: rgb(33, 150, 243, 0.1);
}
`,{BOOLEAN:BOOLEAN6,Validate:Validate15,createElement:createElement2,getDocument,getWindow,injectStyle}=import_ag_charts_community25._ModuleSupport,ContextMenu=class extends import_ag_charts_community25._ModuleSupport.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!0,this.darkTheme=!1,this.extraActions=[],this.extraNodeActions=[],this.x=0,this.y=0,this.highlightManager=t.highlightManager,this.interactionManager=t.interactionManager,this.registry=t.contextMenuRegistry,this.scene=t.scene;const{Default:e,ContextMenu:i,All:o}=import_ag_charts_community25._ModuleSupport.InteractionState,s=e|i;if(this.destroyFns.push(t.interactionManager.addListener("contextmenu",a=>this.onContextMenu(a),s),t.interactionManager.addListener("click",()=>this.onClick(),o)),this.groups={default:[],node:[],extra:[],extraNode:[]},this.canvasElement=t.scene.canvas.element,this.container=getDocument("body"),this.element=this.container.appendChild(createElement2("div")),this.element.classList.add(DEFAULT_CONTEXT_MENU_CLASS),this.element.addEventListener("contextmenu",a=>a.preventDefault()),this.destroyFns.push(()=>{var a;return(a=this.element.parentNode)==null?void 0:a.removeChild(this.element)}),this.hide(),typeof IntersectionObserver<"u"){const a=new IntersectionObserver(n=>{for(const r of n)r.target===this.canvasElement&&r.intersectionRatio===0&&this.hide()},{root:this.container});a.observe(this.canvasElement),this.intersectionObserver=a}if(typeof MutationObserver<"u"){const a=new MutationObserver(()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()});a.observe(this.element,{childList:!0}),this.mutationObserver=a}injectStyle(defaultContextMenuCss,"contextMenu"),this.registry.registerDefaultAction({id:"download",label:"Download",action:()=>{const a=t.chartService.title;let n="image";a?.enabled&&a?.text!==void 0&&(n=a.text),this.scene.download(n)}})}isShown(){return this.menuElement!==void 0}onClick(){this.isShown()&&this.hide()}onContextMenu(t){if(!this.enabled)return;this.showEvent=t.sourceEvent,this.x=t.pageX,this.y=t.pageY,this.groups.default=this.registry.copyDefaultActions(),this.pickedNode=this.highlightManager.getActivePicked(),this.extraActions.length>0&&(this.groups.extra=[...this.extraActions]),this.extraNodeActions.length>0&&this.pickedNode&&(this.groups.extraNode=[...this.extraNodeActions]);const{default:e,node:i,extra:o,extraNode:s}=this.groups;e.length+i.length+o.length+s.length!==0&&(t.consume(),t.sourceEvent.preventDefault(),this.show())}show(){this.interactionManager.pushState(import_ag_charts_community25._ModuleSupport.InteractionState.ContextMenu),this.element.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme);const t=this.renderMenu();this.menuElement?this.element.replaceChild(t,this.menuElement):this.element.appendChild(t),this.menuElement=t,this.element.style.display="block"}hide(){this.interactionManager.popState(import_ag_charts_community25._ModuleSupport.InteractionState.ContextMenu),this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0),this.element.style.display="none"}renderMenu(){const t=createElement2("div");return t.classList.add(`${DEFAULT_CONTEXT_MENU_CLASS}__menu`),t.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme),this.appendMenuGroup(t,this.groups.default,!1),this.pickedNode&&this.appendMenuGroup(t,this.groups.node),this.appendMenuGroup(t,this.groups.extra),this.pickedNode&&this.appendMenuGroup(t,this.groups.extraNode),t}appendMenuGroup(t,e,i=!0){e.length!==0&&(i&&t.appendChild(this.createDividerElement()),e.forEach(o=>{const s=this.renderItem(o);s&&t.appendChild(s)}))}renderItem(t){if(t&&typeof t=="object"&&t.constructor===Object)return this.createActionElement(t)}createDividerElement(){const t=createElement2("div");return t.classList.add(`${DEFAULT_CONTEXT_MENU_CLASS}__divider`),t.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme),t}createActionElement({id:t,label:e,action:i}){return t&&this.registry.isDisabled(t)?this.createDisabledElement(e):this.createButtonElement(e,i)}createButtonElement(t,e){const i=createElement2("button");return i.classList.add(`${DEFAULT_CONTEXT_MENU_CLASS}__item`),i.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme),i.innerHTML=t,i.onclick=()=>{var o;const s=(o=this.pickedNode)==null?void 0:o.series.createNodeContextMenuActionEvent(this.showEvent,this.pickedNode);s?(Object.defineProperty(s,"itemId",{enumerable:!1,get:()=>{var a;return import_ag_charts_community25._Util.Logger.warnOnce("Property [AgNodeContextMenuActionEvent.itemId] is deprecated. Use [yKey], [angleKey] and others instead."),(a=this.pickedNode)==null?void 0:a.itemId}}),e(s)):e({event:this.showEvent}),this.hide()},i}createDisabledElement(t){const e=createElement2("button");return e.classList.add(`${DEFAULT_CONTEXT_MENU_CLASS}__item`),e.classList.toggle(DEFAULT_CONTEXT_MENU_DARK_CLASS,this.darkTheme),e.disabled=!0,e.innerHTML=t,e}reposition(){const{x:t,y:e}=this;this.element.style.top="unset",this.element.style.bottom="unset",this.element.style.left="unset",this.element.style.right="unset",t+this.element.offsetWidth>getWindow("innerWidth")?this.element.style.right=`calc(100% - ${t-1}px)`:this.element.style.left=`${t+1}px`,e+this.element.offsetHeight>getWindow("innerHeight")?this.element.style.bottom=`calc(100% - ${e}px - 0.5em)`:this.element.style.top=`calc(${e}px - 0.5em)`}destroy(){var t,e;super.destroy(),(t=this.intersectionObserver)==null||t.unobserve(this.canvasElement),(e=this.mutationObserver)==null||e.disconnect()}};__decorateClass([Validate15(BOOLEAN6)],ContextMenu.prototype,"enabled",2),__decorateClass([Validate15(BOOLEAN6)],ContextMenu.prototype,"darkTheme",2);var ContextMenuModule={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],optionsKey:"contextMenu",instanceConstructor:ContextMenu,themeTemplate:{contextMenu:{enabled:!0,darkTheme:import_ag_charts_community26._Theme.IS_DARK_THEME}}},import_ag_charts_community28=require("ag-charts-community"),import_ag_charts_community27=require("ag-charts-community"),{ActionOnSet:ActionOnSet2,BaseProperties:BaseProperties3,BOOLEAN:BOOLEAN7,FUNCTION,NUMBER:NUMBER5,STRING:STRING3,Validate:Validate16,createElement:createElement3,injectStyle:injectStyle2}=import_ag_charts_community27._ModuleSupport,{setAttribute}=import_ag_charts_community27._Util,{BBox}=import_ag_charts_community27._Scene,DEFAULT_LABEL_CLASS="ag-crosshair-label",defaultLabelCss=`
.${DEFAULT_LABEL_CLASS} {
    position: absolute;
    left: 0px;
    top: 0px;
    user-select: none;
    pointer-events: none;
    font: 12px Verdana, sans-serif;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    box-sizing: border-box;
}

.${DEFAULT_LABEL_CLASS}-content {
    padding: 0 7px;
    border-radius: 2px;
    line-height: 1.7em;
    background-color: rgb(71,71,71);
    color: rgb(255, 255, 255);
}

.${DEFAULT_LABEL_CLASS}-hidden {
    top: -10000px !important;
}
`,CrosshairLabelProperties=class extends import_ag_charts_community27._Scene.ChangeDetectableProperties{constructor(){super(...arguments),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0}};__decorateClass([Validate16(BOOLEAN7)],CrosshairLabelProperties.prototype,"enabled",2),__decorateClass([Validate16(STRING3,{optional:!0})],CrosshairLabelProperties.prototype,"className",2),__decorateClass([Validate16(NUMBER5)],CrosshairLabelProperties.prototype,"xOffset",2),__decorateClass([Validate16(NUMBER5)],CrosshairLabelProperties.prototype,"yOffset",2),__decorateClass([Validate16(STRING3,{optional:!0})],CrosshairLabelProperties.prototype,"format",2),__decorateClass([Validate16(FUNCTION,{optional:!0})],CrosshairLabelProperties.prototype,"renderer",2);var CrosshairLabel=class extends BaseProperties3{constructor(t){super(),this.labelRoot=t,this.enabled=!0,this.xOffset=0,this.yOffset=0,this.renderer=void 0,this.element=createElement3("div"),this.element.classList.add(DEFAULT_LABEL_CLASS),setAttribute(this.element,"aria-hidden",!0),t.appendChild(this.element),injectStyle2(defaultLabelCss,"crosshairLabel")}show(t){const{element:e}=this;let i=t.x+this.xOffset,o=t.y+this.yOffset;const s=(l,c,u)=>Math.max(Math.min(c,u),l),a=this.getContainerBoundingBox(),n=a.x+a.width-e.clientWidth-1,r=a.y+a.height-e.clientHeight;i=s(a.x+1,i,n),o=s(a.y,o,r),e.style.top=`${Math.round(o)}px`,e.style.left=`${Math.round(i)}px`,this.toggle(!0)}setLabelHtml(t){t!==void 0&&(this.element.innerHTML=t)}computeBBox(){const{element:t}=this;return new import_ag_charts_community27._Scene.BBox(t.clientLeft,t.clientTop,t.clientWidth,t.clientHeight)}getContainerBoundingBox(){const{width:t,height:e}=this.labelRoot.getBoundingClientRect();return new BBox(0,0,t,e)}toggle(t){this.element.classList.toggle(`${DEFAULT_LABEL_CLASS}-hidden`,!t)}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element)}toLabelHtml(t,e){var i,o;if(typeof t=="string")return t;e=e??{};const{text:s=(i=e.text)!=null?i:"",color:a=e.color,backgroundColor:n=e.backgroundColor,opacity:r=(o=e.opacity)!=null?o:1}=t,l=`opacity: ${r}; background-color: ${n?.toLowerCase()}; color: ${a}`;return`<div class="${DEFAULT_LABEL_CLASS}-content" style="${l}">
                    <span>${s}</span>
                </div>`}};__decorateClass([Validate16(BOOLEAN7)],CrosshairLabel.prototype,"enabled",2),__decorateClass([Validate16(STRING3,{optional:!0}),ActionOnSet2({changeValue(t,e){t!==e&&(e&&this.element.classList.remove(e),t&&this.element.classList.add(t))}})],CrosshairLabel.prototype,"className",2),__decorateClass([Validate16(NUMBER5)],CrosshairLabel.prototype,"xOffset",2),__decorateClass([Validate16(NUMBER5)],CrosshairLabel.prototype,"yOffset",2),__decorateClass([Validate16(STRING3,{optional:!0})],CrosshairLabel.prototype,"format",2),__decorateClass([Validate16(FUNCTION,{optional:!0})],CrosshairLabel.prototype,"renderer",2);var{Group:Group3,Line:Line2,BBox:BBox2}=import_ag_charts_community28._Scene,{createId:createId2}=import_ag_charts_community28._Util,{POSITIVE_NUMBER:POSITIVE_NUMBER6,RATIO:RATIO6,BOOLEAN:BOOLEAN8,COLOR_STRING:COLOR_STRING3,LINE_DASH:LINE_DASH3,OBJECT:OBJECT3,Validate:Validate17,Layers:Layers3,getDocument:getDocument2}=import_ag_charts_community28._ModuleSupport,Crosshair=class extends import_ag_charts_community28._ModuleSupport.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.id=createId2(this),this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.label=new CrosshairLabelProperties,this.seriesRect=new BBox2(0,0,0,0),this.hoverRect=new BBox2(0,0,0,0),this.bounds=new BBox2(0,0,0,0),this.visible=!1,this.crosshairGroup=new Group3({layer:!0,zIndex:Layers3.SERIES_CROSSHAIR_ZINDEX}),this.lineGroup=this.crosshairGroup.appendChild(new Group3({name:`${this.id}-crosshair-lines`,zIndex:Layers3.SERIES_CROSSHAIR_ZINDEX})),this.lineGroupSelection=import_ag_charts_community28._Scene.Selection.select(this.lineGroup,Line2,!1),this.activeHighlight=void 0,this.axisCtx=t.parent,this.crosshairGroup.visible=!1,this.labels={};const e=t.regionManager.getRegion("series");this.destroyFns.push(t.scene.attachNode(this.crosshairGroup),e.addListener("hover",i=>this.onMouseMove(i)),e.addListener("leave",()=>this.onMouseOut()),t.highlightManager.addListener("highlight-change",i=>this.onHighlightChange(i)),t.layoutService.addListener("layout-complete",i=>this.layout(i)),()=>Object.entries(this.labels).forEach(([i,o])=>o.destroy()))}layout({series:{rect:t,paddedRect:e,visible:i},axes:o}){if(this.hideCrosshairs(),!(i&&o&&this.enabled)){this.visible=!1;return}this.visible=!0,this.seriesRect=t,this.hoverRect=e;const{position:s="left",axisId:a}=this.axisCtx,n=o.find(h=>h.id===a);if(!n)return;this.axisLayout=n;const r=n.gridPadding+n.seriesAreaPadding;this.bounds=this.buildBounds(t,s,r);const{crosshairGroup:l,bounds:c}=this;l.translationX=Math.round(c.x),l.translationY=Math.round(c.y);const u=["pointer",...this.axisCtx.seriesKeyProperties()];this.updateSelections(u),this.updateLines(),this.updateLabels(u)}buildBounds(t,e,i){const o=t.clone();return o.x+=e==="left"?-i:0,o.y+=e==="top"?-i:0,o.width+=e==="left"||e==="right"?i:0,o.height+=e==="top"||e==="bottom"?i:0,o}updateSelections(t){this.lineGroupSelection.update(t,e=>e.append(new Line2),e=>e)}updateLabels(t){var e;const{labels:i,ctx:o,axisLayout:s}=this;t.forEach(n=>{var r,l;(l=i[n])!=null||(i[n]=new CrosshairLabel((r=o.scene.canvas.container)!=null?r:getDocument2("body"))),this.updateLabel(i[n])});const a=(e=this.label.format)!=null?e:s?.label.format;this.labelFormatter=a?this.axisCtx.scaleValueFormatter(a):void 0}updateLabel(t){const{enabled:e,className:i,xOffset:o,yOffset:s,format:a,renderer:n}=this.label;t.enabled=e,t.className=i,t.xOffset=o,t.yOffset=s,t.format=a,t.renderer=n}updateLines(){const{lineGroupSelection:t,bounds:e,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:n,axisLayout:r}=this;if(!r)return;const l=this.isVertical();t.each(c=>{c.stroke=i,c.strokeWidth=o,c.strokeOpacity=s,c.lineDash=a,c.lineDashOffset=n,c.y1=0,c.y2=l?e.height:0,c.x1=0,c.x2=l?0:e.width})}isVertical(){return this.axisCtx.direction==="x"}formatValue(t){var e;const{labelFormatter:i,axisLayout:o,ctx:{callbackCache:s}}=this;if(i){const r=s.call(i,t);if(r!==void 0)return r}const a=t%1===0,n=((e=o?.label.fractionDigits)!=null?e:0)+(a?0:1);return typeof t=="number"?t.toFixed(n):String(t)}onMouseMove(t){if(!this.enabled||this.snap)return;const{crosshairGroup:e,hoverRect:i}=this,{offsetX:o,offsetY:s}=t;if(this.visible&&i.containsPoint(o,s)){e.visible=!0;const a=this.getData(t);this.updatePositions(a)}else this.hideCrosshairs()}onMouseOut(){this.hideCrosshairs()}onHighlightChange(t){var e,i,o;if(!this.enabled)return;const{crosshairGroup:s,axisCtx:a}=this,{datum:n,series:r}=(e=t.currentHighlight)!=null?e:{},l=n&&(((i=r?.axes.x)==null?void 0:i.id)===a.axisId||((o=r?.axes.y)==null?void 0:o.id)===a.axisId);if(this.activeHighlight=l?t.currentHighlight:void 0,this.snap){if(!this.visible||!this.activeHighlight){this.hideCrosshairs();return}const c=this.getActiveHighlightData(this.activeHighlight);this.updatePositions(c),s.visible=!0}}updatePositions(t){const{seriesRect:e,lineGroupSelection:i}=this;i.each((o,s)=>{const a=t[s];if(!a){o.visible=!1;return}o.visible=!0;const{value:n,position:r}=a;let l=0,c=0;this.isVertical()?(l=r,o.translationX=Math.round(l)):(c=r,o.translationY=Math.round(c)),this.label.enabled?this.showLabel(l+e.x,c+e.y,n,s):this.hideLabel(s)})}getData(t){var e,i;const{seriesRect:o,axisCtx:s}=this,a="pointer",{datum:n,xKey:r="",yKey:l=""}=(e=this.activeHighlight)!=null?e:{},{offsetX:c,offsetY:u}=t,h=c-o.x,d=u-o.y,p=this.isVertical();return{[a]:{position:p?h:d,value:s.continuous?s.scaleInvert(p?h:d):(i=n?.[p?r:l])!=null?i:""}}}getActiveHighlightData(t){var e,i;const{axisCtx:o}=this,{datum:s,series:a,xKey:n="",aggregatedValue:r,cumulativeValue:l,midPoint:c}=t,u=a.getKeyProperties(o.direction),h=o.scaleBandwidth()/2,d=((e=a.axes[o.direction])==null?void 0:e.id)===o.axisId,p=u.indexOf("yKey")>-1&&d,y=u.indexOf("xKey")>-1&&d;if(p&&r!==void 0)return{yKey:{value:r,position:o.scaleConvert(r)+h}};if(p&&l!==void 0)return{yKey:{value:l,position:o.scaleConvert(l)+h}};if(y){const f=(i=this.isVertical()?c?.x:c?.y)!=null?i:0;return{xKey:{value:o.continuous?o.scaleInvert(f):s[n],position:f}}}const g={};return u.forEach(f=>{const m=a.properties[f],S=s[m],v=o.scaleConvert(S)+h;g[f]={value:S,position:v}}),g}getLabelHtml(t,e){const{label:{renderer:i},axisLayout:{label:{fractionDigits:o=0}={}}={}}=this,s={text:this.formatValue(t)};if(i){const a={value:t,fractionDigits:o};return e.toLabelHtml(i(a),s)}return e.toLabelHtml(s)}showLabel(t,e,i,o){const{axisCtx:s,bounds:a,axisLayout:n}=this;if(!n)return;const{label:{padding:r},tickSize:l}=n,c=r+l,u=this.labels[o],h=this.getLabelHtml(i,u);u.setLabelHtml(h);const d=u.computeBBox();let p;if(this.isVertical()){const y=-d.width/2,g=s.position==="bottom"?0:-d.height,f=s.position==="bottom"?a.y+a.height+c:a.y-c;p={x:t+y,y:f+g}}else{const y=-d.height/2,g=s.position==="right"?0:-d.width;p={x:(s.position==="right"?a.x+a.width+c:a.x-c)+g,y:e+y}}u.show(p)}hideCrosshairs(){this.crosshairGroup.visible=!1;for(const t in this.labels)this.hideLabel(t)}hideLabel(t){this.labels[t].toggle(!1)}};__decorateClass([Validate17(BOOLEAN8)],Crosshair.prototype,"enabled",2),__decorateClass([Validate17(COLOR_STRING3,{optional:!0})],Crosshair.prototype,"stroke",2),__decorateClass([Validate17(LINE_DASH3,{optional:!0})],Crosshair.prototype,"lineDash",2),__decorateClass([Validate17(POSITIVE_NUMBER6)],Crosshair.prototype,"lineDashOffset",2),__decorateClass([Validate17(POSITIVE_NUMBER6)],Crosshair.prototype,"strokeWidth",2),__decorateClass([Validate17(RATIO6)],Crosshair.prototype,"strokeOpacity",2),__decorateClass([Validate17(BOOLEAN8)],Crosshair.prototype,"snap",2),__decorateClass([Validate17(OBJECT3)],Crosshair.prototype,"label",2);var import_ag_charts_community29=require("ag-charts-community"),AXIS_CROSSHAIR_THEME={crosshair:{enabled:!0,snap:!0,stroke:import_ag_charts_community29._Theme.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}},category:{crosshair:{enabled:!1,snap:!0,stroke:import_ag_charts_community29._Theme.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},CrosshairModule={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","ordinal-time","number","log","time"],instanceConstructor:Crosshair,themeTemplate:AXIS_CROSSHAIR_THEME},import_ag_charts_community30=require("ag-charts-community"),{BOOLEAN:BOOLEAN9,FUNCTION:FUNCTION2,ActionOnSet:ActionOnSet3,Validate:Validate18}=import_ag_charts_community30._ModuleSupport,DataSource=class extends import_ag_charts_community30._ModuleSupport.BaseModuleInstance{constructor(t){super(),this.enabled=!1,this.getData=()=>Promise.resolve(),this.dataService=t.dataService}updateCallback(t,e){this.dataService&&(t&&e!=null?this.dataService.updateCallback(e):this.dataService.clearCallback())}};__decorateClass([ActionOnSet3({newValue(t){this.updateCallback(t,this.getData)}}),Validate18(BOOLEAN9)],DataSource.prototype,"enabled",2),__decorateClass([ActionOnSet3({newValue(t){this.updateCallback(this.enabled,t)}}),Validate18(FUNCTION2)],DataSource.prototype,"getData",2),__decorateClass([ActionOnSet3({newValue(t){this.dataService.requestThrottle=t}})],DataSource.prototype,"requestThrottle",2),__decorateClass([ActionOnSet3({newValue(t){this.dataService.dispatchThrottle=t}})],DataSource.prototype,"updateThrottle",2),__decorateClass([ActionOnSet3({newValue(t){this.dataService.dispatchOnlyLatest=!t}})],DataSource.prototype,"updateDuringInteraction",2);var DataSourceModule={type:"root",optionsKey:"dataSource",packageType:"enterprise",chartTypes:["cartesian","hierarchy","polar","topology"],instanceConstructor:DataSource,themeTemplate:{dataSource:{enabled:!1}}},import_ag_charts_community35=require("ag-charts-community"),import_ag_charts_community33=require("ag-charts-community"),import_ag_charts_community31=require("ag-charts-community"),{partialAssign,mergeDefaults}=import_ag_charts_community31._ModuleSupport,{BBox:BBox3}=import_ag_charts_community31._Scene,HierarchicalBBox=class{constructor(t){this.components=t,this.union=BBox3.merge(t)}containsPoint(t,e){if(!this.union.containsPoint(t,e))return!1;for(const i of this.components)if(i.containsPoint(t,e))return!0;return!1}},ErrorBarNode=class extends import_ag_charts_community31._Scene.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new import_ag_charts_community31._Scene.Path,this.capsPath=new import_ag_charts_community31._Scene.Path,this.bboxes=new HierarchicalBBox([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(t){this._datum=t}calculateCapLength(t,e){const{lengthRatio:i=1,length:o}=t,{lengthRatioMultiplier:s,lengthMax:a}=e,n=o??i*s;return Math.min(n,a)}getFormatterParams(t,e){const{datum:i}=this;if(i===void 0||t.formatter===void 0&&t.cap.formatter===void 0)return;const{xLowerKey:o,xLowerName:s,xUpperKey:a,xUpperName:n,yLowerKey:r,yLowerName:l,yUpperKey:c,yUpperName:u}=t;return{datum:i.datum,seriesId:i.datum.seriesId,xKey:i.xKey,yKey:i.yKey,xLowerKey:o,xLowerName:s,xUpperKey:a,xUpperName:n,yLowerKey:r,yLowerName:l,yUpperKey:c,yUpperName:u,highlighted:e}}formatStyles(t,e,i){let o=t,{cap:s}=o,a=__objRest(o,["cap"]);const n=this.getFormatterParams(e,i);if(n!==void 0){if(e.formatter!==void 0){const r=e.formatter(n);a=mergeDefaults(r,a),s=mergeDefaults(r,s),s=mergeDefaults(r?.cap,s)}if(e.cap.formatter!==void 0){const r=e.cap.formatter(n);s=mergeDefaults(r,s)}}return{whiskerStyle:a,capsStyle:s}}applyStyling(t,e){partialAssign(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],t,e)}update(t,e,i){if(this.datum===void 0)return;const{whiskerStyle:o,capsStyle:s}=this.formatStyles(t,e,i),{xBar:a,yBar:n,capDefaults:r}=this.datum,l=this.whiskerPath;this.applyStyling(l,o),l.path.clear(),n!==void 0&&(l.path.moveTo(n.lowerPoint.x,n.lowerPoint.y),l.path.lineTo(n.upperPoint.x,n.upperPoint.y)),a!==void 0&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),l.path.closePath(),l.markDirtyTransform(),this.capLength=this.calculateCapLength(s??{},r);const c=this.capLength/2,u=this.capsPath;this.applyStyling(u,s),u.path.clear(),n!==void 0&&(u.path.moveTo(n.lowerPoint.x-c,n.lowerPoint.y),u.path.lineTo(n.lowerPoint.x+c,n.lowerPoint.y),u.path.moveTo(n.upperPoint.x-c,n.upperPoint.y),u.path.lineTo(n.upperPoint.x+c,n.upperPoint.y)),a!==void 0&&(u.path.moveTo(a.lowerPoint.x,a.lowerPoint.y-c),u.path.lineTo(a.lowerPoint.x,a.lowerPoint.y+c),u.path.moveTo(a.upperPoint.x,a.upperPoint.y-c),u.path.lineTo(a.upperPoint.x,a.upperPoint.y+c)),u.path.closePath(),u.markDirtyTransform()}updateBBoxes(){var t;const{capLength:e,whiskerPath:i,capsPath:o}=this,{yBar:s,xBar:a}=(t=this.datum)!=null?t:{},n=e/2,r=[];if(s!==void 0){const l=s.lowerPoint.y-s.upperPoint.y;r.push(new BBox3(s.lowerPoint.x,s.upperPoint.y,i.strokeWidth,l),new BBox3(s.lowerPoint.x-n,s.lowerPoint.y,e,o.strokeWidth),new BBox3(s.upperPoint.x-n,s.upperPoint.y,e,o.strokeWidth))}if(a!==void 0){const l=a.upperPoint.x-a.lowerPoint.x;r.push(new BBox3(a.lowerPoint.x,a.upperPoint.y,l,i.strokeWidth),new BBox3(a.lowerPoint.x,a.lowerPoint.y-n,o.strokeWidth,e),new BBox3(a.upperPoint.x,a.upperPoint.y-n,o.strokeWidth,e))}this.bboxes.components=r,this.bboxes.union=BBox3.merge(r)}containsPoint(t,e){return this.bboxes.containsPoint(t,e)}pickNode(t,e){return this.containsPoint(t,e)?this:void 0}nearestSquared(t,e,i){const{bboxes:o}=this;if(o.union.distanceSquared(t,e)>i)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:s}=BBox3.nearestBox(t,e,o.components);return{nearest:this,distanceSquared:s}}},ErrorBarGroup=class extends import_ag_charts_community31._Scene.Group{get children(){return super.children}nearestSquared(t,e){const{nearest:i,distanceSquared:o}=import_ag_charts_community31._Scene.nearestSquaredInContainer(t,e,this);if(i!==void 0&&!isNaN(o))return{datum:i.datum,distanceSquared:o}}},import_ag_charts_community32=require("ag-charts-community"),{BaseProperties:BaseProperties4,Validate:Validate19,BOOLEAN:BOOLEAN10,COLOR_STRING:COLOR_STRING4,FUNCTION:FUNCTION3,LINE_DASH:LINE_DASH4,NUMBER:NUMBER6,OBJECT:OBJECT4,POSITIVE_NUMBER:POSITIVE_NUMBER7,RATIO:RATIO7,STRING:STRING4}=import_ag_charts_community32._ModuleSupport,ErrorBarCap=class extends BaseProperties4{};__decorateClass([Validate19(BOOLEAN10,{optional:!0})],ErrorBarCap.prototype,"visible",2),__decorateClass([Validate19(COLOR_STRING4,{optional:!0})],ErrorBarCap.prototype,"stroke",2),__decorateClass([Validate19(POSITIVE_NUMBER7,{optional:!0})],ErrorBarCap.prototype,"strokeWidth",2),__decorateClass([Validate19(RATIO7,{optional:!0})],ErrorBarCap.prototype,"strokeOpacity",2),__decorateClass([Validate19(LINE_DASH4,{optional:!0})],ErrorBarCap.prototype,"lineDash",2),__decorateClass([Validate19(POSITIVE_NUMBER7,{optional:!0})],ErrorBarCap.prototype,"lineDashOffset",2),__decorateClass([Validate19(NUMBER6,{optional:!0})],ErrorBarCap.prototype,"length",2),__decorateClass([Validate19(RATIO7,{optional:!0})],ErrorBarCap.prototype,"lengthRatio",2),__decorateClass([Validate19(FUNCTION3,{optional:!0})],ErrorBarCap.prototype,"formatter",2);var ErrorBarProperties=class extends BaseProperties4{constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new ErrorBarCap}};__decorateClass([Validate19(STRING4,{optional:!0})],ErrorBarProperties.prototype,"yLowerKey",2),__decorateClass([Validate19(STRING4,{optional:!0})],ErrorBarProperties.prototype,"yLowerName",2),__decorateClass([Validate19(STRING4,{optional:!0})],ErrorBarProperties.prototype,"yUpperKey",2),__decorateClass([Validate19(STRING4,{optional:!0})],ErrorBarProperties.prototype,"yUpperName",2),__decorateClass([Validate19(STRING4,{optional:!0})],ErrorBarProperties.prototype,"xLowerKey",2),__decorateClass([Validate19(STRING4,{optional:!0})],ErrorBarProperties.prototype,"xLowerName",2),__decorateClass([Validate19(STRING4,{optional:!0})],ErrorBarProperties.prototype,"xUpperKey",2),__decorateClass([Validate19(STRING4,{optional:!0})],ErrorBarProperties.prototype,"xUpperName",2),__decorateClass([Validate19(BOOLEAN10,{optional:!0})],ErrorBarProperties.prototype,"visible",2),__decorateClass([Validate19(COLOR_STRING4,{optional:!0})],ErrorBarProperties.prototype,"stroke",2),__decorateClass([Validate19(POSITIVE_NUMBER7,{optional:!0})],ErrorBarProperties.prototype,"strokeWidth",2),__decorateClass([Validate19(RATIO7,{optional:!0})],ErrorBarProperties.prototype,"strokeOpacity",2),__decorateClass([Validate19(LINE_DASH4,{optional:!0})],ErrorBarProperties.prototype,"lineDash",2),__decorateClass([Validate19(POSITIVE_NUMBER7,{optional:!0})],ErrorBarProperties.prototype,"lineDashOffset",2),__decorateClass([Validate19(FUNCTION3,{optional:!0})],ErrorBarProperties.prototype,"formatter",2),__decorateClass([Validate19(OBJECT4)],ErrorBarProperties.prototype,"cap",2);var{fixNumericExtent,groupAccumulativeValueProperty,isDefined,mergeDefaults:mergeDefaults2,valueProperty,ChartAxisDirection:ChartAxisDirection6}=import_ag_charts_community33._ModuleSupport;function toErrorBoundCartesianSeries(t){for(const e of import_ag_charts_community33.AgErrorBarSupportedSeriesTypes)if(e===t.series.type)return t.series;throw new Error(`AG Charts - unsupported series type '${t.series.type}', error bars supported series types: ${import_ag_charts_community33.AgErrorBarSupportedSeriesTypes.join(", ")}`)}var ErrorBars=class lt extends import_ag_charts_community33._ModuleSupport.BaseModuleInstance{constructor(e){super(),this.properties=new ErrorBarProperties;const i=toErrorBoundCartesianSeries(e),{annotationGroup:o,annotationSelections:s}=i;this.cartesianSeries=i,this.groupNode=new ErrorBarGroup({name:`${o.id}-errorBars`,zIndex:import_ag_charts_community33._ModuleSupport.Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:i.getGroupZIndexSubOrder("annotation")}),o.appendChild(this.groupNode),this.selection=import_ag_charts_community33._Scene.Selection.select(this.groupNode,()=>this.errorBarFactory()),s.add(this.selection),this.destroyFns.push(i.addListener("data-processed",a=>this.onDataProcessed(a)),i.addListener("data-update",a=>this.onDataUpdate(a)),i.addListener("visibility-changed",a=>this.onToggleSeriesItem(a)),e.highlightManager.addListener("highlight-change",a=>this.onHighlightChange(a)),()=>o.removeChild(this.groupNode),()=>s.delete(this.selection))}hasErrorBars(){const{xLowerKey:e,xUpperKey:i,yLowerKey:o,yUpperKey:s}=this.properties;return isDefined(e)&&isDefined(i)||isDefined(o)&&isDefined(s)}isStacked(){var e;const i=(e=this.cartesianSeries.seriesGrouping)==null?void 0:e.stackCount;return i==null?!1:i>0}getUnstackPropertyDefinition(e){const i=[],{xLowerKey:o,xUpperKey:s,yLowerKey:a,yUpperKey:n,xErrorsID:r,yErrorsID:l}=this.getMaybeFlippedKeys(),{xScaleType:c,yScaleType:u}=e;return a!=null&&n!=null&&i.push(valueProperty(a,u,{id:`${l}-lower`}),valueProperty(n,u,{id:`${l}-upper`})),o!=null&&s!=null&&i.push(valueProperty(o,c,{id:`${r}-lower`}),valueProperty(s,c,{id:`${r}-upper`})),i}getStackPropertyDefinition(e){var i,o;const s=[],{cartesianSeries:a}=this,{xLowerKey:n,xUpperKey:r,yLowerKey:l,yUpperKey:c,xErrorsID:u,yErrorsID:h}=this.getMaybeFlippedKeys(),{xScaleType:d,yScaleType:p}=e,y=(o=(i=a.seriesGrouping)==null?void 0:i.groupIndex)!=null?o:a.id,g=__spreadValues({invalidValue:null,missingValue:0,separateNegative:!0},a.visible?{}:{forceValue:0}),f=(S,v,M,x)=>groupAccumulativeValueProperty(S,"normal","current",__spreadValues({id:`${v}-${M}`,groupId:`errorGroup-${y}-${M}`},g),x),m=(S,v,M,x)=>{s.push(...f(S,M,"lower",x),...f(v,M,"upper",x))};return l!=null&&c!=null&&m(l,c,h,p),n!=null&&r!=null&&m(n,r,u,d),s}getPropertyDefinitions(e){return this.isStacked()?this.getStackPropertyDefinition(e):this.getUnstackPropertyDefinition(e)}onDataProcessed(e){this.dataModel=e.dataModel,this.processedData=e.processedData}getDomain(e){const{xLowerKey:i,xUpperKey:o,xErrorsID:s,yLowerKey:a,yUpperKey:n,yErrorsID:r}=this.getMaybeFlippedKeys();if(e===ChartAxisDirection6.X?isDefined(i)&&isDefined(o):isDefined(a)&&isDefined(n)){const{dataModel:c,processedData:u,cartesianSeries:h}=this;if(c!=null&&u!=null){const d=h.axes[e],p={x:s,y:r}[e],y=c.getDomain(h,`${p}-lower`,"value",u),g=c.getDomain(h,`${p}-upper`,"value",u),f=[Math.min(...y,...g),Math.max(...y,...g)];return fixNumericExtent(f,d)}}return[]}onDataUpdate(e){this.dataModel=e.dataModel,this.processedData=e.processedData,isDefined(e.dataModel)&&isDefined(e.processedData)&&(this.createNodeData(),this.update())}getNodeData(){var e;return(e=this.cartesianSeries.contextNodeData)==null?void 0:e.nodeData}createNodeData(){var e,i;const o=this.getNodeData(),s=(e=this.cartesianSeries.axes[ChartAxisDirection6.X])==null?void 0:e.scale,a=(i=this.cartesianSeries.axes[ChartAxisDirection6.Y])==null?void 0:i.scale;if(!(!this.hasErrorBars()||!s||!a||!o))for(let n=0;n<o.length;n++){const{midPoint:r,xLower:l,xUpper:c,yLower:u,yUpper:h}=this.getDatum(o,n);if(r!=null){let d,p;isDefined(l)&&isDefined(c)&&(d={lowerPoint:{x:this.convert(s,l),y:r.y},upperPoint:{x:this.convert(s,c),y:r.y}}),isDefined(u)&&isDefined(h)&&(p={lowerPoint:{x:r.x,y:this.convert(a,u)},upperPoint:{x:r.x,y:this.convert(a,h)}}),o[n].xBar=d,o[n].yBar=p}}}getMaybeFlippedKeys(){let{xLowerKey:e,xUpperKey:i,yLowerKey:o,yUpperKey:s}=this.properties,[a,n]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([e,o]=[o,e],[i,s]=[s,i],[a,n]=[n,a]),{xLowerKey:e,xUpperKey:i,xErrorsID:a,yLowerKey:o,yUpperKey:s,yErrorsID:n}}static getDatumKey(e,i,o){if(i==null)return;const s=e.datum[i];if(s!=null){if(typeof s!="number"){import_ag_charts_community33._Util.Logger.warnOnce(`Found [${i}] error value of type ${typeof s}. Expected number type`);return}return s+o}}getDatum(e,i){const{xLowerKey:o,xUpperKey:s,yLowerKey:a,yUpperKey:n}=this.getMaybeFlippedKeys(),r=e[i],l=r.cumulativeValue==null||!this.isStacked()?0:r.cumulativeValue-r.yValue,[c,u]=this.cartesianSeries.shouldFlipXY()?[l,0]:[0,l];return{midPoint:r.midPoint,xLower:lt.getDatumKey(r,o,c),xUpper:lt.getDatumKey(r,s,c),yLower:lt.getDatumKey(r,a,u),yUpper:lt.getDatumKey(r,n,u)}}convert(e,i){var o;const s=((o=e.bandwidth)!=null?o:0)/2;return e.convert(i)+s}update(){const e=this.getNodeData();e!=null&&(this.selection.update(e),this.selection.each((i,o,s)=>this.updateNode(i,o,s)))}updateNode(e,i,o){e.datum=i,e.update(this.getDefaultStyle(),this.properties,!1),e.updateBBoxes()}pickNodeExact(e){const{x:i,y:o}=this.groupNode.transformPoint(e.x,e.y),s=this.groupNode.pickNode(i,o);if(s!=null)return{datum:s.datum,distanceSquared:0}}pickNodeNearest(e){return this.groupNode.nearestSquared(e.x,e.y)}pickNodeMainAxisFirst(e){return this.groupNode.nearestSquared(e.x,e.y)}getTooltipParams(){const{xLowerKey:e,xUpperKey:i,yLowerKey:o,yUpperKey:s,xLowerName:a=e,xUpperName:n=i,yLowerName:r=o,yUpperName:l=s}=this.properties;return{xLowerKey:e,xLowerName:a,xUpperKey:i,xUpperName:n,yLowerKey:o,yLowerName:r,yUpperKey:s,yUpperName:l}}onToggleSeriesItem(e){this.groupNode.visible=e.enabled}makeStyle(e){return{visible:e.visible,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity,cap:mergeDefaults2(this.properties.cap,e)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(e,i,o){const s=this.getNodeData();if(s!=null){for(let a=0;a<s.length;a++)if(e===s[a]){this.selection.nodes()[a].update(i,this.properties,o);break}}}onHighlightChange(e){const{previousHighlight:i,currentHighlight:o}=e;o?.series===this.cartesianSeries&&this.restyleHighlightChange(o,this.getHighlightStyle(),!0),i?.series===this.cartesianSeries&&this.restyleHighlightChange(i,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new ErrorBarNode}getWhiskerProperties(){const{stroke:e,strokeWidth:i,visible:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}=this.properties;return{stroke:e,strokeWidth:i,visible:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}}},import_ag_charts_community34=require("ag-charts-community"),ERROR_BARS_THEME={series:{errorBar:{visible:!0,stroke:import_ag_charts_community34._Theme.DEFAULT_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}}},ErrorBarsModule={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:import_ag_charts_community35.AgErrorBarSupportedSeriesTypes,instanceConstructor:ErrorBars,themeTemplate:ERROR_BARS_THEME},import_ag_charts_community38=require("ag-charts-community"),import_ag_charts_community37=require("ag-charts-community"),import_ag_charts_community36=require("ag-charts-community"),{Validate:Validate20,BOOLEAN:BOOLEAN11,POSITIVE_NUMBER:POSITIVE_NUMBER8,Layers:Layers4,ActionOnSet:ActionOnSet4,CategoryAxis,GroupedCategoryAxis}=import_ag_charts_community36._ModuleSupport,{toRadians:toRadians4,Padding,Logger}=import_ag_charts_community36._Util,{Text:Text4,Group:Group4,BBox:BBox4}=import_ag_charts_community36._Scene,MiniChartPadding=class{constructor(){this.top=0,this.bottom=0}};__decorateClass([Validate20(POSITIVE_NUMBER8)],MiniChartPadding.prototype,"top",2),__decorateClass([Validate20(POSITIVE_NUMBER8)],MiniChartPadding.prototype,"bottom",2);var MiniChart=class extends import_ag_charts_community36._ModuleSupport.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.padding=new MiniChartPadding,this.root=new Group4({name:"root"}),this.seriesRoot=this.root.appendChild(new Group4({name:"Series-root",layer:!0,zIndex:Layers4.SERIES_LAYER_ZINDEX})),this.axisGridGroup=this.root.appendChild(new Group4({name:"Axes-Grids",layer:!0,zIndex:Layers4.AXIS_GRID_ZINDEX})),this.axisGroup=this.root.appendChild(new Group4({name:"Axes-Grids",layer:!0,zIndex:Layers4.AXIS_GRID_ZINDEX})),this.data=[],this._destroyed=!1,this.miniChartAnimationPhase="initial",this.axes=[],this.series=[]}destroy(){this._destroyed||(this.destroySeries(this.series),this.axes.forEach(t=>t.destroy()),this.axes=[],this._destroyed=!0)}onSeriesChange(t,e){var i;const o=(i=e?.filter(s=>!t.includes(s)))!=null?i:[];this.destroySeries(o);for(const s of t){if(e?.includes(s))continue;s.rootGroup.parent==null&&this.seriesRoot.appendChild(s.rootGroup);const a=this;s.chart={get mode(){return"standalone"},get isMiniChart(){return!0},get seriesRect(){return a.seriesRect},placeLabels(){return new Map}},s.resetAnimation(this.miniChartAnimationPhase==="initial"?"initial":"disabled")}}destroySeries(t){t?.forEach(e=>{e.destroy(),e.rootGroup!=null&&this.seriesRoot.removeChild(e.rootGroup),e.chart=void 0})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t={};this.axes.forEach(e=>{var i;const o=e.direction;((i=t[o])!=null?i:t[o]=[]).push(e)}),this.series.forEach(e=>{e.directions.forEach(i=>{const o=t[i];if(!o){Logger.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const s=e.getKeys(i),a=this.findMatchingAxis(o,s);if(!a){Logger.warnOnce(`no matching axis for direction [${i}] and keys [${s}]; check series and axes configuration.`);return}e.axes[i]=a})})}findMatchingAxis(t,e){for(const i of t){if(!i.keys.length)return i;if(e){for(const o of e)if(i.keys.includes(o))return i}}}updateData(t){return __async(this,null,function*(){this.series.forEach(e=>e.setChartData(t.data)),this.miniChartAnimationPhase==="initial"&&this.ctx.animationManager.onBatchStop(()=>{this.miniChartAnimationPhase="ready",this.series.forEach(e=>e.resetAnimation("disabled"))})})}processData(t){return __async(this,null,function*(){this.series.some(i=>i.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const e=this.series.map(i=>i.processData(t.dataController));yield Promise.all(e)})}computeAxisPadding(){const t=new Padding;return this.enabled&&this.axes.forEach(e=>{var i;const{position:o,thickness:s=0,line:a,label:n}=e;if(o==null)return;let r;s>0?r=s:r=(a.enabled?a.width:0)+(n.enabled?((i=n.fontSize)!=null?i:0)*Text4.defaultLineHeightRatio+n.padding:0),t[o]=Math.ceil(r)}),t}layout(t,e){return __async(this,null,function*(){const{padding:i}=this,o=this.seriesRect!=null,s=new BBox4(0,0,t,e-(i.top+i.bottom));this.seriesRect=s,this.seriesRoot.translationY=i.top,this.seriesRoot.setClipRectInGroupCoordinateSpace(this.seriesRoot.inverseTransformBBox(new BBox4(0,-i.top,t,e)));const a=n=>n instanceof CategoryAxis||n instanceof GroupedCategoryAxis?[0,s.height]:[s.height,0];this.axes.forEach(n=>{const{position:r="left"}=n;switch(r){case"top":case"bottom":n.range=[0,s.width],n.gridLength=s.height;break;case"right":case"left":n.range=a(n),n.gridLength=s.width;break}switch(r){case"top":case"left":n.translation.x=0,n.translation.y=0;break;case"bottom":n.translation.x=0,n.translation.y=e;break;case"right":n.translation.x=t,n.translation.y=0;break}n.gridPadding=0,n.calculateLayout(),n.updatePosition({rotation:toRadians4(n.rotation),sideFlag:n.label.getSideFlag()}),n.update(void 0,o)}),yield Promise.all(this.series.map(n=>n.update({seriesRect:s})))})}};__decorateClass([Validate20(BOOLEAN11)],MiniChart.prototype,"enabled",2),__decorateClass([ActionOnSet4({changeValue(t,e=[]){for(const i of e)t.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of t)e?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup)}})],MiniChart.prototype,"axes",2),__decorateClass([ActionOnSet4({changeValue(t,e){this.onSeriesChange(t,e)}})],MiniChart.prototype,"series",2);var{ObserveChanges:ObserveChanges3}=import_ag_charts_community37._ModuleSupport,_Navigator=class yt extends import_ag_charts_community37._ModuleSupport.Navigator{constructor(e){super(e),this.miniChart=new MiniChart(e)}updateData(e){return __async(this,null,function*(){yield this.miniChart.updateData(e)})}processData(e){return __async(this,null,function*(){yield this.miniChart.processData(e)})}performLayout(e){return __async(this,null,function*(){const{shrinkRect:i}=yield __superGet(yt.prototype,this,"performLayout").call(this,e);if(this.enabled){const{top:o,bottom:s}=this.miniChart.computeAxisPadding();i.shrink(o+s,"bottom"),this.y-=s}return{shrinkRect:i}})}performCartesianLayout(e){return __async(this,null,function*(){yield __superGet(yt.prototype,this,"performCartesianLayout").call(this,e),yield this.miniChart.layout(this.width,this.height)})}};__decorateClass([ObserveChanges3((t,e,i)=>{t.updateBackground(i?.root,e?.root)})],_Navigator.prototype,"miniChart",2);var Navigator=_Navigator,_a,NavigatorModule={type:"root",optionsKey:"navigator",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:Navigator,themeTemplate:__spreadProps(__spreadValues({},import_ag_charts_community38._ModuleSupport.NavigatorModule.themeTemplate),{navigator:__spreadProps(__spreadValues({},(_a=import_ag_charts_community38._ModuleSupport.NavigatorModule.themeTemplate)==null?void 0:_a.navigator),{miniChart:{enabled:!1,label:{color:import_ag_charts_community38._Theme.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:import_ag_charts_community38._Theme.DEFAULT_FONT_FAMILY,formatter:void 0,padding:0},padding:{top:0,bottom:0}}})})},import_ag_charts_community39=require("ag-charts-community"),{BOOLEAN:BOOLEAN12,STRING:STRING5,UNION:UNION4,BaseProperties:BaseProperties5,CartesianAxis,ChartUpdateType,arraysEqual,isDate,isDefined:isDefined2,isFiniteNumber,ObserveChanges:ObserveChanges4,TooltipManager,Validate:Validate21}=import_ag_charts_community39._ModuleSupport,{Logger:Logger2}=import_ag_charts_community39._Util,ChartSync=class extends BaseProperties5{constructor(t){super(),this.moduleContext=t,this.enabled=!1,this.axes="x",this.nodeInteraction=!0,this.zoom=!0}updateChart(t,e=ChartUpdateType.UPDATE_DATA){t.ctx.updateService.update(e,{skipSync:!0})}updateSiblings(t){const{syncManager:e}=this.moduleContext;__async(this,null,function*(){for(const o of e.getGroupSiblings(t))yield o.waitForDataProcess(120),this.updateChart(o)}).catch(o=>{Logger2.warnOnce("Error updating sibling chart",o)})}enabledZoomSync(){const{syncManager:t,zoomManager:e}=this.moduleContext;this.disableZoomSync=e.addListener("zoom-change",()=>{var i;for(const o of t.getGroupSiblings(this.groupId))(i=o.modulesManager.getModule("sync"))!=null&&i.zoom&&o.ctx.zoomManager.updateZoom("sync",this.mergeZoom(o))})}enabledNodeInteractionSync(){const{highlightManager:t,syncManager:e}=this.moduleContext;this.disableNodeInteractionSync=t.addListener("highlight-change",i=>{var o,s,a,n,r,l,c,u,h,d,p,y;for(const g of e.getGroupSiblings(this.groupId))if((o=g.modulesManager.getModule("sync"))!=null&&o.nodeInteraction){if(!((s=i.currentHighlight)!=null&&s.datum)){g.ctx.highlightManager.updateHighlight(g.id),g.ctx.tooltipManager.removeTooltip(g.id);continue}for(const f of g.axes){const m=this.axes==="xy"?"x":this.axes;if(!CartesianAxis.is(f)||f.direction!==m)continue;const S=g.series.map(v=>{const M=v.getKeys(f.direction);if(f.keys.length&&!f.keys.some(N=>M.includes(N)))return;const{nodeData:x}=v.contextNodeData;if(!x?.length)return;const _=x[0][`${f.direction}Key`];let D=i.currentHighlight.datum[_];const I=isDate(D);I&&(D=D.getTime());const T=x.find(N=>{const b=N.datum[_];return I?b.getTime()===D:b===D});return T?{series:v,nodeDatum:T}:null}).filter(isDefined2);if(S.length<2&&((a=S[0])==null?void 0:a.nodeDatum)!==g.ctx.highlightManager.getActiveHighlight()){const{series:v,nodeDatum:M}=(n=S[0])!=null?n:{};if(g.ctx.highlightManager.updateHighlight(g.id,M),M){const x=(u=(c=(r=M.midPoint)==null?void 0:r.x)!=null?c:(l=M.point)==null?void 0:l.x)!=null?u:0,_=(y=(p=(h=M.midPoint)==null?void 0:h.y)!=null?p:(d=M.point)==null?void 0:d.y)!=null?y:0,D=TooltipManager.makeTooltipMeta({type:"hover",offsetX:x,offsetY:_},M);delete D.lastPointerEvent,g.ctx.tooltipManager.updateTooltip(g.id,D,v.getTooltipHtml(M))}else g.ctx.tooltipManager.removeTooltip(g.id);this.updateChart(g,ChartUpdateType.SERIES_UPDATE)}}}})}syncAxes(t=!1){const{syncManager:e}=this.moduleContext,i=e.getChart(),o=e.getGroup(this.groupId),s=o.flatMap(r=>r.series),a=o[0].axes;let n=!1;i.axes.forEach(r=>{if(!CartesianAxis.is(r)||this.axes!=="xy"&&this.axes!==r.direction){r.boundSeries=i.series.filter(y=>y.axes[r.direction]===r);return}const{direction:l,min:c,max:u,nice:h,reverse:d}=r;for(const y of a)if(l===y.direction&&(h!==y.nice||d!==y.reverse||c!==y.min&&(isFiniteNumber(c)||isFiniteNumber(y.min))||u!==y.max&&(isFiniteNumber(u)||isFiniteNumber(y.max)))){Logger2.warnOnce("To allow synchronization, ensure that all charts have matching min, max, nice, and reverse properties on the synchronized axes."),r.boundSeries=i.series.filter(g=>g.axes[r.direction]===r),this.enabled=!1;return}const p=s.filter(y=>{if(y.visible){const g=y.getKeys(r.direction);return r.keys.length?r.keys.some(f=>g.includes(f)):!0}});arraysEqual(r.boundSeries,p)||(r.boundSeries=p,n=!0)}),n&&!t&&this.updateSiblings(this.groupId)}mergeZoom(t){var e,i;const{zoomManager:o}=this.moduleContext;if(this.axes==="xy")return o.getZoom();const s=(e=t.zoomManager.getZoom())!=null?e:{};return s[this.axes]=(i=o.getZoom())==null?void 0:i[this.axes],s}onEnabledChange(){const{syncManager:t}=this.moduleContext;this.enabled?t.subscribe(this.groupId):t.unsubscribe(this.groupId),this.updateSiblings(this.groupId),this.onNodeInteractionChange(),this.onZoomChange()}onGroupIdChange(t,e){if(!this.enabled||t===e)return;const{syncManager:i}=this.moduleContext;i.unsubscribe(e),i.subscribe(t),this.updateSiblings(e),this.updateSiblings(t)}onAxesChange(){if(!this.enabled)return;const{syncManager:t}=this.moduleContext;this.updateChart(t.getChart())}onNodeInteractionChange(){var t;this.enabled&&this.nodeInteraction?this.enabledNodeInteractionSync():(t=this.disableNodeInteractionSync)==null||t.call(this)}onZoomChange(){var t;this.enabled&&this.zoom?this.enabledZoomSync():(t=this.disableZoomSync)==null||t.call(this)}destroy(){var t;const{syncManager:e}=this.moduleContext;e.unsubscribe(this.groupId),this.updateSiblings(this.groupId),(t=this.disableZoomSync)==null||t.call(this)}};ChartSync.className="Sync",__decorateClass([Validate21(BOOLEAN12),ObserveChanges4(t=>t.onEnabledChange())],ChartSync.prototype,"enabled",2),__decorateClass([Validate21(STRING5,{optional:!0}),ObserveChanges4((t,e,i)=>t.onGroupIdChange(e,i))],ChartSync.prototype,"groupId",2),__decorateClass([Validate21(UNION4(["x","y","xy"],"an axis")),ObserveChanges4(t=>t.onAxesChange())],ChartSync.prototype,"axes",2),__decorateClass([Validate21(BOOLEAN12),ObserveChanges4(t=>t.onNodeInteractionChange())],ChartSync.prototype,"nodeInteraction",2),__decorateClass([Validate21(BOOLEAN12),ObserveChanges4(t=>t.onZoomChange())],ChartSync.prototype,"zoom",2);var SyncModule={type:"root",optionsKey:"sync",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:ChartSync,themeTemplate:{sync:{enabled:!1}}},import_ag_charts_community48=require("ag-charts-community"),import_ag_charts_community40=require("ag-charts-community"),{COLOR_STRING:COLOR_STRING5,RATIO:RATIO8,Validate:Validate22}=import_ag_charts_community40._ModuleSupport,ZoomRect=class extends import_ag_charts_community40._Scene.Rect{constructor(){super(...arguments),this.fill="rgb(33, 150, 243)",this.fillOpacity=.2}};ZoomRect.className="ZoomRect",__decorateClass([Validate22(COLOR_STRING5)],ZoomRect.prototype,"fill",2),__decorateClass([Validate22(RATIO8)],ZoomRect.prototype,"fillOpacity",2);var import_ag_charts_community42=require("ag-charts-community"),import_ag_charts_community41=require("ag-charts-community"),{clamp,isEqual,round}=import_ag_charts_community41._ModuleSupport,UNIT={min:0,max:1},DEFAULT_ANCHOR_POINT_X="end",DEFAULT_ANCHOR_POINT_Y="middle",constrain=(t,e=UNIT.min,i=UNIT.max)=>clamp(e,t,i);function unitZoomState(){return{x:__spreadValues({},UNIT),y:__spreadValues({},UNIT)}}function dx(t){return t.x.max-t.x.min}function dy(t){return t.y.max-t.y.min}function isZoomEqual(t,e,i=1e-10){return isEqual(t.x.min,e.x.min,i)&&isEqual(t.x.max,e.x.max,i)&&isEqual(t.y.min,e.y.min,i)&&isEqual(t.y.max,e.y.max,i)}function isZoomLess(t,e,i){const o=round(dx(t),10)<=e,s=round(dy(t),10)<=i;return o||s}function definedZoomState(t){var e,i,o,s,a,n,r,l;return{x:{min:(i=(e=t?.x)==null?void 0:e.min)!=null?i:UNIT.min,max:(s=(o=t?.x)==null?void 0:o.max)!=null?s:UNIT.max},y:{min:(n=(a=t?.y)==null?void 0:a.min)!=null?n:UNIT.min,max:(l=(r=t?.y)==null?void 0:r.max)!=null?l:UNIT.max}}}function pointToRatio(t,e,i){if(!t)return{x:0,y:0};const o=constrain(e-t.x,0,t.x+t.width),s=constrain(i-t.y,0,t.y+t.height),a=1/t.width*o,n=1-1/t.height*s;return{x:constrain(a),y:constrain(n)}}function translateZoom(t,e,i){return{x:{min:t.x.min+e,max:t.x.max+e},y:{min:t.y.min+i,max:t.y.max+i}}}function scaleZoom(t,e,i){return{x:{min:t.x.min,max:t.x.min+dx(t)*e},y:{min:t.y.min,max:t.y.min+dy(t)*i}}}function scaleZoomCenter(t,e,i){const o=dx(t),s=dy(t),a=t.x.min+o/2,n=t.y.min+s/2;return{x:{min:a-o*e/2,max:a+o*e/2},y:{min:n-s*i/2,max:n+s*i/2}}}function scaleZoomAxisWithAnchor(t,e,i,o){const{min:s,max:a}=e,n=s+(a-s)/2,r=t.max-t.min;switch(i){case"start":return{min:s,max:e.min+r};case"end":return{min:e.max-r,max:a};case"middle":return{min:n-r/2,max:n+r/2};case"pointer":return scaleZoomAxisWithPoint(t,e,o??n);default:return{min:s,max:a}}}function scaleZoomAxisWithPoint(t,e,i){const o=i*(1-(e.max-e.min-(t.max-t.min))),s=i-o,a=t.min+s,n=t.max+s;return{min:a,max:n}}function multiplyZoom(t,e,i){return{x:{min:t.x.min*e,max:t.x.max*e},y:{min:t.y.min*i,max:t.y.max*i}}}function constrainZoom(t){const e=unitZoomState();return e.x=constrainAxis(t.x),e.y=constrainAxis(t.y),e}function constrainAxis(t){const e=t.max-t.min;let i=t.max>UNIT.max?UNIT.max-e:t.min,o=t.min<UNIT.min?e:t.max;return i=Math.max(UNIT.min,i),o=Math.min(UNIT.max,o),{min:i,max:o}}function constrainAxisWithOld({min:t,max:e},i,o){if(e===i.max)t=e-o;else if(t===i.min)e=t+o;else{const s=i.min+(i.max-i.min)/2;t=s-o/2,e=s+o/2}return{min:t,max:e}}var ZoomAxisDragger=class{update(t,e,i,o,s,a){var n;return(n=this.oldZoom)!=null||(this.oldZoom=definedZoomState(e===import_ag_charts_community42._ModuleSupport.ChartAxisDirection.X?__spreadProps(__spreadValues({},s),{x:a}):__spreadProps(__spreadValues({},s),{y:a}))),this.updateCoords(t.offsetX,t.offsetY),this.updateZoom(e,i,o)}stop(){this.coords=void 0,this.oldZoom=void 0}updateCoords(t,e){this.coords?(this.coords.x2=t,this.coords.y2=e):this.coords={x1:t,y1:e,x2:t,y2:e}}updateZoom(t,e,i){const{coords:o,oldZoom:s}=this;let a=definedZoomState(s);if(!o||!s)return t===import_ag_charts_community42._ModuleSupport.ChartAxisDirection.X?a.x:a.y;const n=pointToRatio(i,o.x1,o.y1),r=pointToRatio(i,o.x2,o.y2);if(t===import_ag_charts_community42._ModuleSupport.ChartAxisDirection.X){const c=(r.x-n.x)*dx(s);return a.x.max+=c,a.x=scaleZoomAxisWithAnchor(a.x,s.x,e,n.x),a=constrainZoom(a),a.x}const l=(r.y-n.y)*dy(s);return a.y.max-=l,a.y=scaleZoomAxisWithAnchor(a.y,s.y,e,n.y),a=constrainZoom(a),a.y}},CONTEXT_ZOOM_ACTION_ID="zoom-action",CONTEXT_PAN_ACTION_ID="pan-action",ZoomContextMenu=class{constructor(t,e,i){this.contextMenuRegistry=t,this.zoomManager=e,this.updateZoom=i}registerActions(t,e,i){if(!t)return;const{contextMenuRegistry:o}=this;o.registerDefaultAction({id:CONTEXT_ZOOM_ACTION_ID,label:"Zoom to here",action:s=>this.onZoomToHere(s,i)}),o.registerDefaultAction({id:CONTEXT_PAN_ACTION_ID,label:"Pan to here",action:s=>this.onPanToHere(s,i)}),this.toggleActions(e,i)}toggleActions(t,e){const{contextMenuRegistry:i}=this;isZoomLess(t,e.minRatioX,e.minRatioY)?i.disableAction(CONTEXT_ZOOM_ACTION_ID):i.enableAction(CONTEXT_ZOOM_ACTION_ID),isZoomEqual(t,unitZoomState())?i.disableAction(CONTEXT_PAN_ACTION_ID):i.enableAction(CONTEXT_PAN_ACTION_ID)}onZoomToHere({event:t},e){const{rect:i}=this,{enabled:o,isScalingX:s,isScalingY:a,minRatioX:n,minRatioY:r}=e;if(!o||!i||!t||!t.target)return;const l=definedZoomState(this.zoomManager.getZoom()),c=pointToRatio(i,t.clientX,t.clientY),u=c.x*dx(l),h=c.y*dy(l),d=UNIT.max-UNIT.min,p=d/2;let y={x:{min:c.x-p,max:c.x+p},y:{min:c.y-p,max:c.y+p}};y=scaleZoomCenter(y,s?n:d,a?r:d),y=translateZoom(y,l.x.min-c.x+u,l.y.min-c.y+h),this.updateZoom(constrainZoom(y))}onPanToHere({event:t},e){const{rect:i}=this,{enabled:o}=e;if(!o||!i||!t||!t.target)return;const s=definedZoomState(this.zoomManager.getZoom()),a=pointToRatio(i,t.clientX,t.clientY),n=dx(s),r=dy(s),l=a.x*n,c=a.y*r,u=(UNIT.max-UNIT.min)/2;let h={x:{min:a.x-u,max:a.x+u},y:{min:a.y-u,max:a.y+u}};h=scaleZoomCenter(h,n,r),h=translateZoom(h,s.x.min-a.x+l,s.y.min-a.y+c),this.updateZoom(constrainZoom(h))}},import_ag_charts_community43=require("ag-charts-community"),maxZoomCoords=16,ZoomPanner=class{constructor(){this.deceleration=1,this.zoomCoordsHistoryIndex=0,this.coordsHistory=[]}addListener(t,e){return this.onUpdate=e,()=>{this.onUpdate=void 0}}stopInteractions(){this.inertiaHandle!=null&&(cancelAnimationFrame(this.inertiaHandle),this.inertiaHandle=void 0)}update(t){var e,i;this.updateCoords(t.offsetX,t.offsetY);const{x1:o=0,y1:s=0,x2:a=0,y2:n=0}=(e=this.coords)!=null?e:{};(i=this.onUpdate)==null||i.call(this,{type:"update",deltaX:o-a,deltaY:s-n})}start(){this.coordsMonitorTimeout=setInterval(this.recordCurrentZoomCoords.bind(this),16)}stop(){const{coordsHistory:t}=this;let e=0,i=0,o=0;if(t.length>0){const s=this.zoomCoordsHistoryIndex%maxZoomCoords;let a=s-1;a<0&&(a=t.length-1);let n=s;n>=t.length&&(n=0);const r=t[a],l=t[n];e=r.x-l.x,i=r.y-l.y,o=r.t-l.t}if(this.coords=void 0,clearInterval(this.coordsMonitorTimeout),this.coordsMonitorTimeout=void 0,this.zoomCoordsHistoryIndex=0,this.coordsHistory.length=0,o>0&&this.deceleration<1){const s=e/o,a=i/o,n=Math.hypot(s,a),r=Math.atan2(a,s),l=performance.now();this.inertiaHandle=requestAnimationFrame(c=>{this.animateInertia(c,c,l,n,r)})}}recordCurrentZoomCoords(){const{coords:t,coordsHistory:e,zoomCoordsHistoryIndex:i}=this;if(!t)return;const{x2:o,y2:s}=t,a=Date.now();e[i%maxZoomCoords]={x:o,y:s,t:a},this.zoomCoordsHistoryIndex+=1}animateInertia(t,e,i,o,s){var a;const n=1-this.deceleration,r=-o/Math.log(n),l=o*(__pow(n,e-i)-1)/Math.log(n),c=o*(__pow(n,t-i)-1)/Math.log(n);(a=this.onUpdate)==null||a.call(this,{type:"update",deltaX:-Math.cos(s)*(c-l),deltaY:-Math.sin(s)*(c-l)}),!(c>=r-1)&&(this.inertiaHandle=requestAnimationFrame(u=>{this.animateInertia(u,t,i,o,s)}))}updateCoords(t,e){this.coords?this.coords={x1:this.coords.x2,y1:this.coords.y2,x2:t,y2:e}:this.coords={x1:t,y1:e,x2:t,y2:e}}translateZooms(t,e,i,o){const s=pointToRatio(t,t.x+Math.abs(i),t.y+t.height-Math.abs(o)),a=Math.sign(i)*s.x,n=-Math.sign(o)*s.y,r={};for(const[l,{direction:c,zoom:u}]of Object.entries(e)){let h;c===import_ag_charts_community43._ModuleSupport.ChartAxisDirection.X?h=definedZoomState({x:u}):h=definedZoomState({y:u}),h=constrainZoom(translateZoom(h,a*dx(h),n*dy(h))),c===import_ag_charts_community43._ModuleSupport.ChartAxisDirection.X?r[l]={direction:c,zoom:h.x}:r[l]={direction:c,zoom:h.y}}return r}},import_ag_charts_community44=require("ag-charts-community"),{AND:AND5,DATE:DATE2,NUMBER:NUMBER7,OR:OR4,ActionOnSet:ActionOnSet5,isFiniteNumber:isFiniteNumber2,isValidDate,Validate:Validate23}=import_ag_charts_community44._ModuleSupport,ZoomRange=class{constructor(t){this.onChange=t}getRange(){return this.getRangeWithValues(this.start,this.end)}getInitialRange(){return this.getRangeWithValues(this.initialStart,this.initialEnd)}extendToEnd(t){return this.extendWith(e=>Number(e)-t)}extendWith(t){var e;if(!this.domain)return;const[,i]=this.domain;if(i==null)return;const o=t(i),s=this.start!==o||this.end!==i;this.end=i,this.start=o,s||(e=this.onChange)==null||e.call(this,this.getRange())}updateWith(t){var e;if(!this.domain)return;let[i,o]=this.domain;[i,o]=t(i,o);const s=this.start!==i||this.end!==o;this.end=o,this.start=i,s||(e=this.onChange)==null||e.call(this,this.getRange())}extendAll(){var t;if(!this.domain)return;const[e,i]=this.domain,o=this.start!==e||this.end!==i;this.start=e,this.end=i,o||(t=this.onChange)==null||t.call(this,this.getRange())}updateAxis(t){const e=t.find(({domain:s})=>{const a=!isFiniteNumber2(s[0])||!isFiniteNumber2(s.at(-1)),n=!isValidDate(s[0])||!isValidDate(s.at(-1));return a||n});if(!e)return this.domain!=null;let i=e.domain;i!=null&&(i=[i[0],i.at(-1)],i[0]instanceof Date&&i[1]instanceof Date&&(i=[i[0].getTime(),i[1].getTime()]));const o=this.domain==null||!import_ag_charts_community44._Util.areArrayItemsStrictlyEqual(this.domain,i);return o&&(this.domain=i),o}getRangeWithValues(t,e){var i;let[o,s]=(i=this.domain)!=null?i:[];if(t==null&&e==null||o==null||s==null)return;o=Number(o),s=Number(s);let a=0,n=1;return t!=null&&(a=(Number(t)-o)/(s-o)),e!=null&&(n=(Number(e)-o)/(s-o)),{min:a,max:n}}};__decorateClass([ActionOnSet5({changeValue(t){var e,i;(e=this.initialStart)!=null||(this.initialStart=t),(i=this.onChange)==null||i.call(this,this.getRangeWithValues(t,this.end))}}),Validate23(AND5(OR4(DATE2,NUMBER7)),{optional:!0})],ZoomRange.prototype,"start",2),__decorateClass([ActionOnSet5({changeValue(t){var e,i;(e=this.initialEnd)!=null||(this.initialEnd=t),(i=this.onChange)==null||i.call(this,this.getRangeWithValues(this.start,t))}}),Validate23(AND5(OR4(DATE2,NUMBER7)),{optional:!0})],ZoomRange.prototype,"end",2);var import_ag_charts_community45=require("ag-charts-community"),{AND:AND6,GREATER_THAN:GREATER_THAN4,LESS_THAN:LESS_THAN3,RATIO:RATIO9,ActionOnSet:ActionOnSet6,Validate:Validate24}=import_ag_charts_community45._ModuleSupport,ZoomRatio=class{constructor(t){this.onChange=t}getRatio(){return this.getRatioWithValues(this.start,this.end)}getInitialRatio(){return this.getRatioWithValues(this.initialStart,this.initialEnd)}getRatioWithValues(t,e){if(!(t==null&&e==null))return{min:t??UNIT.min,max:e??UNIT.max}}};__decorateClass([ActionOnSet6({changeValue(t){var e,i;(e=this.initialStart)!=null||(this.initialStart=t),(i=this.onChange)==null||i.call(this,this.getRatioWithValues(t,this.end))}}),Validate24(AND6(RATIO9,LESS_THAN3("end")),{optional:!0})],ZoomRatio.prototype,"start",2),__decorateClass([ActionOnSet6({changeValue(t){var e,i;(e=this.initialEnd)!=null||(this.initialEnd=t),(i=this.onChange)==null||i.call(this,this.getRatioWithValues(this.start,t))}}),Validate24(AND6(RATIO9,GREATER_THAN4("start")),{optional:!0})],ZoomRatio.prototype,"end",2);var import_ag_charts_community46=require("ag-charts-community"),DELTA_SCALE=200,ZoomScrollPanner=class{update(t,e,i,o){const s=t.deltaX*e*DELTA_SCALE;return this.translateZooms(i,o,s)}translateZooms(t,e,i){const o={},s=pointToRatio(t,t.x+Math.abs(i),0),a=i<0?-s.x:s.x;for(const[n,{direction:r,zoom:l}]of Object.entries(e)){if(r!==import_ag_charts_community46._ModuleSupport.ChartAxisDirection.X)continue;let c=definedZoomState({x:l});c=constrainZoom(translateZoom(c,a*dx(c),0)),o[n]={direction:r,zoom:c.x}}return o}},ZoomScroller=class{update(t,e,i,o){const s=t.sourceEvent,{anchorPointX:a,anchorPointY:n,isScalingX:r,isScalingY:l,scrollingStep:c}=e,u=t.deltaY;let h=definedZoomState(o);return h.x.max+=r?c*u*dx(o):0,h.y.max+=l?c*u*dy(o):0,a==="pointer"&&r||n==="pointer"&&l?h=this.scaleZoomToPointer(s,r,l,i,o,h):(r&&(h.x=scaleZoomAxisWithAnchor(h.x,o.x,a)),l&&(h.y=scaleZoomAxisWithAnchor(h.y,o.y,n))),h=constrainZoom(h),h}scaleZoomToPointer(t,e,i,o,s,a){var n,r;const l=pointToRatio(o,(n=t.offsetX)!=null?n:t.clientX,(r=t.offsetY)!=null?r:t.clientY);return a.x=e?scaleZoomAxisWithPoint(a.x,s.x,l.x):a.x,a.y=i?scaleZoomAxisWithPoint(a.y,s.y,l.y):a.y,a}},ZoomSelector=class{constructor(t){this.rect=t,this.rect.visible=!1}update(t,e,i,o){this.rect.visible=!0,this.updateCoords(t.offsetX,t.offsetY,e,i,o),this.updateRect(i)}stop(t,e,i){let o=definedZoomState();if(!t||!e)return o;this.coords&&(o=this.createZoomFromCoords(e,i));const s=e.width/t.width,a=e.height/t.height;return o=constrainZoom(multiplyZoom(o,s,a)),this.reset(),o}reset(){this.coords=void 0,this.rect.visible=!1}didUpdate(){return this.rect.visible}updateCoords(t,e,i,o,s){if(!this.coords){this.coords={x1:t,y1:e,x2:t,y2:e};return}if(this.coords.x2=t,this.coords.y2=e,!o)return;const{isScalingX:a,isScalingY:n,minRatioX:r,minRatioY:l}=i,c=definedZoomState(s),u=this.getNormalisedDimensions(),h=o.width/o.height,d=c.x.max-c.x.min,p=c.y.max-c.y.min,y=r/d,g=l/p;u.width/o.width<y&&(this.coords.x2<this.coords.x1?this.coords.x2=this.coords.x1-o.width*y:this.coords.x2=this.coords.x1+o.width*y),n&&!a?u.height/o.height<g&&(this.coords.y2<this.coords.y1?this.coords.y2=this.coords.y1-o.width*y:this.coords.y2=this.coords.y1+o.height*g):this.coords.y2<this.coords.y1?this.coords.y2=Math.min(this.coords.y1-u.width/h,this.coords.y1-o.height*g):this.coords.y2=Math.max(this.coords.y1+u.width/h,this.coords.y1+o.height*g),a||(this.coords.x1=o.x,this.coords.x2=o.x+o.width),n||(this.coords.y1=o.y,this.coords.y2=o.y+o.height)}updateRect(t){if(!t)return;const{rect:e}=this,i=this.getNormalisedDimensions(),{width:o,height:s}=i;let{x:a,y:n}=i;a=Math.max(a,t.x),a-=Math.max(0,a+o-(t.x+t.width)),n=Math.max(n,t.y),n-=Math.max(0,n+s-(t.y+t.height)),e.x=a,e.y=n,e.width=o,e.height=s}createZoomFromCoords(t,e){const i=definedZoomState(e),o=this.getNormalisedDimensions(),s=pointToRatio(t,o.x,o.y+o.height),a=o.width/t.width,n=o.height/t.height;let r=scaleZoom(i,a,n);const l=s.x*(i.x.max-i.x.min),c=s.y*(i.y.max-i.y.min);return r=translateZoom(r,l,c),r=constrainZoom(r),r}getNormalisedDimensions(){var t;const{x1:e=0,y1:i=0,x2:o=0,y2:s=0}=(t=this.coords)!=null?t:{},a=e<=o?e:o,n=i<=s?i:s,r=e<=o?o-e:e-o,l=i<=s?s-i:i-s;return{x:a,y:n,width:r,height:l}}},import_ag_charts_community47=require("ag-charts-community"),{ToolbarManager}=import_ag_charts_community47._ModuleSupport,ZoomToolbar=class{constructor(t,e,i,o){this.toolbarManager=t,this.zoomManager=e,this.getResetZoom=i,this.updateZoom=o}toggle(t,e,i){this.toggleGroups(t),t&&this.toggleButtons(e,i)}toggleButtons(t,e){const{toolbarManager:i}=this,o=isZoomEqual(t,unitZoomState()),s=isZoomLess(t,e.minRatioX,e.minRatioY),a=isZoomEqual(t,this.getResetZoom());i.toggleButton("zoom","pan-start",t.x.min>UNIT.min),i.toggleButton("zoom","pan-end",t.x.max<UNIT.max),i.toggleButton("zoom","pan-left",t.x.min>UNIT.min),i.toggleButton("zoom","pan-right",t.x.max<UNIT.max),i.toggleButton("zoom","zoom-out",!o),i.toggleButton("zoom","zoom-in",!s),i.toggleButton("zoom","reset",!a)}onButtonPress(t,e){this.onButtonPressRanges(t,e),this.onButtonPressZoom(t,e)}toggleGroups(t){var e,i;(e=this.toolbarManager)==null||e.toggleGroup("ranges",!!t),(i=this.toolbarManager)==null||i.toggleGroup("zoom",!!t)}onButtonPressRanges(t,e){if(!ToolbarManager.isGroup("ranges",t))return;const{rangeX:i}=e,o=t.value;typeof o=="number"?i.extendToEnd(o):Array.isArray(o)?i.updateWith(()=>o):typeof o=="function"&&i.updateWith(o)}onButtonPressZoom(t,e){if(!ToolbarManager.isGroup("zoom",t))return;const{anchorPointX:i,anchorPointY:o,isScalingX:s,isScalingY:a,scrollingStep:n}=e,r=definedZoomState(this.zoomManager.getZoom());let l=definedZoomState(r);switch(t.value){case"reset":l=this.getResetZoom();break;case"pan-start":l.x.max=dx(l),l.x.min=0;break;case"pan-end":l.x.min=UNIT.max-dx(l),l.x.max=UNIT.max;break;case"pan-left":case"pan-right":l=translateZoom(l,t.value==="pan-left"?-dx(l):dx(l),0);break;case"zoom-in":case"zoom-out":const c=t.value==="zoom-in"?1-n:1+n,u=i==="pointer"?DEFAULT_ANCHOR_POINT_X:i,h=o==="pointer"?DEFAULT_ANCHOR_POINT_Y:o;l=scaleZoom(l,s?c:1,a?c:1),l.x=scaleZoomAxisWithAnchor(l.x,r.x,u),l.y=scaleZoomAxisWithAnchor(l.y,r.y,h);break}this.updateZoom(constrainZoom(l))}},{ARRAY:ARRAY2,BOOLEAN:BOOLEAN13,NUMBER:NUMBER8,RATIO:RATIO10,STRING:STRING6,UNION:UNION5,ActionOnSet:ActionOnSet7,ChartAxisDirection:ChartAxisDirection7,ChartUpdateType:ChartUpdateType2,Validate:Validate25,ProxyProperty:ProxyProperty2,round:sharedRound}=import_ag_charts_community48._ModuleSupport,round2=t=>sharedRound(t,10),ANCHOR_POINT=UNION5(["pointer","start","middle","end"],"an anchor cord"),CURSOR_ID="zoom-cursor",TOOLTIP_ID="zoom-tooltip",ZoomButtonsProperties=class extends import_ag_charts_community48._ModuleSupport.BaseProperties{constructor(t){super(),this.onChange=t,this.enabled=!1,this.position="floating-bottom",this.align="center"}};__decorateClass([import_ag_charts_community48._ModuleSupport.ObserveChanges(t=>{t.onChange()}),Validate25(BOOLEAN13)],ZoomButtonsProperties.prototype,"enabled",2),__decorateClass([import_ag_charts_community48._ModuleSupport.ObserveChanges(t=>{t.onChange()}),Validate25(ARRAY2,{optional:!0})],ZoomButtonsProperties.prototype,"buttons",2),__decorateClass([Validate25(STRING6)],ZoomButtonsProperties.prototype,"position",2),__decorateClass([Validate25(STRING6)],ZoomButtonsProperties.prototype,"align",2);var Zoom=class extends import_ag_charts_community48._ModuleSupport.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.enableAxisDragging=!0,this.buttons=new ZoomButtonsProperties(()=>this.onZoomButtonsChange(this.enabled)),this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.panKey="alt",this.axes="x",this.scrollingStep=(UNIT.max-UNIT.min)/10,this.minVisibleItemsX=2,this.minVisibleItemsY=2,this.anchorPointX=DEFAULT_ANCHOR_POINT_X,this.anchorPointY=DEFAULT_ANCHOR_POINT_Y,this.rangeX=new ZoomRange(this.onRangeChange.bind(this,ChartAxisDirection7.X)),this.rangeY=new ZoomRange(this.onRangeChange.bind(this,ChartAxisDirection7.Y)),this.ratioX=new ZoomRatio(this.onRatioChange.bind(this,ChartAxisDirection7.X)),this.ratioY=new ZoomRatio(this.onRatioChange.bind(this,ChartAxisDirection7.Y)),this.axisDragger=new ZoomAxisDragger,this.contextMenu=new ZoomContextMenu(this.ctx.contextMenuRegistry,this.ctx.zoomManager,this.updateZoom.bind(this)),this.panner=new ZoomPanner,this.scroller=new ZoomScroller,this.scrollPanner=new ZoomScrollPanner,this.toolbar=new ZoomToolbar(this.ctx.toolbarManager,this.ctx.zoomManager,this.getResetZoom.bind(this),this.updateZoom.bind(this)),this.deceleration=1,this.dragState=0,this.minRatioX=0,this.minRatioY=0;const e=new ZoomRect;this.selector=new ZoomSelector(e);const{Default:i,ZoomDrag:o,Animation:s}=import_ag_charts_community48._ModuleSupport.InteractionState,a=i|s|o,n=i|s,r=t.regionManager.getRegion("series");this.destroyFns.push(t.scene.attachNode(e),r.addListener("dblclick",l=>this.onDoubleClick(l),n),r.addListener("drag",l=>this.onDrag(l),a),r.addListener("drag-start",l=>this.onDragStart(l),a),r.addListener("drag-end",()=>this.onDragEnd(),a),r.addListener("wheel",l=>this.onWheel(l),n),r.addListener("hover",()=>this.onAxisLeave(),n),r.addListener("leave",()=>this.onAxisLeave(),n),t.chartEventManager.addListener("axis-hover",l=>this.onAxisHover(l)),t.gestureDetector.addListener("pinch-move",l=>this.onPinchMove(l)),t.toolbarManager.addListener("button-pressed",l=>this.toolbar.onButtonPress(l,this.getModuleProperties())),t.layoutService.addListener("layout-complete",l=>this.onLayoutComplete(l)),t.updateService.addListener("update-complete",l=>this.onUpdateComplete(l)),t.zoomManager.addListener("zoom-change",l=>this.onZoomChange(l)),t.zoomManager.addListener("zoom-pan-start",l=>this.onZoomPanStart(l)),this.panner.addListener("update",l=>this.onPanUpdate(l)))}onEnabledChange(t){if(!this.contextMenu||!this.toolbar)return;const e=this.getZoom(),i=this.getModuleProperties({enabled:t});this.contextMenu.registerActions(t,e,i),this.onZoomButtonsChange(t),this.toolbar.toggle(t,e,i)}onZoomButtonsChange(t){if(!this.buttons)return;const e=this.buttons.toJson();e.enabled&&(e.enabled=t),this.ctx.toolbarManager.proxyGroupOptions("zoom",e)}onRangeChange(t,e){if(!e)return;const i=this.getZoom();i[t]=e,this.updateZoom(constrainZoom(i))}onRatioChange(t,e){if(!e)return;let i=this.ratioX.getRatio(),o=this.ratioY.getRatio();t===ChartAxisDirection7.X?i=e:o=e;const s=constrainZoom(definedZoomState({x:i,y:o}));this.updateZoom(s)}onDoubleClick(t){const{enabled:e,enableDoubleClickToReset:i,hoveredAxis:o,paddedRect:s,ctx:{highlightManager:a}}=this;if(!e||!i)return;const{x:n,y:r}=this.getResetZoom();if(o){const{direction:l}=o,c=l===ChartAxisDirection7.X?n:r;this.updateAxisZoom(l,c)}else s?.containsPoint(t.offsetX,t.offsetY)&&a.getActivePicked()==null&&this.updateZoom({x:n,y:r})}onDragStart(t){const{enabled:e,enableAxisDragging:i,enablePanning:o,enableSelecting:s,hoveredAxis:a,paddedRect:n,ctx:{cursorManager:r,zoomManager:l}}=this;if(!e||!n)return;this.panner.stopInteractions();let c=0;if(i&&a)c=1;else if(n.containsPoint(t.offsetX,t.offsetY)){const u=this.isPanningKeyPressed(t.sourceEvent);o&&(!s||u)?(r.updateCursor(CURSOR_ID,"grabbing"),c=2,this.panner.start()):s&&!this.isMinZoom(this.getZoom())&&!u&&(c=3)}(this.dragState=c)!==0&&l.fireZoomPanStartEvent("zoom")}onDrag(t){const{anchorPointX:e,anchorPointY:i,axisDragger:o,dragState:s,enabled:a,paddedRect:n,panner:r,selector:l,seriesRect:c,hoveredAxis:u,ctx:{interactionManager:h,tooltipManager:d,updateService:p,zoomManager:y}}=this;if(!a||!n||!c)return;h.pushState(import_ag_charts_community48._ModuleSupport.InteractionState.ZoomDrag);const g=this.getZoom();switch(s){case 1:if(!u)break;const{id:f,direction:m}=u,S=m===import_ag_charts_community48._ModuleSupport.ChartAxisDirection.X?e:i,v=y.getAxisZoom(f),M=o.update(t,m,S,c,g,v);this.updateAxisZoom(m,M);break;case 2:r.update(t);break;case 3:l.update(t,this.getModuleProperties(),n,g);break;case 0:return}d.updateTooltip(TOOLTIP_ID),p.update(ChartUpdateType2.PERFORM_LAYOUT,{skipAnimations:!0})}onDragEnd(){const{axisDragger:t,dragState:e,enabled:i,panner:o,selector:s,ctx:{cursorManager:a,interactionManager:n,tooltipManager:r}}=this;if(n.popState(import_ag_charts_community48._ModuleSupport.InteractionState.ZoomDrag),!(!i||e===0)){switch(e){case 1:t.stop();break;case 2:o.stop();break;case 3:if(!s.didUpdate())break;const l=this.getZoom();if(this.isMinZoom(l))break;const c=s.stop(this.seriesRect,this.paddedRect,l);this.updateZoom(c);break}this.dragState=0,a.updateCursor(CURSOR_ID),r.removeTooltip(TOOLTIP_ID)}}onWheel(t){const{enabled:e,enableAxisDragging:i,enablePanning:o,enableScrolling:s,hoveredAxis:a,paddedRect:n,scroller:r,scrollingStep:l,scrollPanner:c,seriesRect:u,ctx:{zoomManager:h}}=this;if(!e||!s||!n||!u)return;const d=n.containsPoint(t.offsetX,t.offsetY),p=i&&a!=null;let y=this.isScalingX(),g=this.isScalingY();p&&(y=a.direction===import_ag_charts_community48._ModuleSupport.ChartAxisDirection.X,g=!y);const f=t.sourceEvent,{deltaX:m,deltaY:S}=f,v=m!=null&&S!=null&&Math.abs(m)>Math.abs(S);if(o&&v){t.consume(),t.sourceEvent.preventDefault();const x=c.update(t,l,u,h.getAxisZooms());for(const{direction:_,zoom:D}of Object.values(x))this.updateAxisZoom(_,D);return}if(!d&&!p)return;t.consume(),t.sourceEvent.preventDefault();const M=r.update(t,this.getModuleProperties({isScalingX:y,isScalingY:g}),u,this.getZoom());this.updateZoom(M)}onAxisLeave(){const{enabled:t,ctx:{cursorManager:e}}=this;t&&(this.hoveredAxis=void 0,e.updateCursor(CURSOR_ID))}onAxisHover(t){const{enabled:e,enableAxisDragging:i,ctx:{cursorManager:o}}=this;e&&(this.hoveredAxis={id:t.axisId,direction:t.direction},i&&o.updateCursor(CURSOR_ID,t.direction===ChartAxisDirection7.X?"ew-resize":"ns-resize"))}onPinchMove(t){const{enabled:e,enableScrolling:i,paddedRect:o,seriesRect:s}=this;if(!e||!i||!o||!s)return;const a=this.getZoom(),n=this.getZoom(),r=t.deltaDistance*-.01,l=pointToRatio(s,t.origin.x,t.origin.y);this.isScalingX()&&(n.x.max+=r*dx(a),n.x=scaleZoomAxisWithPoint(n.x,a.x,l.x)),this.isScalingY()&&(n.y.max+=r*(a.y.max-a.y.min),n.y=scaleZoomAxisWithPoint(n.y,a.y,l.y)),this.updateZoom(constrainZoom(n))}onLayoutComplete(t){const{enabled:e,rangeX:i,rangeY:o}=this;if(!e)return;const{series:{rect:s,paddedRect:a,shouldFlipXY:n},axes:r}=t;if(this.seriesRect=s,this.paddedRect=a,this.contextMenu.rect=a,this.shouldFlipXY=n,!r)return;const[l,c]=import_ag_charts_community48._Util.bifurcate(p=>p.direction===ChartAxisDirection7.X,r),u=i.updateAxis(l),h=o.updateAxis(c);if(!u&&!h)return;const d={};d.x=i.getRange(),d.y=o.getRange(),(d.x!=null||d.y!=null)&&this.updateZoom(constrainZoom(definedZoomState(d)))}onUpdateComplete({minRect:t,minVisibleRect:e}){const{enabled:i,minVisibleItemsX:o,minVisibleItemsY:s,paddedRect:a,shouldFlipXY:n}=this;if(!i||!a||!t||!e)return;const r=this.getZoom(),l=n?s:o,c=n?o:s,u=e.width*l/a.width,h=e.height*c/a.height,d=round2(u*dx(r)),p=round2(h*dy(r));this.isScalingX()&&(this.minRatioX=Math.min(1,d)),this.isScalingY()&&(this.minRatioY=Math.min(1,p)),this.minRatioX||(this.minRatioX=this.minRatioY||0),this.minRatioY||(this.minRatioY=this.minRatioX||0)}onZoomChange(t){t.callerId!=="zoom"&&this.panner.stopInteractions();const e=this.getZoom(),i=this.getModuleProperties();this.contextMenu.toggleActions(e,i),this.toolbar.toggleButtons(e,i)}onZoomPanStart(t){t.callerId==="zoom"&&this.panner.stopInteractions()}onPanUpdate(t){const{panner:e,seriesRect:i,ctx:{tooltipManager:o,updateService:s,zoomManager:a}}=this;if(!i)return;const n=e.translateZooms(i,a.getAxisZooms(),t.deltaX,t.deltaY);for(const{direction:r,zoom:l}of Object.values(n))this.updateAxisZoom(r,l);o.updateTooltip(TOOLTIP_ID),s.update(ChartUpdateType2.PERFORM_LAYOUT,{skipAnimations:!0})}isPanningKeyPressed(t){switch(this.panKey){case"alt":return t.altKey;case"ctrl":return t.ctrlKey;case"shift":return t.shiftKey;case"meta":return t.metaKey}}isScalingX(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="y":this.axes==="x"}isScalingY(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="x":this.axes==="y"}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMinZoom(t){return isZoomLess(t,this.minRatioX,this.minRatioY)}updateZoom(t){const{minRatioX:e,minRatioY:i,ctx:{zoomManager:o}}=this,s=dx(t),a=dy(t),n=this.getZoom(),r=s<=dx(n)&&s<e,l=a<=dy(n)&&a<i;r&&(t.x=constrainAxisWithOld(t.x,n.x,e)),l&&(t.y=constrainAxisWithOld(t.y,n.y,i)),o.updateZoom("zoom",t)}updateAxisZoom(t,e){if(!e)return;const i=this.getZoom();i[t]=e,this.updateZoom(i)}getZoom(){return definedZoomState(this.ctx.zoomManager.getZoom())}getResetZoom(){var t,e,i,o;const s=(e=(t=this.rangeX.getInitialRange())!=null?t:this.ratioX.getInitialRatio())!=null?e:UNIT,a=(o=(i=this.rangeY.getInitialRange())!=null?i:this.ratioY.getInitialRatio())!=null?o:UNIT;return{x:s,y:a}}getModuleProperties(t){var e,i,o,s,a,n,r,l,c;return{anchorPointX:(e=t?.anchorPointX)!=null?e:this.getAnchorPointX(),anchorPointY:(i=t?.anchorPointY)!=null?i:this.getAnchorPointY(),enabled:(o=t?.enabled)!=null?o:this.enabled,isScalingX:(s=t?.isScalingX)!=null?s:this.isScalingX(),isScalingY:(a=t?.isScalingY)!=null?a:this.isScalingY(),minRatioX:(n=t?.minRatioX)!=null?n:this.minRatioX,minRatioY:(r=t?.minRatioY)!=null?r:this.minRatioY,rangeX:(l=t?.rangeX)!=null?l:this.rangeX,scrollingStep:(c=t?.scrollingStep)!=null?c:this.scrollingStep}}};__decorateClass([ActionOnSet7({newValue(t){this.onEnabledChange(t)}}),Validate25(BOOLEAN13)],Zoom.prototype,"enabled",2),__decorateClass([Validate25(BOOLEAN13)],Zoom.prototype,"enableAxisDragging",2),__decorateClass([Validate25(BOOLEAN13)],Zoom.prototype,"enableDoubleClickToReset",2),__decorateClass([Validate25(BOOLEAN13)],Zoom.prototype,"enablePanning",2),__decorateClass([Validate25(BOOLEAN13)],Zoom.prototype,"enableScrolling",2),__decorateClass([Validate25(BOOLEAN13)],Zoom.prototype,"enableSelecting",2),__decorateClass([Validate25(UNION5(["alt","ctrl","meta","shift"],"a pan key"))],Zoom.prototype,"panKey",2),__decorateClass([Validate25(UNION5(["x","y","xy"],"an axis"))],Zoom.prototype,"axes",2),__decorateClass([Validate25(RATIO10)],Zoom.prototype,"scrollingStep",2),__decorateClass([Validate25(NUMBER8.restrict({min:1}))],Zoom.prototype,"minVisibleItemsX",2),__decorateClass([Validate25(NUMBER8.restrict({min:1}))],Zoom.prototype,"minVisibleItemsY",2),__decorateClass([Validate25(ANCHOR_POINT)],Zoom.prototype,"anchorPointX",2),__decorateClass([Validate25(ANCHOR_POINT)],Zoom.prototype,"anchorPointY",2),__decorateClass([ProxyProperty2("panner.deceleration"),Validate25(NUMBER8.restrict({min:1e-4,max:1}))],Zoom.prototype,"deceleration",2);var ZoomModule={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian"],dependencies:["toolbar"],instanceConstructor:Zoom,themeTemplate:{zoom:{anchorPointX:"end",anchorPointY:"middle",axes:"x",buttons:{enabled:!0,buttons:[{icon:"zoom-out",tooltip:"Zoom out",value:"zoom-out"},{icon:"zoom-in",tooltip:"Zoom in",value:"zoom-in"},{icon:"pan-left",tooltip:"Pan left",value:"pan-left"},{icon:"pan-right",tooltip:"Pan right",value:"pan-right"},{icon:"reset",tooltip:"Reset the zoom",value:"reset"}]},enabled:!1,enableAxisDragging:!0,enableDoubleClickToReset:!0,enablePanning:!0,enableScrolling:!0,enableSelecting:!1,minVisibleItemsX:2,minVisibleItemsY:2,panKey:"alt",scrollingStep:.1}}},import_ag_charts_community50=require("ag-charts-community"),import_ag_charts_community49=require("ag-charts-community"),{BOOLEAN:BOOLEAN14,Layers:Layers5,POSITION,Validate:Validate26,Default:Default5,MIN_SPACING:MIN_SPACING4,MAX_SPACING:MAX_SPACING3,POSITIVE_NUMBER:POSITIVE_NUMBER9,ProxyProperty:ProxyProperty3,DeprecatedAndRenamedTo}=import_ag_charts_community49._ModuleSupport,{BBox:BBox5,Group:Group5,Rect,LinearGradientFill,Triangle}=import_ag_charts_community49._Scene,{createId:createId3}=import_ag_charts_community49._Util,GradientBar=class{constructor(){this.thickness=16,this.preferredLength=100}};__decorateClass([Validate26(POSITIVE_NUMBER9)],GradientBar.prototype,"thickness",2),__decorateClass([Validate26(POSITIVE_NUMBER9)],GradientBar.prototype,"preferredLength",2);var GradientLegendAxisTick=class extends import_ag_charts_community49._ModuleSupport.AxisTick{constructor(){super(...arguments),this.enabled=!1,this.size=0,this.minSpacing=NaN,this.maxSpacing=NaN}};__decorateClass([Validate26(MIN_SPACING4),Default5(NaN)],GradientLegendAxisTick.prototype,"minSpacing",2),__decorateClass([Validate26(MAX_SPACING3),Default5(NaN)],GradientLegendAxisTick.prototype,"maxSpacing",2);var GradientLegendAxis=class extends import_ag_charts_community49._ModuleSupport.CartesianAxis{constructor(t){super(t,new import_ag_charts_community49._Scale.LinearScale,{respondsToZoom:!1}),this.colorDomain=[],this.nice=!1,this.line.enabled=!1}calculateDomain(){this.setDomain(this.colorDomain)}createTick(){return new GradientLegendAxisTick}},GradientLegendLabel=class{constructor(t){this.label=t}};__decorateClass([ProxyProperty3("label.fontStyle")],GradientLegendLabel.prototype,"fontStyle",2),__decorateClass([ProxyProperty3("label.fontWeight")],GradientLegendLabel.prototype,"fontWeight",2),__decorateClass([ProxyProperty3("label.fontSize")],GradientLegendLabel.prototype,"fontSize",2),__decorateClass([ProxyProperty3("label.fontFamily")],GradientLegendLabel.prototype,"fontFamily",2),__decorateClass([ProxyProperty3("label.color")],GradientLegendLabel.prototype,"color",2),__decorateClass([ProxyProperty3("label.format")],GradientLegendLabel.prototype,"format",2),__decorateClass([ProxyProperty3("label.formatter")],GradientLegendLabel.prototype,"formatter",2);var GradientLegendInterval=class{constructor(t){this.tick=t}};__decorateClass([ProxyProperty3("tick.values")],GradientLegendInterval.prototype,"values",2),__decorateClass([ProxyProperty3("tick.minSpacing")],GradientLegendInterval.prototype,"minSpacing",2),__decorateClass([ProxyProperty3("tick.maxSpacing")],GradientLegendInterval.prototype,"maxSpacing",2),__decorateClass([ProxyProperty3("tick.interval")],GradientLegendInterval.prototype,"step",2);var GradientLegendScale=class{constructor(t){this.axis=t,this.label=new GradientLegendLabel(t.label),this.interval=new GradientLegendInterval(t.tick)}};__decorateClass([ProxyProperty3("axis.seriesAreaPadding")],GradientLegendScale.prototype,"padding",2);var GradientLegend=class{constructor(t){this.ctx=t,this.id=createId3(this),this.group=new Group5({name:"legend",layer:!0,zIndex:Layers5.LEGEND_ZINDEX}),this.gradient=new GradientBar,this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=void 0,this.pagination=void 0,this.spacing=20,this.data=[],this.listeners={},this.latestGradientBox=void 0,this.layoutService=t.layoutService,this.destroyFns.push(this.layoutService.addListener("start-layout",e=>this.update(e.shrinkRect))),this.highlightManager=t.highlightManager,this.destroyFns.push(this.highlightManager.addListener("highlight-change",()=>this.onChartHoverChange())),this.gradientRect=new Rect,this.gradientFill=new LinearGradientFill,this.gradientFill.mask=this.gradientRect,this.group.append(this.gradientFill),this.arrow=new Triangle,this.group.append(this.arrow),this.axisGridGroup=new Group5({name:"legend-axis-grid-group"}),this.group.append(this.axisGridGroup),this.axisGroup=new Group5({name:"legend-axis-group"}),this.group.append(this.axisGroup),this.axis=new GradientLegendAxis(t),this.axis.attachAxis(this.axisGroup,this.axisGridGroup),this.scale=new GradientLegendScale(this.axis),this.stop=this.scale,this.destroyFns.push(()=>this.detachLegend())}getOrientation(){switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}destroy(){this.destroyFns.forEach(t=>t())}attachLegend(t){t.appendChild(this.group)}detachLegend(){var t;(t=this.group.parent)==null||t.removeChild(this.group)}update(t){const e=this.data[0];if(!this.enabled||!e||!e.enabled)return this.group.visible=!1,{shrinkRect:t.clone()};const{colorRange:i}=this.normalizeColorArrays(e),o=this.updateGradientRect(t,i),s=this.updateAxis(e,o),{newShrinkRect:a,translateX:n,translateY:r}=this.getMeasurements(t,o,s);return this.updateArrow(o),this.group.visible=!0,this.group.translationX=n,this.group.translationY=r,this.latestGradientBox=o,{shrinkRect:a}}normalizeColorArrays(t){let e=t.colorDomain.slice();const i=t.colorRange.slice();if(e.length===i.length)return{colorDomain:e,colorRange:i};e.length>i.length&&i.splice(e.length);const o=i.length;return e=i.map((s,a)=>{const[n,r]=e;return a===0?n:a===o-1?r:n+(r-n)*a/(o-1)}),{colorDomain:e,colorRange:i}}updateGradientRect(t,e){const{preferredLength:i,thickness:o}=this.gradient,s=new BBox5(0,0,0,0),a=this.getOrientation()==="vertical";if(a){const n=t.height,r=i;s.x=0,s.y=0,s.width=o,s.height=Math.min(n,r)}else{const n=t.width,r=i;s.x=0,s.y=0,s.width=Math.min(n,r),s.height=o}return this.reverseOrder&&(e=e.slice().reverse()),this.gradientFill.stops=e,this.gradientFill.direction=a?"to-bottom":"to-right",this.gradientRect.x=s.x,this.gradientRect.y=s.y,this.gradientRect.width=s.width,this.gradientRect.height=s.height,s}updateAxis(t,e){const{reverseOrder:i,axis:o}=this,s=this.getOrientation()==="vertical";o.position=s?"right":"bottom",o.colorDomain=i?t.colorDomain.slice().reverse():t.colorDomain,o.calculateDomain(),o.range=s?[0,e.height]:[0,e.width],o.gridLength=0,o.translation.x=e.x+(s?e.width:0),o.translation.y=e.y+(s?0:e.height);const a=o.calculateLayout().bbox;return o.update(),a}updateArrow(t){var e;const{arrow:i,axis:{label:o,scale:s}}=this,a=this.highlightManager.getActiveHighlight(),n=a?.colorValue;if(a==null||n==null){i.visible=!1;return}const r=this.getOrientation()==="vertical",l=(e=o.fontSize)!=null?e:0,c=s.convert(n);let u,h,d;r?(u=t.x-l/2,h=t.y+c,d=Math.PI/2):(u=t.x+c,h=t.y-l/2,d=Math.PI),i.fill=o.color,i.size=l,i.translationX=u,i.translationY=h,i.rotation=d,i.visible=!0}getMeasurements(t,e,i){let o,s;this.getOrientation()==="vertical"?(o=e.width+i.width,s=e.height):(o=e.width,s=e.height+i.height);const{spacing:n}=this,r=t.clone();let l,c;return this.position==="left"?(l=t.x,c=t.y+t.height/2-s/2,r.shrink(o+n,"left")):this.position==="right"?(l=t.x+t.width-o,c=t.y+t.height/2-s/2,r.shrink(o+n,"right")):this.position==="top"?(l=t.x+t.width/2-o/2,c=t.y,r.shrink(s+n,"top")):(l=t.x+t.width/2-o/2,c=t.y+t.height-s,r.shrink(s+n,"bottom")),{translateX:l,translateY:c,gradientBox:e,newShrinkRect:r}}computeBBox(){return this.group.computeBBox()}onChartHoverChange(){this.enabled&&this.latestGradientBox!=null&&this.updateArrow(this.latestGradientBox)}};GradientLegend.className="GradientLegend",__decorateClass([Validate26(BOOLEAN14)],GradientLegend.prototype,"enabled",2),__decorateClass([Validate26(POSITION)],GradientLegend.prototype,"position",2),__decorateClass([Validate26(BOOLEAN14,{optional:!0})],GradientLegend.prototype,"reverseOrder",2),__decorateClass([Validate26(POSITIVE_NUMBER9)],GradientLegend.prototype,"spacing",2),__decorateClass([DeprecatedAndRenamedTo("scale")],GradientLegend.prototype,"stop",2);var GradientLegendModule={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],identifier:"gradient",instanceConstructor:GradientLegend,themeTemplate:{enabled:!1,position:"bottom",spacing:20,scale:{padding:8,label:{color:import_ag_charts_community50._Theme.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:import_ag_charts_community50._Theme.DEFAULT_FONT_FAMILY,formatter:void 0},interval:{minSpacing:1}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1}},MD5=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(t,e){let i=t[0],o=t[1],s=t[2],a=t[3];i=this.ff(i,o,s,a,e[0],7,-680876936),a=this.ff(a,i,o,s,e[1],12,-389564586),s=this.ff(s,a,i,o,e[2],17,606105819),o=this.ff(o,s,a,i,e[3],22,-1044525330),i=this.ff(i,o,s,a,e[4],7,-176418897),a=this.ff(a,i,o,s,e[5],12,1200080426),s=this.ff(s,a,i,o,e[6],17,-1473231341),o=this.ff(o,s,a,i,e[7],22,-45705983),i=this.ff(i,o,s,a,e[8],7,1770035416),a=this.ff(a,i,o,s,e[9],12,-1958414417),s=this.ff(s,a,i,o,e[10],17,-42063),o=this.ff(o,s,a,i,e[11],22,-1990404162),i=this.ff(i,o,s,a,e[12],7,1804603682),a=this.ff(a,i,o,s,e[13],12,-40341101),s=this.ff(s,a,i,o,e[14],17,-1502002290),o=this.ff(o,s,a,i,e[15],22,1236535329),i=this.gg(i,o,s,a,e[1],5,-165796510),a=this.gg(a,i,o,s,e[6],9,-1069501632),s=this.gg(s,a,i,o,e[11],14,643717713),o=this.gg(o,s,a,i,e[0],20,-373897302),i=this.gg(i,o,s,a,e[5],5,-701558691),a=this.gg(a,i,o,s,e[10],9,38016083),s=this.gg(s,a,i,o,e[15],14,-660478335),o=this.gg(o,s,a,i,e[4],20,-405537848),i=this.gg(i,o,s,a,e[9],5,568446438),a=this.gg(a,i,o,s,e[14],9,-1019803690),s=this.gg(s,a,i,o,e[3],14,-187363961),o=this.gg(o,s,a,i,e[8],20,1163531501),i=this.gg(i,o,s,a,e[13],5,-1444681467),a=this.gg(a,i,o,s,e[2],9,-51403784),s=this.gg(s,a,i,o,e[7],14,1735328473),o=this.gg(o,s,a,i,e[12],20,-1926607734),i=this.hh(i,o,s,a,e[5],4,-378558),a=this.hh(a,i,o,s,e[8],11,-2022574463),s=this.hh(s,a,i,o,e[11],16,1839030562),o=this.hh(o,s,a,i,e[14],23,-35309556),i=this.hh(i,o,s,a,e[1],4,-1530992060),a=this.hh(a,i,o,s,e[4],11,1272893353),s=this.hh(s,a,i,o,e[7],16,-155497632),o=this.hh(o,s,a,i,e[10],23,-1094730640),i=this.hh(i,o,s,a,e[13],4,681279174),a=this.hh(a,i,o,s,e[0],11,-358537222),s=this.hh(s,a,i,o,e[3],16,-722521979),o=this.hh(o,s,a,i,e[6],23,76029189),i=this.hh(i,o,s,a,e[9],4,-640364487),a=this.hh(a,i,o,s,e[12],11,-421815835),s=this.hh(s,a,i,o,e[15],16,530742520),o=this.hh(o,s,a,i,e[2],23,-995338651),i=this.ii(i,o,s,a,e[0],6,-198630844),a=this.ii(a,i,o,s,e[7],10,1126891415),s=this.ii(s,a,i,o,e[14],15,-1416354905),o=this.ii(o,s,a,i,e[5],21,-57434055),i=this.ii(i,o,s,a,e[12],6,1700485571),a=this.ii(a,i,o,s,e[3],10,-1894986606),s=this.ii(s,a,i,o,e[10],15,-1051523),o=this.ii(o,s,a,i,e[1],21,-2054922799),i=this.ii(i,o,s,a,e[8],6,1873313359),a=this.ii(a,i,o,s,e[15],10,-30611744),s=this.ii(s,a,i,o,e[6],15,-1560198380),o=this.ii(o,s,a,i,e[13],21,1309151649),i=this.ii(i,o,s,a,e[4],6,-145523070),a=this.ii(a,i,o,s,e[11],10,-1120210379),s=this.ii(s,a,i,o,e[2],15,718787259),o=this.ii(o,s,a,i,e[9],21,-343485551),t[0]=this.add32(i,t[0]),t[1]=this.add32(o,t[1]),t[2]=this.add32(s,t[2]),t[3]=this.add32(a,t[3])}cmn(t,e,i,o,s,a){return e=this.add32(this.add32(e,t),this.add32(o,a)),this.add32(e<<s|e>>>32-s,i)}ff(t,e,i,o,s,a,n){return this.cmn(e&i|~e&o,t,e,s,a,n)}gg(t,e,i,o,s,a,n){return this.cmn(e&o|i&~o,t,e,s,a,n)}hh(t,e,i,o,s,a,n){return this.cmn(e^i^o,t,e,s,a,n)}ii(t,e,i,o,s,a,n){return this.cmn(i^(e|~o),t,e,s,a,n)}md51(t){const e=t.length,i=[1732584193,-271733879,-1732584194,271733878];let o;for(o=64;o<=t.length;o+=64)this.md5cycle(i,this.md5blk(t.substring(o-64,o)));t=t.substring(o-64);const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<t.length;o++)s[o>>2]|=t.charCodeAt(o)<<(o%4<<3);if(s[o>>2]|=128<<(o%4<<3),o>55)for(this.md5cycle(i,s),o=0;o<16;o++)s[o]=0;return s[14]=e*8,this.md5cycle(i,s),i}md5blk(t){const e=[];for(let i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e}rhex(t){const e="0123456789abcdef".split("");let i="",o=0;for(;o<4;o++)i+=e[t>>o*8+4&15]+e[t>>o*8&15];return i}hex(t){for(let e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")}md5(t){return this.hex(this.md51(t))}add32(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)}add32Std(t,e){return t+e&4294967295}add32Compat(t,e){const i=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(i>>16)<<16|i&65535}};function missingOrEmpty(t){return t==null||t.length===0}var LICENSE_TYPES={"01":"GRID","02":"CHARTS","0102":"BOTH"},_LicenseManager=class it{constructor(e){this.gridContext=!1,this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=e,this.md5=new MD5,this.md5.init()}validateLicense(){const e=this.getLicenseDetails(this.licenseKey,this.gridContext),i=`AG ${e.currentLicenseType==="BOTH"?"Grid and ":""}Charts Enterprise`,o=e.suppliedLicenseType===void 0?"":`AG ${e.suppliedLicenseType==="BOTH"?"Grid and AG Charts":e.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(e.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(i);else if(e.expired){const s=it.getChartsReleaseDate(),a=it.formatDate(s);this.outputExpiredKey(e.expiry,a,o)}else e.valid?e.isTrial&&e.trialExpired&&this.outputExpiredTrialKey(e.expiry,i,o):this.outputInvalidLicenseKey(!!e.incorrectLicenseType,i,o)}static extractExpiry(e){const i=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(it.decode(i),10))}static extractLicenseComponents(e){let i=e.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),e.length<=32)return{md5:null,license:e,version:null,isTrial:null};const o=i.length-32,s=i.substring(o),a=i.substring(0,o),[n,r,l]=it.extractBracketedInformation(i);return{md5:s,license:a,version:n,isTrial:r,type:l}}getLicenseDetails(e,i=!1){const o="CHARTS";if(missingOrEmpty(e))return{licenseKey:e,valid:!1,missing:!0,currentLicenseType:o};const s=it.getChartsReleaseDate(),{md5:a,license:n,version:r,isTrial:l,type:c}=it.extractLicenseComponents(e);let u=a===this.md5.md5(n)&&e.indexOf("For_Trialing_ag-Grid_Only")===-1,h,d,p=null,y=!1,g;function f(){h=p<new Date,d=void 0}if(u&&(p=it.extractExpiry(n),u=!isNaN(p.getTime()),u))switch(d=s>p,r){case"legacy":case"2":{u=!1;break}case"3":missingOrEmpty(c)?u=!1:(g=c,c!==LICENSE_TYPES["02"]&&c!==LICENSE_TYPES["0102"]?(u=!1,y=!0):l&&f())}return u?{licenseKey:e,valid:u,expiry:it.formatDate(p),expired:d,version:r,isTrial:l,trialExpired:h,invalidLicenseTypeForCombo:i?g!=="BOTH":void 0,incorrectLicenseType:y,currentLicenseType:o,suppliedLicenseType:g}:{licenseKey:e,valid:u,incorrectLicenseType:y,currentLicenseType:o,suppliedLicenseType:g}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!missingOrEmpty(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){if(!this.document)return"localhost";const e=this.document.defaultView||window;if(!e)return"localhost";const i=e.location,{hostname:o=""}=i;return o}isForceWatermark(){var e,i;if(!this.document)return!1;const o=((i=(e=this.document)==null?void 0:e.defaultView)!=null?i:typeof window<"u")?window:void 0;if(!o)return!1;const{pathname:s}=o.location;return s?s.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=e.getDate(),s=e.getMonth(),a=e.getFullYear();return o+" "+i[s]+" "+a}static getChartsReleaseDate(){return new Date(parseInt(it.decode(it.RELEASE_INFORMATION),10))}static decode(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let o="",s,a,n,r,l,c,u,h=0;const d=e.replace(/[^A-Za-z0-9+/=]/g,"");for(;h<d.length;)r=i.indexOf(d.charAt(h++)),l=i.indexOf(d.charAt(h++)),c=i.indexOf(d.charAt(h++)),u=i.indexOf(d.charAt(h++)),s=r<<2|l>>4,a=(l&15)<<4|c>>2,n=(c&3)<<6|u,o=o+String.fromCharCode(s),c!=64&&(o=o+String.fromCharCode(a)),u!=64&&(o=o+String.fromCharCode(n));return o=it.utf8_decode(o),o}static utf8_decode(e){e=e.replace(/rn/g,"n");let i="";for(let o=0;o<e.length;o++){const s=e.charCodeAt(o);s<128?i+=String.fromCharCode(s):s>127&&s<2048?(i+=String.fromCharCode(s>>6|192),i+=String.fromCharCode(s&63|128)):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128),i+=String.fromCharCode(s&63|128))}return i}setLicenseKey(e,i=!1){this.gridContext=i,this.licenseKey=e}static extractBracketedInformation(e){if(!e.includes("["))return["legacy",!1,void 0];const i=e.match(/\[(.*?)\]/g).map(r=>r.replace("[","").replace("]",""));if(!i||i.length===0)return["legacy",!1,void 0];const o=i.filter(r=>r==="TRIAL").length===1,s=i.filter(r=>r.indexOf("v")===0)[0],a=s?s.replace("v",""):"legacy",n=LICENSE_TYPES[i.filter(r=>LICENSE_TYPES[r])[0]];return[a,o,n]}centerPadAndOutput(e){const i=this.totalMessageLength-e.length;console.error(e.padStart(i/2+e.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(e,i="*",o=""){console.error(e.padEnd(this.totalMessageLength-o.length,i)+o)}outputInvalidLicenseKey(e,i,o){this.gridContext||(e?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${o} only and does not cover you for ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to obtain a combined license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid - please contact info@ag-grid.com to obtain a valid license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""))),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e,i,o){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${o} expired on ${e}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(e){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${e} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${e} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(e,i,o){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${o} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${o} released before ${e}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="License Expired"}};_LicenseManager.RELEASE_INFORMATION="MTcyMTExNTk3ODAyNA==";var LicenseManager=_LicenseManager,import_ag_charts_community51=require("ag-charts-community"),{createElement:createElement4,injectStyle:injectStyle3}=import_ag_charts_community51._ModuleSupport,watermarkStyles=`
.ag-watermark {
    position: absolute;
    bottom: 20px;
    right: 25px;
    font-weight: bold;
    font-family: Impact, sans-serif;
    font-size: 19px;
    opacity: 0.7;
    animation: 1s ease-out 3s ag-watermark-fadeout;
    color: #9B9B9B;
    pointer-events: none;

    &::before {
        content: '';
        display: block;
        height: 40px;
        width: 170px;
        background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);
        background-repeat: no-repeat;
        background-size: 170px 40px;
    }

    > span {
        padding-left: 0.7rem;
    }
}

@keyframes ag-watermark-fadeout {
    from { opacity: 0.5; }
    to { opacity: 0; }
}
`;function injectWatermark(t,e){injectStyle3(watermarkStyles,"watermark");const i=createElement4("div"),o=createElement4("span");o.innerText=e,i.addEventListener("animationend",()=>t.removeChild(i)),i.classList.add("ag-watermark"),i.appendChild(o),t.appendChild(i)}var import_ag_charts_community56=require("ag-charts-community"),import_ag_charts_community54=require("ag-charts-community");function prepareBoxPlotFromTo(t){return{from:t?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function resetBoxPlotSelectionsScalingCenterFn(t){return(e,i)=>t?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var import_ag_charts_community52=require("ag-charts-community"),{Group:Group6,Rect:Rect2,Line:Line3,BBox:BBox6,Selection:Selection2}=import_ag_charts_community52._Scene,{Logger:Logger3}=import_ag_charts_community52._Util,BoxPlotGroup=class extends Group6{constructor(){super(),this.append([new Rect2({tag:0}),new Rect2({tag:0}),new Rect2({tag:2}),new Rect2({tag:1}),new Line3({tag:3}),new Line3({tag:3}),new Line3({tag:4}),new Line3({tag:4})])}updateDatumStyles(t,e,i,o,s){const{bandwidth:a,scaledValues:{xValue:n,medianValue:r}}=t;let{minValue:l,q1Value:c,q3Value:u,maxValue:h}=t.scaledValues;(i&&!o||!i&&o)&&([h,u,c,l]=[l,c,u,h]);const d=(w,B,z,V)=>i?{y:w,x:B,width:V,height:z}:{x:w,y:B,width:z,height:V},p=(w,B,z)=>i?{y1:w,y2:B,x:z}:{x1:w,x2:B,y:z},y=(w,B,z)=>i?{x1:B,x2:z,y:w}:{x:w,y1:B,y2:z},g=(w,B,z,V)=>({x:w,y:B,width:z,height:V}=d(w,B,z,V),new BBox6(w,B,z,V)),{fill:f,fillOpacity:m,stroke:S,strokeWidth:v,strokeOpacity:M,lineDash:x,lineDashOffset:_,cap:D,whisker:I}=e,T=Selection2.select(this,Rect2),N=T.selectByTag(0),[b]=T.selectByTag(2),[A]=T.selectByTag(1),E=T.selectByTag(3),L=T.selectByTag(4);I.strokeWidth>a&&(I.strokeWidth=a);const k=d(c,n,u-c,a);b.setProperties(k),N[0].setProperties(k),N[0].setProperties({cornerRadius:s,clipBBox:g(c,n,Math.round(r-c+v/2),a)}),N[1].setProperties(k),N[1].setProperties({cornerRadius:s,clipBBox:g(Math.round(r-v/2),n,Math.floor(u-r+v/2),a)});const O=Math.max(Math.round(r-v/2),c+v),C=Math.min(Math.round(r+v/2),u-v);A.setProperties(k),A.setProperties({visible:O<C,cornerRadius:s,clipBBox:g(O,n+v,C-O,Math.max(0,a-v*2))});const R=Math.floor(n+a*(1-D.lengthRatio)/2),P=Math.ceil(n+a*(1+D.lengthRatio)/2);L[0].setProperties(y(l,R,P)),L[1].setProperties(y(h,R,P)),E[0].setProperties(p(Math.round(l+I.strokeWidth/2),c,Math.floor(n+a/2))),E[1].setProperties(p(u,Math.round(h-I.strokeWidth/2),Math.floor(n+a/2)));for(const w of N)w.setProperties({fill:f,fillOpacity:m,strokeWidth:v*2,strokeOpacity:0});A.setProperties({fill:S,fillOpacity:M,strokeWidth:0});for(const w of[...E,...L])w.setProperties(I);b.setProperties({stroke:S,strokeWidth:v,strokeOpacity:M,lineDash:x,lineDashOffset:_,cornerRadius:s,fillOpacity:0})}distanceSquared(t,e){const i=Selection2.selectByClass(this,Rect2,Line3);return import_ag_charts_community52._Scene.nearestSquared(t,e,i).distanceSquared}get midPoint(){const t=this.datum;return t.midPoint===void 0?(Logger3.error("BoxPlotGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):t.midPoint}},import_ag_charts_community53=require("ag-charts-community"),{BaseProperties:BaseProperties6,AbstractBarSeriesProperties,SeriesTooltip,Validate:Validate27,COLOR_STRING:COLOR_STRING6,FUNCTION:FUNCTION4,LINE_DASH:LINE_DASH5,OBJECT:OBJECT5,POSITIVE_NUMBER:POSITIVE_NUMBER10,RATIO:RATIO11,STRING:STRING7,mergeDefaults:mergeDefaults3}=import_ag_charts_community53._ModuleSupport,BoxPlotSeriesCap=class extends BaseProperties6{constructor(){super(...arguments),this.lengthRatio=.5}};__decorateClass([Validate27(RATIO11)],BoxPlotSeriesCap.prototype,"lengthRatio",2);var BoxPlotSeriesWhisker=class extends BaseProperties6{};__decorateClass([Validate27(COLOR_STRING6,{optional:!0})],BoxPlotSeriesWhisker.prototype,"stroke",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],BoxPlotSeriesWhisker.prototype,"strokeWidth",2),__decorateClass([Validate27(RATIO11)],BoxPlotSeriesWhisker.prototype,"strokeOpacity",2),__decorateClass([Validate27(LINE_DASH5,{optional:!0})],BoxPlotSeriesWhisker.prototype,"lineDash",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],BoxPlotSeriesWhisker.prototype,"lineDashOffset",2);var BoxPlotSeriesProperties=class extends AbstractBarSeriesProperties{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new BoxPlotSeriesCap,this.whisker=new BoxPlotSeriesWhisker,this.tooltip=new SeriesTooltip}toJson(){const{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:o,lineDashOffset:s}=this,a=super.toJson();return a.whisker=mergeDefaults3(a.whisker,{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:o,lineDashOffset:s}),a}};__decorateClass([Validate27(STRING7)],BoxPlotSeriesProperties.prototype,"xKey",2),__decorateClass([Validate27(STRING7)],BoxPlotSeriesProperties.prototype,"minKey",2),__decorateClass([Validate27(STRING7)],BoxPlotSeriesProperties.prototype,"q1Key",2),__decorateClass([Validate27(STRING7)],BoxPlotSeriesProperties.prototype,"medianKey",2),__decorateClass([Validate27(STRING7)],BoxPlotSeriesProperties.prototype,"q3Key",2),__decorateClass([Validate27(STRING7)],BoxPlotSeriesProperties.prototype,"maxKey",2),__decorateClass([Validate27(STRING7,{optional:!0})],BoxPlotSeriesProperties.prototype,"xName",2),__decorateClass([Validate27(STRING7,{optional:!0})],BoxPlotSeriesProperties.prototype,"yName",2),__decorateClass([Validate27(STRING7,{optional:!0})],BoxPlotSeriesProperties.prototype,"minName",2),__decorateClass([Validate27(STRING7,{optional:!0})],BoxPlotSeriesProperties.prototype,"q1Name",2),__decorateClass([Validate27(STRING7,{optional:!0})],BoxPlotSeriesProperties.prototype,"medianName",2),__decorateClass([Validate27(STRING7,{optional:!0})],BoxPlotSeriesProperties.prototype,"q3Name",2),__decorateClass([Validate27(STRING7,{optional:!0})],BoxPlotSeriesProperties.prototype,"maxName",2),__decorateClass([Validate27(COLOR_STRING6,{optional:!0})],BoxPlotSeriesProperties.prototype,"fill",2),__decorateClass([Validate27(RATIO11)],BoxPlotSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate27(COLOR_STRING6)],BoxPlotSeriesProperties.prototype,"stroke",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],BoxPlotSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate27(RATIO11)],BoxPlotSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate27(LINE_DASH5)],BoxPlotSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],BoxPlotSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate27(POSITIVE_NUMBER10)],BoxPlotSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Validate27(FUNCTION4,{optional:!0})],BoxPlotSeriesProperties.prototype,"formatter",2),__decorateClass([Validate27(OBJECT5)],BoxPlotSeriesProperties.prototype,"cap",2),__decorateClass([Validate27(OBJECT5)],BoxPlotSeriesProperties.prototype,"whisker",2),__decorateClass([Validate27(OBJECT5)],BoxPlotSeriesProperties.prototype,"tooltip",2);var{extent,extractDecoratedProperties,fixNumericExtent:fixNumericExtent2,keyProperty,mergeDefaults:mergeDefaults4,SeriesNodePickMode,SMALLEST_KEY_INTERVAL,valueProperty:valueProperty2,diff,animationValidation,convertValuesToScaleByDefs,isFiniteNumber:isFiniteNumber3,computeBarFocusBounds}=import_ag_charts_community54._ModuleSupport,{motion}=import_ag_charts_community54._Scene,{ContinuousScale}=import_ag_charts_community54._Scale,BoxPlotSeriesNodeEvent=class extends import_ag_charts_community54._ModuleSupport.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.xKey=o.properties.xKey,this.minKey=o.properties.minKey,this.q1Key=o.properties.q1Key,this.medianKey=o.properties.medianKey,this.q3Key=o.properties.q3Key,this.maxKey=o.properties.maxKey}},BoxPlotSeries=class extends import_ag_charts_community54._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},pathsPerSeries:1,hasHighlightedLabels:!0}),this.properties=new BoxPlotSeriesProperties,this.NodeEvent=BoxPlotSeriesNodeEvent}processData(t){return __async(this,null,function*(){var e,i,o;if(!this.properties.isValid()||!this.visible)return;const{xKey:s,minKey:a,q1Key:n,medianKey:r,q3Key:l,maxKey:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=(e=this.getCategoryAxis())==null?void 0:e.scale,d=(i=this.getValueAxis())==null?void 0:i.scale,{isContinuousX:p,xScaleType:y,yScaleType:g}=this.getScaleInformation({xScale:h,yScale:d}),f=[];u&&this.processedData&&f.push(diff(this.processedData)),u&&f.push(animationValidation());const{processedData:m}=yield this.requestDataModel(t,this.data,{props:[keyProperty(s,y,{id:"xValue"}),valueProperty2(a,g,{id:"minValue"}),valueProperty2(n,g,{id:"q1Value"}),valueProperty2(r,g,{id:"medianValue"}),valueProperty2(l,g,{id:"q3Value"}),valueProperty2(c,g,{id:"maxValue"}),...p?[SMALLEST_KEY_INTERVAL]:[],...f]});this.smallestDataInterval=(o=m.reduced)==null?void 0:o.smallestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:o,smallestDataInterval:s}=this;if(!(i&&o))return[];if(t===this.getBarDirection()){const p=o.getDomain(this,"minValue","value",i),y=o.getDomain(this,"maxValue","value",i);return fixNumericExtent2([Math.min(...p),Math.max(...y)],this.getValueAxis())}const{index:a,def:n}=o.resolveProcessedDataDefById(this,"xValue"),r=i.domain.keys[a];if(n.type==="key"&&n.valueType==="category")return r;const l=this.getCategoryAxis(),c=(e=extent(r))!=null?e:[NaN,NaN],u=isFiniteNumber3(s)?s*.5:0,h=c[0]+-u,d=c[1]+u;return fixNumericExtent2([h,d],l)}createNodeData(){return __async(this,null,function*(){const{visible:t,dataModel:e}=this,i=this.getCategoryAxis(),o=this.getValueAxis();if(!(e&&i&&o))return;const{xKey:s,fill:a,fillOpacity:n,stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:u,lineDashOffset:h,cap:d,whisker:p}=this.properties,y=[],g=e.resolveProcessedDataDefsByIds(this,["xValue","minValue","q1Value","medianValue","q3Value","maxValue"]),{barWidth:f,groupIndex:m}=this.updateGroupScale(i),S=ContinuousScale.is(i.scale)?f*-.5:0,{groupScale:v,processedData:M}=this,x=this.isVertical(),_={itemId:s,nodeData:y,labelData:[],scales:this.calculateScaling(),visible:this.visible};return t&&M?.data.forEach(({datum:D,keys:I,values:T})=>{const{xValue:N,minValue:b,q1Value:A,medianValue:E,q3Value:L,maxValue:k}=e.resolveProcessedDataDefsValues(g,{keys:I,values:T});if([b,A,E,L,k].some(G=>typeof G!="number")||b>A||A>E||E>L||L>k)return;const O=convertValuesToScaleByDefs({defs:g,values:{xValue:N,minValue:b,q1Value:A,medianValue:E,q3Value:L,maxValue:k},xAxis:i,yAxis:o});O.xValue+=Math.round(v.convert(String(m)))+S;const C=Math.round(f),R=Math.abs(O.q3Value-O.q1Value),P=O.xValue+C/2,w=Math.min(O.q3Value,O.q1Value)+R/2,B={x:x?P:w,y:x?w:P},z=x?C:R,V=x?R:C;y.push({series:this,itemId:N,datum:D,xKey:s,bandwidth:C,scaledValues:O,cap:d,whisker:p,fill:a,fillOpacity:n,stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:u,lineDashOffset:h,midPoint:B,focusRect:{x:B.x-z/2,y:B.y-V/2,width:z,height:V}})}),_})}getLegendData(t){var e;const{id:i,data:o}=this,{xKey:s,yName:a,fill:n,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:u,showInLegend:h,legendItemName:d,visible:p}=this.properties;return!h||!o?.length||!s||t!=="category"?[]:[{legendType:"category",id:i,itemId:i,seriesId:i,enabled:p,label:{text:(e=d??a)!=null?e:i},marker:{fill:n,fillOpacity:r,stroke:l,strokeOpacity:u,strokeWidth:c},legendItemName:d}]}getTooltipHtml(t){const{xKey:e,minKey:i,q1Key:o,medianKey:s,q3Key:a,maxKey:n,xName:r,yName:l,minName:c,q1Name:u,medianName:h,q3Name:d,maxName:p,tooltip:y,fill:g}=this.properties,{datum:f,itemId:m}=t,S=this.getCategoryAxis(),v=this.getValueAxis();if(!S||!v||!this.properties.isValid())return import_ag_charts_community54._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const M=import_ag_charts_community54._Util.sanitizeHtml(l),_=[[e,r,S],[i,c,v],[o,u,v],[s,h,v],[a,d,v],[n,p,v]].map(([I,T,N])=>import_ag_charts_community54._Util.sanitizeHtml(`${T??I}: ${N.formatDatum(f[I])}`)).join(M?"<br/>":", "),{fill:D}=this.getFormattedStyles(t);return y.toTooltipHtml({title:M,content:_,backgroundColor:g},{seriesId:this.id,itemId:m,datum:f,fill:g,xKey:e,minKey:i,q1Key:o,medianKey:s,q3Key:a,maxKey:n,xName:r,minName:c,q1Name:u,medianName:h,q3Name:d,maxName:p,yName:l,title:M,color:g??D})}animateEmptyUpdateReady({datumSelection:t}){const e=this.isVertical(),{from:i,to:o}=prepareBoxPlotFromTo(e);motion.resetMotion([t],resetBoxPlotSelectionsScalingCenterFn(e)),motion.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[t],i,o,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(t){return __async(this,null,function*(){var e;const i=(e=t.nodeData)!=null?e:[];return t.datumSelection.update(i)})}updateDatumNodes(t){return __async(this,arguments,function*({datumSelection:e,isHighlight:i}){var o;const s=this.isVertical(),a=(o=this.getValueAxis())==null?void 0:o.isReversed(),{cornerRadius:n}=this.properties;e.each((r,l)=>{let c=this.getFormattedStyles(l,i);i&&(c=mergeDefaults4(this.properties.highlightStyle.item,c));const{stroke:u,strokeWidth:h,strokeOpacity:d,lineDash:p,lineDashOffset:y}=c;c.whisker=mergeDefaults4(c.whisker,{stroke:u,strokeWidth:h,strokeOpacity:d,lineDash:p,lineDashOffset:y}),r.updateDatumStyles(l,c,s,a,n)})})}updateLabelNodes(t){return __async(this,null,function*(){})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e)})}nodeFactory(){return new BoxPlotGroup}getFormattedStyles(t,e=!1){const{id:i,ctx:{callbackCache:o}}=this,{xKey:s,minKey:a,q1Key:n,medianKey:r,q3Key:l,maxKey:c,formatter:u}=this.properties,{datum:h,fill:d,fillOpacity:p,stroke:y,strokeWidth:g,strokeOpacity:f,lineDash:m,lineDashOffset:S,cap:v,whisker:M}=t,x={fill:d,fillOpacity:p,stroke:y,strokeWidth:g,strokeOpacity:f,lineDash:m,lineDashOffset:S,cap:extractDecoratedProperties(v),whisker:extractDecoratedProperties(M)};if(u){const _=o.call(u,__spreadProps(__spreadValues({datum:h,seriesId:i,highlighted:e},x),{xKey:s,minKey:a,q1Key:n,medianKey:r,q3Key:l,maxKey:c}));if(_)return mergeDefaults4(_,x)}return x}computeFocusBounds({datumIndex:t,seriesRect:e}){var i;return computeBarFocusBounds((i=this.contextNodeData)==null?void 0:i.nodeData[t].focusRect,this.contentGroup,e)}};BoxPlotSeries.className="BoxPlotSeries",BoxPlotSeries.type="box-plot";var import_ag_charts_community55=require("ag-charts-community"),BOX_PLOT_SERIES_THEME={series:{__extends__:import_ag_charts_community55._Theme.EXTENDS_SERIES_DEFAULTS,direction:"vertical",strokeWidth:2},axes:{[import_ag_charts_community55._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[import_ag_charts_community55._Theme.CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},BoxPlotModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",instanceConstructor:BoxPlotSeries,defaultAxes:[{type:import_ag_charts_community56._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community56._Theme.POSITION.LEFT},{type:import_ag_charts_community56._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community56._Theme.POSITION.BOTTOM}],themeTemplate:BOX_PLOT_SERIES_THEME,groupable:!0,paletteFactory:({takeColors:t,userPalette:e,themeTemplateParameters:i})=>{var o;const s=i.properties.get(import_ag_charts_community56._Theme.DEFAULT_BACKGROUND_COLOUR),a=(o=Array.isArray(s)?s[0]:s)!=null?o:"white",{fills:[n],strokes:[r]}=t(1);return{fill:e?n:import_ag_charts_community56._Util.Color.interpolate(n,a)(.7),stroke:r}},swapDefaultAxesCondition:({direction:t})=>t==="horizontal"},import_ag_charts_community60=require("ag-charts-community"),import_ag_charts_community58=require("ag-charts-community"),import_ag_charts_community57=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties2,BaseProperties:BaseProperties7,PropertiesArray:PropertiesArray2,SeriesTooltip:SeriesTooltip2,Validate:Validate28,ARRAY:ARRAY3,COLOR_STRING:COLOR_STRING7,LINE_DASH:LINE_DASH6,OBJECT:OBJECT6,POSITIVE_NUMBER:POSITIVE_NUMBER11,RATIO:RATIO12,STRING:STRING8}=import_ag_charts_community57._ModuleSupport,TargetStyle=class extends BaseProperties7{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.lengthRatio=.75}};__decorateClass([Validate28(COLOR_STRING7)],TargetStyle.prototype,"fill",2),__decorateClass([Validate28(RATIO12)],TargetStyle.prototype,"fillOpacity",2),__decorateClass([Validate28(COLOR_STRING7)],TargetStyle.prototype,"stroke",2),__decorateClass([Validate28(POSITIVE_NUMBER11)],TargetStyle.prototype,"strokeWidth",2),__decorateClass([Validate28(RATIO12)],TargetStyle.prototype,"strokeOpacity",2),__decorateClass([Validate28(LINE_DASH6)],TargetStyle.prototype,"lineDash",2),__decorateClass([Validate28(POSITIVE_NUMBER11)],TargetStyle.prototype,"lineDashOffset",2),__decorateClass([Validate28(RATIO12)],TargetStyle.prototype,"lengthRatio",2);var BulletScale=class extends BaseProperties7{};__decorateClass([Validate28(POSITIVE_NUMBER11,{optional:!0})],BulletScale.prototype,"max",2);var BulletColorRange=class extends BaseProperties7{constructor(){super(...arguments),this.color="lightgrey"}};__decorateClass([Validate28(COLOR_STRING7)],BulletColorRange.prototype,"color",2),__decorateClass([Validate28(POSITIVE_NUMBER11,{optional:!0})],BulletColorRange.prototype,"stop",2);var BulletSeriesProperties=class extends AbstractBarSeriesProperties2{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.widthRatio=.5,this.colorRanges=new PropertiesArray2(BulletColorRange),this.target=new TargetStyle,this.scale=new BulletScale,this.tooltip=new SeriesTooltip2,this.backgroundFill="white"}};__decorateClass([Validate28(STRING8)],BulletSeriesProperties.prototype,"valueKey",2),__decorateClass([Validate28(STRING8,{optional:!0})],BulletSeriesProperties.prototype,"valueName",2),__decorateClass([Validate28(STRING8,{optional:!0})],BulletSeriesProperties.prototype,"targetKey",2),__decorateClass([Validate28(STRING8,{optional:!0})],BulletSeriesProperties.prototype,"targetName",2),__decorateClass([Validate28(COLOR_STRING7)],BulletSeriesProperties.prototype,"fill",2),__decorateClass([Validate28(RATIO12)],BulletSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate28(COLOR_STRING7)],BulletSeriesProperties.prototype,"stroke",2),__decorateClass([Validate28(POSITIVE_NUMBER11)],BulletSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate28(RATIO12)],BulletSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate28(LINE_DASH6)],BulletSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate28(POSITIVE_NUMBER11)],BulletSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate28(RATIO12)],BulletSeriesProperties.prototype,"widthRatio",2),__decorateClass([Validate28(ARRAY3.restrict({minLength:0}))],BulletSeriesProperties.prototype,"colorRanges",2),__decorateClass([Validate28(OBJECT6)],BulletSeriesProperties.prototype,"target",2),__decorateClass([Validate28(OBJECT6)],BulletSeriesProperties.prototype,"scale",2),__decorateClass([Validate28(OBJECT6)],BulletSeriesProperties.prototype,"tooltip",2),__decorateClass([Validate28(COLOR_STRING7)],BulletSeriesProperties.prototype,"backgroundFill",2);var{animationValidation:animationValidation2,collapsedStartingBarPosition,diff:diff2,keyProperty:keyProperty2,partialAssign:partialAssign2,prepareBarAnimationFunctions,resetBarSelectionsFn,seriesLabelFadeInAnimation,valueProperty:valueProperty3,createDatumId,computeBarFocusBounds:computeBarFocusBounds2}=import_ag_charts_community58._ModuleSupport,{fromToMotion}=import_ag_charts_community58._Scene.motion,{sanitizeHtml}=import_ag_charts_community58._Util,STYLING_KEYS=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],BulletSeries=class ft extends import_ag_charts_community58._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:{y:["targetKey","valueKey"]},directionNames:{y:["targetName","valueName"]},pickModes:[import_ag_charts_community58._ModuleSupport.SeriesNodePickMode.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,animationResetFns:{datum:resetBarSelectionsFn}}),this.properties=new BulletSeriesProperties,this.normalizedColorRanges=[],this.colorRangesGroup=new import_ag_charts_community58._Scene.Group({name:`${this.id}-colorRanges`}),this.colorRangesSelection=import_ag_charts_community58._Scene.Selection.select(this.colorRangesGroup,import_ag_charts_community58._Scene.Rect,!1),this.rootGroup.append(this.colorRangesGroup),this.targetLinesSelection=import_ag_charts_community58._Scene.Selection.select(this.annotationGroup,import_ag_charts_community58._Scene.Line,!1)}destroy(){this.rootGroup.removeChild(this.colorRangesGroup),super.destroy()}processData(e){return __async(this,null,function*(){var i,o;if(!this.properties.isValid()||!this.data||!this.visible)return;const{valueKey:s,targetKey:a}=this.properties,n=(i=this.getCategoryAxis())==null?void 0:i.scale,r=(o=this.getValueAxis())==null?void 0:o.scale,{xScaleType:l,yScaleType:c}=this.getScaleInformation({xScale:n,yScale:r}),u=[];a!==void 0&&u.push(valueProperty3(a,c,{id:"target"})),this.ctx.animationManager.isSkipped()||(this.processedData!==void 0&&u.push(diff2(this.processedData)),u.push(animationValidation2())),yield this.requestDataModel(e,this.data.slice(0,1),{props:[keyProperty2(s,l,{id:"xValue"}),valueProperty3(s,c,{id:"value"}),...u],groupByKeys:!0}),this.animationState.transition("updateData")})}getBandScalePadding(){return{inner:0,outer:0}}getMaxValue(){var e,i;return Math.max(...(i=(e=this.getValueAxis())==null?void 0:e.dataDomain.domain)!=null?i:[0])}getSeriesDomain(e){var i,o;const{dataModel:s,processedData:a}=this;if(!s||!a)return[];const{valueKey:n,targetKey:r,valueName:l,scale:c}=this.properties;if(e===this.getCategoryDirection())return[l??n];if(e==((i=this.getValueAxis())==null?void 0:i.direction)){const u=s.getDomain(this,"value","value",a),h=r===void 0?[]:s.getDomain(this,"target","value",a);return[0,(o=c.max)!=null?o:Math.max(...u,...h)]}throw new Error(`unknown direction ${e}`)}getKeys(e){return e===this.getBarDirection()?[this.properties.valueKey]:super.getKeys(e)}createNodeData(){return __async(this,null,function*(){var e,i,o,s;const{dataModel:a,processedData:n}=this,{valueKey:r,targetKey:l,widthRatio:c,target:{lengthRatio:u}}=this.properties,h=(e=this.getCategoryAxis())==null?void 0:e.scale,d=(i=this.getValueAxis())==null?void 0:i.scale;if(!r||!a||!n||!h||!d||c===void 0||u===void 0)return;const p=(o=h.bandwidth)!=null?o:NaN,y=this.getMaxValue(),g=a.resolveProcessedDataIndexById(this,"value"),f=l===void 0?NaN:a.resolveProcessedDataIndexById(this,"target"),m={itemId:r,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return m;for(const{datum:M,values:x}of n.data){if(!Array.isArray(M)||M.length<1)continue;x[0][g]<0&&import_ag_charts_community58._Util.Logger.warnOnce("negative values are not supported, clipping to 0.");const _=(s=this.properties.valueName)!=null?s:this.properties.valueKey,D=Math.min(y,Math.max(0,x[0][g])),I=d.convert(D),T=c*p,N=d.convert(0),b=this.getBarDirection()===import_ag_charts_community58._ModuleSupport.ChartAxisDirection.X,A={x:p*(1-c)/2,y:Math.min(I,N),width:T,height:Math.abs(N-I)};b&&([A.x,A.y,A.width,A.height]=[A.y,A.x,A.height,A.width]);let E;if(x[0][f]<0&&import_ag_charts_community58._Util.Logger.warnOnce("negative targets are not supported, ignoring."),this.properties.targetKey&&x[0][f]>=0){const k=u*p,O=Math.min(y,x[0][f]);if(!isNaN(O)&&O!==void 0){const C=d.convert(O);let R=p*(1-u)/2,P=R+k,[w,B]=[C,C];b&&([R,P,w,B]=[w,B,R,P]),E={value:O,x1:R,x2:P,y1:w,y2:B}}}const L=__spreadProps(__spreadValues({series:this,datum:M[0],xKey:r,xValue:_,yKey:r,yValue:D,cumulativeValue:D,target:E},A),{midPoint:{x:A.x+A.width/2,y:A.y+A.height/2},opacity:1});m.nodeData.push(L)}const S=[...this.getColorRanges()].sort((M,x)=>{var _,D;return((_=M.stop)!=null?_:y)-((D=x.stop)!=null?D:y)});let v=0;return this.normalizedColorRanges=S.map(M=>{var x;const _=Math.min(y,(x=M.stop)!=null?x:1/0),D={color:M.color,start:v,stop:_};return v=_,D}),m})}getColorRanges(){const{colorRanges:e,fill:i,backgroundFill:o}=this.properties;if(e!==void 0&&e.length>0)return e;const s=new BulletColorRange;return s.color=import_ag_charts_community58._Util.Color.interpolate(i,o)(.7),[s]}getLegendData(e){return[]}getTooltipHtml(e){const{valueKey:i,valueName:o,targetKey:s,targetName:a}=this.properties,n=this.getValueAxis(),{yValue:r,target:{value:l}={value:void 0},datum:c,itemId:u}=e;if(i===void 0||r===void 0||n===void 0)return import_ag_charts_community58._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const h=(y,g,f)=>{const m=sanitizeHtml(g??y),S=sanitizeHtml(n.formatDatum(f));return`<b>${m}</b>: ${S}`},d=void 0,p=s===void 0||l===void 0?h(i,o,r):`${h(i,o,r)}<br/>${h(s,a,l)}`;return this.properties.tooltip.toTooltipHtml({title:d,content:p,backgroundColor:this.properties.fill},{datum:c,itemId:u,title:d,seriesId:this.id,valueKey:i,valueName:o,targetKey:s,targetName:a,color:void 0})}isLabelEnabled(){return!1}nodeFactory(){return new import_ag_charts_community58._Scene.Rect}updateDatumSelection(e){return __async(this,null,function*(){return this.targetLinesSelection.update(e.nodeData,void 0,void 0),e.datumSelection.update(e.nodeData,void 0,void 0)})}updateDatumNodes(e){return __async(this,null,function*(){for(const{node:i}of e.datumSelection){const o=this.properties;partialAssign2(STYLING_KEYS,i,o)}for(const{node:i,datum:o}of this.targetLinesSelection)if(o.target===void 0)i.visible=!1;else{const s=this.properties.target;partialAssign2(["x1","x2","y1","y2"],i,o.target),partialAssign2(STYLING_KEYS,i,s)}})}updateColorRanges(){return __async(this,null,function*(){const e=this.getValueAxis(),i=this.getCategoryAxis();if(!e||!i)return;const[o,s]=[0,Math.max(...i.scale.range)],a=this.getBarDirection()===import_ag_charts_community58._ModuleSupport.ChartAxisDirection.Y?(n,r)=>{n.x=o,n.y=e.scale.convert(r.stop),n.height=e.scale.convert(r.start)-n.y,n.width=s}:(n,r)=>{n.x=e.scale.convert(r.start),n.y=o,n.height=s,n.width=e.scale.convert(r.stop)-n.x};this.colorRangesSelection.update(this.normalizedColorRanges);for(const{node:n,datum:r}of this.colorRangesSelection)a(n,r),n.fill=r.color})}updateNodes(e,i,o){return __async(this,null,function*(){yield __superGet(ft.prototype,this,"updateNodes").call(this,e,i,o),yield this.updateColorRanges()})}updateLabelSelection(e){return __async(this,null,function*(){return e.labelSelection})}updateLabelNodes(e){return __async(this,null,function*(){})}animateEmptyUpdateReady(e){const{datumSelection:i,annotationSelections:o}=e,s=prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(),this.axes,"normal"));fromToMotion(this.id,"nodes",this.ctx.animationManager,[i],s),seriesLabelFadeInAnimation(this,"annotations",this.ctx.animationManager,...o)}animateWaitingUpdateReady(e){var i,o,s;const{datumSelection:a,annotationSelections:n}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=(o=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:o.diff,l=prepareBarAnimationFunctions(collapsedStartingBarPosition(this.isVertical(),this.axes,"normal"));fromToMotion(this.id,"nodes",this.ctx.animationManager,[a],l,(u,h)=>createDatumId(h.xValue),r),((s=r?.changed)!=null?s:!0)&&seriesLabelFadeInAnimation(this,"annotations",this.ctx.animationManager,...n)}computeFocusBounds({datumIndex:e,seriesRect:i}){var o;return computeBarFocusBounds2((o=this.contextNodeData)==null?void 0:o.nodeData[e],this.contentGroup,i)}},import_ag_charts_community59=require("ag-charts-community"),BULLET_SERIES_THEME={series:{direction:"vertical",strokeWidth:0,strokeOpacity:1,fillOpacity:1,widthRatio:.5,target:{strokeWidth:3,strokeOpacity:1,lengthRatio:.75}},axes:{[import_ag_charts_community59._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,crosshair:{enabled:!1}}}},BulletModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bullet",solo:!0,instanceConstructor:BulletSeries,defaultAxes:[{type:import_ag_charts_community60._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community60._Theme.POSITION.LEFT},{type:import_ag_charts_community60._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community60._Theme.POSITION.BOTTOM}],themeTemplate:BULLET_SERIES_THEME,swapDefaultAxesCondition:t=>t?.direction==="horizontal",paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{var o;const{properties:s}=i,{fills:[a],strokes:[n]}=t(e),r=i.properties.get(import_ag_charts_community60._Theme.DEFAULT_BACKGROUND_COLOUR),l=(o=Array.isArray(r)?r[0]:r)!=null?o:"white",c=s.get(import_ag_charts_community60._Theme.DEFAULT_CROSS_LINES_COLOUR);return{fill:a,stroke:n,target:{stroke:c},backgroundFill:l}}},import_ag_charts_community67=require("ag-charts-community"),import_ag_charts_community65=require("ag-charts-community"),import_ag_charts_community61=require("ag-charts-community"),{SceneChangeDetection,BBox:BBox7,RedrawType}=import_ag_charts_community61._Scene,CandlestickBaseGroup=class extends import_ag_charts_community61._Scene.Group{constructor(){super(...arguments),this.x=0,this.y=0,this.yBottom=0,this.yHigh=0,this.yLow=0,this.width=0,this.height=0}distanceSquared(t,e){const i=import_ag_charts_community61._Scene.Selection.selectByClass(this,import_ag_charts_community61._Scene.Rect,import_ag_charts_community61._Scene.Line);return import_ag_charts_community61._Scene.nearestSquared(t,e,i).distanceSquared}get midPoint(){const t=this.datum;return t.midPoint===void 0?(import_ag_charts_community61._Util.Logger.error("CandlestickBaseGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):t.midPoint}render(t){this.updateCoordinates(),super.render(t)}};__decorateClass([SceneChangeDetection({redraw:RedrawType.MAJOR})],CandlestickBaseGroup.prototype,"x",2),__decorateClass([SceneChangeDetection({redraw:RedrawType.MAJOR})],CandlestickBaseGroup.prototype,"y",2),__decorateClass([SceneChangeDetection({redraw:RedrawType.MAJOR})],CandlestickBaseGroup.prototype,"yBottom",2),__decorateClass([SceneChangeDetection({redraw:RedrawType.MAJOR})],CandlestickBaseGroup.prototype,"yHigh",2),__decorateClass([SceneChangeDetection({redraw:RedrawType.MAJOR})],CandlestickBaseGroup.prototype,"yLow",2),__decorateClass([SceneChangeDetection({redraw:RedrawType.MAJOR})],CandlestickBaseGroup.prototype,"width",2),__decorateClass([SceneChangeDetection({redraw:RedrawType.MAJOR})],CandlestickBaseGroup.prototype,"height",2);var CandlestickGroup=class extends CandlestickBaseGroup{constructor(){super(),this.append([new import_ag_charts_community61._Scene.Rect({tag:0}),new import_ag_charts_community61._Scene.Line({tag:1}),new import_ag_charts_community61._Scene.Line({tag:2})])}updateCoordinates(){const{x:t,y:e,yBottom:i,yHigh:o,yLow:s,width:a,height:n}=this,r=import_ag_charts_community61._Scene.Selection.select(this,import_ag_charts_community61._Scene.Rect),[l]=r.selectByTag(0),[c]=r.selectByTag(1),[u]=r.selectByTag(2);if(a===0||n===0){l.visible=!1,c.visible=!1,u.visible=!1;return}l.visible=!0,c.visible=!0,u.visible=!0,l.setProperties({x:t,y:e,width:a,height:n,crisp:!0,clipBBox:new BBox7(t,e,a,n)});const h=a/2;c.setProperties({y1:Math.round(s+c.strokeWidth/2),y2:i,x:t+h}),u.setProperties({y1:Math.round(o+u.strokeWidth/2),y2:e,x:t+h})}updateDatumStyles(t,e){var i;const{bandwidth:o}=t,{fill:s,fillOpacity:a,stroke:n,strokeWidth:r,strokeOpacity:l,lineDash:c,lineDashOffset:u,wick:h={},cornerRadius:d}=e;(i=h.strokeWidth)!=null||(h.strokeWidth=1);const p=import_ag_charts_community61._Scene.Selection.select(this,import_ag_charts_community61._Scene.Rect),[y]=p.selectByTag(0),[g]=p.selectByTag(1),[f]=p.selectByTag(2);h.strokeWidth>o&&(h.strokeWidth=o),y.setProperties({fill:s,fillOpacity:a,strokeWidth:r,strokeOpacity:l,stroke:n,lineDash:c,lineDashOffset:u,cornerRadius:d}),g.setProperties(h),f.setProperties(h)}},import_ag_charts_community63=require("ag-charts-community"),import_ag_charts_community62=require("ag-charts-community"),{computeBarFocusBounds:computeBarFocusBounds3,NODE_UPDATE_STATE_TO_PHASE_MAPPING}=import_ag_charts_community62._ModuleSupport;function resetCandlestickSelectionsFn(t,e){return getCoordinates(e)}function prepareCandlestickAnimationFunctions(t){return{toFn:(o,s,a)=>{if(a==="removed"){const{x:n,yLow:r,yHigh:l,width:c}=getCoordinates(s),u=s.itemId==="up"?r:l;return{x:n,y:u,yBottom:u,yHigh:u,yLow:u,width:c,height:0}}return getCoordinates(s)},fromFn:(o,s,a)=>{const n=t?"initial":NODE_UPDATE_STATE_TO_PHASE_MAPPING[a];if(a==="unknown"||a==="added"&&s!=null){const{x:r,y:l,yLow:c,yHigh:u,width:h,height:d}=getCoordinates(s);let p=s.itemId==="up"?c:u;return a==="unknown"&&(p=l+d/2),{x:r,y:p,yBottom:p,yHigh:p,yLow:p,width:h,height:0,phase:n}}return{x:o.x,y:o.y,yBottom:o.yBottom,yHigh:o.yHigh,yLow:o.yLow,width:o.width,height:o.height,phase:n}}}}function getCoordinates(t){const{bandwidth:e,scaledValues:{xValue:i,openValue:o,closeValue:s,highValue:a,lowValue:n}}=t,r=Math.min(o,s),l=isNaN(o)?s:Math.max(o,s),c=Math.min(a,n),u=Math.max(a,n);return{x:i,y:r,yBottom:l,yHigh:c,yLow:u,width:e,height:Math.max(l-r,.001)}}function computeCandleFocusBounds(t,e){var i;const o=(i=t.getNodeData())==null?void 0:i.at(e.datumIndex),s=o?{x:o.scaledValues.xValue,y:o.scaledValues.highValue,width:o.bandwidth,height:o.scaledValues.lowValue-o.scaledValues.highValue}:void 0;return computeBarFocusBounds3(s,t.contentGroup,e.seriesRect)}var{motion:motion2}=import_ag_charts_community63._Scene,{extent:extent2,fixNumericExtent:fixNumericExtent3,keyProperty:keyProperty3,SeriesNodePickMode:SeriesNodePickMode2,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL2,valueProperty:valueProperty4,diff:diff3,animationValidation:animationValidation3,convertValuesToScaleByDefs:convertValuesToScaleByDefs2,mergeDefaults:mergeDefaults5,isFiniteNumber:isFiniteNumber4}=import_ag_charts_community63._ModuleSupport,{sanitizeHtml:sanitizeHtml2,Logger:Logger4}=import_ag_charts_community63._Util,{ContinuousScale:ContinuousScale2}=import_ag_charts_community63._Scale,CandlestickSeriesNodeEvent=class extends import_ag_charts_community63._ModuleSupport.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.xKey=o.properties.xKey,this.openKey=o.properties.openKey,this.closeKey=o.properties.closeKey,this.highKey=o.properties.highKey,this.lowKey=o.properties.lowKey}},CandlestickSeriesBase=class extends import_ag_charts_community63._ModuleSupport.AbstractBarSeries{constructor(t,e){super({moduleCtx:t,pickModes:[SeriesNodePickMode2.NEAREST_BY_MAIN_AXIS_FIRST,SeriesNodePickMode2.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},pathsPerSeries:1,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:e}}),this.NodeEvent=CandlestickSeriesNodeEvent}animateEmptyUpdateReady({datumSelection:t}){const e=prepareCandlestickAnimationFunctions(!0);motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],e)}animateWaitingUpdateReady({datumSelection:t}){var e;const{processedData:i}=this,o=(e=i?.reduced)==null?void 0:e.diff,s=prepareCandlestickAnimationFunctions(!1);motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s,(a,n)=>String(n.xValue),o)}processData(t){return __async(this,null,function*(){var e,i,o;if(!this.properties.isValid()||!this.visible)return;const{xKey:s,openKey:a,closeKey:n,highKey:r,lowKey:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),u=(e=this.getCategoryAxis())==null?void 0:e.scale,h=(i=this.getValueAxis())==null?void 0:i.scale,{isContinuousX:d,xScaleType:p,yScaleType:y}=this.getScaleInformation({xScale:u,yScale:h}),g=[];c&&(this.processedData&&g.push(diff3(this.processedData)),g.push(animationValidation3())),a&&g.push(valueProperty4(a,y,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{processedData:f}=yield this.requestDataModel(t,this.data,{props:[keyProperty3(s,p,{id:"xValue"}),valueProperty4(n,y,{id:"closeValue"}),valueProperty4(r,y,{id:"highValue"}),valueProperty4(l,y,{id:"lowValue"}),...d?[SMALLEST_KEY_INTERVAL2]:[],...g]});this.smallestDataInterval=(o=f.reduced)==null?void 0:o.smallestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:o,smallestDataInterval:s}=this;if(!(i&&o))return[];const{openKey:a}=this.properties;if(t===this.getBarDirection()){const y=o.getDomain(this,"lowValue","value",i),g=o.getDomain(this,"highValue","value",i),f=a?o.getDomain(this,"openValue","value",i):[],m=o.getDomain(this,"closeValue","value",i);return fixNumericExtent3([Math.min(...y,...g,...f,...m),Math.max(...g,...y,...f,...m)],this.getValueAxis())}const{index:n,def:r}=o.resolveProcessedDataDefById(this,"xValue"),l=i.domain.keys[n];if(r.type==="key"&&r.valueType==="category")return l;const c=this.getCategoryAxis(),u=(e=extent2(l))!=null?e:[NaN,NaN],h=isFiniteNumber4(s)?s:0,d=u[0]+-h,p=u[1]+h;return fixNumericExtent3([d,p],c)}createBaseNodeData(){const{visible:t,dataModel:e}=this,i=this.getCategoryAxis(),o=this.getValueAxis();if(!(e&&i&&o))return;const{xKey:s,openKey:a,closeKey:n,highKey:r,lowKey:l}=this.properties,c=[],u=["xValue","closeValue","highValue","lowValue"];a&&u.push("openValue");const h=e.resolveProcessedDataDefsByIds(this,u),{barWidth:d,groupIndex:p}=this.updateGroupScale(i),y=ContinuousScale2.is(i.scale)?d*-.5:0,{groupScale:g,processedData:f}=this,m={itemId:s,nodeData:c,labelData:[],scales:this.calculateScaling(),visible:this.visible};return t&&f?.data.forEach(({datum:S,keys:v,values:M})=>{const{xValue:x,openValue:_,closeValue:D,highValue:I,lowValue:T}=e.resolveProcessedDataDefsValues(h,{keys:v,values:M}),N=_!==void 0,b=T!==void 0&&(!N||T<=_)&&T<=D,A=I!==void 0&&(!N||I>=_)&&I>=D;if(!b){Logger4.warnOnce(`invalid low value for key [${l}] in data element, low value cannot be higher than datum open or close values`);return}if(!A){Logger4.warnOnce(`invalid high value for key [${r}] in data element, high value cannot be lower than datum open or close values.`);return}const E=convertValuesToScaleByDefs2({defs:h,values:{xValue:x,openValue:_,closeValue:D,highValue:I,lowValue:T},xAxis:i,yAxis:o});E.xValue+=Math.round(g.convert(String(p)))+y;const L=!N||D>_,k=this.getSeriesItemType(L),[O,C]=N?[E.openValue,E.closeValue]:[E.lowValue,E.highValue],R=Math.min(O,C),w=Math.max(O,C)-R,B={x:E.xValue+Math.round(d)/2,y:R+w/2};c.push({series:this,itemId:k,datum:S,xKey:s,xValue:x,openKey:a,closeKey:n,highKey:r,lowKey:l,openValue:_,closeValue:D,highValue:I,lowValue:T,bandwidth:Math.round(d),scaledValues:E,midPoint:B,aggregatedValue:D})}),m}getSeriesItemType(t){return t?"up":"down"}getItemConfig(t){return this.properties.item[t]}getLegendData(t){return[]}getTooltipHtml(t){const{xKey:e,openKey:i,closeKey:o,highKey:s,lowKey:a,xName:n,yName:r,openName:l,closeName:c,highName:u,lowName:h,tooltip:d}=this.properties,{datum:p,itemId:y}=t,g=this.getCategoryAxis(),f=this.getValueAxis();if(!g||!f||!this.properties.isValid())return import_ag_charts_community63._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const m=_=>_.charAt(0).toUpperCase()+_.substring(1),S=sanitizeHtml2(r),v=[[e,n,g],[s,u,f],[a,h,f],[o,c,f]];i&&v.splice(1,0,[i,l,f]);const M=v.map(([_,D,I])=>sanitizeHtml2(`${D??m(_)}: ${I.formatDatum(p[_])}`)).join("<br/>"),x=this.getFormattedStyles(t);return d.toTooltipHtml({title:S,content:M,backgroundColor:x.stroke},__spreadProps(__spreadValues({seriesId:this.id,datum:p},x),{xKey:e,openKey:i??"",closeKey:o,highKey:s,lowKey:a,xName:n,yName:r,openName:l,closeName:c,highName:u,lowName:h,title:S,color:x.fill,fill:x.fill,itemId:y}))}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(t){return __async(this,null,function*(){var e;const i=(e=t.nodeData)!=null?e:[];return t.datumSelection.update(i)})}updateDatumNodes(t){return __async(this,arguments,function*({datumSelection:e,isHighlight:i}){e.each((o,s)=>{const a=this.getActiveStyles(s,i);o.updateDatumStyles(s,a)})})}updateLabelNodes(t){return __async(this,null,function*(){})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e)})}getFormattedStyles(t,e=!1){const{id:i,ctx:{callbackCache:o}}=this,{xKey:s,openKey:a="",closeKey:n,highKey:r,lowKey:l,formatter:c}=this.properties;if(c){const u=o.call(c,this.getFormatterParams(__spreadProps(__spreadValues({},t),{seriesId:i,highlighted:e,xKey:s,openKey:a,closeKey:n,highKey:r,lowKey:l})));if(u)return mergeDefaults5(u,this.getSeriesStyles(t))}return this.getSeriesStyles(t)}},import_ag_charts_community64=require("ag-charts-community"),{BaseProperties:BaseProperties8,AbstractBarSeriesProperties:AbstractBarSeriesProperties3,SeriesTooltip:SeriesTooltip3,Validate:Validate29,COLOR_STRING:COLOR_STRING8,FUNCTION:FUNCTION5,LINE_DASH:LINE_DASH7,OBJECT:OBJECT7,POSITIVE_NUMBER:POSITIVE_NUMBER12,RATIO:RATIO13,STRING:STRING9}=import_ag_charts_community64._ModuleSupport,CandlestickSeriesWick=class extends BaseProperties8{};__decorateClass([Validate29(COLOR_STRING8,{optional:!0})],CandlestickSeriesWick.prototype,"stroke",2),__decorateClass([Validate29(POSITIVE_NUMBER12)],CandlestickSeriesWick.prototype,"strokeWidth",2),__decorateClass([Validate29(RATIO13)],CandlestickSeriesWick.prototype,"strokeOpacity",2),__decorateClass([Validate29(LINE_DASH7,{optional:!0})],CandlestickSeriesWick.prototype,"lineDash",2),__decorateClass([Validate29(POSITIVE_NUMBER12)],CandlestickSeriesWick.prototype,"lineDashOffset",2);var CandlestickSeriesItem=class extends BaseProperties8{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new CandlestickSeriesWick}};__decorateClass([Validate29(COLOR_STRING8,{optional:!0})],CandlestickSeriesItem.prototype,"fill",2),__decorateClass([Validate29(RATIO13)],CandlestickSeriesItem.prototype,"fillOpacity",2),__decorateClass([Validate29(COLOR_STRING8)],CandlestickSeriesItem.prototype,"stroke",2),__decorateClass([Validate29(POSITIVE_NUMBER12)],CandlestickSeriesItem.prototype,"strokeWidth",2),__decorateClass([Validate29(RATIO13)],CandlestickSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Validate29(LINE_DASH7)],CandlestickSeriesItem.prototype,"lineDash",2),__decorateClass([Validate29(POSITIVE_NUMBER12)],CandlestickSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Validate29(POSITIVE_NUMBER12)],CandlestickSeriesItem.prototype,"cornerRadius",2),__decorateClass([Validate29(FUNCTION5,{optional:!0})],CandlestickSeriesItem.prototype,"formatter",2),__decorateClass([Validate29(OBJECT7)],CandlestickSeriesItem.prototype,"wick",2);var CandlestickSeriesItems=class extends BaseProperties8{constructor(){super(...arguments),this.up=new CandlestickSeriesItem,this.down=new CandlestickSeriesItem}};__decorateClass([Validate29(OBJECT7)],CandlestickSeriesItems.prototype,"up",2),__decorateClass([Validate29(OBJECT7)],CandlestickSeriesItems.prototype,"down",2);var CandlestickSeriesBaseProperties=class extends AbstractBarSeriesProperties3{constructor(t,e){super(),this.tooltip=new SeriesTooltip3,this.item=t,this.formatter=e}};__decorateClass([Validate29(STRING9)],CandlestickSeriesBaseProperties.prototype,"xKey",2),__decorateClass([Validate29(STRING9)],CandlestickSeriesBaseProperties.prototype,"openKey",2),__decorateClass([Validate29(STRING9)],CandlestickSeriesBaseProperties.prototype,"closeKey",2),__decorateClass([Validate29(STRING9)],CandlestickSeriesBaseProperties.prototype,"highKey",2),__decorateClass([Validate29(STRING9)],CandlestickSeriesBaseProperties.prototype,"lowKey",2),__decorateClass([Validate29(STRING9,{optional:!0})],CandlestickSeriesBaseProperties.prototype,"xName",2),__decorateClass([Validate29(STRING9,{optional:!0})],CandlestickSeriesBaseProperties.prototype,"yName",2),__decorateClass([Validate29(STRING9,{optional:!0})],CandlestickSeriesBaseProperties.prototype,"openName",2),__decorateClass([Validate29(STRING9,{optional:!0})],CandlestickSeriesBaseProperties.prototype,"closeName",2),__decorateClass([Validate29(STRING9,{optional:!0})],CandlestickSeriesBaseProperties.prototype,"highName",2),__decorateClass([Validate29(STRING9,{optional:!0})],CandlestickSeriesBaseProperties.prototype,"lowName",2),__decorateClass([Validate29(OBJECT7)],CandlestickSeriesBaseProperties.prototype,"tooltip",2),__decorateClass([Validate29(OBJECT7)],CandlestickSeriesBaseProperties.prototype,"item",2),__decorateClass([Validate29(FUNCTION5,{optional:!0})],CandlestickSeriesBaseProperties.prototype,"formatter",2);var CandlestickSeriesProperties=class extends CandlestickSeriesBaseProperties{constructor(){super(new CandlestickSeriesItems)}};__decorateClass([Validate29(STRING9)],CandlestickSeriesProperties.prototype,"openKey",2);var{extractDecoratedProperties:extractDecoratedProperties2,mergeDefaults:mergeDefaults6}=import_ag_charts_community65._ModuleSupport,CandlestickSeries=class extends CandlestickSeriesBase{constructor(t){super(t,resetCandlestickSelectionsFn),this.properties=new CandlestickSeriesProperties}createNodeData(){return __async(this,null,function*(){const t=this.createBaseNodeData();if(!t)return;const e=t.nodeData.map(i=>{const{fill:o,fillOpacity:s,stroke:a,strokeWidth:n,strokeOpacity:r,lineDash:l,lineDashOffset:c,wick:u,cornerRadius:h}=this.getItemConfig(i.itemId);return __spreadProps(__spreadValues({},i),{fill:o,fillOpacity:s,stroke:a,strokeWidth:n,strokeOpacity:r,lineDash:l,lineDashOffset:c,wick:u,cornerRadius:h})});return __spreadProps(__spreadValues({},t),{nodeData:e})})}nodeFactory(){return new CandlestickGroup}getSeriesStyles(t){const{fill:e,fillOpacity:i,stroke:o,strokeWidth:s,strokeOpacity:a,lineDash:n,lineDashOffset:r,wick:l,cornerRadius:c}=t;return{fill:e,fillOpacity:i,stroke:o,strokeWidth:s,strokeOpacity:a,lineDash:n,lineDashOffset:r,wick:extractDecoratedProperties2(l),cornerRadius:c}}getActiveStyles(t,e){let i=this.getFormattedStyles(t,e);e&&(i=mergeDefaults6(this.properties.highlightStyle.item,i));const{stroke:o,strokeWidth:s,strokeOpacity:a,lineDash:n,lineDashOffset:r}=i;return i.wick=mergeDefaults6(i.wick,{stroke:o,strokeWidth:s,strokeOpacity:a,lineDash:n,lineDashOffset:r}),i}getFormatterParams(t){return t}computeFocusBounds(t){return computeCandleFocusBounds(this,t)}};CandlestickSeries.className="CandleStickSeries",CandlestickSeries.type="candlestick";var import_ag_charts_community66=require("ag-charts-community"),CANDLESTICK_SERIES_THEME={series:{__extends__:import_ag_charts_community66._Theme.EXTENDS_SERIES_DEFAULTS,highlightStyle:{item:{strokeWidth:3}},direction:"vertical"},animation:{enabled:!1},axes:{[import_ag_charts_community66._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[import_ag_charts_community66._Theme.CARTESIAN_AXIS_TYPE.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},CandlestickModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",instanceConstructor:CandlestickSeries,defaultAxes:[{type:import_ag_charts_community67._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community67._Theme.POSITION.LEFT},{type:import_ag_charts_community67._Theme.CARTESIAN_AXIS_TYPE.ORDINAL_TIME,position:import_ag_charts_community67._Theme.POSITION.BOTTOM}],themeTemplate:CANDLESTICK_SERIES_THEME,groupable:!1,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,themeTemplateParameters:o})=>{const{properties:s}=o,{fills:a,strokes:n}=t(e),{fills:r,strokes:l}=s.get(import_ag_charts_community67._Theme.DEFAULT_COLOURS);return{item:{up:{fill:i?"transparent":r.GREEN,stroke:i?n[0]:l.GREEN},down:{fill:i?a[0]:r.RED,stroke:i?n[0]:l.RED}}}}},import_ag_charts_community72=require("ag-charts-community"),import_ag_charts_community70=require("ag-charts-community"),import_ag_charts_community68=require("ag-charts-community"),{Validate:Validate30,NUMBER:NUMBER9,TEXT_WRAP,OVERFLOW_STRATEGY}=import_ag_charts_community68._ModuleSupport,{Logger:Logger5}=import_ag_charts_community68._Util,{Text:Text5,Label}=import_ag_charts_community68._Scene,BaseAutoSizedLabel=class extends Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}static lineHeight(t){return Math.ceil(t*Text5.defaultLineHeightRatio)}};__decorateClass([Validate30(TEXT_WRAP)],BaseAutoSizedLabel.prototype,"wrapping",2),__decorateClass([Validate30(OVERFLOW_STRATEGY)],BaseAutoSizedLabel.prototype,"overflowStrategy",2),__decorateClass([Validate30(NUMBER9,{optional:!0})],BaseAutoSizedLabel.prototype,"minimumFontSize",2);var AutoSizedLabel=class extends BaseAutoSizedLabel{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Validate30(NUMBER9)],AutoSizedLabel.prototype,"spacing",2);var AutoSizeableSecondaryLabel=class extends BaseAutoSizedLabel{};function generateLabelSecondaryLabelFontSizeCandidates(t,e){const{fontSize:i,minimumFontSize:o=i}=t,{fontSize:s,minimumFontSize:a=s}=e,n=i-o,r=s-a;let l=t.fontSize,c=e.fontSize;const u=[{labelFontSize:i,secondaryLabelFontSize:s}];for(;l>o||c>a;){const h=n>0?(l-o)/n:-1,d=r>0?(c-a)/r:-1;h>d?l--:c--,u.push({labelFontSize:l,secondaryLabelFontSize:c})}return u.reverse(),u}function maximumValueSatisfying(t,e,i){if(t>e)return;let o=t,s=e,a;for(;s>=o;){const n=(s+o)/2|0,r=i(n);r==null?s=n-1:(a=r,o=n+1)}return a}function formatStackedLabels(t,e,i,o,{padding:s},a){var n,r;const{spacing:l}=e,c=2*s,u=2*s+l,h=((n=e.minimumFontSize)!=null?n:e.fontSize)+((r=o.minimumFontSize)!=null?r:o.fontSize);if(h>a(h+u,!1).height-u)return;const d=generateLabelSecondaryLabelFontSizeCandidates(e,o),p=new Text5;p.setFont(e);const y={fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight},g=new Text5;g.setFont(o);const f={fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight};let m,S;return maximumValueSatisfying(0,d.length-1,v=>{const{labelFontSize:M,secondaryLabelFontSize:x}=d[v],_=v===0,D=AutoSizedLabel.lineHeight(M),I=AutoSizeableSecondaryLabel.lineHeight(x),T=a(D+I+u,_),N=T.width-c,b=T.height-u;if(D+I>b)return;if(m==null||m.fontSize!==M){y.fontSize=M;const{lines:E}=Text5.wrapLines(t,N,b,y,e.wrapping,_?e.overflowStrategy:"hide");if(E==null)m=void 0;else{const L=E.join(`
`);p.text=L,p.fontSize=M,p.lineHeight=M;const k=p.computeBBox().width,O=E.length*D;m={text:L,fontSize:M,lineHeight:D,width:k,height:O}}}if(m==null||m.width>N||m.height>b)return;if(S==null||S.fontSize!==x){f.fontSize=x;const{lines:E}=Text5.wrapLines(i,N,b,f,o.wrapping,_?o.overflowStrategy:"hide");if(E==null)S=void 0;else{const L=E.join(`
`);g.text=L,g.fontSize=x,g.lineHeight=I;const k=g.computeBBox().width,O=E.length*I;S={text:L,fontSize:x,lineHeight:I,width:k,height:O}}}if(S==null)return;const A=m.height+S.height;if(!(S.width>N||A>b))return{width:Math.max(m.width,S.width),height:A+l,meta:T.meta,label:m,secondaryLabel:S}})}function formatSingleLabel(t,e,{padding:i},o){var s;const a=2*i,n=Math.min((s=e.minimumFontSize)!=null?s:e.fontSize,e.fontSize),r=new Text5;r.setFont(e);const l={fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight};return maximumValueSatisfying(n,e.fontSize,c=>{const u=AutoSizedLabel.lineHeight(c),h=c===n,d=o(u+a,h),p=d.width-a,y=d.height-a;if(u>y)return;l.fontSize=c;const{lines:g}=Text5.wrapLines(t,p,y,l,e.wrapping,h?e.overflowStrategy:"hide");if(g==null)return;const f=g.join(`
`);r.text=f,r.fontSize=c,r.lineHeight=u;const m=r.computeBBox(),S=r.computeBBox().width,v=u*g.length;if(!(m.width>p||v>y))return[{text:f,fontSize:c,lineHeight:u,width:S,height:v},d.meta]})}function hasInvalidFontSize(t){return t?.minimumFontSize!=null&&t?.fontSize&&t?.minimumFontSize>t?.fontSize}function formatLabels(t,e,i,o,s,a){const n=e.enabled?t:void 0,r=o.enabled?i:void 0;(hasInvalidFontSize(e)||hasInvalidFontSize(o))&&Logger5.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;n!=null&&r!=null&&(l=formatStackedLabels(n,e,r,o,s,a));let c;if(l==null&&n!=null&&(c=formatSingleLabel(n,e,s,a)),c!=null){const[h,d]=c;l={width:h.width,height:h.height,meta:d,label:h,secondaryLabel:void 0}}let u;if(l==null&&n==null&&r!=null&&(u=formatSingleLabel(r,o,s,a)),u!=null){const[h,d]=u;l={width:h.width,height:h.height,meta:d,label:void 0,secondaryLabel:h}}return l}var import_ag_charts_community69=require("ag-charts-community"),{CartesianSeriesProperties,SeriesTooltip:SeriesTooltip4,Validate:Validate31,AND:AND7,ARRAY:ARRAY4,COLOR_STRING:COLOR_STRING9,COLOR_STRING_ARRAY,FUNCTION:FUNCTION6,OBJECT:OBJECT8,POSITIVE_NUMBER:POSITIVE_NUMBER13,RATIO:RATIO14,STRING:STRING10,TEXT_ALIGN,VERTICAL_ALIGN}=import_ag_charts_community69._ModuleSupport,HeatmapSeriesProperties=class extends CartesianSeriesProperties{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new AutoSizedLabel,this.tooltip=new SeriesTooltip4}};__decorateClass([Validate31(STRING10,{optional:!0})],HeatmapSeriesProperties.prototype,"title",2),__decorateClass([Validate31(STRING10)],HeatmapSeriesProperties.prototype,"xKey",2),__decorateClass([Validate31(STRING10)],HeatmapSeriesProperties.prototype,"yKey",2),__decorateClass([Validate31(STRING10,{optional:!0})],HeatmapSeriesProperties.prototype,"colorKey",2),__decorateClass([Validate31(STRING10,{optional:!0})],HeatmapSeriesProperties.prototype,"xName",2),__decorateClass([Validate31(STRING10,{optional:!0})],HeatmapSeriesProperties.prototype,"yName",2),__decorateClass([Validate31(STRING10,{optional:!0})],HeatmapSeriesProperties.prototype,"colorName",2),__decorateClass([Validate31(AND7(COLOR_STRING_ARRAY,ARRAY4.restrict({minLength:1})))],HeatmapSeriesProperties.prototype,"colorRange",2),__decorateClass([Validate31(COLOR_STRING9,{optional:!0})],HeatmapSeriesProperties.prototype,"stroke",2),__decorateClass([Validate31(RATIO14,{optional:!0})],HeatmapSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate31(POSITIVE_NUMBER13,{optional:!0})],HeatmapSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate31(TEXT_ALIGN)],HeatmapSeriesProperties.prototype,"textAlign",2),__decorateClass([Validate31(VERTICAL_ALIGN)],HeatmapSeriesProperties.prototype,"verticalAlign",2),__decorateClass([Validate31(POSITIVE_NUMBER13)],HeatmapSeriesProperties.prototype,"itemPadding",2),__decorateClass([Validate31(FUNCTION6,{optional:!0})],HeatmapSeriesProperties.prototype,"formatter",2),__decorateClass([Validate31(OBJECT8)],HeatmapSeriesProperties.prototype,"label",2),__decorateClass([Validate31(OBJECT8)],HeatmapSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode3,computeBarFocusBounds:computeBarFocusBounds4,getMissCount,valueProperty:valueProperty5,ChartAxisDirection:ChartAxisDirection8,DEFAULT_CARTESIAN_DIRECTION_KEYS,DEFAULT_CARTESIAN_DIRECTION_NAMES}=import_ag_charts_community70._ModuleSupport,{Rect:Rect3,PointerEvents}=import_ag_charts_community70._Scene,{ColorScale}=import_ag_charts_community70._Scale,{sanitizeHtml:sanitizeHtml3,Color,Logger:Logger6}=import_ag_charts_community70._Util,HeatmapSeriesNodeEvent=class extends import_ag_charts_community70._ModuleSupport.CartesianSeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.colorKey=o.properties.colorKey}},textAlignFactors={left:-.5,center:0,right:-.5},verticalAlignFactors={top:-.5,middle:0,bottom:-.5},HeatmapSeries=class extends import_ag_charts_community70._ModuleSupport.CartesianSeries{constructor(t){super({moduleCtx:t,directionKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS,directionNames:DEFAULT_CARTESIAN_DIRECTION_NAMES,pickModes:[SeriesNodePickMode3.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new HeatmapSeriesProperties,this.NodeEvent=HeatmapSeriesNodeEvent,this.colorScale=new ColorScale,this.seriesItemEnabled=[]}processData(t){return __async(this,null,function*(){var e,i,o;const s=this.axes[ChartAxisDirection8.X],a=this.axes[ChartAxisDirection8.Y];if(!s||!a||!this.properties.isValid()||!((e=this.data)!=null&&e.length))return;const{xKey:n,yKey:r,colorRange:l,colorKey:c}=this.properties,u=(i=this.axes[ChartAxisDirection8.X])==null?void 0:i.scale,h=(o=this.axes[ChartAxisDirection8.Y])==null?void 0:o.scale,{xScaleType:d,yScaleType:p}=this.getScaleInformation({xScale:u,yScale:h}),y=this.colorScale.type,{dataModel:g,processedData:f}=yield this.requestDataModel(t,this.data,{props:[valueProperty5(n,d,{id:"xValue"}),valueProperty5(r,p,{id:"yValue"}),...c?[valueProperty5(c,y,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const m=g.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=f.domain.values[m],this.colorScale.range=l,this.colorScale.update()}})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const o=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.data.length,a=getMissCount(this,i.defs.values[o].missing);return!(s===0||s===a)}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;return!e||!i?[]:t===ChartAxisDirection8.X?e.getDomain(this,"xValue","value",i):e.getDomain(this,"yValue","value",i)}createNodeData(){return __async(this,null,function*(){var t,e,i,o,s,a,n;const{data:r,visible:l,axes:c,dataModel:u}=this,h=c[ChartAxisDirection8.X],d=c[ChartAxisDirection8.Y];if(!(r&&u&&l&&h&&d))return;if(h.type!=="category"||d.type!=="category"){Logger6.warnOnce(`Heatmap series expected axes to have "category" type, but received "${h.type}" and "${d.type}" instead.`);return}const{xKey:p,xName:y,yKey:g,yName:f,colorKey:m,colorName:S,textAlign:v,verticalAlign:M,itemPadding:x,colorRange:_,label:D}=this.properties,I=u.resolveProcessedDataIndexById(this,"xValue"),T=u.resolveProcessedDataIndexById(this,"yValue"),N=m?u.resolveProcessedDataIndexById(this,"colorValue"):void 0,b=h.scale,A=d.scale,E=((t=b.bandwidth)!=null?t:0)/2,L=((e=A.bandwidth)!=null?e:0)/2,k=this.isColorScaleValid(),O=[],C=[],R=(i=b.bandwidth)!=null?i:10,P=(o=A.bandwidth)!=null?o:10,w=(R-2*x)*textAlignFactors[v],B=(P-2*x)*verticalAlignFactors[M],z=()=>({width:R,height:P,meta:null}),{seriesItemEnabled:V}=this;V.length=0;for(const{values:G,datum:F}of(a=(s=this.processedData)==null?void 0:s.data)!=null?a:[]){const H=G[I],U=G[T],q=b.convert(H)+E,K=A.convert(U)+L,j=G[N??-1],W=k&&j!=null?this.colorScale.convert(j):_[0];V.push(j!=null);const Y=j==null?void 0:this.getLabelText(D,{value:j,datum:F,colorKey:m,colorName:S,xKey:p,yKey:g,xName:y,yName:f}),$=formatLabels(Y,this.properties.label,void 0,this.properties.label,{padding:x},z),Q={x:q,y:K,size:0};if(O.push({series:this,itemId:g,yKey:g,xKey:p,xValue:H,yValue:U,colorValue:j,datum:F,point:Q,width:R,height:P,fill:W,midPoint:{x:q,y:K}}),$?.label!=null){const{text:Z,fontSize:tt,lineHeight:J,height:et}=$.label,{fontStyle:X,fontFamily:ot,fontWeight:st,color:at}=this.properties.label,ct=Q.x+w*(R-2*x),ut=Q.y+B*(P-2*x)-($.height-et)*.5;C.push({series:this,itemId:g,datum:F,text:Z,fontSize:tt,lineHeight:J,fontStyle:X,fontFamily:ot,fontWeight:st,color:at,textAlign:v,verticalAlign:M,x:ct,y:ut})}}return{itemId:(n=this.properties.yKey)!=null?n:this.id,nodeData:O,labelData:C,scales:this.calculateScaling(),visible:this.visible}})}nodeFactory(){return new Rect3}updateDatumSelection(t){return __async(this,null,function*(){const{nodeData:e,datumSelection:i}=t,o=e??[];return i.update(o)})}updateDatumNodes(t){return __async(this,null,function*(){var e;const{isHighlight:i}=t,{id:o,ctx:{callbackCache:s}}=this,{xKey:a,yKey:n,colorKey:r,formatter:l,highlightStyle:{item:{fill:c,stroke:u,strokeWidth:h,strokeOpacity:d,fillOpacity:p}}}=this.properties,y=this.axes[ChartAxisDirection8.X],[g,f]=(e=y?.visibleRange)!=null?e:[],S=!(g!==0||f!==1);t.datumSelection.each((v,M)=>{var x,_,D,I,T;const{point:N,width:b,height:A}=M,E=i&&c!==void 0?Color.interpolate(M.fill,c)(p??1):M.fill,L=i&&u!==void 0?u:this.properties.stroke,k=i&&d!==void 0?d:this.properties.strokeOpacity,O=i&&h!==void 0?h:this.properties.strokeWidth;let C;l&&(C=s.call(l,{datum:M.datum,fill:E,stroke:L,strokeOpacity:k,strokeWidth:O,highlighted:i,xKey:a,yKey:n,colorKey:r,seriesId:o})),v.crisp=S,v.x=Math.floor(N.x-b/2),v.y=Math.floor(N.y-A/2),v.width=Math.ceil(b),v.height=Math.ceil(A),v.fill=(x=C?.fill)!=null?x:E,v.stroke=(_=C?.stroke)!=null?_:L,v.strokeOpacity=(I=(D=C?.strokeOpacity)!=null?D:k)!=null?I:1,v.strokeWidth=(T=C?.strokeWidth)!=null?T:O})})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:e,labelSelection:i}=t,{enabled:o}=this.properties.label,s=o?e:[];return i.update(s)})}updateLabelNodes(t){return __async(this,null,function*(){t.labelSelection.each((e,i)=>{e.text=i.text,e.fontSize=i.fontSize,e.lineHeight=i.lineHeight,e.fontStyle=i.fontStyle,e.fontFamily=i.fontFamily,e.fontWeight=i.fontWeight,e.fill=i.color,e.textAlign=i.textAlign,e.textBaseline=i.verticalAlign,e.x=i.x,e.y=i.y,e.pointerEvents=PointerEvents.None})})}getTooltipHtml(t){var e,i,o;const s=this.axes[ChartAxisDirection8.X],a=this.axes[ChartAxisDirection8.Y];if(!this.properties.isValid()||!s||!a)return import_ag_charts_community70._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const{xKey:n,yKey:r,colorKey:l,xName:c,yName:u,colorName:h,stroke:d,strokeWidth:p,colorRange:y,formatter:g,tooltip:f}=this.properties,{colorScale:m,id:S,ctx:{callbackCache:v}}=this,{datum:M,xValue:x,yValue:_,colorValue:D,itemId:I}=t,T=this.isColorScaleValid()?m.convert(D):y[0];let N;g&&(N=v.call(g,{datum:t,xKey:n,yKey:r,colorKey:l,fill:T,stroke:d,strokeWidth:p,highlighted:!1,seriesId:S}));const b=(i=(e=N?.fill)!=null?e:T)!=null?i:"gray",A=(o=this.properties.title)!=null?o:u,E=sanitizeHtml3(s.formatDatum(x)),L=sanitizeHtml3(a.formatDatum(_));let k=`<b>${sanitizeHtml3(c??n)}</b>: ${E}<br><b>${sanitizeHtml3(u??r)}</b>: ${L}`;return l&&(k=`<b>${sanitizeHtml3(h??l)}</b>: ${sanitizeHtml3(D)}<br>`+k),f.toTooltipHtml({title:A,content:k,backgroundColor:b},{seriesId:S,datum:M,xKey:n,yKey:r,xName:c,yName:u,title:A,color:b,colorKey:l,colorName:h,itemId:I})}getLegendData(t){var e;return t!=="gradient"||!((e=this.data)!=null&&e.length)||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue")],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds({datumIndex:t,seriesRect:e}){var i;const o=(i=this.contextNodeData)==null?void 0:i.nodeData[t];if(o===void 0)return;const{width:s,height:a,midPoint:n}=o,r={x:n.x-s/2,y:n.y-a/2,width:s,height:a};return computeBarFocusBounds4(r,this.contentGroup,e)}};HeatmapSeries.className="HeatmapSeries",HeatmapSeries.type="heatmap";var import_ag_charts_community71=require("ag-charts-community"),HEATMAP_SERIES_THEME={series:{__extends__:import_ag_charts_community71._Theme.EXTENDS_SERIES_DEFAULTS,label:{enabled:!1,color:import_ag_charts_community71._Theme.DEFAULT_LABEL_COLOUR,fontSize:import_ag_charts_community71._Theme.FONT_SIZE.SMALL,fontFamily:import_ag_charts_community71._Theme.DEFAULT_FONT_FAMILY,wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},HeatmapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",instanceConstructor:HeatmapSeries,defaultAxes:[{type:import_ag_charts_community72._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community72._Theme.POSITION.LEFT},{type:import_ag_charts_community72._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community72._Theme.POSITION.BOTTOM}],themeTemplate:HEATMAP_SERIES_THEME,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,themeTemplateParameters:o})=>{var s;const{properties:a}=o,n=a.get(import_ag_charts_community72._Theme.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),r=a.get(import_ag_charts_community72._Theme.DEFAULT_BACKGROUND_COLOUR),l=(s=Array.isArray(r)?r[0]:r)!=null?s:"white",{fills:c,strokes:u}=t(e);return{stroke:i?u[0]:l,colorRange:i?[c[0],c[1]]:n}}},import_ag_charts_community78=require("ag-charts-community"),MAP_THEME_DEFAULTS={legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},import_ag_charts_community77=require("ag-charts-community"),import_ag_charts_community74=require("ag-charts-community"),delta=1e-9;function lineSegmentDistanceToPointSquared(t,e,i,o){const[s,a]=t,[n,r]=e,l=n-s,c=r-a,u=l*l+c*c;let h,d;if(Math.abs(u)<delta)h=s,d=a;else{let g=((i-s)*l+(o-a)*c)/u;g=Math.max(0,Math.min(1,g)),h=s+g*(n-s),d=a+g*(r-a)}const p=i-h,y=o-d;return p*p+y*y}function lineStringDistance(t,e,i){let o=1/0,s=t[t.length-1];for(const a of t)o=Math.min(o,lineSegmentDistanceToPointSquared(s,a,e,i)),s=a;return Math.sqrt(o)}function lineStringLength(t){let[e,i]=t[0],o=0;for(let s=1;s<t.length;s+=1){const[a,n]=t[s],r=Math.hypot(a-e,n-i);o+=r,e=a,i=n}return o}function lineStringCenter(t){if(t.length===0)return;const e=lineStringLength(t)/2;let[i,o]=t[0],s=0;for(let a=1;a<t.length;a+=1){const[n,r]=t[a],l=Math.hypot(n-i,r-o),c=s+l;if(c>e){const u=(e-s)/l,h=[i+(n-i)*u,o+(r-o)*u],d=Math.atan2(r-o,n-i);return{point:h,angle:d}}s=c,i=n,o=r}}var import_ag_charts_community73=require("ag-charts-community"),{LonLatBBox}=import_ag_charts_community73._ModuleSupport;function extendBbox(t,e,i,o,s){return t==null?t=new LonLatBBox(e,i,o,s):(t.lon0=Math.min(t.lon0,e),t.lat0=Math.min(t.lat0,i),t.lon1=Math.max(t.lon1,o),t.lat1=Math.max(t.lat1,s)),t}var insertManySorted=(t,e,i)=>{let o=t,s=o;for(const a of e)if(o==null||i(o.value,a)>0)o={value:a,next:o},s=o;else{for(s=s;s.next!=null&&i(s.next.value,a)<=0;)s=s.next;s.next={value:a,next:s.next}}return o};function polygonBbox(t,e){return t.forEach(i=>{const[o,s]=i;e=extendBbox(e,o,s,o,s)}),e}function polygonCentroid(t){if(t.length===0)return;let e=0,i=0,o=0,[s,a]=t[t.length-1];for(const[n,r]of t){const l=s*r-n*a;o+=l,e+=(s+n)*l,i+=(a+r)*l,s=n,a=r}return o*=3,[e/o,i/o]}function polygonDistance(t,e,i){let o=!1,s=1/0;for(const a of t){let n=a[a.length-1],[r,l]=n;for(const c of a){const[u,h]=c;h>i!=l>i&&e<(r-u)*(i-h)/(l-h)+u&&(o=!o),s=Math.min(s,lineSegmentDistanceToPointSquared(n,c,e,i)),n=c,r=u,l=h}}return(o?-1:1)*Math.sqrt(s)}var{Path:Path5,ExtendedPath2D,BBox:BBox8,ScenePathChangeDetection}=import_ag_charts_community74._Scene,GeoGeometry=class extends Path5{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new ExtendedPath2D}computeBBox(){var t;return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),(t=this.bbox)==null?void 0:t.clone()}updatePath(){const{projectedGeometry:t}=this;this.strokePath.clear(),this.path.clear(),this.bbox=t!=null?this.drawGeometry(t,void 0):void 0}drawPath(t){super.drawPath(t),this.renderStroke(t,this.strokePath.getPath2D())}containsPoint(t,e){const{projectedGeometry:i}=this;return i==null||({x:t,y:e}=this.transformPoint(t,e),!this.getCachedBBox().containsPoint(t,e))?!1:this.geometryDistance(i,t,e)<=0}distanceToPoint(t,e){const{projectedGeometry:i}=this;return{x:t,y:e}=this.transformPoint(t,e),i!=null?this.geometryDistance(i,t,e):1/0}geometryDistance(t,e,i){const{renderMode:o,strokeWidth:s}=this,a=(o&1)!==0,n=(o&2)!==0,r=Math.max(s/2,1)+1;switch(t.type){case"GeometryCollection":return t.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,e,i)),1/0);case"MultiPolygon":return a?t.coordinates.reduce((l,c)=>Math.min(l,Math.max(polygonDistance(c,e,i),0)),1/0):1/0;case"Polygon":return a?Math.max(polygonDistance(t.coordinates,e,i),0):1/0;case"MultiLineString":return n?t.coordinates.reduce((l,c)=>Math.min(l,Math.max(lineStringDistance(c,e,i)-r,0)),1/0):1/0;case"LineString":return n?Math.max(lineStringDistance(t.coordinates,e,i)-r,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(t,e){const{renderMode:i,path:o,strokePath:s}=this,a=(i&1)!==0,n=(i&2)!==0;switch(t.type){case"GeometryCollection":t.geometries.forEach(r=>{e=this.drawGeometry(r,e)});break;case"MultiPolygon":a&&t.coordinates.forEach(r=>{e=this.drawPolygon(o,r,e)});break;case"Polygon":a&&(e=this.drawPolygon(o,t.coordinates,e));break;case"LineString":n&&(e=this.drawLineString(s,t.coordinates,e,!1));break;case"MultiLineString":n&&t.coordinates.forEach(r=>{e=this.drawLineString(s,r,e,!1)});break;case"Point":case"MultiPoint":break}return e}drawPolygon(t,e,i){if(e.length<1)return i;i=this.drawLineString(t,e[0],i,!0);for(let o=1;o<e.length;o+=1){const s=e[o];this.drawLineString(t,s,void 0,!0)}return i}drawLineString(t,e,i,o){if(e.length<2)return i;const s=o?e.length-1:e.length;for(let a=0;a<s;a+=1){const[n,r]=e[a];if(a===0?t.moveTo(n,r):t.lineTo(n,r),i==null)i=new BBox8(n,r,0,0);else{const{x:l,y:c}=i,u=l+i.width,h=c+i.height;i.x=Math.min(l,n),i.y=Math.min(c,r),i.width=Math.max(u,n)-i.x,i.height=Math.max(h,r)-i.y}}return o&&t.closePath(),i}};__decorateClass([ScenePathChangeDetection()],GeoGeometry.prototype,"projectedGeometry",2),__decorateClass([ScenePathChangeDetection()],GeoGeometry.prototype,"renderMode",2);function geometryBbox(t,e){if(t.bbox!=null){const[i,o,s,a]=t.bbox;return e=extendBbox(e,i,o,s,a),e}switch(t.type){case"GeometryCollection":t.geometries.forEach(i=>{e=geometryBbox(i,e)});break;case"MultiPolygon":t.coordinates.forEach(i=>{i.length>0&&(e=polygonBbox(i[0],e))});break;case"Polygon":t.coordinates.length>0&&(e=polygonBbox(t.coordinates[0],e));break;case"MultiLineString":t.coordinates.forEach(i=>{e=polygonBbox(i,e)});break;case"LineString":e=polygonBbox(t.coordinates,e);break;case"MultiPoint":t.coordinates.forEach(i=>{const[o,s]=i;e=extendBbox(e,o,s,o,s)});break;case"Point":{const[i,o]=t.coordinates;e=extendBbox(e,i,o,i,o);break}}return e}function largestPolygon(t){switch(t.type){case"GeometryCollection":{let e,i;return t.geometries.map(o=>{const s=largestPolygon(o);if(s==null)return;const a=polygonBbox(s[0],void 0);if(a==null)return;const n=Math.abs(a.lat1-a.lat0)*Math.abs(a.lon1-a.lon0);(e==null||n>e)&&(e=n,i=s)}),i}case"MultiPolygon":{let e,i;return t.coordinates.forEach(o=>{const s=polygonBbox(o[0],void 0);if(s==null)return;const a=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(e==null||a>e)&&(e=a,i=o)}),i}case"Polygon":return t.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function largestLineString(t){switch(t.type){case"GeometryCollection":{let e,i;return t.geometries.map(o=>{const s=largestLineString(o);if(s==null)return;const a=lineStringLength(s);a!=null&&(e==null||a>e)&&(e=a,i=s)}),i}case"MultiLineString":{let e=0,i;return t.coordinates.forEach(o=>{const s=lineStringLength(o);s>e&&(e=s,i=o)}),i}case"LineString":return t.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function containsType(t,e){if(t==null)return!1;switch(t.type){case"GeometryCollection":return t.geometries.some(i=>containsType(i,e));case"MultiPolygon":case"Polygon":return(e&1)!==0;case"MultiLineString":case"LineString":return(e&2)!==0;case"MultiPoint":case"Point":return(e&4)!==0}}function projectGeometry(t,e){switch(t.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:t.geometries.map(i=>projectGeometry(i,e))};case"Polygon":return{type:"Polygon",coordinates:projectPolygon(t.coordinates,e)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:projectMultiPolygon(t.coordinates,e)};case"MultiLineString":return{type:"MultiLineString",coordinates:projectPolygon(t.coordinates,e)};case"LineString":return{type:"LineString",coordinates:projectLineString(t.coordinates,e)};case"MultiPoint":return{type:"MultiPoint",coordinates:projectLineString(t.coordinates,e)};case"Point":return{type:"Point",coordinates:e.convert(t.coordinates)}}}function projectMultiPolygon(t,e){return t.map(i=>projectPolygon(i,e))}function projectPolygon(t,e){return t.map(i=>projectLineString(i,e))}function projectLineString(t,e){return t.map(i=>e.convert(i))}var import_ag_charts_community75=require("ag-charts-community");function isValidCoordinate(t){return Array.isArray(t)&&t.length>=2&&t.every(import_ag_charts_community75._ModuleSupport.isFiniteNumber)}function isValidCoordinates(t){return Array.isArray(t)&&t.length>=2&&t.every(isValidCoordinate)}var delta2=.001;function hasSameStartEndPoint(t){return Math.abs(t[0][0]-t[t.length-1][0])<delta2&&Math.abs(t[0][1]-t[t.length-1][1])<delta2}function isValidPolygon(t){return Array.isArray(t)&&t.every(isValidCoordinates)&&t.every(hasSameStartEndPoint)}function isValidGeometry(t){if(t===null)return!0;if(typeof t!="object"||t.type==null)return!1;const{type:e,coordinates:i}=t;switch(e){case"GeometryCollection":return Array.isArray(t.geometries)&&t.geometries.every(isValidGeometry);case"MultiPolygon":return Array.isArray(i)&&i.every(isValidPolygon);case"Polygon":return isValidPolygon(i);case"MultiLineString":return Array.isArray(i)&&i.every(isValidCoordinates);case"LineString":return isValidCoordinates(i);case"MultiPoint":return isValidCoordinates(i);case"Point":return isValidCoordinate(i)}}function isValidFeature(t){return t!==null&&typeof t=="object"&&t.type==="Feature"&&isValidGeometry(t.geometry)}function isValidFeatureCollection(t){return t!==null&&typeof t=="object"&&t.type==="FeatureCollection"&&Array.isArray(t.features)&&t.features.every(isValidFeature)}var GEOJSON_OBJECT=import_ag_charts_community75._ModuleSupport.predicateWithMessage(isValidFeatureCollection,"a GeoJSON object"),import_ag_charts_community76=require("ag-charts-community"),{COLOR_STRING:COLOR_STRING10,LINE_DASH:LINE_DASH8,OBJECT:OBJECT9,POSITIVE_NUMBER:POSITIVE_NUMBER14,RATIO:RATIO15,Validate:Validate32,SeriesProperties,SeriesTooltip:SeriesTooltip5}=import_ag_charts_community76._ModuleSupport,MapLineBackgroundSeriesProperties=class extends SeriesProperties{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new SeriesTooltip5}};__decorateClass([Validate32(GEOJSON_OBJECT,{optional:!0})],MapLineBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Validate32(COLOR_STRING10)],MapLineBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Validate32(RATIO15)],MapLineBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate32(POSITIVE_NUMBER14)],MapLineBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate32(LINE_DASH8)],MapLineBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate32(POSITIVE_NUMBER14)],MapLineBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate32(OBJECT9)],MapLineBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId2,DataModelSeries,SeriesNodePickMode:SeriesNodePickMode4,Validate:Validate33}=import_ag_charts_community77._ModuleSupport,{Group:Group7,Selection:Selection3,PointerEvents:PointerEvents2}=import_ag_charts_community77._Scene,{Logger:Logger7}=import_ag_charts_community77._Util,MapLineBackgroundSeries=class extends DataModelSeries{constructor(t){super({moduleCtx:t,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[SeriesNodePickMode4.EXACT_SHAPE_MATCH]}),this.properties=new MapLineBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group7({name:"itemGroup"})),this.datumSelection=Selection3.select(this.itemGroup,()=>this.nodeFactory())}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}nodeFactory(){const t=new GeoGeometry;return t.renderMode=2,t.lineJoin="round",t.lineCap="round",t.pointerEvents=PointerEvents2.None,t}processData(){return __async(this,null,function*(){const{topology:t}=this;this.topologyBounds=t?.features.reduce((e,i)=>{const o=i.geometry;return o==null?e:geometryBbox(o,e)},void 0),t==null&&Logger7.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")})}createNodeData(){return __async(this,null,function*(){const{id:t,topology:e,scale:i}=this;if(e==null)return;const o=[],s=[];return e.features.forEach((a,n)=>{const{geometry:r}=a,l=r!=null&&i!=null?projectGeometry(r,i):void 0;l!=null&&o.push({series:this,itemId:n,datum:a,index:n,projectedGeometry:l})}),{itemId:t,nodeData:o,labelData:s}})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return __async(this,null,function*(){var t;const{datumSelection:e}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:i=[]}=(t=this.contextNodeData)!=null?t:{};this.datumSelection=yield this.updateDatumSelection({nodeData:i,datumSelection:e}),yield this.updateDatumNodes({datumSelection:e})})}updateDatumSelection(t){return __async(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>createDatumId2(e.index))})}updateDatumNodes(t){return __async(this,null,function*(){const{properties:e}=this,{datumSelection:i}=t,{stroke:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}=e,r=this.getStrokeWidth(e.strokeWidth);i.each((l,c)=>{const{projectedGeometry:u}=c;if(u==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=u,l.stroke=o,l.strokeWidth=r,l.strokeOpacity=s,l.lineDash=a,l.lineDashOffset=n})})}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return import_ag_charts_community77._ModuleSupport.EMPTY_TOOLTIP_CONTENT}computeFocusBounds(t){}};MapLineBackgroundSeries.className="MapLineBackgroundSeries",MapLineBackgroundSeries.type="map-line-background",__decorateClass([Validate33(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapLineBackgroundSeries.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS,DEFAULT_HIERARCHY_STROKES}=import_ag_charts_community78._Theme,MapLineBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",instanceConstructor:MapLineBackgroundSeries,themeTemplate:__spreadProps(__spreadValues({},MAP_THEME_DEFAULTS),{series:{__extends__:EXTENDS_SERIES_DEFAULTS,strokeWidth:1,lineDash:[0],lineDashOffset:0}}),paletteFactory:({themeTemplateParameters:t})=>{var e;const{properties:i}=t;return{stroke:(e=i.get(DEFAULT_HIERARCHY_STROKES))==null?void 0:e[1]}}},import_ag_charts_community81=require("ag-charts-community"),import_ag_charts_community80=require("ag-charts-community");function prepareMapMarkerAnimationFunctions(){return{fromFn:(i,o,s)=>s==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,o,s)=>s==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function computeGeoFocusBounds(t,e){var i;const o=(i=t.contextNodeData)==null?void 0:i.nodeData[e.datumIndex];if(o!==void 0){for(const s of t.datumSelection.nodes())if(s.datum===o)return s.computeTransformedBBox()}}var import_ag_charts_community79=require("ag-charts-community"),{AND:AND8,ARRAY:ARRAY5,COLOR_STRING:COLOR_STRING11,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY2,FUNCTION:FUNCTION7,LINE_DASH:LINE_DASH9,NUMBER_ARRAY,OBJECT:OBJECT10,POSITIVE_NUMBER:POSITIVE_NUMBER15,RATIO:RATIO16,STRING:STRING11,Validate:Validate34,SeriesProperties:SeriesProperties2,SeriesTooltip:SeriesTooltip6}=import_ag_charts_community79._ModuleSupport,{Label:Label2}=import_ag_charts_community79._Scene,MapLineSeriesProperties=class extends SeriesProperties2{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new Label2,this.tooltip=new SeriesTooltip6}};__decorateClass([Validate34(GEOJSON_OBJECT,{optional:!0})],MapLineSeriesProperties.prototype,"topology",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"title",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"legendItemName",2),__decorateClass([Validate34(STRING11)],MapLineSeriesProperties.prototype,"idKey",2),__decorateClass([Validate34(STRING11)],MapLineSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"idName",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"labelName",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"sizeKey",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"sizeName",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"colorKey",2),__decorateClass([Validate34(STRING11,{optional:!0})],MapLineSeriesProperties.prototype,"colorName",2),__decorateClass([Validate34(NUMBER_ARRAY,{optional:!0})],MapLineSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Validate34(AND8(COLOR_STRING_ARRAY2,ARRAY5.restrict({minLength:1})),{optional:!0})],MapLineSeriesProperties.prototype,"colorRange",2),__decorateClass([Validate34(POSITIVE_NUMBER15,{optional:!0})],MapLineSeriesProperties.prototype,"maxStrokeWidth",2),__decorateClass([Validate34(COLOR_STRING11)],MapLineSeriesProperties.prototype,"stroke",2),__decorateClass([Validate34(RATIO16)],MapLineSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate34(POSITIVE_NUMBER15)],MapLineSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate34(LINE_DASH9)],MapLineSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate34(POSITIVE_NUMBER15)],MapLineSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate34(FUNCTION7,{optional:!0})],MapLineSeriesProperties.prototype,"formatter",2),__decorateClass([Validate34(OBJECT10)],MapLineSeriesProperties.prototype,"label",2),__decorateClass([Validate34(OBJECT10)],MapLineSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount2,createDatumId:createDatumId3,DataModelSeries:DataModelSeries2,SeriesNodePickMode:SeriesNodePickMode5,valueProperty:valueProperty6,Validate:Validate35}=import_ag_charts_community80._ModuleSupport,{ColorScale:ColorScale2,LinearScale:LinearScale3}=import_ag_charts_community80._Scale,{Selection:Selection4,Text:Text6}=import_ag_charts_community80._Scene,{sanitizeHtml:sanitizeHtml4,Logger:Logger8}=import_ag_charts_community80._Util,MapLineSeries=class extends DataModelSeries2{constructor(t){super({moduleCtx:t,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[SeriesNodePickMode5.EXACT_SHAPE_MATCH,SeriesNodePickMode5.NEAREST_NODE]}),this.properties=new MapLineSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale2,this.sizeScale=new LinearScale3,this.datumSelection=Selection4.select(this.contentGroup,()=>this.nodeFactory()),this.labelSelection=Selection4.select(this.labelGroup,Text6),this.highlightDatumSelection=Selection4.select(this.highlightNode,()=>this.nodeFactory()),this._previousDatumMidPoint=void 0}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>{this.onLegendItemClick(t)}),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>{this.onLegendItemDoubleClick(t)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const t=new GeoGeometry;return t.renderMode=2,t.lineJoin="round",t.lineCap="round",t}processData(t){return __async(this,null,function*(){var e,i;if(this.data==null||!this.properties.isValid())return;const{data:o,topology:s,sizeScale:a,colorScale:n}=this,{topologyIdKey:r,idKey:l,sizeKey:c,colorKey:u,labelKey:h,sizeDomain:d,colorRange:p}=this.properties,y=new Map;s?.features.forEach(x=>{var _;const D=(_=x.properties)==null?void 0:_[r];D==null||!containsType(x.geometry,2)||y.set(D,x)});const g=this.sizeScale.type,f=this.colorScale.type,m=(e=this.scale)==null?void 0:e.type,{dataModel:S,processedData:v}=yield this.requestDataModel(t,o,{props:[valueProperty6(l,m,{id:"idValue",includeProperty:!1}),valueProperty6(l,m,{id:"featureValue",includeProperty:!1,processor:()=>x=>y.get(x)}),...h!=null?[valueProperty6(h,"band",{id:"labelValue"})]:[],...c!=null?[valueProperty6(c,g,{id:"sizeValue"})]:[],...u!=null?[valueProperty6(u,f,{id:"colorValue"})]:[]]}),M=S.resolveProcessedDataIndexById(this,"featureValue");if(this.topologyBounds=v.data.reduce((x,{values:_})=>{const D=_[M],I=D?.geometry;return I==null?x:geometryBbox(I,x)},void 0),c!=null){const x=S.resolveProcessedDataIndexById(this,"sizeValue"),_=(i=v.domain.values[x])!=null?i:[];a.domain=d??_}if(p!=null&&this.isColorScaleValid()){const x=S.resolveProcessedDataIndexById(this,"colorValue");n.domain=v.domain.values[x],n.range=p,n.update()}s==null&&Logger8.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const o=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.data.length,a=getMissCount2(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelDatum(t,e,i,o){if(e==null||i==null)return;const s=largestLineString(i);if(s==null)return;const{idKey:a,idName:n,sizeKey:r,sizeName:l,colorKey:c,colorName:u,labelKey:h,labelName:d,label:p}=this.properties,y=this.getLabelText(p,{value:e,datum:t,idKey:a,idName:n,sizeKey:r,sizeName:l,colorKey:c,colorName:u,labelKey:h,labelName:d});if(y==null)return;const g=Text6.getTextSize(String(y),o),f=lineStringCenter(s);if(f==null)return;const[m,S]=f.point,{width:v,height:M}=g;return{point:{x:m,y:S,size:0},label:{width:v,height:M,text:y},marker:void 0,placement:void 0}}createNodeData(){return __async(this,null,function*(){var t;const{id:e,dataModel:i,processedData:o,sizeScale:s,colorScale:a,properties:n,scale:r}=this,{idKey:l,sizeKey:c,colorKey:u,labelKey:h,label:d}=n;if(i==null||o==null)return;const p=this.isColorScaleValid(),y=i.resolveProcessedDataIndexById(this,"idValue"),g=i.resolveProcessedDataIndexById(this,"featureValue"),f=h!=null?i.resolveProcessedDataIndexById(this,"labelValue"):void 0,m=c!=null?i.resolveProcessedDataIndexById(this,"sizeValue"):void 0,S=u!=null?i.resolveProcessedDataIndexById(this,"colorValue"):void 0,v=(t=n.maxStrokeWidth)!=null?t:n.strokeWidth;s.range=[Math.min(n.strokeWidth,v),v];const M=d.getFont(),x=new Map;o.data.forEach(({values:N})=>{var b;const A=N[y],E=(b=N[g])==null?void 0:b.geometry,L=E!=null&&r!=null?projectGeometry(E,r):void 0;A!=null&&L!=null&&x.set(A,L)});const _=[],D=[],I=[];o.data.forEach(({datum:N,values:b})=>{const A=b[y],E=S!=null?b[S]:void 0,L=m!=null?b[m]:void 0,k=f!=null?b[f]:void 0,O=p&&E!=null?a.convert(E):void 0,C=L!=null?s.convert(L,{clampMode:"clamped"}):void 0,R=x.get(A);R==null&&I.push(A);const P=this.getLabelDatum(N,k,R,M);P!=null&&D.push(P),_.push({series:this,itemId:l,datum:N,stroke:O,strokeWidth:C,idValue:A,labelValue:k,colorValue:E,sizeValue:L,projectedGeometry:R})});const T=10;if(I.length>T){const N=I.length-T;I.length=T,I.push(`(+${N} more)`)}return I.length>0&&Logger8.warnOnce("some data items do not have matches in the provided topology",I),{itemId:e,nodeData:_,labelData:D}})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return __async(this,null,function*(){var t,e,i;const{datumSelection:o,labelSelection:s,highlightDatumSelection:a}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight();n!=null&&(n.series!==this||n.datum==null)&&(n=void 0);const r=(i=(e=this.contextNodeData)==null?void 0:e.nodeData)!=null?i:[];this.datumSelection=yield this.updateDatumSelection({nodeData:r,datumSelection:o}),yield this.updateDatumNodes({datumSelection:o,isHighlight:!1}),this.labelSelection=yield this.updateLabelSelection({labelSelection:s}),yield this.updateLabelNodes({labelSelection:s}),this.highlightDatumSelection=yield this.updateDatumSelection({nodeData:n!=null?[n]:[],datumSelection:a}),yield this.updateDatumNodes({datumSelection:a,isHighlight:!0})})}updateDatumSelection(t){return __async(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>createDatumId3(e.idValue))})}updateDatumNodes(t){return __async(this,null,function*(){const{id:e,properties:i,ctx:{callbackCache:o}}=this,{datumSelection:s,isHighlight:a}=t,{idKey:n,labelKey:r,sizeKey:l,colorKey:c,stroke:u,strokeOpacity:h,lineDash:d,lineDashOffset:p,formatter:y}=i,g=a?i.highlightStyle.item:void 0,f=this.getStrokeWidth(i.strokeWidth);s.each((m,S)=>{var v,M,x,_,D,I,T,N,b,A,E,L;const{projectedGeometry:k}=S;if(k==null){m.visible=!1,m.projectedGeometry=void 0;return}let O;if(y!=null){const C={seriesId:e,datum:S.datum,itemId:S.itemId,idKey:n,labelKey:r,sizeKey:l,colorKey:c,strokeOpacity:h,stroke:u,strokeWidth:f,lineDash:d,lineDashOffset:p,highlighted:a};O=o.call(y,C)}m.visible=!0,m.projectedGeometry=k,m.stroke=(x=(M=(v=g?.stroke)!=null?v:O?.stroke)!=null?M:S.stroke)!=null?x:u,m.strokeWidth=Math.max((_=g?.strokeWidth)!=null?_:0,(I=(D=O?.strokeWidth)!=null?D:S.strokeWidth)!=null?I:f),m.strokeOpacity=(N=(T=g?.strokeOpacity)!=null?T:O?.strokeOpacity)!=null?N:h,m.lineDash=(A=(b=g?.lineDash)!=null?b:O?.lineDash)!=null?A:d,m.lineDashOffset=(L=(E=g?.lineDashOffset)!=null?E:O?.lineDashOffset)!=null?L:p})})}updateLabelSelection(t){return __async(this,null,function*(){var e,i;const o=(i=this.isLabelEnabled()?(e=this.chart)==null?void 0:e.placeLabels().get(this):void 0)!=null?i:[];return t.labelSelection.update(o)})}updateLabelNodes(t){return __async(this,null,function*(){const{labelSelection:e}=t,{color:i,fontStyle:o,fontWeight:s,fontSize:a,fontFamily:n}=this.properties.label;e.each((r,{x:l,y:c,width:u,height:h,text:d})=>{r.visible=!0,r.x=l+u/2,r.y=c+h/2,r.text=d,r.fill=i,r.fontStyle=o,r.fontWeight=s,r.fontSize=a,r.fontFamily=n,r.textAlign="center",r.textBaseline="middle"})})}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:o,series:s}=t,a=e!=null&&e===t.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,{legendItemName:a}=this.properties,n=a!=null&&a===t.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):e&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){var t,e;return(e=(t=this.contextNodeData)==null?void 0:t.labelData)!=null?e:[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum({x:t,y:e}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const n=s.distanceToPoint(t,e);n<i&&(i=n,o=a)}),o!=null?{datum:o,distance:i}:void 0}datumMidPoint(t){var e;const{_previousDatumMidPoint:i}=this;if(i?.datum===t)return i.point;const o=t.projectedGeometry,s=o!=null?largestLineString(o):void 0,a=s!=null?(e=lineStringCenter(s))==null?void 0:e.point:void 0,n=a!=null?{x:a[0],y:a[1]}:void 0;return this._previousDatumMidPoint={datum:t,point:n},n}getLegendData(t){var e,i,o,s;const{processedData:a,dataModel:n}=this;if(a==null||n==null)return[];const{title:r,legendItemName:l,idKey:c,idName:u,colorKey:h,colorName:d,colorRange:p,stroke:y,strokeWidth:g,strokeOpacity:f,lineDash:m,visible:S}=this.properties;if(t==="gradient"&&h!=null&&p!=null){const v=a.domain.values[n.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:S,seriesId:this.id,colorName:d,colorRange:p,colorDomain:v}]}else return t==="category"?[{legendType:"category",id:this.id,itemId:(i=(e=l??r)!=null?e:u)!=null?i:c,seriesId:this.id,enabled:S,label:{text:(s=(o=l??r)!=null?o:u)!=null?s:c},marker:{fill:y,fillOpacity:f,stroke:void 0,strokeWidth:0,strokeOpacity:0,enabled:!1},line:{stroke:y,strokeOpacity:f,strokeWidth:g,lineDash:m},legendItemName:l}]:[]}getTooltipHtml(t){var e,i,o,s,a;const{id:n,processedData:r,properties:l,ctx:{callbackCache:c}}=this;if(!r||!l.isValid())return import_ag_charts_community80._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const{legendItemName:u,idKey:h,idName:d,colorKey:p,colorName:y,sizeKey:g,sizeName:f,labelKey:m,labelName:S,formatter:v,tooltip:M}=l,{datum:x,stroke:_,idValue:D,colorValue:I,sizeValue:T,labelValue:N,itemId:b}=t,A=(i=sanitizeHtml4((e=l.title)!=null?e:u))!=null?i:"",E=[];E.push(sanitizeHtml4((d!=null?`${d}: `:"")+D)),I!=null&&E.push(sanitizeHtml4((y??p)+": "+I)),T!=null&&E.push(sanitizeHtml4((f??g)+": "+T)),N!=null&&m!==h&&E.push(sanitizeHtml4((S??m)+": "+N));const L=E.join("<br>");let k;v&&(k=c.call(v,{seriesId:n,datum:x,idKey:h,stroke:_,strokeWidth:this.getStrokeWidth((o=t.strokeWidth)!=null?o:l.strokeWidth),highlighted:!1}));const O=(a=(s=k?.stroke)!=null?s:_)!=null?a:l.stroke;return M.toTooltipHtml({title:A,content:L,backgroundColor:O},__spreadValues({seriesId:n,datum:x,idKey:h,title:A,color:O,itemId:b,sizeKey:g,colorKey:p,colorName:y,idName:d,labelKey:m,labelName:S,sizeName:f},this.getModuleTooltipParams()))}computeFocusBounds(t){return computeGeoFocusBounds(this,t)}};MapLineSeries.className="MapLineSeries",MapLineSeries.type="map-line",__decorateClass([Validate35(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapLineSeries.prototype,"_chartTopology",2);var{DEFAULT_DIVERGING_SERIES_COLOUR_RANGE,EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS2,DEFAULT_FONT_FAMILY,DEFAULT_LABEL_COLOUR,singleSeriesPaletteFactory}=import_ag_charts_community81._Theme,MapLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",instanceConstructor:MapLineSeries,themeTemplate:__spreadProps(__spreadValues({},MAP_THEME_DEFAULTS),{series:{__extends__:EXTENDS_SERIES_DEFAULTS2,strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:DEFAULT_FONT_FAMILY,color:DEFAULT_LABEL_COLOUR}}}),paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:o,themeTemplateParameters:s}=t,{fill:a}=singleSeriesPaletteFactory(t),{properties:n}=s,r=n.get(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),{fills:l}=e(i);return{colorRange:o?[l[0],l[1]]:r,stroke:a}}},import_ag_charts_community84=require("ag-charts-community"),import_ag_charts_community83=require("ag-charts-community");function polygonPointSearch(t,e,i){const o=polygonBbox(t[0],void 0);if(o==null)return;const s=(o.lon0+o.lon1)/2,a=(o.lat0+o.lat1)/2,n=Math.abs(o.lon1-o.lon0),r=Math.abs(o.lat1-o.lat0),l=polygonCentroid(t[0]),[c,u]=l,h=-polygonDistance(t,c,u);let d;const p=(x,_)=>{const I=Math.max(_-h,0);return x-.5*I},y=(x,_,D)=>{const{distance:I,maxDistance:T}=i(t,x,_,D),N=Math.hypot(c-x,u-_),b=Math.min(Math.max(c,x-D/2),x+D/2),A=Math.min(Math.max(u,_-D/2),_+D/2),E=Math.hypot(c-b,u-A),L=p(I,N),k=p(T,E);return{distance:I,maxDistance:T,value:L,maxValue:k,x,y:_,stride:D}},g=(x,_,D,I)=>{const T=y(_,D,I);T.maxDistance>=0&&x.push(T)},f=Math.min(n,r)/2;let m={value:y(s,a,f),next:null};for(;m!=null;){const x=m.value,{distance:_,value:D,maxValue:I,x:T,y:N,stride:b}=x;if(m=m.next,_>0&&(d==null||D>d.value)&&(d=x),d!=null&&I-d.value<=e)continue;const A=b/2,E=[];g(E,T-A,N-A,A),g(E,T+A,N-A,A),g(E,T-A,N+A,A),g(E,T+A,N+A,A),E.sort(labelPlacementCmp),m=insertManySorted(m,E,labelPlacementCmp)}if(d==null)return;const{distance:S,x:v,y:M}=d;return{x:v,y:M,distance:S}}var labelPlacementCmp=(t,e)=>e.maxValue-t.maxValue;function polygonMarkerCenter(t,e){const i=polygonPointSearch(t,e,(a,n,r,l)=>{const c=-polygonDistance(a,n,r),u=c+l*Math.SQRT2;return{distance:c,maxDistance:u}});if(i==null)return;const{x:o,y:s}=i;return[o,s]}function markerPositions(t,e){var i,o;let s;switch(t.type){case"GeometryCollection":return t.geometries.flatMap(a=>markerPositions(a,e));case"MultiPoint":return t.coordinates;case"Point":return[t.coordinates];case"MultiPolygon":{const a=largestPolygon(t);s=a!=null?polygonMarkerCenter(a,e):void 0;break}case"Polygon":{const a=t.coordinates;s=a!=null?polygonMarkerCenter(a,e):void 0;break}case"MultiLineString":{const a=largestLineString(t);s=a!=null?(i=lineStringCenter(a))==null?void 0:i.point:void 0;break}case"LineString":{const a=t.coordinates;s=(o=lineStringCenter(a))==null?void 0:o.point;break}}return s!=null?[s]:[]}var import_ag_charts_community82=require("ag-charts-community"),{AND:AND9,ARRAY:ARRAY6,COLOR_STRING:COLOR_STRING12,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY3,FUNCTION:FUNCTION8,NUMBER_ARRAY:NUMBER_ARRAY2,OBJECT:OBJECT11,POSITIVE_NUMBER:POSITIVE_NUMBER16,RATIO:RATIO17,STRING:STRING12,MARKER_SHAPE,Validate:Validate36,SeriesProperties:SeriesProperties3,SeriesTooltip:SeriesTooltip7}=import_ag_charts_community82._ModuleSupport,{Label:Label3,Circle}=import_ag_charts_community82._Scene,{Logger:Logger9}=import_ag_charts_community82._Util,MapMarkerSeriesLabel=class extends Label3{constructor(){super(...arguments),this.placement="bottom"}};__decorateClass([Validate36(STRING12)],MapMarkerSeriesLabel.prototype,"placement",2);var MapMarkerSeriesProperties=class extends SeriesProperties3{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape=Circle,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.label=new MapMarkerSeriesLabel,this.tooltip=new SeriesTooltip7}isValid(){const t=super.isValid(),e=this.idKey!=null,i=this.latitudeKey!=null&&this.longitudeKey!=null;return!e&&!i?(Logger9.warnOnce("Either both [topology] and [idKey] or both [latitudeKey] and [longitudeKey] must be set to render a map marker series."),!1):t}};__decorateClass([Validate36(GEOJSON_OBJECT,{optional:!0})],MapMarkerSeriesProperties.prototype,"topology",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"title",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"legendItemName",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"idKey",2),__decorateClass([Validate36(STRING12)],MapMarkerSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"idName",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"latitudeKey",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"latitudeName",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"longitudeKey",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"longitudeName",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"labelName",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeKey",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeName",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"colorKey",2),__decorateClass([Validate36(STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"colorName",2),__decorateClass([Validate36(AND9(COLOR_STRING_ARRAY3,ARRAY6.restrict({minLength:1})),{optional:!0})],MapMarkerSeriesProperties.prototype,"colorRange",2),__decorateClass([Validate36(MARKER_SHAPE)],MapMarkerSeriesProperties.prototype,"shape",2),__decorateClass([Validate36(POSITIVE_NUMBER16)],MapMarkerSeriesProperties.prototype,"size",2),__decorateClass([Validate36(POSITIVE_NUMBER16,{optional:!0})],MapMarkerSeriesProperties.prototype,"maxSize",2),__decorateClass([Validate36(NUMBER_ARRAY2,{optional:!0})],MapMarkerSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Validate36(COLOR_STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"fill",2),__decorateClass([Validate36(RATIO17)],MapMarkerSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate36(COLOR_STRING12,{optional:!0})],MapMarkerSeriesProperties.prototype,"stroke",2),__decorateClass([Validate36(POSITIVE_NUMBER16)],MapMarkerSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate36(RATIO17)],MapMarkerSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate36(FUNCTION8,{optional:!0})],MapMarkerSeriesProperties.prototype,"formatter",2),__decorateClass([Validate36(OBJECT11)],MapMarkerSeriesProperties.prototype,"label",2),__decorateClass([Validate36(OBJECT11)],MapMarkerSeriesProperties.prototype,"tooltip",2);var{Validate:Validate37,fromToMotion:fromToMotion2,StateMachine,getMissCount:getMissCount3,createDatumId:createDatumId4,DataModelSeries:DataModelSeries3,SeriesNodePickMode:SeriesNodePickMode6,Layers:Layers6,valueProperty:valueProperty7,computeMarkerFocusBounds}=import_ag_charts_community83._ModuleSupport,{ColorScale:ColorScale3,LinearScale:LinearScale4}=import_ag_charts_community83._Scale,{Group:Group8,Selection:Selection5,Text:Text7,getMarker}=import_ag_charts_community83._Scene,{sanitizeHtml:sanitizeHtml5,Logger:Logger10}=import_ag_charts_community83._Util,MapMarkerSeries=class extends DataModelSeries3{constructor(t){super({moduleCtx:t,contentGroupVirtual:!0,useLabelLayer:!0,pickModes:[SeriesNodePickMode6.EXACT_SHAPE_MATCH,SeriesNodePickMode6.NEAREST_NODE]}),this.properties=new MapMarkerSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale3,this.sizeScale=new LinearScale4,this.markerGroup=this.contentGroup.appendChild(new Group8({name:"markerGroup",layer:!0,isVirtual:!1,zIndex:Layers6.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelSelection=Selection5.select(this.labelGroup,Text7,!1),this.markerSelection=Selection5.select(this.markerGroup,()=>this.markerFactory(),!1),this.highlightMarkerSelection=Selection5.select(this.highlightNode,()=>this.markerFactory()),this.animationState=new StateMachine("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}get hasData(){const t=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||t)}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>{this.onLegendItemClick(t)}),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>{this.onLegendItemDoubleClick(t)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}markerFactory(){const{shape:t}=this.properties,e=getMarker(t);return new e}processData(t){return __async(this,null,function*(){var e,i;if(this.data==null||!this.properties.isValid())return;const{data:o,topology:s,sizeScale:a,colorScale:n}=this,{topologyIdKey:r,idKey:l,latitudeKey:c,longitudeKey:u,sizeKey:h,colorKey:d,labelKey:p,sizeDomain:y,colorRange:g}=this.properties,f=new Map;s?.features.forEach(N=>{var b;const A=(b=N.properties)==null?void 0:b[r];A!=null&&f.set(A,N)});const m=this.sizeScale.type,S=this.colorScale.type,v=(e=this.scale)==null?void 0:e.type,M=c!=null&&u!=null,{dataModel:x,processedData:_}=yield this.requestDataModel(t,o,{props:[...l!=null?[valueProperty7(l,v,{id:"idValue",includeProperty:!1}),valueProperty7(l,v,{id:"featureValue",includeProperty:!1,processor:()=>N=>f.get(N)})]:[],...M?[valueProperty7(c,v,{id:"latValue"}),valueProperty7(u,v,{id:"lonValue"})]:[],...p?[valueProperty7(p,"band",{id:"labelValue"})]:[],...h?[valueProperty7(h,m,{id:"sizeValue"})]:[],...d?[valueProperty7(d,S,{id:"colorValue"})]:[]]}),D=l!=null?x.resolveProcessedDataIndexById(this,"featureValue"):void 0,I=M?x.resolveProcessedDataIndexById(this,"latValue"):void 0,T=M?x.resolveProcessedDataIndexById(this,"lonValue"):void 0;if(this.topologyBounds=_.data.reduce((N,{values:b})=>{const A=D!=null?b[D]:void 0,E=A?.geometry;if(E!=null&&(N=geometryBbox(E,N)),I!=null&&T!=null){const L=b[T],k=b[I];N=extendBbox(N,L,k,L,k)}return N},void 0),h!=null){const N=x.resolveProcessedDataIndexById(this,"sizeValue"),b=(i=_.domain.values[N])!=null?i:[];a.domain=y??b}if(g!=null&&this.isColorScaleValid()){const N=x.resolveProcessedDataIndexById(this,"colorValue");n.domain=_.domain.values[N],n.range=g,n.update()}this.animationState.transition("updateData")})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const o=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.data.length,a=getMissCount3(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelDatum(t,e,i,o,s,a){if(e==null)return;const{idKey:n,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:u,longitudeName:h,sizeKey:d,sizeName:p,colorKey:y,colorName:g,labelKey:f,labelName:m,label:S}=this.properties,{placement:v}=S,M=this.getLabelText(S,{value:e,datum:t,idKey:n,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:u,longitudeName:h,sizeKey:d,sizeName:p,colorKey:y,colorName:g,labelKey:f,labelName:m});if(M==null)return;const{width:x,height:_}=Text7.getTextSize(String(M),a);return{point:{x:i,y:o,size:s},label:{width:x,height:_,text:M},marker:getMarker(this.properties.shape),placement:v}}createNodeData(){return __async(this,null,function*(){var t;const{id:e,dataModel:i,processedData:o,colorScale:s,sizeScale:a,properties:n,scale:r}=this,{idKey:l,latitudeKey:c,longitudeKey:u,sizeKey:h,colorKey:d,labelKey:p,label:y}=n;if(i==null||o==null||r==null)return;const g=this.isColorScaleValid(),f=c!=null&&u!=null,m=l!=null?i.resolveProcessedDataIndexById(this,"idValue"):void 0,S=l!=null?i.resolveProcessedDataIndexById(this,"featureValue"):void 0,v=f?i.resolveProcessedDataIndexById(this,"latValue"):void 0,M=f?i.resolveProcessedDataIndexById(this,"lonValue"):void 0,x=p!=null?i.resolveProcessedDataIndexById(this,"labelValue"):void 0,_=h!=null?i.resolveProcessedDataIndexById(this,"sizeValue"):void 0,D=d!=null?i.resolveProcessedDataIndexById(this,"colorValue"):void 0,I=(t=n.maxSize)!=null?t:n.size;a.range=[Math.min(n.size,I),I];const T=y.getFont();let N;m!=null&&S!=null&&(N=new Map,o.data.forEach(({values:k})=>{var O;const C=k[m],R=(O=k[S])==null?void 0:O.geometry,P=R!=null&&r!=null?projectGeometry(R,r):void 0;C!=null&&P!=null&&N.set(C,P)}));const b=[],A=[],E=[];o.data.forEach(({datum:k,values:O})=>{const C=m!=null?O[m]:void 0,R=M!=null?O[M]:void 0,P=v!=null?O[v]:void 0,w=D!=null?O[D]:void 0,B=_!=null?O[_]:void 0,z=x!=null?O[x]:void 0,V=g&&w!=null?s.convert(w):void 0,G=B!=null?a.convert(B,{clampMode:"clamped"}):n.size,F=C!=null?N?.get(C):void 0;if(C!=null&&projectGeometry==null&&E.push(C),R!=null&&P!=null){const[H,U]=r.convert([R,P]),q=this.getLabelDatum(k,z,H,U,G,T);q&&A.push(q),b.push({series:this,itemId:c,datum:k,index:-1,fill:V,idValue:C,lonValue:R,latValue:P,labelValue:z,sizeValue:B,colorValue:w,point:{x:H,y:U,size:G},midPoint:{x:H,y:U}})}else F!=null&&markerPositions(F,1).forEach(([H,U],q)=>{const K=this.getLabelDatum(k,z,H,U,G,T);K&&A.push(K),b.push({series:this,itemId:c,datum:k,index:q,fill:V,idValue:C,lonValue:R,latValue:P,labelValue:z,sizeValue:B,colorValue:w,point:{x:H,y:U,size:G},midPoint:{x:H,y:U}})})});const L=10;if(E.length>L){const k=E.length-L;E.length=L,E.push(`(+${k} more)`)}return E.length>0&&Logger10.warnOnce("some data items do not have matches in the provided topology",E),{itemId:e,nodeData:b,labelData:A}})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(t){return __async(this,arguments,function*({seriesRect:e}){var i,o,s;const{labelSelection:a,markerSelection:n,highlightMarkerSelection:r}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let l=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();l!=null&&(l.series!==this||l.datum==null)&&(l=void 0);const c=(s=(o=this.contextNodeData)==null?void 0:o.nodeData)!=null?s:[];this.labelSelection=yield this.updateLabelSelection({labelSelection:a}),yield this.updateLabelNodes({labelSelection:a}),this.markerSelection=yield this.updateMarkerSelection({markerData:c,markerSelection:n}),yield this.updateMarkerNodes({markerSelection:n,isHighlight:!1,highlightedDatum:l}),this.highlightMarkerSelection=yield this.updateMarkerSelection({markerData:l!=null?[l]:[],markerSelection:r}),yield this.updateMarkerNodes({markerSelection:r,isHighlight:!0,highlightedDatum:l}),this.checkResize(e)&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateLabelSelection(t){return __async(this,null,function*(){var e,i;const o=(i=this.isLabelEnabled()?(e=this.chart)==null?void 0:e.placeLabels().get(this):void 0)!=null?i:[];return t.labelSelection.update(o)})}updateLabelNodes(t){return __async(this,null,function*(){const{labelSelection:e}=t,{color:i,fontStyle:o,fontWeight:s,fontSize:a,fontFamily:n}=this.properties.label;e.each((r,{x:l,y:c,width:u,height:h,text:d})=>{r.visible=!0,r.x=l+u/2,r.y=c+h/2,r.text=d,r.fill=i,r.fontStyle=o,r.fontWeight=s,r.fontSize=a,r.fontFamily=n,r.textAlign="center",r.textBaseline="middle"})})}updateMarkerSelection(t){return __async(this,null,function*(){const{markerData:e,markerSelection:i}=t;return i.update(e,void 0,o=>createDatumId4([o.index,o.idValue,o.lonValue,o.latValue]))})}updateMarkerNodes(t){return __async(this,null,function*(){const{id:e,properties:i,ctx:{callbackCache:o}}=this,{markerSelection:s,isHighlight:a,highlightedDatum:n}=t,{idKey:r,latitudeKey:l,longitudeKey:c,labelKey:u,sizeKey:h,colorKey:d,fill:p,fillOpacity:y,stroke:g,strokeOpacity:f,formatter:m}=i,S=a?i.highlightStyle.item:void 0,v=this.getStrokeWidth(i.strokeWidth);s.each((M,x)=>{var _,D,I,T,N,b,A,E,L,k,O;const{datum:C,point:R}=x;let P;if(m!=null){const w={seriesId:e,datum:x.datum,itemId:x.itemId,size:R.size,idKey:r,latitudeKey:l,longitudeKey:c,labelKey:u,sizeKey:h,colorKey:d,fill:p,fillOpacity:y,stroke:g,strokeWidth:v,strokeOpacity:f,highlighted:a};P=o.call(m,w)}M.size=R.size,M.fill=(I=(D=(_=S?.fill)!=null?_:P?.fill)!=null?D:x.fill)!=null?I:p,M.fillOpacity=(N=(T=S?.fillOpacity)!=null?T:P?.fillOpacity)!=null?N:y,M.stroke=(A=(b=S?.stroke)!=null?b:P?.stroke)!=null?A:g,M.strokeWidth=(L=(E=S?.strokeWidth)!=null?E:P?.strokeWidth)!=null?L:v,M.strokeOpacity=(O=(k=S?.strokeOpacity)!=null?k:P?.strokeOpacity)!=null?O:f,M.translationX=R.x,M.translationY=R.y,M.zIndex=!a&&n!=null&&C===n.datum?1:0})})}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:o,series:s}=t,a=e!=null&&e===t.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,{legendItemName:a}=this.properties,n=a!=null&&a===t.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):e&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isProcessedDataAnimatable(){return!0}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:t}=this.ctx,e=prepareMapMarkerAnimationFunctions();fromToMotion2(this.id,"markers",t,[this.markerSelection,this.highlightMarkerSelection],e)}getLabelData(){var t,e;return(e=(t=this.contextNodeData)==null?void 0:t.labelData)!=null?e:[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum(t){var e;const{x:i,y:o}=this.rootGroup.transformPoint(t.x,t.y);let s=1/0,a;return(e=this.contextNodeData)==null||e.nodeData.forEach(n=>{const{x:r,y:l,size:c}=n.point,u=Math.max(Math.abs(r-i)-c,0),h=Math.max(Math.abs(l-o)-c,0),d=u*u+h*h;d<s&&(s=d,a=n)}),a!=null?{datum:a,distance:Math.sqrt(s)}:void 0}getLegendData(t){var e,i,o,s,a,n;const{processedData:r,dataModel:l}=this;if(r==null||l==null)return[];const{title:c,legendItemName:u,idName:h,idKey:d,colorKey:p,colorName:y,colorRange:g,visible:f,shape:m,fill:S,stroke:v,fillOpacity:M,strokeOpacity:x,strokeWidth:_}=this.properties;if(t==="gradient"&&p!=null&&g!=null){const D=r.domain.values[l.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:f,seriesId:this.id,colorName:y,colorRange:g,colorDomain:D}]}else return t==="category"?[{legendType:"category",id:this.id,itemId:(o=(i=(e=u??c)!=null?e:h)!=null?i:d)!=null?o:this.id,seriesId:this.id,enabled:f,label:{text:(n=(a=(s=u??c)!=null?s:h)!=null?a:d)!=null?n:this.id},marker:{shape:m,fill:S,fillOpacity:M,stroke:v,strokeWidth:_,strokeOpacity:x},legendItemName:u}]:[]}getTooltipHtml(t){var e,i,o,s;const{id:a,processedData:n,ctx:{callbackCache:r},properties:l}=this;if(!n||!this.properties.isValid())return import_ag_charts_community83._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const{legendItemName:c,idKey:u,idName:h,latitudeKey:d,longitudeKey:p,sizeKey:y,sizeName:g,colorKey:f,colorName:m,labelKey:S,labelName:v,formatter:M,tooltip:x,latitudeName:_,longitudeName:D}=l,{datum:I,fill:T,idValue:N,latValue:b,lonValue:A,sizeValue:E,colorValue:L,labelValue:k,itemId:O}=t,C=(i=sanitizeHtml5((e=l.title)!=null?e:c))!=null?i:"",R=[];N!=null&&R.push(sanitizeHtml5((h!=null?`${h}: `:"")+N)),L!=null&&R.push(sanitizeHtml5((m??f)+": "+L)),E!=null&&R.push(sanitizeHtml5((g??y)+": "+E)),k!=null&&(u==null||u!==S)&&R.push(sanitizeHtml5((v??S)+": "+k)),b!=null&&A!=null&&R.push(sanitizeHtml5(`${Math.abs(b).toFixed(4)}\xB0 ${b>=0?"N":"S"}, ${Math.abs(A).toFixed(4)}\xB0 ${b>=0?"W":"E"}`));const P=R.join("<br>");let w;M&&(w=r.call(M,{seriesId:a,datum:I,latitudeKey:d,longitudeKey:p,fill:T,highlighted:!1}));const B=(s=(o=w?.fill)!=null?o:T)!=null?s:l.fill;return x.toTooltipHtml({title:C,content:P,backgroundColor:B},__spreadValues({seriesId:a,datum:I,idKey:u,latitudeKey:d,longitudeKey:p,title:C,color:B,colorKey:f,colorName:m,idName:h,itemId:O,labelKey:S,labelName:v,latitudeName:_,longitudeName:D,sizeKey:y,sizeName:g},this.getModuleTooltipParams()))}getFormattedMarkerStyle(t){const{id:e,properties:i,ctx:{callbackCache:o}}=this,{datum:s,point:a}=t,{idKey:n,latitudeKey:r,longitudeKey:l,labelKey:c,sizeKey:u,colorKey:h,fill:d,fillOpacity:p,stroke:y,strokeOpacity:g,formatter:f}=i,m=this.getStrokeWidth(i.strokeWidth),S={seriesId:e,datum:s.datum,itemId:s.itemId,size:a.size,idKey:n,latitudeKey:r,longitudeKey:l,labelKey:c,sizeKey:u,colorKey:h,fill:d,fillOpacity:p,stroke:y,strokeWidth:m,strokeOpacity:g,highlighted:!0};if(f!==void 0){const v=o.call(f,S);if(v?.size!==void 0)return{size:v.size}}return{size:t.point.size}}computeFocusBounds(t){return computeMarkerFocusBounds(this,t)}};MapMarkerSeries.className="MapMarkerSeries",MapMarkerSeries.type="map-marker",__decorateClass([Validate37(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapMarkerSeries.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS3,DEFAULT_LABEL_COLOUR:DEFAULT_LABEL_COLOUR2,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:DEFAULT_DIVERGING_SERIES_COLOUR_RANGE2,singleSeriesPaletteFactory:singleSeriesPaletteFactory2}=import_ag_charts_community84._Theme,MapMarkerModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",instanceConstructor:MapMarkerSeries,themeTemplate:__spreadProps(__spreadValues({},MAP_THEME_DEFAULTS),{series:{__extends__:EXTENDS_SERIES_DEFAULTS3,maxSize:30,fillOpacity:.5,label:{color:DEFAULT_LABEL_COLOUR2}}}),paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:o,themeTemplateParameters:s}=t,{fill:a,stroke:n}=singleSeriesPaletteFactory2(t),{properties:r}=s,l=r.get(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE2),{fills:c}=e(i);return{fill:a,stroke:n,colorRange:o?[c[0],c[1]]:l}}},import_ag_charts_community87=require("ag-charts-community"),import_ag_charts_community86=require("ag-charts-community"),import_ag_charts_community85=require("ag-charts-community"),{COLOR_STRING:COLOR_STRING13,LINE_DASH:LINE_DASH10,OBJECT:OBJECT12,POSITIVE_NUMBER:POSITIVE_NUMBER17,RATIO:RATIO18,Validate:Validate38,SeriesProperties:SeriesProperties4,SeriesTooltip:SeriesTooltip8}=import_ag_charts_community85._ModuleSupport,MapShapeBackgroundSeriesProperties=class extends SeriesProperties4{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new SeriesTooltip8}};__decorateClass([Validate38(GEOJSON_OBJECT,{optional:!0})],MapShapeBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Validate38(COLOR_STRING13)],MapShapeBackgroundSeriesProperties.prototype,"fill",2),__decorateClass([Validate38(RATIO18)],MapShapeBackgroundSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate38(COLOR_STRING13)],MapShapeBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Validate38(RATIO18)],MapShapeBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate38(POSITIVE_NUMBER17)],MapShapeBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate38(LINE_DASH10)],MapShapeBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate38(POSITIVE_NUMBER17)],MapShapeBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate38(OBJECT12)],MapShapeBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId5,Series,SeriesNodePickMode:SeriesNodePickMode7,Validate:Validate39}=import_ag_charts_community86._ModuleSupport,{Selection:Selection6,Group:Group9,PointerEvents:PointerEvents3}=import_ag_charts_community86._Scene,{Logger:Logger11}=import_ag_charts_community86._Util,MapShapeBackgroundSeries=class extends Series{constructor(t){super({moduleCtx:t,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[SeriesNodePickMode7.EXACT_SHAPE_MATCH]}),this.properties=new MapShapeBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group9({name:"itemGroup"})),this.datumSelection=Selection6.select(this.itemGroup,()=>this.nodeFactory())}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}nodeFactory(){const t=new GeoGeometry;return t.renderMode=1,t.lineJoin="round",t.pointerEvents=PointerEvents3.None,t}processData(){return __async(this,null,function*(){const{topology:t}=this;this.topologyBounds=t?.features.reduce((e,i)=>{const o=i.geometry;return o==null?e:geometryBbox(o,e)},void 0),t==null&&Logger11.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")})}createNodeData(){return __async(this,null,function*(){const{id:t,topology:e,scale:i}=this;if(e==null)return;const o=[],s=[];return e.features.forEach((a,n)=>{const{geometry:r}=a,l=r!=null&&i!=null?projectGeometry(r,i):void 0;l!=null&&o.push({series:this,itemId:n,datum:a,index:n,projectedGeometry:l})}),{itemId:t,nodeData:o,labelData:s}})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return __async(this,null,function*(){var t;const{datumSelection:e}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:i=[]}=(t=this.contextNodeData)!=null?t:{};this.datumSelection=yield this.updateDatumSelection({nodeData:i,datumSelection:e}),yield this.updateDatumNodes({datumSelection:e})})}updateDatumSelection(t){return __async(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>createDatumId5(e.index))})}updateDatumNodes(t){return __async(this,null,function*(){const{properties:e}=this,{datumSelection:i}=t,{fill:o,fillOpacity:s,stroke:a,strokeOpacity:n,lineDash:r,lineDashOffset:l}=e,c=this.getStrokeWidth(e.strokeWidth);i.each((u,h)=>{const{projectedGeometry:d}=h;if(d==null){u.visible=!1,u.projectedGeometry=void 0;return}u.visible=!0,u.projectedGeometry=d,u.fill=o,u.fillOpacity=s,u.stroke=a,u.strokeWidth=c,u.strokeOpacity=n,u.lineDash=r,u.lineDashOffset=l})})}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return import_ag_charts_community86._ModuleSupport.EMPTY_TOOLTIP_CONTENT}pickFocus(t){}};MapShapeBackgroundSeries.className="MapShapeBackgroundSeries",MapShapeBackgroundSeries.type="map-shape-background",__decorateClass([Validate39(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapShapeBackgroundSeries.prototype,"_chartTopology",2);var{DEFAULT_BACKGROUND_COLOUR,DEFAULT_HIERARCHY_FILLS}=import_ag_charts_community87._Theme,MapShapeBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",instanceConstructor:MapShapeBackgroundSeries,themeTemplate:__spreadProps(__spreadValues({},MAP_THEME_DEFAULTS),{series:{stroke:DEFAULT_BACKGROUND_COLOUR,strokeWidth:1}}),paletteFactory:({themeTemplateParameters:t})=>{var e;const{properties:i}=t;return{fill:(e=i.get(DEFAULT_HIERARCHY_FILLS))==null?void 0:e[1]}}},import_ag_charts_community90=require("ag-charts-community"),import_ag_charts_community89=require("ag-charts-community");function preferredLabelCenter(t,{aspectRatio:e,precision:i}){const o=polygonPointSearch(t,i,(l,c,u,h)=>{const d=maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(l,c,u,e),p=d+2*h*e,y=d*Math.SQRT2,g=p*Math.SQRT2;return{distance:y,maxDistance:g}});if(o==null)return;const{x:s,y:a,distance:n}=o,r=n/Math.SQRT2;return{x:s,y:a,maxWidth:r}}function maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(t,e,i,o,s){const[a,n]=t,[r,l]=e,c=1/s,u=r-a,h=l-n,[d,p]=n<=l?t:e,[y,g]=a<=r?t:e,[f,m]=n<=l?e:t,[S,v]=a<=r?e:t;let M=1/0;if(u!==0){const N=h/u;for(let b=0;b<=1;b+=1){const A=b===0?c:-c,E=(N*a-n-A*i+o)/(N-A);if(E>=y&&E<=S){const L=Math.abs(i-E)*2;M=Math.min(M,L)}}}else for(let N=0;N<=1;N+=1){const A=(N===0?c:-c)*(a-i)+o;if(A>=p&&A<=m){const L=Math.abs(o-A)*2*s;M=Math.min(M,L)}}const x=s,_=Math.abs((d-i)/(p-o)),D=Math.abs((f-i)/(m-o));if(m<o&&D<x){const b=Math.abs(o-m)*2*s;M=Math.min(M,b)}else if(p>o&&_<x){const b=Math.abs(o-p)*2*s;M=Math.min(M,b)}const I=Math.abs((g-o)/(y-i)),T=Math.abs((v-o)/(S-i));if(S<i&&T<c){const N=Math.abs(i-S)*2;M=Math.min(M,N)}else if(y>i&&I<c){const N=Math.abs(i-y)*2;M=Math.min(M,N)}return M}function maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(t,e,i,o){let s=!1,a=1/0;for(const n of t){let r=n[n.length-1],[l,c]=r;for(const u of n){const[h,d]=u;d>i!=c>i&&e<(l-h)*(i-d)/(c-d)+h&&(s=!s);const p=maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(r,u,e,i,o);a=Math.min(a,p),r=u,l=h,c=d}}return(s?1:-1)*a}function applyX(t,e,i){i>=e&&(t.maxX=Math.min(t.maxX,i-e)),i<=e&&(t.minX=Math.max(t.minX,i-e))}function xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(t,e,i,o,s,a){const n=s-a/2,r=s+a/2,[l,c]=e,[u,h]=i,d=u-l,p=h-c,[y,g]=l<=u?e:i,[f,m]=l<=u?i:e;if(d!==0){const S=p/d;for(let v=0;v<=1;v+=1){const x=((v===0?n:r)-c)/S+l;x>=y&&x<=f&&applyX(t,o,x)}}else Math.max(n,Math.min(c,h))<=Math.min(r,Math.max(c,h))&&applyX(t,o,l);return f<o&&m>=n&&m<=r?applyX(t,o,f):y>o&&g>=n&&g<=r&&applyX(t,o,y),t}function maxWidthInPolygonForRectOfHeight(t,e,i,o){const s={minX:-1/0,maxX:1/0};for(const r of t){let l=r[r.length-1];for(const c of r)xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(s,l,c,e,i,o),l=c}const{minX:a,maxX:n}=s;return Number.isFinite(a)&&Number.isFinite(n)?{x:e+(a+n)/2,width:n-a}:{x:e,width:0}}var import_ag_charts_community88=require("ag-charts-community"),{AND:AND10,ARRAY:ARRAY7,COLOR_STRING:COLOR_STRING14,COLOR_STRING_ARRAY:COLOR_STRING_ARRAY4,FUNCTION:FUNCTION9,LINE_DASH:LINE_DASH11,OBJECT:OBJECT13,POSITIVE_NUMBER:POSITIVE_NUMBER18,RATIO:RATIO19,STRING:STRING13,Validate:Validate40,SeriesProperties:SeriesProperties5,SeriesTooltip:SeriesTooltip9}=import_ag_charts_community88._ModuleSupport,MapShapeSeriesProperties=class extends SeriesProperties5{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new AutoSizeableSecondaryLabel,this.tooltip=new SeriesTooltip9}};__decorateClass([Validate40(GEOJSON_OBJECT,{optional:!0})],MapShapeSeriesProperties.prototype,"topology",2),__decorateClass([Validate40(STRING13,{optional:!0})],MapShapeSeriesProperties.prototype,"title",2),__decorateClass([Validate40(STRING13,{optional:!0})],MapShapeSeriesProperties.prototype,"legendItemName",2),__decorateClass([Validate40(STRING13)],MapShapeSeriesProperties.prototype,"idKey",2),__decorateClass([Validate40(STRING13,{optional:!0})],MapShapeSeriesProperties.prototype,"idName",2),__decorateClass([Validate40(STRING13)],MapShapeSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Validate40(STRING13,{optional:!0})],MapShapeSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate40(STRING13,{optional:!0})],MapShapeSeriesProperties.prototype,"labelName",2),__decorateClass([Validate40(STRING13,{optional:!0})],MapShapeSeriesProperties.prototype,"colorKey",2),__decorateClass([Validate40(STRING13,{optional:!0})],MapShapeSeriesProperties.prototype,"colorName",2),__decorateClass([Validate40(AND10(COLOR_STRING_ARRAY4,ARRAY7.restrict({minLength:1})),{optional:!0})],MapShapeSeriesProperties.prototype,"colorRange",2),__decorateClass([Validate40(COLOR_STRING14)],MapShapeSeriesProperties.prototype,"fill",2),__decorateClass([Validate40(RATIO19)],MapShapeSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate40(COLOR_STRING14)],MapShapeSeriesProperties.prototype,"stroke",2),__decorateClass([Validate40(RATIO19)],MapShapeSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate40(POSITIVE_NUMBER18)],MapShapeSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate40(LINE_DASH11)],MapShapeSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate40(POSITIVE_NUMBER18)],MapShapeSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate40(POSITIVE_NUMBER18)],MapShapeSeriesProperties.prototype,"padding",2),__decorateClass([Validate40(FUNCTION9,{optional:!0})],MapShapeSeriesProperties.prototype,"formatter",2),__decorateClass([Validate40(OBJECT13)],MapShapeSeriesProperties.prototype,"label",2),__decorateClass([Validate40(OBJECT13)],MapShapeSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount4,createDatumId:createDatumId6,DataModelSeries:DataModelSeries4,SeriesNodePickMode:SeriesNodePickMode8,valueProperty:valueProperty8,Validate:Validate41}=import_ag_charts_community89._ModuleSupport,{ColorScale:ColorScale4}=import_ag_charts_community89._Scale,{Group:Group10,Selection:Selection7,Text:Text8,PointerEvents:PointerEvents4}=import_ag_charts_community89._Scene,{sanitizeHtml:sanitizeHtml6,Logger:Logger12}=import_ag_charts_community89._Util,fixedScale=import_ag_charts_community89._ModuleSupport.MercatorScale.fixedScale(),MapShapeSeries=class extends DataModelSeries4{constructor(t){super({moduleCtx:t,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[SeriesNodePickMode8.EXACT_SHAPE_MATCH,SeriesNodePickMode8.NEAREST_NODE]}),this.properties=new MapShapeSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale4,this.itemGroup=this.contentGroup.appendChild(new Group10({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group10({name:"itemLabelGroup"})),this.datumSelection=Selection7.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection7.select(this.itemLabelGroup,Text8),this.highlightDatumSelection=Selection7.select(this.highlightNode,()=>this.nodeFactory()),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=PointerEvents4.None,this.showFocusBox=!1}getNodeData(){var t;return(t=this.contextNodeData)==null?void 0:t.nodeData}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>{this.onLegendItemClick(t)}),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>{this.onLegendItemDoubleClick(t)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const t=new GeoGeometry;return t.renderMode=1,t.lineJoin="round",t}processData(t){return __async(this,null,function*(){var e;if(this.data==null||!this.properties.isValid())return;const{data:i,topology:o,colorScale:s}=this,{topologyIdKey:a,idKey:n,colorKey:r,labelKey:l,colorRange:c}=this.properties,u=new Map;o?.features.forEach(f=>{var m;const S=(m=f.properties)==null?void 0:m[a];S==null||!containsType(f.geometry,1)||u.set(S,f)});const h=this.colorScale.type,d=(e=this.scale)==null?void 0:e.type,{dataModel:p,processedData:y}=yield this.requestDataModel(t,i,{props:[valueProperty8(n,d,{id:"idValue",includeProperty:!1}),valueProperty8(n,d,{id:"featureValue",includeProperty:!1,processor:()=>f=>u.get(f)}),...l?[valueProperty8(l,"band",{id:"labelValue"})]:[],...r?[valueProperty8(r,h,{id:"colorValue"})]:[]]}),g=p.resolveProcessedDataIndexById(this,"featureValue");if(this.topologyBounds=y.data.reduce((f,{values:m})=>{const S=m[g],v=S?.geometry;return v==null?f:geometryBbox(v,f)},void 0),c!=null&&this.isColorScaleValid()){const f=p.resolveProcessedDataIndexById(this,"colorValue");s.domain=y.domain.values[f],s.range=c,s.update()}o==null&&Logger12.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const o=e.resolveProcessedDataIndexById(this,"colorValue"),s=i.data.length,a=getMissCount4(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelLayout(t,e,i,o,s){if(e==null||o==null)return;const{idKey:a,idName:n,colorKey:r,colorName:l,labelKey:c,labelName:u,padding:h,label:d}=this.properties,p=this.getLabelText(d,{value:e,datum:t,idKey:a,idName:n,colorKey:r,colorName:l,labelKey:c,labelName:u});if(p==null)return;const y=Text8.getTextSize(String(p),i),g=p.split(`
`).length,f=(y.width+2*h)/(g*AutoSizedLabel.lineHeight(d.fontSize)+2*h);if(s?.geometry===o&&s?.labelText===p&&s?.aspectRatio===f)return s;const m=projectGeometry(o,fixedScale),S=largestPolygon(m);if(S==null)return;const v=preferredLabelCenter(S,{aspectRatio:f,precision:.001});if(v==null)return;const{x:M,y:x,maxWidth:_}=v;return{geometry:o,labelText:p,aspectRatio:f,x:M,y:x,maxWidth:_,fixedPolygon:S}}getLabelDatum(t,e){const{scale:i}=this;if(i==null)return;const{padding:o,label:s}=this.properties,{labelText:a,aspectRatio:n,x:r,y:l,maxWidth:c,fixedPolygon:u}=t,h={width:Math.ceil(c*e),height:Math.ceil(c*e/n),meta:r},d=formatSingleLabel(a,s,{padding:o},(M,x)=>{if(!x)return h;const _=maxWidthInPolygonForRectOfHeight(u,r,l,M/e);return{width:_.width*e,height:M,meta:_.x}});if(d==null)return;const[{text:p,fontSize:y,lineHeight:g,width:f},m]=d;if(p===Text8.ellipsis)return;const S=f<h.width?r:m,v=this.scale.convert(fixedScale.invert([S,l]));return{x:v[0],y:v[1],text:p,fontSize:y,lineHeight:g}}createNodeData(){return __async(this,null,function*(){const{id:t,dataModel:e,processedData:i,colorScale:o,properties:s,scale:a,previousLabelLayouts:n}=this,{idKey:r,colorKey:l,labelKey:c,label:u,fill:h}=s;if(e==null||i==null)return;const d=a!=null?(a.range[1][0]-a.range[0][0])/a.bounds.width:NaN,p=this.isColorScaleValid(),y=e.resolveProcessedDataIndexById(this,"idValue"),g=e.resolveProcessedDataIndexById(this,"featureValue"),f=c!=null?e.resolveProcessedDataIndexById(this,"labelValue"):void 0,m=l!=null?e.resolveProcessedDataIndexById(this,"colorValue"):void 0,S=u.getFont(),v=new Map;this.previousLabelLayouts=v;const M=[],x=[],_=[];i.data.forEach(({datum:I,values:T})=>{var N;const b=T[y],A=m!=null?T[m]:void 0,E=f!=null?T[f]:void 0,L=(N=T[g])==null?void 0:N.geometry;L==null&&_.push(b);const k=p&&A!=null?o.convert(A):void 0,O=this.getLabelLayout(I,E,S,L,n?.get(b));O!=null&&v.set(b,O);const C=O!=null&&a!=null?this.getLabelDatum(O,d):void 0;C!=null&&x.push(C);const R=L!=null&&a!=null?projectGeometry(L,a):void 0;M.push({series:this,itemId:r,datum:I,idValue:b,colorValue:A,labelValue:E,fill:k??h,projectedGeometry:R})});const D=10;if(_.length>D){const I=_.length-D;_.length=D,_.push(`(+${I} more)`)}return _.length>0&&Logger12.warnOnce("some data items do not have matches in the provided topology",_),{itemId:t,nodeData:M,labelData:x}})}updateSelections(){return __async(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return __async(this,null,function*(){var t,e,i,o,s;const{datumSelection:a,labelSelection:n,highlightDatumSelection:r}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let l=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight();l!=null&&(l.series!==this||l.datum==null)&&(l=void 0);const c=(i=(e=this.contextNodeData)==null?void 0:e.nodeData)!=null?i:[],u=(s=(o=this.contextNodeData)==null?void 0:o.labelData)!=null?s:[];this.datumSelection=yield this.updateDatumSelection({nodeData:c,datumSelection:a}),yield this.updateDatumNodes({datumSelection:a,isHighlight:!1}),this.labelSelection=yield this.updateLabelSelection({labelData:u,labelSelection:n}),yield this.updateLabelNodes({labelSelection:n}),this.highlightDatumSelection=yield this.updateDatumSelection({nodeData:l!=null?[l]:[],datumSelection:r}),yield this.updateDatumNodes({datumSelection:r,isHighlight:!0})})}updateDatumSelection(t){return __async(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>createDatumId6(e.idValue))})}updateDatumNodes(t){return __async(this,null,function*(){const{id:e,properties:i,ctx:{callbackCache:o}}=this,{datumSelection:s,isHighlight:a}=t,{idKey:n,colorKey:r,labelKey:l,fillOpacity:c,stroke:u,strokeOpacity:h,lineDash:d,lineDashOffset:p,formatter:y}=i,g=a?i.highlightStyle.item:void 0,f=this.getStrokeWidth(i.strokeWidth);s.each((m,S)=>{var v,M,x,_,D,I,T,N,b,A,E,L,k,O;const{projectedGeometry:C}=S;if(C==null){m.visible=!1,m.projectedGeometry=void 0;return}let R;if(y!=null){const P={seriesId:e,datum:S.datum,itemId:S.itemId,idKey:n,colorKey:r,labelKey:l,fill:S.fill,fillOpacity:c,strokeOpacity:h,stroke:u,strokeWidth:f,lineDash:d,lineDashOffset:p,highlighted:a};R=o.call(y,P)}m.visible=!0,m.projectedGeometry=C,m.fill=(M=(v=g?.fill)!=null?v:R?.fill)!=null?M:S.fill,m.fillOpacity=(_=(x=g?.fillOpacity)!=null?x:R?.fillOpacity)!=null?_:c,m.stroke=(I=(D=g?.stroke)!=null?D:R?.stroke)!=null?I:u,m.strokeWidth=(N=(T=g?.strokeWidth)!=null?T:R?.strokeWidth)!=null?N:f,m.strokeOpacity=(A=(b=g?.strokeOpacity)!=null?b:R?.strokeOpacity)!=null?A:h,m.lineDash=(L=(E=g?.lineDash)!=null?E:R?.lineDash)!=null?L:d,m.lineDashOffset=(O=(k=g?.lineDashOffset)!=null?k:R?.lineDashOffset)!=null?O:p})})}updateLabelSelection(t){return __async(this,null,function*(){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e)})}updateLabelNodes(t){return __async(this,null,function*(){const{labelSelection:e}=t,{color:i,fontStyle:o,fontWeight:s,fontFamily:a}=this.properties.label;e.each((n,{x:r,y:l,text:c,fontSize:u,lineHeight:h})=>{n.visible=!0,n.x=r,n.y=l,n.text=c,n.fill=i,n.fontStyle=o,n.fontWeight=s,n.fontSize=u,n.lineHeight=h,n.fontFamily=a,n.textAlign="center",n.textBaseline="middle"})})}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:o,series:s}=t,a=e!=null&&e===t.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,{legendItemName:a}=this.properties,n=a!=null&&a===t.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):e&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum({x:t,y:e}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const n=s.distanceToPoint(t,e);n<i&&(i=n,o=a)}),o!=null?{datum:o,distance:i}:void 0}datumMidPoint(t){const{_previousDatumMidPoint:e}=this;if(e?.datum===t)return e.point;const i=t.projectedGeometry,o=i!=null?largestPolygon(i):void 0,s=o!=null?polygonMarkerCenter(o,2):void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:t,point:a},a}getLegendData(t){var e,i,o,s;const{processedData:a,dataModel:n}=this;if(a==null||n==null)return[];const{title:r,legendItemName:l,idKey:c,idName:u,fill:h,fillOpacity:d,stroke:p,strokeWidth:y,strokeOpacity:g,colorKey:f,colorName:m,colorRange:S,visible:v}=this.properties;if(t==="gradient"&&f!=null&&S!=null){const M=a.domain.values[n.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:v,seriesId:this.id,colorName:m,colorRange:S,colorDomain:M}]}else return t==="category"?[{legendType:"category",id:this.id,itemId:(i=(e=l??r)!=null?e:u)!=null?i:c,seriesId:this.id,enabled:v,label:{text:(s=(o=l??r)!=null?o:u)!=null?s:c},marker:{fill:h,fillOpacity:d,stroke:p,strokeWidth:y,strokeOpacity:g},legendItemName:l}]:[]}getTooltipHtml(t){var e,i,o;const{id:s,processedData:a,ctx:{callbackCache:n},properties:r}=this;if(!a||!r.isValid())return import_ag_charts_community89._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const{legendItemName:l,idKey:c,idName:u,colorKey:h,colorName:d,labelKey:p,labelName:y,stroke:g,strokeWidth:f,formatter:m,tooltip:S}=r,{datum:v,fill:M,idValue:x,colorValue:_,labelValue:D,itemId:I}=t,T=(i=sanitizeHtml6((e=r.title)!=null?e:l))!=null?i:"",N=[];N.push(sanitizeHtml6((u!=null?`${u}: `:"")+x)),_!=null&&N.push(sanitizeHtml6((d??h)+": "+_)),D!=null&&p!==c&&N.push(sanitizeHtml6((y??p)+": "+D));const b=N.join("<br>");let A;m&&(A=n.call(m,{seriesId:s,datum:v,idKey:c,fill:M,stroke:g,strokeWidth:this.getStrokeWidth(f),highlighted:!1}));const E=(o=A?.fill)!=null?o:M;return S.toTooltipHtml({title:T,content:b,backgroundColor:E},__spreadValues({seriesId:s,datum:v,idKey:c,title:T,color:E,colorKey:h,colorName:d,idName:u,itemId:I,labelKey:p,labelName:y},this.getModuleTooltipParams()))}computeFocusBounds(t){return computeGeoFocusBounds(this,t)}};MapShapeSeries.className="MapShapeSeries",MapShapeSeries.type="map-shape",__decorateClass([Validate41(GEOJSON_OBJECT,{optional:!0,property:"topology"})],MapShapeSeries.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS4,DEFAULT_INVERTED_LABEL_COLOUR,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:DEFAULT_DIVERGING_SERIES_COLOUR_RANGE3,DEFAULT_BACKGROUND_COLOUR:DEFAULT_BACKGROUND_COLOUR2,singleSeriesPaletteFactory:singleSeriesPaletteFactory3}=import_ag_charts_community90._Theme,MapShapeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",instanceConstructor:MapShapeSeries,themeTemplate:__spreadProps(__spreadValues({},MAP_THEME_DEFAULTS),{series:{__extends__:EXTENDS_SERIES_DEFAULTS4,fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:DEFAULT_INVERTED_LABEL_COLOUR,fontWeight:"bold",overflowStrategy:"hide"}}}),paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:o,themeTemplateParameters:s}=t,{fill:a}=singleSeriesPaletteFactory3(t),{properties:n}=s,r=n.get(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE3),{fills:l}=e(i);return{fill:a,stroke:n.get(DEFAULT_BACKGROUND_COLOUR2),colorRange:o?[l[0],l[1]]:r}}},import_ag_charts_community98=require("ag-charts-community"),import_ag_charts_community96=require("ag-charts-community"),import_ag_charts_community91=require("ag-charts-community"),{isDefined:isDefined3,ChartAxisDirection:ChartAxisDirection9,PolarAxis,diff:diff4,fixNumericExtent:fixNumericExtent4,groupAccumulativeValueProperty:groupAccumulativeValueProperty2,keyProperty:keyProperty4,normaliseGroupTo,resetLabelFn,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation2,seriesLabelFadeOutAnimation,valueProperty:valueProperty9,animationValidation:animationValidation4,isFiniteNumber:isFiniteNumber5,SeriesNodePickMode:SeriesNodePickMode9,computeSectorFocusBounds}=import_ag_charts_community91._ModuleSupport,{BandScale:BandScale3}=import_ag_charts_community91._Scale,{motion:motion3}=import_ag_charts_community91._Scene,{isNumber,normalizeAngle360:normalizeAngle3605,sanitizeHtml:sanitizeHtml7}=import_ag_charts_community91._Util,RadialColumnSeriesNodeEvent=class extends import_ag_charts_community91._ModuleSupport.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadialColumnSeriesBase=class extends import_ag_charts_community91._ModuleSupport.PolarSeries{constructor(t,{animationResetFns:e}){super({moduleCtx:t,useLabelLayer:!0,canHaveAxes:!0,pickModes:[SeriesNodePickMode9.EXACT_SHAPE_MATCH],animationResetFns:__spreadProps(__spreadValues({},e),{label:resetLabelFn})}),this.NodeEvent=RadialColumnSeriesNodeEvent,this.groupScale=new BandScale3,this.circleCache={r:0,cx:0,cy:0}}addChartEventListeners(){var t,e;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(t){const{axes:e,dataModel:i,processedData:o}=this;if(!o||!i)return[];if(t===ChartAxisDirection9.X)return i.getDomain(this,"angleValue","key",o);{const s=e[ChartAxisDirection9.Y],a=i.getDomain(this,"radiusValue-end","value",o),n=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return fixNumericExtent4(n,s)}}processData(t){return __async(this,null,function*(){var e,i;const{angleKey:o,radiusKey:s,normalizedTo:a,visible:n}=this.properties,r=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid()||!(n||r))return;const l=this.getStackId(),c=`${l}-trailing`,u=[];isDefined3(a)&&u.push(normaliseGroupTo([l,c],Math.abs(a),"range")),r&&this.processedData&&u.push(diff4(this.processedData)),r&&u.push(animationValidation4());const h=n||!r?{}:{forceValue:0},d=(e=this.axes[ChartAxisDirection9.Y])==null?void 0:e.scale.type,p=(i=this.axes[ChartAxisDirection9.X])==null?void 0:i.scale.type;yield this.requestDataModel(t,this.data,{props:[keyProperty4(o,p,{id:"angleValue"}),valueProperty9(s,d,__spreadValues({id:"radiusValue-raw",invalidValue:null},h)),...groupAccumulativeValueProperty2(s,"normal","current",__spreadValues({id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:l,separateNegative:!0},h),d),...groupAccumulativeValueProperty2(s,"trailing","current",__spreadValues({id:"radiusValue-start",invalidValue:null,groupId:c,separateNegative:!0},h),d),...u]}),this.animationState.transition("updateData")})}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,o=this.circleCache;return t===o.r&&e===o.cx&&i===o.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}isRadiusAxisReversed(){var t;return(t=this.axes[ChartAxisDirection9.Y])==null?void 0:t.isReversed()}maybeRefreshNodeData(){return __async(this,null,function*(){var t;if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:i=[]}=(t=yield this.createNodeData())!=null?t:{};this.nodeData=i,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const t=this.axes[ChartAxisDirection9.Y];return t instanceof PolarAxis?this.radius*t.innerRadiusRatio:0}createNodeData(){return __async(this,null,function*(){var t;const{processedData:e,dataModel:i,groupScale:o}=this;if(!e||!i||!this.properties.isValid())return;const s=this.axes[ChartAxisDirection9.X],a=this.axes[ChartAxisDirection9.Y],n=s?.scale,r=a?.scale;if(!n||!r)return;const l=i.resolveProcessedDataIndexById(this,"radiusValue-start"),c=i.resolveProcessedDataIndexById(this,"radiusValue-end"),u=i.resolveProcessedDataIndexById(this,"radiusValue-range"),h=i.resolveProcessedDataIndexById(this,"radiusValue-raw");let d=0,p=0;s instanceof AngleCategoryAxis&&(d=s.groupPaddingInner,p=s.paddingInner);const g=((t=n.bandwidth)!=null?t:0)*(1-p),{index:f,visibleGroupCount:m}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);o.domain=Array.from({length:m}).map((L,k)=>String(k)),o.range=[-g/2,g/2],o.paddingInner=m>1?d:0;const S=this.isRadiusAxisReversed(),v=S?this.radius:this.getAxisInnerRadius(),M=S?this.getAxisInnerRadius():this.radius,x=M+v,{angleKey:_,radiusKey:D,angleName:I,radiusName:T,label:N}=this.properties,b=(L,k,O,C)=>{const R=this.getLabelText(N,{value:k,datum:L,angleKey:_,radiusKey:D,angleName:I,radiusName:T},P=>isFiniteNumber5(P)?P.toFixed(2):String(P));if(R)return{x:O,y:C,text:R,textAlign:"center",textBaseline:"middle"}},A=[],E={itemId:D,nodeData:A,labelData:A};return this.visible?(e.data.forEach((L,k,O)=>{var C;const{datum:R,keys:P,values:w,aggValues:B}=L,z=P[0],V=w[h],G=V>=0&&!Object.is(V,-0),F=w[l],H=w[c],U=(C=B?.[u][G?1:0])!=null?C:0,q=G===S;if(F===void 0||H===void 0)return;let K,j;if(O.length===1)K=-.5*Math.PI,j=1.5*Math.PI;else{const st=n.convert(z);K=normalizeAngle3605(st+o.convert(String(f))),j=normalizeAngle3605(K+o.bandwidth)}const W=K+o.bandwidth/2,Y=x-r.convert(F),$=x-r.convert(H),Q=(Y+$)/2,Z=x-r.convert(0),tt=x-r.convert(U),J=Math.cos(W)*Q,et=Math.sin(W)*Q,X=this.properties.label.enabled?b(R,V,J,et):void 0,ot=this.getColumnWidth(K,j);A.push({series:this,datum:R,point:{x:J,y:et,size:0},midPoint:{x:J,y:et},label:X,angleValue:z,radiusValue:V,negative:q,innerRadius:Y,outerRadius:$,stackInnerRadius:Z,stackOuterRadius:tt,startAngle:K,endAngle:j,axisInnerRadius:v,axisOuterRadius:M,columnWidth:ot,index:k})}),{itemId:D,nodeData:A,labelData:A}):E})}getColumnWidth(t,e){return NaN}update(t){return __async(this,arguments,function*({seriesRect:e}){const i=this.checkResize(e);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(t,e){var i,o,s,a,n;let r=[];if(e){const g=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();g?.datum&&g.series===this&&(r=[g])}else r=this.nodeData;const l=e?this.properties.highlightStyle.item:void 0,c=(o=l?.fill)!=null?o:this.properties.fill,u=(s=l?.fillOpacity)!=null?s:this.properties.fillOpacity,h=(a=l?.stroke)!=null?a:this.properties.stroke,d=this.properties.strokeOpacity,p=(n=l?.strokeWidth)!=null?n:this.properties.strokeWidth,y=g=>g.angleValue;t.update(r,void 0,y).each((g,f)=>{var m,S,v,M;const x=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:f,fill:c,stroke:h,strokeWidth:p,highlighted:e,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;this.updateItemPath(g,f,e,x),g.fill=(m=x?.fill)!=null?m:c,g.fillOpacity=(S=x?.fillOpacity)!=null?S:u,g.stroke=(v=x?.stroke)!=null?v:h,g.strokeOpacity=d,g.strokeWidth=(M=x?.strokeWidth)!=null?M:p,g.lineDash=this.properties.lineDash,g.lineJoin="round"})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:t}=this,e=this.getColumnTransitionFunctions();motion3.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],e),seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,t)}animateClearingUpdateEmpty(){const{itemSelection:t}=this,{animationManager:e}=this.ctx,i=this.getColumnTransitionFunctions();motion3.fromToMotion(this.id,"datums",e,[t],i),seriesLabelFadeOutAnimation(this,"labels",e,this.labelSelection)}getTooltipHtml(t){var e;const{id:i,axes:o,dataModel:s}=this,{angleKey:a,radiusKey:n,angleName:r,radiusName:l,fill:c,stroke:u,strokeWidth:h,formatter:d,tooltip:p}=this.properties,{angleValue:y,radiusValue:g,datum:f,itemId:m}=t,S=o[ChartAxisDirection9.X],v=o[ChartAxisDirection9.Y];if(!this.properties.isValid()||!(S&&v&&isNumber(g))||!s)return import_ag_charts_community91._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const M=S.formatDatum(y),x=v.formatDatum(g),_=sanitizeHtml7(l),D=sanitizeHtml7(`${M}: ${x}`),{fill:I}=(e=d&&this.ctx.callbackCache.call(d,{seriesId:i,datum:f,fill:c,stroke:u,strokeWidth:h,highlighted:!1,angleKey:a,radiusKey:n}))!=null?e:{fill:c};return p.toTooltipHtml({title:_,backgroundColor:c,content:D},{seriesId:i,datum:f,color:I,title:_,angleKey:a,radiusKey:n,angleName:r,radiusName:l,angleValue:y,itemId:m,radiusValue:g})}pickNodeClosestDatum(t){return this.pickNodeNearestDistantObject(t,this.itemSelection.nodes())}getLegendData(t){var e;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{radiusKey:i,radiusName:o,fill:s,stroke:a,fillOpacity:n,strokeOpacity:r,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:o??i},marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:n??1,strokeOpacity:r??1,strokeWidth:l}}]}onLegendItemClick(t){const{enabled:e,itemId:i,series:o}=t;o.id===this.id&&this.toggleSeriesItem(i,e)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,n=o.id===this.id||e&&s===1;this.toggleSeriesItem(i,n)}computeLabelsBBox(){return null}computeFocusBounds(t){return computeSectorFocusBounds(this,t)}},import_ag_charts_community93=require("ag-charts-community"),import_ag_charts_community92=require("ag-charts-community"),{Label:Label4}=import_ag_charts_community92._Scene,{SeriesProperties:SeriesProperties6,SeriesTooltip:SeriesTooltip10,Validate:Validate42,COLOR_STRING:COLOR_STRING15,DEGREE:DEGREE3,FUNCTION:FUNCTION10,LINE_DASH:LINE_DASH12,NUMBER:NUMBER10,OBJECT:OBJECT14,POSITIVE_NUMBER:POSITIVE_NUMBER19,RATIO:RATIO20,STRING:STRING14}=import_ag_charts_community92._ModuleSupport,RadialColumnSeriesBaseProperties=class extends SeriesProperties6{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new Label4,this.tooltip=new SeriesTooltip10}};__decorateClass([Validate42(STRING14)],RadialColumnSeriesBaseProperties.prototype,"angleKey",2),__decorateClass([Validate42(STRING14,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"angleName",2),__decorateClass([Validate42(STRING14)],RadialColumnSeriesBaseProperties.prototype,"radiusKey",2),__decorateClass([Validate42(STRING14,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"radiusName",2),__decorateClass([Validate42(COLOR_STRING15)],RadialColumnSeriesBaseProperties.prototype,"fill",2),__decorateClass([Validate42(RATIO20)],RadialColumnSeriesBaseProperties.prototype,"fillOpacity",2),__decorateClass([Validate42(COLOR_STRING15)],RadialColumnSeriesBaseProperties.prototype,"stroke",2),__decorateClass([Validate42(POSITIVE_NUMBER19)],RadialColumnSeriesBaseProperties.prototype,"strokeWidth",2),__decorateClass([Validate42(RATIO20)],RadialColumnSeriesBaseProperties.prototype,"strokeOpacity",2),__decorateClass([Validate42(LINE_DASH12)],RadialColumnSeriesBaseProperties.prototype,"lineDash",2),__decorateClass([Validate42(POSITIVE_NUMBER19)],RadialColumnSeriesBaseProperties.prototype,"lineDashOffset",2),__decorateClass([Validate42(FUNCTION10,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"formatter",2),__decorateClass([Validate42(DEGREE3)],RadialColumnSeriesBaseProperties.prototype,"rotation",2),__decorateClass([Validate42(STRING14,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"stackGroup",2),__decorateClass([Validate42(NUMBER10,{optional:!0})],RadialColumnSeriesBaseProperties.prototype,"normalizedTo",2),__decorateClass([Validate42(OBJECT14)],RadialColumnSeriesBaseProperties.prototype,"label",2),__decorateClass([Validate42(OBJECT14)],RadialColumnSeriesBaseProperties.prototype,"tooltip",2);var{Validate:Validate43,POSITIVE_NUMBER:POSITIVE_NUMBER20}=import_ag_charts_community93._ModuleSupport,NightingaleSeriesProperties=class extends RadialColumnSeriesBaseProperties{constructor(){super(...arguments),this.cornerRadius=0}};__decorateClass([Validate43(POSITIVE_NUMBER20)],NightingaleSeriesProperties.prototype,"cornerRadius",2);var import_ag_charts_community95=require("ag-charts-community"),import_ag_charts_community94=require("ag-charts-community"),{motion:motion4}=import_ag_charts_community94._Scene;function createAngleMotionCalculator(){const t={startAngle:new Map,endAngle:new Map},e=["startAngle","endAngle"],i=(n,r,l)=>{e.forEach(c=>{var u,h;const d=t[c];let p=(l==="removed"||l==="updated"?n:r)[c],y=(l==="removed"?n:r)[c];isNaN(y)&&(y=(h=(u=n.previousDatum)==null?void 0:u[c])!=null?h:NaN);const g=p-y;Math.abs(g)>Math.PI&&(p-=Math.sign(g)*2*Math.PI),d.set(r,{from:p,to:y})})},o=(n,r)=>({startAngle:t.startAngle.get(n)[r],endAngle:t.endAngle.get(n)[r]});return{calculate:i,from:n=>o(n,"from"),to:n=>o(n,"to")}}function fixRadialColumnAnimationStatus(t,e,i){if(i==="updated"){if(t.previousDatum==null||isNaN(t.previousDatum.startAngle)||isNaN(t.previousDatum.endAngle))return"added";if(isNaN(e.startAngle)||isNaN(e.endAngle))return"removed"}return i==="added"&&t.previousDatum!=null?"updated":i}function prepareRadialColumnAnimationFunctions(t){const e=createAngleMotionCalculator();return{toFn:(s,a,n)=>{const{startAngle:r,endAngle:l}=e.to(a);let c,u,h,d,p;return n==="removed"?(c=s.innerRadius,u=s.innerRadius,h=s.columnWidth,d=s.axisInnerRadius,p=s.axisOuterRadius):(c=isNaN(a.innerRadius)?t:a.innerRadius,u=isNaN(a.outerRadius)?t:a.outerRadius,h=isNaN(a.columnWidth)?s.columnWidth:a.columnWidth,d=a.axisInnerRadius,p=a.axisOuterRadius),{innerRadius:c,outerRadius:u,columnWidth:h,axisInnerRadius:d,axisOuterRadius:p,startAngle:r,endAngle:l}},fromFn:(s,a,n)=>{n=fixRadialColumnAnimationStatus(s,a,n),e.calculate(s,a,n);const{startAngle:r,endAngle:l}=e.from(a);let c,u,h,d,p;n==="removed"||n==="updated"?(c=s.innerRadius,u=s.outerRadius,h=s.columnWidth,d=s.axisInnerRadius,p=s.axisOuterRadius):(c=t,u=t,h=a.columnWidth,d=a.axisInnerRadius,p=a.axisOuterRadius);const y=motion4.NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{innerRadius:c,outerRadius:u,columnWidth:h,axisInnerRadius:d,axisOuterRadius:p,startAngle:r,endAngle:l,phase:y}}}}function resetRadialColumnSelectionFn(t,{innerRadius:e,outerRadius:i,columnWidth:o,axisInnerRadius:s,axisOuterRadius:a,startAngle:n,endAngle:r}){return{innerRadius:e,outerRadius:i,columnWidth:o,axisInnerRadius:s,axisOuterRadius:a,startAngle:n,endAngle:r}}var{SectorBox,motion:motion5}=import_ag_charts_community95._Scene;function getRadii(t){const{negative:e,innerRadius:i,outerRadius:o,stackInnerRadius:s,stackOuterRadius:a}=t;return{innerRadius:e?a:s,outerRadius:e?s:a,clipInnerRadius:e?o:i,clipOuterRadius:e?i:o}}function prepareNightingaleAnimationFunctions(t){const e=createAngleMotionCalculator();return{toFn:(s,a,n)=>{const{startAngle:r,endAngle:l}=e.to(a);let c,u,h;if(n==="removed")c=t,u=t,h=new SectorBox(r,l,c,u);else{let d,p;({innerRadius:c,outerRadius:u,clipInnerRadius:d,clipOuterRadius:p}=getRadii(a)),isNaN(c)&&(c=t),isNaN(u)&&(u=t),isNaN(d)&&(d=t),isNaN(p)&&(p=t),h=new SectorBox(r,l,d,p)}return{innerRadius:c,outerRadius:u,startAngle:r,endAngle:l,clipSector:h}},fromFn:(s,a,n)=>{n=fixRadialColumnAnimationStatus(s,a,n),e.calculate(s,a,n);const{startAngle:r,endAngle:l}=e.from(a);let c,u,h;n==="removed"||n==="updated"?(c=s.innerRadius,u=s.outerRadius,h=s.clipSector):(c=t,u=t),h??(h=new SectorBox(r,l,c,u));const d=motion5.NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{innerRadius:c,outerRadius:u,startAngle:r,endAngle:l,clipSector:h,phase:d}}}}function resetNightingaleSelectionFn(t,e){const{startAngle:i,endAngle:o}=e,{innerRadius:s,outerRadius:a,clipInnerRadius:n,clipOuterRadius:r}=getRadii(e),l=new SectorBox(i,o,n,r);return{innerRadius:s,outerRadius:a,startAngle:i,endAngle:o,clipSector:l}}var{Sector:Sector3,SectorBox:SectorBox2}=import_ag_charts_community96._Scene,NightingaleSeries=class extends RadialColumnSeriesBase{constructor(t){super(t,{animationResetFns:{item:resetNightingaleSelectionFn}}),this.properties=new NightingaleSeriesProperties}getStackId(){var t,e;return`nightingale-stack-${(e=(t=this.seriesGrouping)==null?void 0:t.groupIndex)!=null?e:this.id}-yValues`}nodeFactory(){return new Sector3}updateItemPath(t,e,i,o){const{negative:s}=e;if(t.centerX=0,t.centerY=0,t.startOuterCornerRadius=s?0:this.properties.cornerRadius,t.endOuterCornerRadius=s?0:this.properties.cornerRadius,t.startInnerCornerRadius=s?this.properties.cornerRadius:0,t.endInnerCornerRadius=s?this.properties.cornerRadius:0,i){const{startAngle:a,endAngle:n}=e,{innerRadius:r,outerRadius:l,clipInnerRadius:c,clipOuterRadius:u}=getRadii(e);t.innerRadius=r,t.outerRadius=l,t.startAngle=a,t.endAngle=n,t.clipSector=new SectorBox2(a,n,c,u)}}getColumnTransitionFunctions(){const t=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareNightingaleAnimationFunctions(t)}};NightingaleSeries.className="NightingaleSeries",NightingaleSeries.type="nightingale";var import_ag_charts_community97=require("ag-charts-community"),NIGHTINGALE_SERIES_THEME={series:{__extends__:import_ag_charts_community97._Theme.EXTENDS_SERIES_DEFAULTS,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community97._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community97._Theme.DEFAULT_LABEL_COLOUR}},axes:{[import_ag_charts_community97._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:import_ag_charts_community97._Theme.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[import_ag_charts_community97._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:import_ag_charts_community97._Theme.POLAR_AXIS_SHAPE.CIRCLE}}},NightingaleModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",instanceConstructor:NightingaleSeries,defaultAxes:[{type:import_ag_charts_community98._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:import_ag_charts_community98._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:NIGHTINGALE_SERIES_THEME,paletteFactory({takeColors:t,userPalette:e}){const{fills:[i],strokes:[o]}=t(1);return{fill:i,stroke:e?o:import_ag_charts_community98._Theme.DEFAULT_POLAR_SERIES_STROKE}},stackable:!0,groupable:!0,stackedByDefault:!0},import_ag_charts_community103=require("ag-charts-community"),import_ag_charts_community101=require("ag-charts-community"),import_ag_charts_community99=require("ag-charts-community"),OhlcGroup=class extends CandlestickBaseGroup{constructor(){super(),this.append([new import_ag_charts_community99._Scene.Line({tag:0}),new import_ag_charts_community99._Scene.Line({tag:1}),new import_ag_charts_community99._Scene.Line({tag:2})])}updateCoordinates(){const{x:t,y:e,yBottom:i,yHigh:o,yLow:s,width:a,height:n,datum:{itemId:r}}=this,l=import_ag_charts_community99._Scene.Selection.select(this,import_ag_charts_community99._Scene.Rect),[c]=l.selectByTag(0),[u]=l.selectByTag(1),[h]=l.selectByTag(2);if(a===0||n===0){c.visible=!1,u.visible=!1,h.visible=!1;return}c.visible=!0,u.visible=!0,h.visible=!0;const d=a/2;c.setProperties({x1:Math.floor(t+d),x2:Math.floor(t+d),y1:o,y2:s});const p=r==="up",y=p?i:e,g=p?e:i;u.setProperties({x1:Math.floor(t),x2:Math.floor(t+d),y:Math.round(y)}),h.setProperties({x1:Math.floor(t+d),x2:Math.floor(t+a),y:Math.round(g)})}updateDatumStyles(t,e){const i=import_ag_charts_community99._Scene.Selection.select(this,import_ag_charts_community99._Scene.Rect),[o]=i.selectByTag(0),[s]=i.selectByTag(1),[a]=i.selectByTag(2);o.setProperties(e),s.setProperties(e),a.setProperties(e)}},import_ag_charts_community100=require("ag-charts-community"),{BaseProperties:BaseProperties9,Validate:Validate44,COLOR_STRING:COLOR_STRING16,FUNCTION:FUNCTION11,LINE_DASH:LINE_DASH13,OBJECT:OBJECT15,POSITIVE_NUMBER:POSITIVE_NUMBER21,RATIO:RATIO21}=import_ag_charts_community100._ModuleSupport,OhlcSeriesItem=class extends BaseProperties9{constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Validate44(COLOR_STRING16)],OhlcSeriesItem.prototype,"stroke",2),__decorateClass([Validate44(POSITIVE_NUMBER21)],OhlcSeriesItem.prototype,"strokeWidth",2),__decorateClass([Validate44(RATIO21)],OhlcSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Validate44(LINE_DASH13)],OhlcSeriesItem.prototype,"lineDash",2),__decorateClass([Validate44(POSITIVE_NUMBER21)],OhlcSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Validate44(FUNCTION11,{optional:!0})],OhlcSeriesItem.prototype,"formatter",2);var OhlcSeriesItems=class extends BaseProperties9{constructor(){super(...arguments),this.up=new OhlcSeriesItem,this.down=new OhlcSeriesItem}};__decorateClass([Validate44(OBJECT15)],OhlcSeriesItems.prototype,"up",2),__decorateClass([Validate44(OBJECT15)],OhlcSeriesItems.prototype,"down",2);var OhlcSeriesProperties=class extends CandlestickSeriesBaseProperties{constructor(){super(new OhlcSeriesItems)}},{mergeDefaults:mergeDefaults7}=import_ag_charts_community101._ModuleSupport,OhlcSeries=class extends CandlestickSeriesBase{constructor(t){super(t,resetCandlestickSelectionsFn),this.properties=new OhlcSeriesProperties}createNodeData(){return __async(this,null,function*(){const t=this.createBaseNodeData();if(!t)return;const e=t.nodeData.map(i=>{const{stroke:o,strokeWidth:s,strokeOpacity:a,lineDash:n,lineDashOffset:r}=this.getItemConfig(i.itemId);return __spreadProps(__spreadValues({},i),{stroke:o,strokeWidth:s,strokeOpacity:a,lineDash:n,lineDashOffset:r})});return __spreadProps(__spreadValues({},t),{nodeData:e})})}nodeFactory(){return new OhlcGroup}getFormatterParams(t){return t}getSeriesStyles(t){const{stroke:e,strokeWidth:i,strokeOpacity:o,lineDash:s,lineDashOffset:a}=t;return{stroke:e,strokeWidth:i,strokeOpacity:o,lineDash:s,lineDashOffset:a}}getActiveStyles(t,e){const i=this.getFormattedStyles(t,e);return e?mergeDefaults7(this.properties.highlightStyle.item,i):i}computeFocusBounds(t){return computeCandleFocusBounds(this,t)}};OhlcSeries.className="ohlc",OhlcSeries.type="ohlc";var import_ag_charts_community102=require("ag-charts-community"),OHLC_SERIES_THEME={series:{__extends__:import_ag_charts_community102._Theme.EXTENDS_SERIES_DEFAULTS,direction:"vertical"},animation:{enabled:!1},axes:{[import_ag_charts_community102._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[import_ag_charts_community102._Theme.CARTESIAN_AXIS_TYPE.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},OhlcModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",instanceConstructor:OhlcSeries,defaultAxes:[{type:import_ag_charts_community103._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community103._Theme.POSITION.LEFT},{type:import_ag_charts_community103._Theme.CARTESIAN_AXIS_TYPE.ORDINAL_TIME,position:import_ag_charts_community103._Theme.POSITION.BOTTOM}],themeTemplate:OHLC_SERIES_THEME,groupable:!1,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,themeTemplateParameters:o})=>{const{strokes:[s]}=t(e),{strokes:a}=o.properties.get(import_ag_charts_community103._Theme.DEFAULT_COLOURS);return{item:{up:{stroke:i?s:a.GREEN},down:{stroke:i?s:a.RED}}}}},import_ag_charts_community109=require("ag-charts-community"),import_ag_charts_community104=require("ag-charts-community"),BASE_RADAR_SERIES_THEME={series:{__extends__:import_ag_charts_community104._Theme.EXTENDS_SERIES_DEFAULTS,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community104._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community104._Theme.DEFAULT_LABEL_COLOUR},marker:{enabled:!0,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[import_ag_charts_community104._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{label:{padding:10}}}},RADAR_LINE_SERIES_THEME=import_ag_charts_community104._ModuleSupport.mergeDefaults({series:{strokeWidth:2}},BASE_RADAR_SERIES_THEME),RADAR_AREA_SERIES_THEME=import_ag_charts_community104._ModuleSupport.mergeDefaults({series:{fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},BASE_RADAR_SERIES_THEME),import_ag_charts_community108=require("ag-charts-community"),import_ag_charts_community106=require("ag-charts-community"),import_ag_charts_community105=require("ag-charts-community"),{Label:Label5}=import_ag_charts_community105._Scene,{SeriesMarker,SeriesProperties:SeriesProperties7,SeriesTooltip:SeriesTooltip11,Validate:Validate45,BOOLEAN:BOOLEAN15,COLOR_STRING:COLOR_STRING17,DEGREE:DEGREE4,FUNCTION:FUNCTION12,LINE_DASH:LINE_DASH14,OBJECT:OBJECT16,POSITIVE_NUMBER:POSITIVE_NUMBER22,RATIO:RATIO22,STRING:STRING15}=import_ag_charts_community105._ModuleSupport,RadarSeriesProperties=class extends SeriesProperties7{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new SeriesMarker,this.label=new Label5,this.tooltip=new SeriesTooltip11,this.connectMissingData=!1}};__decorateClass([Validate45(STRING15)],RadarSeriesProperties.prototype,"angleKey",2),__decorateClass([Validate45(STRING15)],RadarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Validate45(STRING15,{optional:!0})],RadarSeriesProperties.prototype,"angleName",2),__decorateClass([Validate45(STRING15,{optional:!0})],RadarSeriesProperties.prototype,"radiusName",2),__decorateClass([Validate45(COLOR_STRING17)],RadarSeriesProperties.prototype,"stroke",2),__decorateClass([Validate45(POSITIVE_NUMBER22)],RadarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate45(RATIO22)],RadarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate45(LINE_DASH14)],RadarSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate45(POSITIVE_NUMBER22)],RadarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate45(FUNCTION12,{optional:!0})],RadarSeriesProperties.prototype,"formatter",2),__decorateClass([Validate45(DEGREE4)],RadarSeriesProperties.prototype,"rotation",2),__decorateClass([Validate45(OBJECT16)],RadarSeriesProperties.prototype,"marker",2),__decorateClass([Validate45(OBJECT16)],RadarSeriesProperties.prototype,"label",2),__decorateClass([Validate45(OBJECT16)],RadarSeriesProperties.prototype,"tooltip",2),__decorateClass([Validate45(BOOLEAN15)],RadarSeriesProperties.prototype,"connectMissingData",2);var{ChartAxisDirection:ChartAxisDirection10,PolarAxis:PolarAxis2,SeriesNodePickMode:SeriesNodePickMode10,valueProperty:valueProperty10,fixNumericExtent:fixNumericExtent5,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation3,markerFadeInAnimation,resetMarkerFn,animationValidation:animationValidation5,isFiniteNumber:isFiniteNumber6,computeMarkerFocusBounds:computeMarkerFocusBounds2}=import_ag_charts_community106._ModuleSupport,{BBox:BBox9,Group:Group11,Path:Path6,PointerEvents:PointerEvents5,Selection:Selection8,Text:Text9,getMarker:getMarker2}=import_ag_charts_community106._Scene,{extent:extent3,isNumberEqual:isNumberEqual8,sanitizeHtml:sanitizeHtml8,toFixed}=import_ag_charts_community106._Util,RadarSeriesNodeEvent=class extends import_ag_charts_community106._ModuleSupport.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadarSeries=class extends import_ag_charts_community106._ModuleSupport.PolarSeries{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[SeriesNodePickMode10.NEAREST_NODE,SeriesNodePickMode10.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:resetMarkerFn}}),this.properties=new RadarSeriesProperties,this.NodeEvent=RadarSeriesNodeEvent,this.resetInvalidToZero=!1,this.seriesItemEnabled=[],this.circleCache={r:0,cx:0,cy:0};const e=new Group11;this.contentGroup.append(e),this.lineSelection=Selection8.select(e,Path6),e.zIndexSubOrder=[()=>this._declarationOrder,1]}nodeFactory(){const{shape:t}=this.properties.marker,e=getMarker2(t);return new e}addChartEventListeners(){var t,e;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];if(t===ChartAxisDirection10.X)return e.getDomain(this,"angleValue","value",i);{const o=e.getDomain(this,"radiusValue","value",i),s=extent3(o.length===0?o:[0].concat(o));return fixNumericExtent5(s)}}processData(t){return __async(this,null,function*(){var e,i;if(!this.properties.isValid())return;const{angleKey:o,radiusKey:s}=this.properties,a=[];this.ctx.animationManager.isSkipped()||a.push(animationValidation5());const n=(e=this.axes[ChartAxisDirection10.Y])==null?void 0:e.scale.type,r=(i=this.axes[ChartAxisDirection10.X])==null?void 0:i.scale.type;yield this.requestDataModel(t,this.data,{props:[valueProperty10(o,r,{id:"angleValue"}),valueProperty10(s,n,{id:"radiusValue",invalidValue:void 0}),...a]}),this.animationState.transition("updateData")})}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,o=this.circleCache;return t===o.r&&e===o.cx&&i===o.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}getAxisInnerRadius(){const t=this.axes[ChartAxisDirection10.Y];return t instanceof PolarAxis2?this.radius*t.innerRadiusRatio:0}maybeRefreshNodeData(){return __async(this,null,function*(){var t;if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:i=[]}=(t=yield this.createNodeData())!=null?t:{};this.nodeData=i,this.nodeDataRefresh=!1})}createNodeData(){return __async(this,null,function*(){var t,e;const{processedData:i,dataModel:o}=this;if(!i||!o||!this.properties.isValid())return;const{angleKey:s,radiusKey:a,angleName:n,radiusName:r,marker:l,label:c}=this.properties,u=(t=this.axes[ChartAxisDirection10.X])==null?void 0:t.scale,h=(e=this.axes[ChartAxisDirection10.Y])==null?void 0:e.scale;if(!u||!h)return;const d=o.resolveProcessedDataIndexById(this,"angleValue"),p=o.resolveProcessedDataIndexById(this,"radiusValue"),y=this.getAxisInnerRadius(),{seriesItemEnabled:g}=this;g.length=0;const f=i.data.map(m=>{const{datum:S,values:v}=m,M=v[d],x=v[p],_=u.convert(M),D=this.radius+y-h.convert(x);import_ag_charts_community106._Util.isNumber(_)&&import_ag_charts_community106._Util.isNumber(D)?g.push(!0):g.push(!1);const I=Math.cos(_),T=Math.sin(_),N=I*D,b=T*D;let A;if(c.enabled){const E=this.getLabelText(c,{value:x,datum:S,angleKey:s,radiusKey:a,angleName:n,radiusName:r},L=>isFiniteNumber6(L)?L.toFixed(2):String(L));if(E){let L="right";isNumberEqual8(I,0)?L="center":I>0&&(L="left");let k="bottom";isNumberEqual8(T,0)?k="middle":T>0&&(k="top"),A={x:N+I*l.size,y:b+T*l.size,text:E,textAlign:L,textBaseline:k}}}return{series:this,datum:S,point:{x:N,y:b,size:l.size},midPoint:{x:N,y:b},label:A,angleValue:M,radiusValue:x}});return{itemId:a,nodeData:f,labelData:f}})}update(t){return __async(this,arguments,function*({seriesRect:e}){var i,o;const s=this.checkResize(e),a=!this.ctx.animationManager.isSkipped(),{series:n}=(o=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())!=null?o:{};this.highlightGroup.visible=(a||this.visible)&&n===this,yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),s&&this.animationState.transition("resize"),this.animationState.transition("update")})}updatePathSelections(){const t=this.visible?[!0]:[];this.lineSelection.update(t)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=Selection8.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(t){var e;return(e=t?.fill)!=null?e:this.properties.marker.fill}updateMarkers(t,e){var i;const{angleKey:o,radiusKey:s,marker:a,visible:n}=this.properties;let r=[];if(n&&a.shape&&a.enabled)if(e){const c=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();c?.datum&&(r=[c])}else r=this.nodeData;const l=e?this.properties.highlightStyle.item:void 0;t.update(r).each((c,u)=>{var h,d,p,y,g,f,m,S,v,M,x,_,D;const I=this.getMarkerFill(l),T=(d=(h=l?.stroke)!=null?h:a.stroke)!=null?d:this.properties.stroke,N=(g=(y=(p=l?.strokeWidth)!=null?p:a.strokeWidth)!=null?y:this.properties.strokeWidth)!=null?g:1,b=a.formatter?this.ctx.callbackCache.call(a.formatter,{datum:u.datum,angleKey:o,radiusKey:s,fill:I,stroke:T,strokeWidth:N,size:a.size,highlighted:e,seriesId:this.id}):void 0;c.fill=(f=b?.fill)!=null?f:I,c.stroke=(m=b?.stroke)!=null?m:T,c.strokeWidth=(S=b?.strokeWidth)!=null?S:N,c.fillOpacity=(M=(v=l?.fillOpacity)!=null?v:a.fillOpacity)!=null?M:1,c.strokeOpacity=(_=(x=a.strokeOpacity)!=null?x:this.properties.strokeOpacity)!=null?_:1,c.size=(D=b?.size)!=null?D:a.size;const{x:A,y:E}=u.point;c.translationX=A,c.translationY=E,c.visible=n&&c.size>0&&!isNaN(A)&&!isNaN(E)})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}getTooltipHtml(t){var e;if(!this.properties.isValid())return import_ag_charts_community106._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const{id:i}=this,{angleKey:o,radiusKey:s,angleName:a,radiusName:n,marker:r,tooltip:l}=this.properties,{datum:c,angleValue:u,radiusValue:h,itemId:d}=t,p=typeof u=="number"?toFixed(u):String(u),y=typeof h=="number"?toFixed(h):String(h),g=sanitizeHtml8(n),f=sanitizeHtml8(`${p}: ${y}`),{formatter:m,fill:S,stroke:v,strokeWidth:M,size:x}=r,_=M??this.properties.strokeWidth,{fill:D}=(e=m&&this.ctx.callbackCache.call(m,{datum:c,angleKey:o,radiusKey:s,fill:S,stroke:v,strokeWidth:_,size:x,highlighted:!1,seriesId:i}))!=null?e:{fill:S};return l.toTooltipHtml({title:g,content:f,backgroundColor:D},{datum:c,angleKey:o,angleName:a,radiusKey:s,radiusName:n,title:g,color:D,seriesId:i,itemId:d})}getLegendData(t){var e,i,o,s,a,n,r,l,c,u;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{radiusKey:h,radiusName:d,stroke:p,strokeWidth:y,strokeOpacity:g,lineDash:f,visible:m,marker:S}=this.properties;return[{legendType:"category",id:this.id,itemId:h,seriesId:this.id,enabled:m,label:{text:d??h},marker:{shape:S.shape,fill:(s=(o=(i=this.getMarkerFill())!=null?i:S.stroke)!=null?o:p)!=null?s:"rgba(0, 0, 0, 0)",stroke:(n=(a=S.stroke)!=null?a:p)!=null?n:"rgba(0, 0, 0, 0)",fillOpacity:(r=S.fillOpacity)!=null?r:1,strokeOpacity:(c=(l=S.strokeOpacity)!=null?l:g)!=null?c:1,strokeWidth:(u=S.strokeWidth)!=null?u:0,enabled:S.enabled||y<=0},line:{stroke:p,strokeOpacity:g,strokeWidth:y,lineDash:f}}]}onLegendItemClick(t){const{enabled:e,itemId:i,series:o}=t;o.id===this.id&&this.toggleSeriesItem(i,e)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,n=o.id===this.id||e&&s===1;this.toggleSeriesItem(i,n)}pickNodeClosestDatum(t){var e,i;const{x:o,y:s}=t,{rootGroup:a,nodeData:n,centerX:r,centerY:l}=this,c=a.transformPoint(o,s),u=this.radius;if(Math.sqrt(__pow(o-r,2)+__pow(s-l,2))>u+this.properties.marker.size)return;let d=1/0,p;for(const y of n){const{point:{x:g=NaN,y:f=NaN}={}}=y;if(isNaN(g)||isNaN(f))continue;const m=Math.sqrt(__pow(c.x-g-r,2)+__pow(c.y-f-l,2));m<d&&(d=m,p=y)}if(p){const y=Math.max(d-((i=(e=p.point)==null?void 0:e.size)!=null?i:0),0);return{datum:p,distance:y}}}computeLabelsBBox(){return __async(this,null,function*(){const{label:t}=this.properties;yield this.maybeRefreshNodeData();const e=[],i=new Text9;return this.nodeData.forEach(o=>{if(!t.enabled||!o.label)return;i.text=o.label.text,i.x=o.label.x,i.y=o.label.y,i.setFont(t),i.setAlign(o.label);const s=i.computeBBox();e.push(s)}),e.length===0?null:BBox9.merge(e)})}getLineNode(){return this.lineSelection.nodes()[0]}beforePathAnimation(){const t=this.getLineNode();t.fill=void 0,t.lineJoin="round",t.lineCap="round",t.pointerEvents=PointerEvents5.None,t.stroke=this.properties.stroke,t.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),t.strokeOpacity=this.properties.strokeOpacity,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset}getLinePoints(){const{nodeData:t,resetInvalidToZero:e}=this,{connectMissingData:i}=this.properties;if(t.length===0)return[];const o=this.axes[ChartAxisDirection10.Y],s=this.axes[ChartAxisDirection10.X],a=s?.isReversed(),r=o?.isReversed()&&!a?[...t].reverse():t,l=[];let c=!1,u;return r.forEach((h,d)=>{let{x:p,y}=h.point;const g=isNaN(p)||isNaN(y);g||(u??(u=h)),g&&!i&&(p=0,y=0);const f=d===0||!e&&!i&&(g||c);l.push({x:p,y,moveTo:f}),c=g}),u!==void 0&&l.push({x:u.point.x,y:u.point.y,moveTo:!1}),l}animateSinglePath(t,e,i){const{path:o}=t;o.clear(!0);const s=this.getAxisInnerRadius(),a=this.axes[ChartAxisDirection10.Y],r=a?.isReversed()?this.radius+s-a?.scale.convert(0):s;e.forEach(l=>{const{x:c,y:u,arc:h,radius:d=0,startAngle:p=0,endAngle:y=0,moveTo:g}=l,f=Math.atan2(u,c),m=r*Math.cos(f),S=r*Math.sin(f),v=i,M=m*(1-v)+c*v,x=S*(1-v)+u*v;h?o.arc(c,u,d,p,y):g?o.moveTo(M,x):o.lineTo(M,x)}),t.checkPathDirty()}animatePaths(t){const e=this.getLinePoints();this.animateSinglePath(this.getLineNode(),e,t)}animateEmptyUpdateReady(){const{itemSelection:t,labelSelection:e}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:o=>this.animatePaths(o),onStop:()=>this.animatePaths(1)}),markerFadeInAnimation(this,i,"added",t),seriesLabelFadeInAnimation3(this,"labels",i,e)}animateWaitingUpdateReady(t){super.animateWaitingUpdateReady(t),this.resetPaths()}animateReadyResize(t){super.animateReadyResize(t),this.resetPaths()}resetPaths(){const t=this.getLineNode();if(t){const{path:e}=t,i=this.getLinePoints();t.fill=void 0,t.stroke=this.properties.stroke,t.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),t.strokeOpacity=this.properties.strokeOpacity,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset,e.clear(!0),i.forEach(({x:o,y:s,moveTo:a})=>{a?e.moveTo(o,s):e.lineTo(o,s)}),t.checkPathDirty()}}getFormattedMarkerStyle(t){const{angleKey:e,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,angleKey:e,radiusKey:i,highlighted:!0})}computeFocusBounds(t){return computeMarkerFocusBounds2(this,t)}};RadarSeries.className="RadarSeries";var import_ag_charts_community107=require("ag-charts-community"),{RATIO:RATIO23,COLOR_STRING:COLOR_STRING18,Validate:Validate46}=import_ag_charts_community107._ModuleSupport,RadarAreaSeriesProperties=class extends RadarSeriesProperties{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};__decorateClass([Validate46(COLOR_STRING18)],RadarAreaSeriesProperties.prototype,"fill",2),__decorateClass([Validate46(RATIO23)],RadarAreaSeriesProperties.prototype,"fillOpacity",2);var{Group:Group12,Path:Path7,PointerEvents:PointerEvents6,Selection:Selection9}=import_ag_charts_community108._Scene,{ChartAxisDirection:ChartAxisDirection11}=import_ag_charts_community108._ModuleSupport,RadarAreaSeries=class extends RadarSeries{constructor(t){super(t),this.properties=new RadarAreaSeriesProperties,this.resetInvalidToZero=!0;const e=new Group12;e.zIndexSubOrder=[()=>this._declarationOrder,0],this.contentGroup.append(e),this.areaSelection=Selection9.select(e,Path7)}updatePathSelections(){const t=this.visible?[!0]:[];this.areaSelection.update(t),super.updatePathSelections()}getAreaNode(){return this.areaSelection.nodes()[0]}getMarkerFill(t){var e,i;return(i=(e=t?.fill)!=null?e:this.properties.marker.fill)!=null?i:this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const t=this.getAreaNode();t.fill=this.properties.fill,t.fillOpacity=this.properties.fillOpacity,t.pointerEvents=PointerEvents6.None,t.stroke=void 0}animatePaths(t){super.animatePaths(t),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),t)}getAreaPoints(){var t,e;const i=this.getLinePoints(),o=l=>{const c=this.axes[l];return c instanceof import_ag_charts_community108._ModuleSupport.PolarAxis?c:void 0},s=o(ChartAxisDirection11.Y),a=o(ChartAxisDirection11.X);if(!s?.isReversed())return i;const{points:r=[]}=(e=(t=a?.getAxisLinePoints)==null?void 0:t.call(a))!=null?e:{};return i.concat(...r)}resetPaths(){super.resetPaths();const t=this.getAreaNode();if(t){const{path:e}=t,i=this.getAreaPoints();t.fill=this.properties.fill,t.fillOpacity=this.properties.fillOpacity,t.stroke=void 0,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset,t.lineJoin=t.lineCap="round",e.clear(!0),i.forEach(({x:o,y:s,moveTo:a,arc:n,radius:r=0,startAngle:l=0,endAngle:c=0})=>{n?e.arc(o,s,r,l,c):a?e.moveTo(o,s):e.lineTo(o,s)}),e.closePath(),t.checkPathDirty()}}};RadarAreaSeries.className="RadarAreaSeries",RadarAreaSeries.type="radar-area";var{markerPaletteFactory}=import_ag_charts_community109._ModuleSupport,RadarAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",instanceConstructor:RadarAreaSeries,defaultAxes:[{type:import_ag_charts_community109._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:import_ag_charts_community109._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:RADAR_AREA_SERIES_THEME,paletteFactory:t=>{const{marker:e}=markerPaletteFactory(t);return{stroke:e.stroke,fill:e.fill,marker:e}}},import_ag_charts_community110=require("ag-charts-community"),RadarLineSeries=class extends RadarSeries{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};RadarLineSeries.className="RadarLineSeries",RadarLineSeries.type="radar-line";var RadarLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",instanceConstructor:RadarLineSeries,defaultAxes:[{type:import_ag_charts_community110._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:import_ag_charts_community110._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:RADAR_LINE_SERIES_THEME,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{stroke:e,marker:{fill:e,stroke:i}}}},import_ag_charts_community115=require("ag-charts-community"),import_ag_charts_community113=require("ag-charts-community"),import_ag_charts_community111=require("ag-charts-community"),{Label:Label6}=import_ag_charts_community111._Scene,{SeriesProperties:SeriesProperties8,SeriesTooltip:SeriesTooltip12,Validate:Validate47,COLOR_STRING:COLOR_STRING19,DEGREE:DEGREE5,FUNCTION:FUNCTION13,LINE_DASH:LINE_DASH15,NUMBER:NUMBER11,OBJECT:OBJECT17,POSITIVE_NUMBER:POSITIVE_NUMBER23,RATIO:RATIO24,STRING:STRING16}=import_ag_charts_community111._ModuleSupport,RadialBarSeriesProperties=class extends SeriesProperties8{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label6,this.tooltip=new SeriesTooltip12}};__decorateClass([Validate47(STRING16)],RadialBarSeriesProperties.prototype,"angleKey",2),__decorateClass([Validate47(STRING16)],RadialBarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Validate47(STRING16,{optional:!0})],RadialBarSeriesProperties.prototype,"angleName",2),__decorateClass([Validate47(STRING16,{optional:!0})],RadialBarSeriesProperties.prototype,"radiusName",2),__decorateClass([Validate47(COLOR_STRING19)],RadialBarSeriesProperties.prototype,"fill",2),__decorateClass([Validate47(RATIO24)],RadialBarSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate47(COLOR_STRING19)],RadialBarSeriesProperties.prototype,"stroke",2),__decorateClass([Validate47(POSITIVE_NUMBER23)],RadialBarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate47(RATIO24)],RadialBarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate47(LINE_DASH15)],RadialBarSeriesProperties.prototype,"lineDash",2),__decorateClass([Validate47(POSITIVE_NUMBER23)],RadialBarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Validate47(POSITIVE_NUMBER23)],RadialBarSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Validate47(FUNCTION13,{optional:!0})],RadialBarSeriesProperties.prototype,"formatter",2),__decorateClass([Validate47(DEGREE5)],RadialBarSeriesProperties.prototype,"rotation",2),__decorateClass([Validate47(STRING16,{optional:!0})],RadialBarSeriesProperties.prototype,"stackGroup",2),__decorateClass([Validate47(NUMBER11,{optional:!0})],RadialBarSeriesProperties.prototype,"normalizedTo",2),__decorateClass([Validate47(OBJECT17)],RadialBarSeriesProperties.prototype,"label",2),__decorateClass([Validate47(OBJECT17)],RadialBarSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community112=require("ag-charts-community"),{SectorBox:SectorBox3,motion:motion6}=import_ag_charts_community112._Scene;function fixRadialBarAnimationStatus(t,e,i){if(i==="updated"){if(t.previousDatum==null||isNaN(t.previousDatum.innerRadius)||isNaN(t.previousDatum.outerRadius))return"added";if(isNaN(e.innerRadius)||isNaN(e.outerRadius))return"removed"}return i==="added"&&t.previousDatum!=null?"updated":i}function prepareRadialBarSeriesAnimationFunctions(t){return{toFn:(o,s,a)=>{let n,r,l,c,u;return a==="removed"?(n=t,r=t,l=s.innerRadius,c=s.outerRadius,u=new SectorBox3(n,r,l,c)):(n=s.startAngle,r=s.endAngle,l=isNaN(s.innerRadius)?o.innerRadius:s.innerRadius,c=isNaN(s.outerRadius)?o.outerRadius:s.outerRadius,u=s.clipSector),{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c,clipSector:u}},fromFn:(o,s,a)=>{a=fixRadialBarAnimationStatus(o,s,a);let n,r,l,c,u;a==="removed"||a==="updated"?(n=o.startAngle,r=o.endAngle,l=o.innerRadius,c=o.outerRadius,u=o.clipSector):(n=t,r=t,l=s.innerRadius,c=s.outerRadius),u??(u=new SectorBox3(n,r,l,c));const h=motion6.NODE_UPDATE_STATE_TO_PHASE_MAPPING[a];return{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c,clipSector:u,phase:h}}}}function resetRadialBarSelectionsFn(t,e){return{centerX:0,centerY:0,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clipSector:e.clipSector}}var{ChartAxisDirection:ChartAxisDirection12,PolarAxis:PolarAxis3,diff:diff5,isDefined:isDefined4,groupAccumulativeValueProperty:groupAccumulativeValueProperty3,keyProperty:keyProperty5,normaliseGroupTo:normaliseGroupTo2,valueProperty:valueProperty11,fixNumericExtent:fixNumericExtent6,resetLabelFn:resetLabelFn2,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation4,seriesLabelFadeOutAnimation:seriesLabelFadeOutAnimation2,animationValidation:animationValidation6,isFiniteNumber:isFiniteNumber7,computeSectorFocusBounds:computeSectorFocusBounds2}=import_ag_charts_community113._ModuleSupport,{BandScale:BandScale4}=import_ag_charts_community113._Scale,{Sector:Sector4,SectorBox:SectorBox4,motion:motion7}=import_ag_charts_community113._Scene,{angleBetween:angleBetween3,isNumber:isNumber2,sanitizeHtml:sanitizeHtml9}=import_ag_charts_community113._Util,RadialBarSeriesNodeEvent=class extends import_ag_charts_community113._ModuleSupport.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadialBarSeries=class extends import_ag_charts_community113._ModuleSupport.PolarSeries{constructor(t){super({moduleCtx:t,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:resetRadialBarSelectionsFn,label:resetLabelFn2}}),this.properties=new RadialBarSeriesProperties,this.NodeEvent=RadialBarSeriesNodeEvent,this.groupScale=new BandScale4,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new Sector4}addChartEventListeners(){var t,e;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(t){const{axes:e,dataModel:i,processedData:o}=this;if(!o||!i)return[];if(t===ChartAxisDirection12.X){const s=e[ChartAxisDirection12.X],a=i.getDomain(this,"angleValue-end","value",o),n=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return fixNumericExtent6(n,s)}else return i.getDomain(this,"radiusValue","key",o)}processData(t){return __async(this,null,function*(){var e,i;const{angleKey:o,radiusKey:s,normalizedTo:a,visible:n}=this.properties,r=!this.ctx.animationManager.isSkipped();if(!this.properties.isValid()||!(n||r))return;const l=this.getStackId(),c=`${l}-trailing`,u=[];isDefined4(a)&&u.push(normaliseGroupTo2([l,c],Math.abs(a),"range")),r&&(this.processedData&&u.push(diff5(this.processedData)),u.push(animationValidation6()));const h=this.visible||!r?{}:{forceValue:0},d=(e=this.axes[ChartAxisDirection12.Y])==null?void 0:e.scale.type,p=(i=this.axes[ChartAxisDirection12.X])==null?void 0:i.scale.type;yield this.requestDataModel(t,this.data,{props:[keyProperty5(s,d,{id:"radiusValue"}),valueProperty11(o,p,__spreadValues({id:"angleValue-raw",invalidValue:null},h)),...groupAccumulativeValueProperty3(o,"normal","current",__spreadValues({id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:l,separateNegative:!0},h),p),...groupAccumulativeValueProperty3(o,"trailing","current",__spreadValues({id:"angleValue-start",invalidValue:null,groupId:c,separateNegative:!0},h),p),...u]}),this.animationState.transition("updateData")})}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,o=this.circleCache;return t===o.r&&e===o.cx&&i===o.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}maybeRefreshNodeData(){return __async(this,null,function*(){var t;if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:i=[]}=(t=yield this.createNodeData())!=null?t:{};this.nodeData=i,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const t=this.axes[ChartAxisDirection12.Y];return t instanceof PolarAxis3?this.radius*t.innerRadiusRatio:0}createNodeData(){return __async(this,null,function*(){var t;const{processedData:e,dataModel:i}=this;if(!e||!i||!this.properties.isValid())return;const o=this.axes[ChartAxisDirection12.X],s=this.axes[ChartAxisDirection12.Y],a=o?.scale,n=s?.scale;if(!a||!n)return;const r=i.resolveProcessedDataIndexById(this,"angleValue-start"),l=i.resolveProcessedDataIndexById(this,"angleValue-end"),c=i.resolveProcessedDataIndexById(this,"angleValue-range"),u=i.resolveProcessedDataIndexById(this,"angleValue-raw");let h=0;s instanceof RadiusCategoryAxis&&(h=s.groupPaddingInner);const{groupScale:d}=this,{index:p,visibleGroupCount:y}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);d.domain=Array.from({length:y}).map((E,L)=>String(L)),d.range=[0,Math.abs((t=n.bandwidth)!=null?t:0)],d.paddingInner=y>1?h:0;const g=d.bandwidth>=1?d.bandwidth:d.rawBandwidth,f=o.isReversed(),m=s.isReversed(),S=m?this.radius:this.getAxisInnerRadius(),M=(m?this.getAxisInnerRadius():this.radius)+S,{angleKey:x,radiusKey:_,angleName:D,radiusName:I,label:T}=this.properties,N=(E,L,k,O)=>{const C=this.getLabelText(T,{value:L,datum:E,angleKey:x,radiusKey:_,angleName:D,radiusName:I},R=>isFiniteNumber7(R)?R.toFixed(2):String(R));if(C)return{x:k,y:O,text:C,textAlign:"center",textBaseline:"middle"}},b=[],A={itemId:_,nodeData:b,labelData:b};return this.visible&&e.data.forEach((E,L)=>{var k;const{datum:O,keys:C,values:R,aggValues:P}=E,w=C[0],B=R[u],z=B>=0&&!Object.is(B,-0),V=R[r],G=R[l],F=(k=P?.[c][z?1:0])!=null?k:0,H=z===f;let U=a.convert(V,{clampMode:"clamped"}),q=a.convert(G,{clampMode:"clamped"}),K=a.convert(0,{clampMode:"clamped"}),j=a.convert(F,{clampMode:"clamped"});H&&([K,j]=[j,K],[U,q]=[q,U]);const Y=M-n.convert(w)+d.convert(String(p)),$=Y+g,Q=(Y+$)/2,Z=U+angleBetween3(U,q)/2,tt=Math.cos(Z)*Q,J=Math.sin(Z)*Q,et=this.properties.label.enabled?N(O,B,tt,J):void 0,X=new SectorBox4(U,q,Y,$);b.push({series:this,datum:O,point:{x:tt,y:J,size:0},midPoint:{x:tt,y:J},label:et,angleValue:B,radiusValue:w,innerRadius:Y,outerRadius:$,startAngle:K,endAngle:j,clipSector:X,reversed:H,index:L})}),A})}update(t){return __async(this,arguments,function*({seriesRect:e}){const i=this.checkResize(e);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(t,e){var i,o,s,a,n;let r=[];if(e){const f=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();f?.datum&&f.series===this&&(r=[f])}else r=this.nodeData;const l=e?this.properties.highlightStyle.item:void 0,c=(o=l?.fill)!=null?o:this.properties.fill,u=(s=l?.fillOpacity)!=null?s:this.properties.fillOpacity,h=(a=l?.stroke)!=null?a:this.properties.stroke,d=this.properties.strokeOpacity,p=(n=l?.strokeWidth)!=null?n:this.properties.strokeWidth,y=this.properties.cornerRadius,g=f=>f.radiusValue;t.update(r,void 0,g).each((f,m)=>{var S,v,M,x,_;const D=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:m,fill:c,stroke:h,strokeWidth:p,highlighted:e,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;f.fill=(S=D?.fill)!=null?S:c,f.fillOpacity=(v=D?.fillOpacity)!=null?v:u,f.stroke=(M=D?.stroke)!=null?M:h,f.strokeOpacity=d,f.strokeWidth=(x=D?.strokeWidth)!=null?x:p,f.lineDash=this.properties.lineDash,f.lineJoin="round",f.inset=h!=null?((_=D?.strokeWidth)!=null?_:p)/2:0,f.startInnerCornerRadius=m.reversed?y:0,f.startOuterCornerRadius=m.reversed?y:0,f.endInnerCornerRadius=m.reversed?0:y,f.endOuterCornerRadius=m.reversed?0:y,e&&(f.startAngle=m.startAngle,f.endAngle=m.endAngle,f.clipSector=m.clipSector,f.innerRadius=m.innerRadius,f.outerRadius=m.outerRadius)})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}getBarTransitionFunctions(){var t;const e=(t=this.axes[ChartAxisDirection12.X])==null?void 0:t.scale;let i=0;if(!e)return prepareRadialBarSeriesAnimationFunctions(i);const o=Math.min(e.domain[0],e.domain[1]),s=Math.max(e.domain[0],e.domain[1]);return o<=0&&s>=0&&(i=e.convert(0)),prepareRadialBarSeriesAnimationFunctions(i)}animateEmptyUpdateReady(){const{labelSelection:t}=this,e=this.getBarTransitionFunctions();motion7.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],e),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,t)}animateClearingUpdateEmpty(){const{itemSelection:t}=this,{animationManager:e}=this.ctx,i=this.getBarTransitionFunctions();motion7.fromToMotion(this.id,"datums",e,[t],i),seriesLabelFadeOutAnimation2(this,"labels",e,this.labelSelection)}getTooltipHtml(t){var e;const{id:i,axes:o,dataModel:s}=this,{angleKey:a,angleName:n,radiusKey:r,radiusName:l,fill:c,stroke:u,strokeWidth:h,formatter:d,tooltip:p}=this.properties,{angleValue:y,radiusValue:g,datum:f,itemId:m}=t,S=o[ChartAxisDirection12.X],v=o[ChartAxisDirection12.Y];if(!this.properties.isValid()||!(S&&v&&isNumber2(y))||!s)return import_ag_charts_community113._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const M=S.formatDatum(y),x=v.formatDatum(g),_=sanitizeHtml9(n),D=sanitizeHtml9(`${x}: ${M}`),{fill:I}=(e=d&&this.ctx.callbackCache.call(d,{datum:f,fill:c,stroke:u,strokeWidth:h,highlighted:!1,angleKey:a,radiusKey:r,seriesId:i}))!=null?e:{fill:c};return p.toTooltipHtml({title:_,backgroundColor:c,content:D},{seriesId:i,datum:f,color:I,title:_,angleKey:a,radiusKey:r,angleName:n,radiusName:l,angleValue:y,itemId:m,radiusValue:g})}getLegendData(t){var e;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{angleKey:i,angleName:o,fill:s,stroke:a,fillOpacity:n,strokeOpacity:r,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:o??i},marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:n??1,strokeOpacity:r??1,strokeWidth:l}}]}onLegendItemClick(t){const{enabled:e,itemId:i,series:o}=t;o.id===this.id&&this.toggleSeriesItem(i,e)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,n=o.id===this.id||e&&s===1;this.toggleSeriesItem(i,n)}computeLabelsBBox(){return null}getStackId(){var t,e;return`radialBar-stack-${(e=(t=this.seriesGrouping)==null?void 0:t.groupIndex)!=null?e:this.id}-xValues`}computeFocusBounds(t){return computeSectorFocusBounds2(this,t)}};RadialBarSeries.className="RadialBarSeries",RadialBarSeries.type="radial-bar";var import_ag_charts_community114=require("ag-charts-community"),RADIAL_BAR_SERIES_THEME={series:{__extends__:import_ag_charts_community114._Theme.EXTENDS_SERIES_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community114._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community114._Theme.DEFAULT_INVERTED_LABEL_COLOUR}},axes:{[import_ag_charts_community114._Theme.POLAR_AXIS_TYPE.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},RadialBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",instanceConstructor:RadialBarSeries,defaultAxes:[{type:import_ag_charts_community115._Theme.POLAR_AXIS_TYPE.ANGLE_NUMBER},{type:import_ag_charts_community115._Theme.POLAR_AXIS_TYPE.RADIUS_CATEGORY}],themeTemplate:RADIAL_BAR_SERIES_THEME,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},stackable:!0,groupable:!0},import_ag_charts_community119=require("ag-charts-community"),import_ag_charts_community117=require("ag-charts-community"),import_ag_charts_community116=require("ag-charts-community"),{Validate:Validate48,RATIO:RATIO25}=import_ag_charts_community116._ModuleSupport,RadialColumnSeriesProperties=class extends RadialColumnSeriesBaseProperties{};__decorateClass([Validate48(RATIO25,{optional:!0})],RadialColumnSeriesProperties.prototype,"columnWidthRatio",2),__decorateClass([Validate48(RATIO25,{optional:!0})],RadialColumnSeriesProperties.prototype,"maxColumnWidthRatio",2);var{ChartAxisDirection:ChartAxisDirection13,PolarAxis:PolarAxis4}=import_ag_charts_community117._ModuleSupport,{RadialColumnShape,getRadialColumnWidth}=import_ag_charts_community117._Scene,RadialColumnSeries=class extends RadialColumnSeriesBase{constructor(t){super(t,{animationResetFns:{item:resetRadialColumnSelectionFn}}),this.properties=new RadialColumnSeriesProperties}getStackId(){var t,e;return`radarColumn-stack-${(e=(t=this.seriesGrouping)==null?void 0:t.groupIndex)!=null?e:this.id}-yValues`}nodeFactory(){return new RadialColumnShape}getColumnTransitionFunctions(){const t=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareRadialColumnAnimationFunctions(t)}isRadiusAxisCircle(){const t=this.axes[ChartAxisDirection13.Y];return t instanceof PolarAxis4?t.shape==="circle":!1}updateItemPath(t,e,i){t.isBeveled=this.isRadiusAxisCircle(),t.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius,t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.columnWidth=e.columnWidth,t.axisInnerRadius=e.axisInnerRadius,t.axisOuterRadius=e.axisOuterRadius)}getColumnWidth(t,e){const{columnWidthRatio:i=.5,maxColumnWidthRatio:o=.5}=this.properties;return getRadialColumnWidth(t,e,this.radius,i,o)}};RadialColumnSeries.className="RadialColumnSeries",RadialColumnSeries.type="radial-column";var import_ag_charts_community118=require("ag-charts-community"),RADIAL_COLUMN_SERIES_THEME={series:{__extends__:import_ag_charts_community118._Theme.EXTENDS_SERIES_DEFAULTS,columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community118._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community118._Theme.DEFAULT_LABEL_COLOUR}},axes:{[import_ag_charts_community118._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:import_ag_charts_community118._Theme.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[import_ag_charts_community118._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:import_ag_charts_community118._Theme.POLAR_AXIS_SHAPE.CIRCLE,innerRadiusRatio:.5}}},RadialColumnModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",instanceConstructor:RadialColumnSeries,defaultAxes:[{type:import_ag_charts_community119._Theme.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:import_ag_charts_community119._Theme.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:RADIAL_COLUMN_SERIES_THEME,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},stackable:!0,groupable:!0},import_ag_charts_community123=require("ag-charts-community"),import_ag_charts_community121=require("ag-charts-community"),import_ag_charts_community120=require("ag-charts-community"),{DropShadow,Label:Label7}=import_ag_charts_community120._Scene,{CartesianSeriesProperties:CartesianSeriesProperties2,SeriesMarker:SeriesMarker2,SeriesTooltip:SeriesTooltip13,Validate:Validate49,BOOLEAN:BOOLEAN16,COLOR_STRING:COLOR_STRING20,LINE_DASH:LINE_DASH16,OBJECT:OBJECT18,PLACEMENT,POSITIVE_NUMBER:POSITIVE_NUMBER24,RATIO:RATIO26,STRING:STRING17}=import_ag_charts_community120._ModuleSupport,RangeAreaSeriesLabel=class extends Label7{constructor(){super(...arguments),this.placement="outside",this.padding=6}};__decorateClass([Validate49(PLACEMENT)],RangeAreaSeriesLabel.prototype,"placement",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],RangeAreaSeriesLabel.prototype,"padding",2);var RangeAreaProperties=class extends CartesianSeriesProperties2{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new DropShadow().set({enabled:!1}),this.marker=new SeriesMarker2,this.label=new RangeAreaSeriesLabel,this.tooltip=new SeriesTooltip13,this.connectMissingData=!1}};__decorateClass([Validate49(STRING17)],RangeAreaProperties.prototype,"xKey",2),__decorateClass([Validate49(STRING17)],RangeAreaProperties.prototype,"yLowKey",2),__decorateClass([Validate49(STRING17)],RangeAreaProperties.prototype,"yHighKey",2),__decorateClass([Validate49(STRING17,{optional:!0})],RangeAreaProperties.prototype,"xName",2),__decorateClass([Validate49(STRING17,{optional:!0})],RangeAreaProperties.prototype,"yName",2),__decorateClass([Validate49(STRING17,{optional:!0})],RangeAreaProperties.prototype,"yLowName",2),__decorateClass([Validate49(STRING17,{optional:!0})],RangeAreaProperties.prototype,"yHighName",2),__decorateClass([Validate49(COLOR_STRING20)],RangeAreaProperties.prototype,"fill",2),__decorateClass([Validate49(RATIO26)],RangeAreaProperties.prototype,"fillOpacity",2),__decorateClass([Validate49(COLOR_STRING20)],RangeAreaProperties.prototype,"stroke",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],RangeAreaProperties.prototype,"strokeWidth",2),__decorateClass([Validate49(RATIO26)],RangeAreaProperties.prototype,"strokeOpacity",2),__decorateClass([Validate49(LINE_DASH16)],RangeAreaProperties.prototype,"lineDash",2),__decorateClass([Validate49(POSITIVE_NUMBER24)],RangeAreaProperties.prototype,"lineDashOffset",2),__decorateClass([Validate49(OBJECT18)],RangeAreaProperties.prototype,"shadow",2),__decorateClass([Validate49(OBJECT18)],RangeAreaProperties.prototype,"marker",2),__decorateClass([Validate49(OBJECT18)],RangeAreaProperties.prototype,"label",2),__decorateClass([Validate49(OBJECT18)],RangeAreaProperties.prototype,"tooltip",2),__decorateClass([Validate49(BOOLEAN16)],RangeAreaProperties.prototype,"connectMissingData",2);var{valueProperty:valueProperty12,keyProperty:keyProperty6,ChartAxisDirection:ChartAxisDirection14,mergeDefaults:mergeDefaults8,updateLabelNode,fixNumericExtent:fixNumericExtent7,AreaSeriesTag,buildResetPathFn,resetLabelFn:resetLabelFn3,resetMarkerFn:resetMarkerFn2,resetMarkerPositionFn,pathSwipeInAnimation,resetMotion,markerSwipeScaleInAnimation,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation5,animationValidation:animationValidation7,diff:diff6,updateClipPath,isFiniteNumber:isFiniteNumber8,computeMarkerFocusBounds:computeMarkerFocusBounds3}=import_ag_charts_community121._ModuleSupport,{getMarker:getMarker3,PointerEvents:PointerEvents7}=import_ag_charts_community121._Scene,{sanitizeHtml:sanitizeHtml10,extent:extent4}=import_ag_charts_community121._Util,RangeAreaSeriesNodeEvent=class extends import_ag_charts_community121._ModuleSupport.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},RangeAreaSeries=class extends import_ag_charts_community121._ModuleSupport.CartesianSeries{constructor(t){super({moduleCtx:t,hasMarkers:!0,pathsPerSeries:2,directionKeys:{[ChartAxisDirection14.X]:["xKey"],[ChartAxisDirection14.Y]:["yLowKey","yHighKey"]},directionNames:{[ChartAxisDirection14.X]:["xName"],[ChartAxisDirection14.Y]:["yLowName","yHighName","yName"]},animationResetFns:{path:buildResetPathFn({getOpacity:()=>this.getOpacity()}),label:resetLabelFn3,marker:(e,i)=>__spreadValues(__spreadValues({},resetMarkerFn2(e)),resetMarkerPositionFn(e,i))}}),this.properties=new RangeAreaProperties,this.NodeEvent=RangeAreaSeriesNodeEvent}processData(t){return __async(this,null,function*(){var e,i;if(!this.properties.isValid()||!this.visible)return;const{xKey:o,yLowKey:s,yHighKey:a}=this.properties,n=(e=this.axes[ChartAxisDirection14.X])==null?void 0:e.scale,r=(i=this.axes[ChartAxisDirection14.Y])==null?void 0:i.scale,{xScaleType:l,yScaleType:c}=this.getScaleInformation({xScale:n,yScale:r}),u=[],h=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&u.push(diff6(this.processedData)),h&&u.push(animationValidation7()),yield this.requestDataModel(t,this.data,{props:[keyProperty6(o,l,{id:"xValue"}),valueProperty12(s,c,{id:"yLowValue",invalidValue:void 0}),valueProperty12(a,c,{id:"yHighValue",invalidValue:void 0}),...u]}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:o}=this;if(!(e&&i))return[];const{domain:{keys:[s],values:a}}=e;if(t===ChartAxisDirection14.X){const n=i.resolveProcessedDataDefById(this,"xValue"),r=o[ChartAxisDirection14.X];return n?.def.type==="key"&&n.def.valueType==="category"?s:fixNumericExtent7(extent4(s),r)}else{const n=i.resolveProcessedDataIndexById(this,"yLowValue"),r=a[n],l=i.resolveProcessedDataIndexById(this,"yHighValue"),c=a[l],u=[r[0]>c[0]?c[0]:r[0],c[1]<r[1]?r[1]:c[1]];return fixNumericExtent7(u)}}createNodeData(){return __async(this,null,function*(){var t,e;const{data:i,dataModel:o,axes:s,visible:a}=this,n=s[ChartAxisDirection14.X],r=s[ChartAxisDirection14.Y];if(!(i&&a&&n&&r&&o))return;const l=n.scale,c=r.scale,{xKey:u,yLowKey:h,yHighKey:d,connectMissingData:p,marker:y}=this.properties,g=`${h}-${d}`,f=((t=l.bandwidth)!=null?t:0)/2,m=o.resolveProcessedDataDefsByIds(this,["xValue","yHighValue","yLowValue"]),S=(O,C,R)=>{const P=l.convert(O)+f,w=c.convert(C),B=c.convert(R);return[{point:{x:P,y:w},size:y.size,itemId:"high",yValue:C,xValue:O},{point:{x:P,y:B},size:y.size,itemId:"low",yValue:R,xValue:O}]},v=O=>{const C=O,{point:R}=C,P=__objRest(C,["point"]);return __spreadProps(__spreadValues({},P),{point:__spreadProps(__spreadValues({},R),{moveTo:!0})})},M=[],x=[],_={itemId:g,points:[]},D={itemId:g,points:[]},I={itemId:g,labelData:M,nodeData:x,fillData:D,strokeData:_,scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return I;const T=D.points,N=[],b=_.points,A=[];let E,L=-1/0,k=-1/0;return(e=this.processedData)==null||e.data.forEach(({keys:O,datum:C,values:R},P)=>{const w=o.resolveProcessedDataDefsValues(m,{keys:O,values:R}),{xValue:B,yHighValue:z,yLowValue:V}=w,F=z==null||V==null?[]:S(B,z,V),H=V>z;F.forEach(({point:{x:Q,y:Z},size:tt,itemId:J="",yValue:et})=>{x.push({index:P,series:this,itemId:J,datum:C,midPoint:{x:Q,y:Z},yHighValue:z,yLowValue:V,xValue:B,xKey:u,yLowKey:h,yHighKey:d,point:{x:Q,y:Z,size:tt}});const X=this.createLabelData({point:{x:Q,y:Z},value:et,yLowValue:V,yHighValue:z,itemId:J,inverted:H,datum:C,series:this});M.push(X)});const U=L!=null&&k!=null,q=E!=null&&U,K=B!=null,j=z!=null&&V!=null;let[W,Y]=S(B,z??0,V??0);if(!p)if(j){if(!U){const[Q,Z]=S(B,0,0);T.push(Q),N.push(Z)}}else{const[Q,Z]=S(E,0,0);T.push(Q),N.push(Z)}K&&j&&(T.push(W),N.push(Y)),K&&j&&!q&&!p&&P>0&&(W=v(W),Y=v(Y)),K&&j&&(b.push(W),A.push(Y)),E=B,L=z,k=V}),T.length>0&&(T[0]=v(T[0])),T.push(...N.reverse()),A.length>0&&(A[0]=v(A[0])),b.push(...A),I})}createLabelData({point:t,value:e,itemId:i,inverted:o,datum:s,series:a}){const{xKey:n,yLowKey:r,yHighKey:l,xName:c,yName:u,yLowName:h,yHighName:d,label:p}=this.properties,{placement:y,padding:g=10}=p;let f=i;o&&(f=i==="low"?"high":"low");const m=y==="outside"&&f==="high"||y==="inside"&&f==="low"?-1:1;return{x:t.x,y:t.y+g*m,series:a,itemId:i,datum:s,text:this.getLabelText(p,{value:e,datum:s,itemId:i,xKey:n,yLowKey:r,yHighKey:l,xName:c,yLowName:h,yHighName:d,yName:u},S=>isFiniteNumber8(S)?S.toFixed(2):String(S)),textAlign:"center",textBaseline:m===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,e=getMarker3(t);return new e}updatePathNodes(t){return __async(this,null,function*(){const{opacity:e,visible:i}=t,[o,s]=t.paths,a=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({tag:AreaSeriesTag.Stroke,fill:void 0,lineJoin:s.lineCap="round",pointerEvents:PointerEvents7.None,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i}),o.setProperties({tag:AreaSeriesTag.Fill,stroke:void 0,lineJoin:"round",pointerEvents:PointerEvents7.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:a,opacity:e,visible:i}),updateClipPath(this,s),updateClipPath(this,o)})}updatePaths(t){return __async(this,null,function*(){this.updateAreaPaths(t.paths,t.contextData)})}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){const{fillData:i}=e,[o]=t,{path:s}=o;s.clear(!0);for(const{point:a}of i.points)a.moveTo?s.moveTo(a.x,a.y):s.lineTo(a.x,a.y);s.closePath(),o.checkPathDirty()}updateStrokePath(t,e){const{strokeData:i}=e,[,o]=t,{path:s}=o;s.clear(!0);for(const{point:a}of i.points)a.moveTo?s.moveTo(a.x,a.y):s.lineTo(a.x,a.y);o.checkPathDirty()}updateMarkerSelection(t){return __async(this,null,function*(){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return __async(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:o,yLowKey:s,yHighKey:a,marker:n,fill:r,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:h}=this.properties,d=mergeDefaults8(i&&this.properties.highlightStyle.item,n.getStyle(),{fill:r,fillOpacity:u,stroke:l,strokeWidth:c,strokeOpacity:h});e.each((p,y)=>{this.updateMarkerStyle(p,n,{datum:y,highlighted:i,xKey:o,yHighKey:a,yLowKey:s},d)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e,o=>{o.tag=AreaSeriesTag.Label,o.pointerEvents=PointerEvents7.None})})}updateLabelNodes(t){return __async(this,null,function*(){t.labelSelection.each((e,i)=>{updateLabelNode(e,this.properties.label,i)})})}getHighlightLabelData(t,e){const i=t.filter(o=>o.datum===e.datum);return i.length>0?i:void 0}getHighlightData(t,e){const i=t.filter(o=>o.datum===e.datum);return i.length>0?i:void 0}getTooltipHtml(t){const e=this.axes[ChartAxisDirection14.X],i=this.axes[ChartAxisDirection14.Y];if(!this.properties.isValid()||!e||!i)return import_ag_charts_community121._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const{id:o}=this,{xKey:s,yLowKey:a,yHighKey:n,xName:r,yName:l,yLowName:c,yHighName:u,fill:h,tooltip:d}=this.properties,{datum:p,itemId:y,xValue:g,yLowValue:f,yHighValue:m}=t,S=h??"gray",v=sanitizeHtml10(e.formatDatum(g)),M=sanitizeHtml10(i.formatDatum(f)),x=sanitizeHtml10(i.formatDatum(m)),_=r??s,D=c??a,I=u??n,T=sanitizeHtml10(l),N=l?`<b>${sanitizeHtml10(_)}</b>: ${v}<br><b>${sanitizeHtml10(D)}</b>: ${M}<br><b>${sanitizeHtml10(I)}</b>: ${x}<br>`:`${v}: ${M} - ${x}`;return d.toTooltipHtml({title:T,content:N,backgroundColor:S},{seriesId:o,itemId:y,datum:p,xKey:s,yLowKey:a,yHighKey:n,xName:r,yLowName:c,yHighName:u,yName:l,color:S,title:T,yHighValue:m,yLowValue:f})}getLegendData(t){var e,i;if(t!=="category")return[];const{yLowKey:o,yHighKey:s,yName:a,yLowName:n,yHighName:r,fill:l,stroke:c,strokeWidth:u,strokeOpacity:h,lineDash:d,visible:p,marker:y}=this.properties,g=a??`${n??o} - ${r??s}`;return[{legendType:"category",id:this.id,itemId:`${o}-${s}`,seriesId:this.id,enabled:p,label:{text:`${g}`},marker:{shape:y.shape,fill:(e=y.fill)!=null?e:l,stroke:(i=y.stroke)!=null?i:c,fillOpacity:y.fillOpacity,strokeOpacity:y.strokeOpacity,strokeWidth:y.strokeWidth},line:{stroke:c,strokeOpacity:h,strokeWidth:u,lineDash:d}}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new import_ag_charts_community121._Scene.Group}animateEmptyUpdateReady(t){const{markerSelection:e,labelSelection:i,contextData:o,paths:s}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(s,o),pathSwipeInAnimation(this,a,...s),resetMotion([e],resetMarkerPositionFn),markerSwipeScaleInAnimation(this,a,e),seriesLabelFadeInAnimation5(this,"labels",a,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{contextData:e,paths:i}=t;super.animateWaitingUpdateReady(t),this.updateAreaPaths(i,e)}getFormattedMarkerStyle(t){const{xKey:e,yLowKey:i,yHighKey:o}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:t,xKey:e,yLowKey:i,yHighKey:o,highlighted:!0})}computeFocusBounds(t){return computeMarkerFocusBounds3(this,t)}};RangeAreaSeries.className="RangeAreaSeries",RangeAreaSeries.type="range-area";var import_ag_charts_community122=require("ag-charts-community"),RANGE_AREA_SERIES_THEME={series:{__extends__:import_ag_charts_community122._Theme.EXTENDS_SERIES_DEFAULTS,fillOpacity:.7,nodeClickRange:"nearest",marker:{__extends__:import_ag_charts_community122._Theme.EXTENDS_CARTESIAN_MARKER_DEFAULTS,enabled:!1,fillOpacity:1,strokeWidth:2,size:6},label:{enabled:!1,placement:"outside",padding:10,fontSize:12,fontFamily:import_ag_charts_community122._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community122._Theme.DEFAULT_LABEL_COLOUR}},axes:{[import_ag_charts_community122._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0,snap:!1}}}},{markerPaletteFactory:markerPaletteFactory2}=import_ag_charts_community123._ModuleSupport,RangeAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",instanceConstructor:RangeAreaSeries,defaultAxes:[{type:import_ag_charts_community123._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community123._Theme.POSITION.LEFT},{type:import_ag_charts_community123._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community123._Theme.POSITION.BOTTOM}],themeTemplate:RANGE_AREA_SERIES_THEME,paletteFactory:t=>{const{marker:e}=markerPaletteFactory2(t);return{fill:e.fill,stroke:e.stroke,marker:e}}},import_ag_charts_community127=require("ag-charts-community"),import_ag_charts_community125=require("ag-charts-community"),import_ag_charts_community124=require("ag-charts-community"),{DropShadow:DropShadow2,Label:Label8}=import_ag_charts_community124._Scene,{AbstractBarSeriesProperties:AbstractBarSeriesProperties4,SeriesTooltip:SeriesTooltip14,Validate:Validate50,COLOR_STRING:COLOR_STRING21,FUNCTION:FUNCTION14,LINE_DASH:LINE_DASH17,OBJECT:OBJECT19,PLACEMENT:PLACEMENT2,POSITIVE_NUMBER:POSITIVE_NUMBER25,RATIO:RATIO27,STRING:STRING18}=import_ag_charts_community124._ModuleSupport,RangeBarSeriesLabel=class extends Label8{constructor(){super(...arguments),this.placement="inside",this.padding=6}};__decorateClass([Validate50(PLACEMENT2)],RangeBarSeriesLabel.prototype,"placement",2),__decorateClass([Validate50(POSITIVE_NUMBER25)],RangeBarSeriesLabel.prototype,"padding",2);var RangeBarProperties=class extends AbstractBarSeriesProperties4{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new DropShadow2().set({enabled:!1}),this.label=new RangeBarSeriesLabel,this.tooltip=new SeriesTooltip14}};__decorateClass([Validate50(STRING18)],RangeBarProperties.prototype,"xKey",2),__decorateClass([Validate50(STRING18)],RangeBarProperties.prototype,"yLowKey",2),__decorateClass([Validate50(STRING18)],RangeBarProperties.prototype,"yHighKey",2),__decorateClass([Validate50(STRING18,{optional:!0})],RangeBarProperties.prototype,"xName",2),__decorateClass([Validate50(STRING18,{optional:!0})],RangeBarProperties.prototype,"yName",2),__decorateClass([Validate50(STRING18,{optional:!0})],RangeBarProperties.prototype,"yLowName",2),__decorateClass([Validate50(STRING18,{optional:!0})],RangeBarProperties.prototype,"yHighName",2),__decorateClass([Validate50(COLOR_STRING21)],RangeBarProperties.prototype,"fill",2),__decorateClass([Validate50(RATIO27)],RangeBarProperties.prototype,"fillOpacity",2),__decorateClass([Validate50(COLOR_STRING21)],RangeBarProperties.prototype,"stroke",2),__decorateClass([Validate50(POSITIVE_NUMBER25)],RangeBarProperties.prototype,"strokeWidth",2),__decorateClass([Validate50(RATIO27)],RangeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Validate50(LINE_DASH17)],RangeBarProperties.prototype,"lineDash",2),__decorateClass([Validate50(POSITIVE_NUMBER25)],RangeBarProperties.prototype,"lineDashOffset",2),__decorateClass([Validate50(POSITIVE_NUMBER25)],RangeBarProperties.prototype,"cornerRadius",2),__decorateClass([Validate50(FUNCTION14,{optional:!0})],RangeBarProperties.prototype,"formatter",2),__decorateClass([Validate50(OBJECT19)],RangeBarProperties.prototype,"shadow",2),__decorateClass([Validate50(OBJECT19)],RangeBarProperties.prototype,"label",2),__decorateClass([Validate50(OBJECT19)],RangeBarProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode11,valueProperty:valueProperty13,keyProperty:keyProperty7,ChartAxisDirection:ChartAxisDirection15,getRectConfig,updateRect,checkCrisp,updateLabelNode:updateLabelNode2,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL3,diff:diff7,prepareBarAnimationFunctions:prepareBarAnimationFunctions2,midpointStartingBarPosition,resetBarSelectionsFn:resetBarSelectionsFn2,fixNumericExtent:fixNumericExtent8,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation6,resetLabelFn:resetLabelFn4,animationValidation:animationValidation8,createDatumId:createDatumId7,isFiniteNumber:isFiniteNumber9,computeBarFocusBounds:computeBarFocusBounds5}=import_ag_charts_community125._ModuleSupport,{Rect:Rect4,PointerEvents:PointerEvents8,motion:motion8}=import_ag_charts_community125._Scene,{sanitizeHtml:sanitizeHtml11,isNumber:isNumber3,extent:extent5}=import_ag_charts_community125._Util,{ContinuousScale:ContinuousScale3}=import_ag_charts_community125._Scale,RangeBarSeriesNodeEvent=class extends import_ag_charts_community125._ModuleSupport.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},RangeBarSeries=class extends import_ag_charts_community125._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[SeriesNodePickMode11.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:resetBarSelectionsFn2,label:resetLabelFn4}}),this.properties=new RangeBarProperties,this.NodeEvent=RangeBarSeriesNodeEvent}processData(t){return __async(this,null,function*(){var e,i,o;if(!this.properties.isValid())return;const{xKey:s,yLowKey:a,yHighKey:n}=this.properties,r=(e=this.getCategoryAxis())==null?void 0:e.scale,l=(i=this.getValueAxis())==null?void 0:i.scale,{isContinuousX:c,xScaleType:u,yScaleType:h}=this.getScaleInformation({xScale:r,yScale:l}),d=[];this.ctx.animationManager.isSkipped()||(this.processedData&&d.push(diff7(this.processedData)),d.push(animationValidation8()));const p=this.visible?{}:{forceValue:0},{processedData:y}=yield this.requestDataModel(t,this.data,{props:[keyProperty7(s,u,{id:"xValue"}),valueProperty13(a,h,__spreadValues({id:"yLowValue"},p)),valueProperty13(n,h,__spreadValues({id:"yHighValue"},p)),...c?[SMALLEST_KEY_INTERVAL3]:[],...d],groupByKeys:!0});this.smallestDataInterval=(o=y.reduced)==null?void 0:o.smallestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:o,smallestDataInterval:s}=this;if(!(i&&o))return[];const{domain:{keys:[a],values:n}}=i;if(t===this.getCategoryDirection()){const r=o.resolveProcessedDataDefById(this,"xValue");if(r?.def.type==="key"&&r?.def.valueType==="category")return a;const l=isFiniteNumber9(s)?s:0,c=(e=extent5(a))!=null?e:[NaN,NaN],u=this.getCategoryAxis(),h=c[0]+-l,d=c[1]+l;return fixNumericExtent8([h,d],u)}else{const r=o.resolveProcessedDataIndexById(this,"yLowValue"),l=n[r],c=o.resolveProcessedDataIndexById(this,"yHighValue"),u=n[c],h=[l[0]>u[0]?u[0]:l[0],u[1]<l[1]?l[1]:u[1]];return fixNumericExtent8(h)}}createNodeData(){return __async(this,null,function*(){const{data:t,dataModel:e,groupScale:i,processedData:o,properties:{visible:s}}=this,a=this.getCategoryAxis(),n=this.getValueAxis();if(!(t&&a&&n&&e))return;const r=a.scale,l=n.scale,c=this.getBarDirection()===ChartAxisDirection15.X,{xKey:u,yLowKey:h,yHighKey:d,fill:p,stroke:y,strokeWidth:g}=this.properties,f=`${h}-${d}`,m={itemId:f,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible};if(!s)return m;const S=e.resolveProcessedDataIndexById(this,"yLowValue"),v=e.resolveProcessedDataIndexById(this,"yHighValue"),M=e.resolveProcessedDataIndexById(this,"xValue"),{barWidth:x,groupIndex:_}=this.updateGroupScale(a),D=ContinuousScale3.is(r)?x*-.5:0;return o?.data.forEach(({keys:I,datum:T,values:N},b)=>{N.forEach((A,E)=>{const L=I[M],k=Math.round(r.convert(L))+i.convert(String(_))+D,O=A[S],C=A[v];if(!import_ag_charts_community125._Util.isNumber(C)||!import_ag_charts_community125._Util.isNumber(O))return;const R=Math.min(O,C),P=Math.max(O,C),w=Math.round(l.convert(R)),z=Math.round(l.convert(P)),V=w,G=Math.max(g,Math.abs(V-z)),F={x:c?Math.min(z,V):k,y:c?k:Math.min(z,V),width:c?G:x,height:c?x:G},H={x:F.x+F.width/2,y:F.y+F.height/2},U=this.createLabelData({rect:F,barAlongX:c,yLowValue:R,yHighValue:P,datum:T[E],series:this}),q={index:b,valueIndex:E,series:this,itemId:f,datum:T[E],xValue:L,yLowValue:O,yHighValue:C,yLowKey:h,yHighKey:d,xKey:u,x:F.x,y:F.y,width:F.width,height:F.height,midPoint:H,fill:p,stroke:y,strokeWidth:g,opacity:1,labels:U};m.nodeData.push(q),m.labelData.push(...U)})}),m})}createLabelData({rect:t,barAlongX:e,yLowValue:i,yHighValue:o,datum:s,series:a}){const{xKey:n,yLowKey:r,yHighKey:l,xName:c,yLowName:u,yHighName:h,yName:d,label:p}=this.properties,y={datum:s,xKey:n,yLowKey:r,yHighKey:l,xName:c,yLowName:u,yHighName:h,yName:d},{placement:g,padding:f}=p,S=f*(g==="outside"?1:-1),v={x:t.x+(e?-S:t.width/2),y:t.y+(e?t.height/2:t.height+S),textAlign:e?"left":"center",textBaseline:e?"middle":"bottom",text:this.getLabelText(p,__spreadValues({itemId:"low",value:i},y),x=>isFiniteNumber9(x)?x.toFixed(2):String(x)),itemId:"low",datum:s,series:a},M={x:t.x+(e?t.width+S:t.width/2),y:t.y+(e?t.height/2:-S),textAlign:e?"right":"center",textBaseline:e?"middle":"top",text:this.getLabelText(p,__spreadValues({itemId:"high",value:o},y),x=>isNumber3(x)?x.toFixed(2):""),itemId:"high",datum:s,series:a};return g==="outside"&&(v.textAlign=e?"right":"center",v.textBaseline=e?"middle":"top",M.textAlign=e?"left":"center",M.textBaseline=e?"middle":"bottom"),[v,M]}nodeFactory(){return new Rect4}updateDatumSelection(t){return __async(this,null,function*(){const{nodeData:e,datumSelection:i}=t,o=e??[];return i.update(o,void 0,s=>this.getDatumId(s))})}updateDatumNodes(t){return __async(this,null,function*(){const{datumSelection:e,isHighlight:i}=t,{id:o,ctx:s}=this,{yLowKey:a,yHighKey:n,highlightStyle:{item:r}}=this.properties,l=this.axes[ChartAxisDirection15.X],c=checkCrisp(l?.visibleRange),u=this.getCategoryDirection()===ChartAxisDirection15.X;e.each((h,d)=>{const{fillOpacity:p,strokeOpacity:y,strokeWidth:g,lineDash:f,lineDashOffset:m,formatter:S,shadow:v}=this.properties,M={fill:d.fill,stroke:d.stroke,fillOpacity:p,strokeOpacity:y,lineDash:f,lineDashOffset:m,fillShadow:v,strokeWidth:this.getStrokeWidth(g),cornerRadius:this.properties.cornerRadius},x=u?d.width>0:d.height>0,_=getRectConfig({datum:d,lowValue:d.yLowValue,highValue:d.yHighValue,isHighlighted:i,style:M,highlightStyle:r,formatter:S,seriesId:o,itemId:d.itemId,ctx:s,yLowKey:a,yHighKey:n});_.crisp=c,_.visible=x,updateRect({rect:h,config:_})})})}getHighlightLabelData(t,e){const i=t.filter(o=>o.datum===e.datum);return i.length>0?i:void 0}updateLabelSelection(t){return __async(this,null,function*(){const e=this.properties.label.enabled?t.labelData:[];return t.labelSelection.update(e,i=>{i.pointerEvents=PointerEvents8.None})})}updateLabelNodes(t){return __async(this,null,function*(){t.labelSelection.each((e,i)=>{updateLabelNode2(e,this.properties.label,i)})})}getTooltipHtml(t){var e,i;const{id:o,ctx:{callbackCache:s}}=this,a=this.getCategoryAxis(),n=this.getValueAxis();if(!this.properties.isValid()||!a||!n)return import_ag_charts_community125._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const{xKey:r,yLowKey:l,yHighKey:c,xName:u,yLowName:h,yHighName:d,yName:p,fill:y,strokeWidth:g,formatter:f,tooltip:m}=this.properties,{datum:S,itemId:v,xValue:M,yLowValue:x,yHighValue:_}=t;let D;f&&(D=s.call(f,{datum:S,xKey:r,yLowKey:l,yHighKey:c,fill:y,strokeWidth:g,highlighted:!1,seriesId:o,itemId:v}));const I=(i=(e=D?.fill)!=null?e:y)!=null?i:"gray",T=sanitizeHtml11(a.formatDatum(M)),N=sanitizeHtml11(n.formatDatum(x)),b=sanitizeHtml11(n.formatDatum(_)),A=u??r,E=h??l,L=d??c,k=sanitizeHtml11(p),O=p?`<b>${sanitizeHtml11(A)}</b>: ${T}<br><b>${sanitizeHtml11(E)}</b>: ${N}<br><b>${sanitizeHtml11(L)}</b>: ${b}<br>`:`${T}: ${N} - ${b}`,C={title:k,content:O,backgroundColor:I};return m.toTooltipHtml(C,{datum:S,xKey:r,xName:u,yLowKey:l,yLowName:h,yHighKey:c,yHighName:d,yName:p,color:I,seriesId:o,itemId:v,title:k,yHighValue:_,yLowValue:x})}getLegendData(t){const{id:e,visible:i}=this;if(t!=="category")return[];const{fill:o,stroke:s,strokeWidth:a,fillOpacity:n,strokeOpacity:r,yName:l,yLowName:c,yHighName:u,yLowKey:h,yHighKey:d}=this.properties,p=l??`${c??h} - ${u??d}`;return[{legendType:"category",id:e,itemId:`${h}-${d}`,seriesId:e,enabled:i,label:{text:`${p}`},marker:{fill:o,stroke:s,fillOpacity:n,strokeOpacity:r,strokeWidth:a}}]}animateEmptyUpdateReady({datumSelection:t,labelSelection:e}){const i=prepareBarAnimationFunctions2(midpointStartingBarPosition(this.isVertical(),"normal"));motion8.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],i),seriesLabelFadeInAnimation6(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var e;const{datumSelection:i,labelSelection:o}=t,{processedData:s}=this,a=(e=s?.reduced)==null?void 0:e.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const n=prepareBarAnimationFunctions2(midpointStartingBarPosition(this.isVertical(),"fade"));motion8.fromToMotion(this.id,"datums",this.ctx.animationManager,[i],n,(r,l)=>createDatumId7(l.xValue,l.valueIndex),a),seriesLabelFadeInAnimation6(this,"labels",this.ctx.animationManager,o)}getDatumId(t){return`${t.xValue}-${t.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:t,seriesRect:e}){var i;return computeBarFocusBounds5((i=this.contextNodeData)==null?void 0:i.nodeData[t],this.contentGroup,e)}};RangeBarSeries.className="RangeBarSeries",RangeBarSeries.type="range-bar";var import_ag_charts_community126=require("ag-charts-community"),RANGE_BAR_SERIES_THEME={series:{__extends__:import_ag_charts_community126._Theme.EXTENDS_SERIES_DEFAULTS,direction:"vertical",strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:import_ag_charts_community126._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community126._Theme.DEFAULT_INSIDE_SERIES_LABEL_COLOUR,placement:"inside"}},axes:{[import_ag_charts_community126._Theme.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0,snap:!1}}}},RangeBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",instanceConstructor:RangeBarSeries,defaultAxes:[{type:import_ag_charts_community127._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community127._Theme.POSITION.BOTTOM},{type:import_ag_charts_community127._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community127._Theme.POSITION.LEFT}],themeTemplate:RANGE_BAR_SERIES_THEME,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},groupable:!0,swapDefaultAxesCondition:({direction:t})=>t==="horizontal"},import_ag_charts_community130=require("ag-charts-community"),import_ag_charts_community129=require("ag-charts-community"),import_ag_charts_community128=require("ag-charts-community"),{HierarchySeriesProperties,HighlightStyle,SeriesTooltip:SeriesTooltip15,Validate:Validate51,COLOR_STRING:COLOR_STRING22,FUNCTION:FUNCTION15,NUMBER:NUMBER12,OBJECT:OBJECT20,POSITIVE_NUMBER:POSITIVE_NUMBER26,RATIO:RATIO28,STRING:STRING19}=import_ag_charts_community128._ModuleSupport,SunburstSeriesTileHighlightStyle=class extends HighlightStyle{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedLabel}};__decorateClass([Validate51(STRING19,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Validate51(RATIO28,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Validate51(COLOR_STRING22,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Validate51(POSITIVE_NUMBER26,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Validate51(RATIO28,{optional:!0})],SunburstSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Validate51(OBJECT20)],SunburstSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Validate51(OBJECT20)],SunburstSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var SunburstSeriesProperties=class extends HierarchySeriesProperties{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new SunburstSeriesTileHighlightStyle,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizeableSecondaryLabel,this.tooltip=new SeriesTooltip15}};__decorateClass([Validate51(STRING19,{optional:!0})],SunburstSeriesProperties.prototype,"sizeName",2),__decorateClass([Validate51(STRING19,{optional:!0})],SunburstSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate51(STRING19,{optional:!0})],SunburstSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Validate51(RATIO28)],SunburstSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Validate51(POSITIVE_NUMBER26)],SunburstSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Validate51(RATIO28)],SunburstSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Validate51(POSITIVE_NUMBER26)],SunburstSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Validate51(NUMBER12,{optional:!0})],SunburstSeriesProperties.prototype,"sectorSpacing",2),__decorateClass([Validate51(NUMBER12,{optional:!0})],SunburstSeriesProperties.prototype,"padding",2),__decorateClass([Validate51(FUNCTION15,{optional:!0})],SunburstSeriesProperties.prototype,"formatter",2),__decorateClass([Validate51(OBJECT20)],SunburstSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Validate51(OBJECT20)],SunburstSeriesProperties.prototype,"label",2),__decorateClass([Validate51(OBJECT20)],SunburstSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([Validate51(OBJECT20)],SunburstSeriesProperties.prototype,"tooltip",2);var{fromToMotion:fromToMotion3}=import_ag_charts_community129._ModuleSupport,{Sector:Sector5,Group:Group13,Selection:Selection10,Text:Text10}=import_ag_charts_community129._Scene,{sanitizeHtml:sanitizeHtml12}=import_ag_charts_community129._Util,getAngleData=(t,e=0,i=2*Math.PI/t.sumSize,o=Array.from(t,()=>{}))=>{let s=e;for(const a of t.children){const n=s,r=s+a.sumSize*i;o[a.index]={start:n,end:r},getAngleData(a,n,i,o),s=r}return o},_SunburstSeries=class St extends import_ag_charts_community129._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.properties=new SunburstSeriesProperties,this.groupSelection=Selection10.select(this.contentGroup,Group13),this.highlightSelection=Selection10.select(this.highlightGroup,Group13),this.angleData=[]}processData(){return __async(this,null,function*(){const{childrenKey:e,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r}=this.properties;yield __superGet(St.prototype,this,"processData").call(this),this.angleData=getAngleData(this.rootNode);const l=c=>typeof c=="number"?c.toFixed(2):typeof c=="string"?c:"";this.labelData=Array.from(this.rootNode,({datum:c,depth:u})=>{let h;if(c!=null&&u!=null&&s!=null){const p=c[s];h=this.getLabelText(this.properties.label,{depth:u,datum:c,childrenKey:e,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r,value:p},l)}h===""&&(h=void 0);let d;if(c!=null&&u!=null&&a!=null){const p=c[a];d=this.getLabelText(this.properties.secondaryLabel,{depth:u,datum:c,childrenKey:e,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r,value:p},l)}return d===""&&(d=void 0),h!=null||d!=null?{label:h,secondaryLabel:d}:void 0})})}updateSelections(){return __async(this,null,function*(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:e}=this;if(e==null||e.seriesRect==null)return;const o=Array.from(this.rootNode),s=a=>{a.append([new Sector5,new Text10({tag:0}),new Text10({tag:1})])};this.groupSelection.update(o,s,a=>this.getDatumId(a)),this.highlightSelection.update(o,s,a=>this.getDatumId(a))})}updateNodes(){return __async(this,null,function*(){var e;const{chart:i,data:o,maxDepth:s,labelData:a}=this;if(i==null||o==null||a==null)return;const{width:n,height:r}=i.seriesRect,{sectorSpacing:l=0,padding:c=0,cornerRadius:u,highlightStyle:h}=this.properties;this.contentGroup.translationX=n/2,this.contentGroup.translationY=r/2,this.highlightGroup.translationX=n/2,this.highlightGroup.translationY=r/2;const d=l*.5,y=Math.min(n,r)/2/(s+1),g=-Math.PI/2,f=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight();new Text10().setFont(this.properties.label),this.rootNode.walk(x=>{const _=this.angleData[x.index];if(x.depth!=null&&_!=null){const D=_.end-_.start,I=(x.depth+.5)*y;x.midPoint.x=Math.cos(D)*I,x.midPoint.y=Math.sin(D)*I}});const S=(x,_,D)=>{var I,T,N,b,A,E,L,k,O,C;const{depth:R}=x,P=this.angleData[x.index];if(R==null||P==null){_.visible=!1;return}_.visible=!0;let w,B,z,V,G;D&&(w=h.fill,B=h.fillOpacity,z=h.stroke,V=h.strokeWidth,G=h.strokeOpacity);const F=this.getSectorFormat(x,D),H=(T=(I=F?.fill)!=null?I:w)!=null?T:x.fill,U=(b=(N=F?.fillOpacity)!=null?N:B)!=null?b:this.properties.fillOpacity,q=(E=(A=F?.stroke)!=null?A:z)!=null?E:x.stroke,K=(k=(L=F?.strokeWidth)!=null?L:V)!=null?k:this.properties.strokeWidth,j=(C=(O=F?.strokeOpacity)!=null?O:G)!=null?C:this.properties.strokeOpacity;_.fill=H,_.fillOpacity=U,_.stroke=q,_.strokeWidth=K,_.strokeOpacity=j,_.centerX=0,_.centerY=0,_.innerRadius=R*y,_.outerRadius=(R+1)*y,_.startAngle=P.start+g,_.endAngle=P.end+g,_.inset=d+K*.5,_.cornerRadius=u};this.groupSelection.selectByClass(Sector5).forEach(x=>{S(x.datum,x,!1)}),this.highlightSelection.selectByClass(Sector5).forEach(x=>{const _=x.datum,D=f===_;x.visible=D,x.visible&&S(x.datum,x,D)});const v=Array.from(this.rootNode,(x,_)=>{const{depth:D}=x,I=a[_],T=this.angleData[_];if(D==null||T==null)return;const N=D*y+d,b=(D+1)*y-d,A=N>d?d/N:d,E=b>d?d/b:d,L=T.start+A,O=T.end+A-L,C=T.start+E,P=T.end+E-C,w=Y=>{var $;if(D===0&&(($=x.parent)==null?void 0:$.sumSize)===x.sumSize)return{width:2*Math.sqrt(__pow(b,2)-__pow(Y*.5,2)),height:Y,meta:0};const Z=Y,tt=2*Math.sqrt(__pow(b,2)-__pow(N+Z,2)),J=O<Math.PI?2*N*Math.tan(O*.5):1/0,et=Math.min(tt,J);let X,ot;return D===0?(X=Y,ot=Math.sqrt(__pow(b,2)-__pow(X/2,2))-Y/(2*Math.tan(P*.5))):(X=2*N*Math.tan(O*.5),ot=Math.sqrt(__pow(b,2)-__pow(X/2,2))-N),et>=ot?{width:et,height:Z,meta:1}:{width:ot,height:X,meta:2}},B=formatLabels(I?.label,this.properties.label,I?.secondaryLabel,this.properties.secondaryLabel,{padding:c},w);if(B==null)return;const{width:z,height:V,meta:G,label:F,secondaryLabel:H}=B,U=g+(T.start+T.end)/2,q=Math.sin(U)>=0,K=Math.cos(U)>=0,j=(q?3:12)&(K?6:9);let W;switch(G){case 0:W=0;break;case 1:{const $=b-(y-V)*.58,Q=Math.sqrt(__pow(b-c,2)-__pow(z/2,2));W=Math.min($,Q);break}case 2:if(D===0){const Y=V/(2*Math.tan(O*.5))+z*.5,$=Math.sqrt(__pow(b,2)-__pow(V*.5,2))-z*.5;W=(Y+$)*.5}else W=(N+b)*.5;break}return{width:z,height:V,labelPlacement:G,circleQuarter:j,radius:W,theta:U,label:F,secondaryLabel:H}}),M=(x,_,D,I)=>{const{index:T,depth:N}=x,b=v?.[T],A=D===0?this.properties.label:this.properties.secondaryLabel,E=D===0?b?.label:b?.secondaryLabel;if(N==null||b==null||E==null){_.visible=!1;return}const{height:L,labelPlacement:k,circleQuarter:O,radius:C,theta:R}=b;let P;switch(I&&(P=(D===0?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),_.text=E.text,_.fontSize=E.fontSize,_.lineHeight=E.lineHeight,_.fontStyle=A.fontStyle,_.fontFamily=A.fontFamily,_.fontWeight=A.fontWeight,_.fill=P??A.color,k){case 0:_.textAlign="center",_.textBaseline="top",_.translationX=0,_.translationY=(D===0?0:L-E.height)-L*.5,_.rotation=0;break;case 1:{const w=(O&3)!==0,B=D===0==!w?C:C-(L-E.height);_.textAlign="center",_.textBaseline=w?"bottom":"top",_.translationX=Math.cos(R)*B,_.translationY=Math.sin(R)*B,_.rotation=w?R-Math.PI*.5:R+Math.PI*.5;break}case 2:{const w=(O&6)!==0,B=D===0==!w?(L-E.height)*.5:(E.height-L)*.5;_.textAlign="center",_.textBaseline="middle",_.translationX=Math.cos(R)*C+Math.cos(R+Math.PI/2)*B,_.translationY=Math.sin(R)*C+Math.sin(R+Math.PI/2)*B,_.rotation=w?R:R+Math.PI;break}}_.visible=!0};this.groupSelection.selectByClass(Text10).forEach(x=>{M(x.datum,x,x.tag,!1)}),this.highlightSelection.selectByClass(Text10).forEach(x=>{const _=x.datum,D=f===_;x.visible=D,x.visible&&M(x.datum,x,x.tag,D)})})}getSectorFormat(e,i){const{datum:o,fill:s,stroke:a,depth:n}=e,{ctx:{callbackCache:r},properties:{formatter:l}}=this;if(!l||o==null||n==null)return{};const{colorKey:c,labelKey:u,sizeKey:h,strokeWidth:d}=this.properties,p=r.call(l,{seriesId:this.id,depth:n,datum:o,colorKey:c,labelKey:u,sizeKey:h,fill:s,stroke:a,strokeWidth:d,highlighted:i});return p??{}}getTooltipHtml(e){var i;const{id:o}=this,{tooltip:s,colorKey:a,colorName:n=a,labelKey:r,secondaryLabelKey:l,sizeKey:c,sizeName:u=c,childrenKey:h}=this.properties,{datum:d,depth:p}=e;if(d==null||p==null)return import_ag_charts_community129._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const y=r!=null?d[r]:void 0,g=this.getSectorFormat(e,!1),f=(i=g?.fill)!=null?i:e.fill;if(!s.renderer&&!y)return import_ag_charts_community129._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const m=[],S=l!=null?d[l]:void 0;S!=null&&l!==a&&l!==c&&m.push(sanitizeHtml12(S));const v=c!=null?d[c]:void 0;v!=null&&m.push(`${u}: ${sanitizeHtml12(v)}`);const M=a!=null?d[a]:void 0;M!=null&&m.push(`${n}: ${sanitizeHtml12(M)}`);const x=m.join("<br>"),_={title:y,color:this.properties.label.color,backgroundColor:f,content:x};return s.toTooltipHtml(_,{depth:p,datum:d,colorKey:a,labelKey:r,secondaryLabelKey:l,sizeKey:c,title:y,color:f,seriesId:o,childrenKey:h,colorName:n,itemId:void 0,sizeName:u})}createNodeData(){return __async(this,null,function*(){})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.groupSelection.selectByClass(Sector5))}animateEmptyUpdateReady({datumSelections:e}){fromToMotion3(this.id,"nodes",this.ctx.animationManager,e,{toFn(i,o,s){return{scalingX:1,scalingY:1}},fromFn(i,o,s){return s==="unknown"&&o!=null&&i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}})}};_SunburstSeries.className="SunburstSeries",_SunburstSeries.type="sunburst";var SunburstSeries=_SunburstSeries,{EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS5,DEFAULT_INSIDE_SERIES_LABEL_COLOUR}=import_ag_charts_community130._Theme,SunburstModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",instanceConstructor:SunburstSeries,solo:!0,themeTemplate:{series:{__extends__:EXTENDS_SERIES_DEFAULTS5,label:{fontSize:14,minimumFontSize:9,color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR,overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontSize:8,minimumFontSize:7,color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR,overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR},secondaryLabel:{color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR},stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{const{properties:o}=i,{fills:s,strokes:a}=t(e),n=o.get(import_ag_charts_community130._Theme.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE);return{fills:s,strokes:a,colorRange:n}}},import_ag_charts_community133=require("ag-charts-community"),import_ag_charts_community132=require("ag-charts-community"),import_ag_charts_community131=require("ag-charts-community"),{Label:Label9}=import_ag_charts_community131._Scene,{BaseProperties:BaseProperties10,HierarchySeriesProperties:HierarchySeriesProperties2,HighlightStyle:HighlightStyle2,SeriesTooltip:SeriesTooltip16,Validate:Validate52,BOOLEAN:BOOLEAN17,COLOR_STRING:COLOR_STRING23,FUNCTION:FUNCTION16,NUMBER:NUMBER13,OBJECT:OBJECT21,POSITIVE_NUMBER:POSITIVE_NUMBER27,RATIO:RATIO29,STRING:STRING20,STRING_ARRAY,TEXT_ALIGN:TEXT_ALIGN2,VERTICAL_ALIGN:VERTICAL_ALIGN2}=import_ag_charts_community131._ModuleSupport,TreemapGroupLabel=class extends Label9{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Validate52(NUMBER13)],TreemapGroupLabel.prototype,"spacing",2);var TreemapSeriesGroup=class extends BaseProperties10{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new TreemapGroupLabel}};__decorateClass([Validate52(STRING20,{optional:!0})],TreemapSeriesGroup.prototype,"fill",2),__decorateClass([Validate52(RATIO29)],TreemapSeriesGroup.prototype,"fillOpacity",2),__decorateClass([Validate52(COLOR_STRING23,{optional:!0})],TreemapSeriesGroup.prototype,"stroke",2),__decorateClass([Validate52(POSITIVE_NUMBER27)],TreemapSeriesGroup.prototype,"strokeWidth",2),__decorateClass([Validate52(RATIO29)],TreemapSeriesGroup.prototype,"strokeOpacity",2),__decorateClass([Validate52(POSITIVE_NUMBER27)],TreemapSeriesGroup.prototype,"cornerRadius",2),__decorateClass([Validate52(TEXT_ALIGN2)],TreemapSeriesGroup.prototype,"textAlign",2),__decorateClass([Validate52(POSITIVE_NUMBER27)],TreemapSeriesGroup.prototype,"gap",2),__decorateClass([Validate52(POSITIVE_NUMBER27)],TreemapSeriesGroup.prototype,"padding",2),__decorateClass([Validate52(BOOLEAN17)],TreemapSeriesGroup.prototype,"interactive",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesGroup.prototype,"label",2);var TreemapSeriesTile=class extends BaseProperties10{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizeableSecondaryLabel}};__decorateClass([Validate52(STRING20,{optional:!0})],TreemapSeriesTile.prototype,"fill",2),__decorateClass([Validate52(RATIO29)],TreemapSeriesTile.prototype,"fillOpacity",2),__decorateClass([Validate52(COLOR_STRING23,{optional:!0})],TreemapSeriesTile.prototype,"stroke",2),__decorateClass([Validate52(POSITIVE_NUMBER27,{optional:!0})],TreemapSeriesTile.prototype,"strokeWidth",2),__decorateClass([Validate52(RATIO29)],TreemapSeriesTile.prototype,"strokeOpacity",2),__decorateClass([Validate52(POSITIVE_NUMBER27)],TreemapSeriesTile.prototype,"cornerRadius",2),__decorateClass([Validate52(TEXT_ALIGN2)],TreemapSeriesTile.prototype,"textAlign",2),__decorateClass([Validate52(VERTICAL_ALIGN2)],TreemapSeriesTile.prototype,"verticalAlign",2),__decorateClass([Validate52(POSITIVE_NUMBER27)],TreemapSeriesTile.prototype,"gap",2),__decorateClass([Validate52(POSITIVE_NUMBER27)],TreemapSeriesTile.prototype,"padding",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesTile.prototype,"label",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesTile.prototype,"secondaryLabel",2);var TreemapSeriesGroupHighlightStyle=class extends BaseProperties10{constructor(){super(...arguments),this.label=new AutoSizedLabel}};__decorateClass([Validate52(STRING20,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"fill",2),__decorateClass([Validate52(RATIO29,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Validate52(COLOR_STRING23,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"stroke",2),__decorateClass([Validate52(POSITIVE_NUMBER27,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Validate52(RATIO29,{optional:!0})],TreemapSeriesGroupHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesGroupHighlightStyle.prototype,"label",2);var TreemapSeriesTileHighlightStyle=class extends BaseProperties10{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizeableSecondaryLabel}};__decorateClass([Validate52(STRING20,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Validate52(RATIO29,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Validate52(COLOR_STRING23,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Validate52(POSITIVE_NUMBER27,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Validate52(RATIO29,{optional:!0})],TreemapSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var TreemapSeriesHighlightStyle=class extends HighlightStyle2{constructor(){super(...arguments),this.group=new TreemapSeriesGroupHighlightStyle,this.tile=new TreemapSeriesTileHighlightStyle}};__decorateClass([Validate52(OBJECT21)],TreemapSeriesHighlightStyle.prototype,"group",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesHighlightStyle.prototype,"tile",2);var TreemapSeriesProperties=class extends HierarchySeriesProperties2{constructor(){super(...arguments),this.highlightStyle=new TreemapSeriesHighlightStyle,this.tooltip=new SeriesTooltip16,this.group=new TreemapSeriesGroup,this.tile=new TreemapSeriesTile,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};__decorateClass([Validate52(STRING20,{optional:!0})],TreemapSeriesProperties.prototype,"sizeName",2),__decorateClass([Validate52(STRING20,{optional:!0})],TreemapSeriesProperties.prototype,"labelKey",2),__decorateClass([Validate52(STRING20,{optional:!0})],TreemapSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Validate52(FUNCTION16,{optional:!0})],TreemapSeriesProperties.prototype,"formatter",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesProperties.prototype,"tooltip",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesProperties.prototype,"group",2),__decorateClass([Validate52(OBJECT21)],TreemapSeriesProperties.prototype,"tile",2),__decorateClass([Validate52(STRING_ARRAY)],TreemapSeriesProperties.prototype,"undocumentedGroupFills",2),__decorateClass([Validate52(STRING_ARRAY)],TreemapSeriesProperties.prototype,"undocumentedGroupStrokes",2);var{Rect:Rect5,Group:Group14,BBox:BBox10,Selection:Selection11,Text:Text11}=import_ag_charts_community132._Scene,{Color:Color2,Logger:Logger13,isEqual:isEqual2,sanitizeHtml:sanitizeHtml13}=import_ag_charts_community132._Util,tempText=new Text11;function getTextSize(t,e){const{fontStyle:i,fontWeight:o,fontSize:s,fontFamily:a}=e;tempText.setProperties({text:t,fontStyle:i,fontWeight:o,fontSize:s,fontFamily:a,textAlign:"left",textBaseline:"top"});const{width:n,height:r}=tempText.computeBBox();return{width:n,height:r}}function validateColor(t){if(typeof t=="string"&&!Color2.validColorString(t)){const e="black";return Logger13.warnOnce(`invalid Treemap tile colour string "${t}". Affected treemap tiles will be coloured ${e}.`),e}return t}function nodeSize(t){return t.children.length>0?t.sumSize-t.size:t.size}var textAlignFactors2={left:0,center:.5,right:1},verticalAlignFactors2={top:0,middle:.5,bottom:1},DistantGroup=class extends import_ag_charts_community132._Scene.Group{distanceSquared(t,e){return this.computeBBox().distanceSquared(t,e)}},_TreemapSeries=class xt extends import_ag_charts_community132._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.properties=new TreemapSeriesProperties,this.groupSelection=Selection11.select(this.contentGroup,DistantGroup),this.highlightSelection=Selection11.select(this.highlightGroup,Group14)}groupTitleHeight(e,i){var o,s;const a=(s=(o=this.labelData)==null?void 0:o[e.index])==null?void 0:s.label,{label:n}=this.properties.group,r=3;if(a!=null){if(n.fontSize>i.width/r||n.fontSize>i.height/r)return;{const{height:l}=getTextSize(a,n);return Math.max(l,n.fontSize)}}}getNodePadding(e,i){if(e.index===0)return{top:0,right:0,bottom:0,left:0};if(e.children.length===0){const{padding:r}=this.properties.tile;return{top:r,right:r,bottom:r,left:r}}const{label:{spacing:o},padding:s}=this.properties.group,a=this.groupTitleHeight(e,i),n=a!=null?a+o:0;return{top:s+n,right:s,bottom:s,left:s}}processData(){return __async(this,null,function*(){var e;yield __superGet(xt.prototype,this,"processData").call(this);const{childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,tile:c,group:u}=this.properties;if(!((e=this.data)!=null&&e.length)){this.labelData=void 0;return}const h=d=>typeof d=="number"?d.toFixed(2):typeof d=="string"?d:"";this.labelData=Array.from(this.rootNode,({datum:d,depth:p,children:y})=>{const g=y.length===0,f=g?c.label:u.label;let m;if(d!=null&&p!=null&&a!=null){const v=d[a];m=this.getLabelText(f,{depth:p,datum:d,childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,value:v},h)}m===""&&(m=void 0);let S;if(g&&d!=null&&p!=null&&n!=null){const v=d[n];S=this.getLabelText(c.secondaryLabel,{depth:p,datum:d,childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,value:v},h)}return S===""&&(S=void 0),m!=null||S!=null?{label:m,secondaryLabel:S}:void 0})})}squarify(e,i,o,s){const{index:a,datum:n,children:r}=e;if(i.width<=0||i.height<=0){o[a]=void 0,s[a]=void 0;return}const l=n!=null?this.getNodePadding(e,i):{top:0,right:0,bottom:0,left:0};o[a]=a===0?void 0:i,s[a]=a===0?void 0:l;const c=Array.from(r,(T,N)=>N).filter(T=>nodeSize(r[T])>0).sort((T,N)=>nodeSize(r[N])-nodeSize(r[T])),u=T=>{const N=c[T];return r[N]},h=c.every(T=>r[T].children.length===0),d=1,p=i.width-l.left-l.right,y=i.height-l.top-l.bottom;if(p<=0||y<=0)return;const g=c.length;let f=0,m=0,S=1/0,v=c.reduce((T,N)=>T+nodeSize(r[N]),0);const M=new BBox10(i.x+l.left,i.y+l.top,p,y),x=M.clone();let _=0;for(;_<g;){const T=nodeSize(u(_)),N=nodeSize(u(m)),b=x.width<x.height;f+=T;const A=b?x.height:x.width,E=b?x.width:x.height,L=E*N/f;let k=A*f/v;const O=Math.max(L,k)/Math.min(L,k),C=Math.abs(d-O);if(C<S){S=C,_++;continue}f-=T,k=A*f/v;let R=b?x.x:x.y;for(let P=m;P<_;P++){const w=u(P),B=nodeSize(w),z=b?R:x.x,V=b?x.y:R,G=E*B/f,F=b?G:k,H=b?k:G,U=new BBox10(z,V,F,H);this.applyGap(M,U,h),this.squarify(w,U,o,s),v-=B,R+=G}b?(x.y+=k,x.height-=k):(x.x+=k,x.width-=k),m=_,f=0,S=1/0}const D=x.width<x.height;let I=D?x.x:x.y;for(let T=m;T<g;T++){const N=u(T),b=D?I:x.x,A=D?x.y:I,E=nodeSize(N)/v,L=x.width*(D?E:1),k=x.height*(D?1:E),O=new BBox10(b,A,L,k);this.applyGap(M,O,h),this.squarify(N,O,o,s),I+=D?L:k}}applyGap(e,i,o){const s=o?this.properties.tile.gap*.5:this.properties.group.gap*.5,a=c=>({left:c.x,top:c.y,right:c.x+c.width,bottom:c.y+c.height}),n=a(e),r=a(i);["top","right","bottom","left"].forEach(c=>{isEqual2(n[c],r[c])||i.shrink(s,c)})}createNodeData(){return __async(this,null,function*(){})}updateSelections(){return __async(this,null,function*(){var e;if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:i}=(e=this.chart)!=null?e:{};if(!i)return;const o=Array.from(this.rootNode),s=a=>{a.append([new Rect5,new Text11({tag:0}),new Text11({tag:1})])};this.groupSelection.update(o,s,a=>this.getDatumId(a)),this.highlightSelection.update(o,s,a=>this.getDatumId(a))})}getTileFormat(e,i){const{datum:o,depth:s,children:a}=e,{colorKey:n,labelKey:r,secondaryLabelKey:l,sizeKey:c,tile:u,group:h,formatter:d}=this.properties;if(!d||o==null||s==null)return{};const p=a.length===0,y=this.getNodeFill(e),g=this.getNodeStroke(e),f=p?u.strokeWidth:h.strokeWidth,m=this.ctx.callbackCache.call(d,{seriesId:this.id,depth:s,datum:o,colorKey:n,labelKey:r,secondaryLabelKey:l,sizeKey:c,fill:y,stroke:g,strokeWidth:f,highlighted:i});return m??{}}getNodeFill(e){var i,o,s;if(e.children.length===0)return(i=this.properties.tile.fill)!=null?i:e.fill;const{undocumentedGroupFills:n}=this.properties,r=n[Math.min((o=e.depth)!=null?o:0,n.length)];return(s=this.properties.group.fill)!=null?s:r}getNodeStroke(e){var i,o,s;if(e.children.length===0)return(i=this.properties.tile.stroke)!=null?i:e.stroke;const{undocumentedGroupStrokes:n}=this.properties,r=n[Math.min((o=e.depth)!=null?o:0,n.length)];return(s=this.properties.group.stroke)!=null?s:r}updateNodes(){return __async(this,null,function*(){var e,i;const{rootNode:o,data:s}=this,{highlightStyle:a,tile:n,group:r}=this.properties,{seriesRect:l}=(e=this.chart)!=null?e:{};if(!l||!s)return;const{width:c,height:u}=l,h=Array.from(this.rootNode,()=>{}),d=Array.from(this.rootNode,()=>{});this.squarify(o,new BBox10(0,0,c,u),h,d);let p=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();p!=null&&!this.properties.group.interactive&&p.children.length!==0&&(p=void 0),this.updateNodeMidPoint(h);const y=(m,S,v)=>{var M,x,_,D,I,T,N,b,A,E,L;const k=h[m.index];if(k==null){S.visible=!1;return}const O=m.children.length===0;let C,R,P,w,B;if(v){const{tile:W,group:Y}=a;C=O?W.fill:Y.fill,R=O?W.fillOpacity:Y.fillOpacity,P=O?W.stroke:Y.stroke,w=O?W.strokeWidth:Y.strokeWidth,B=O?W.strokeOpacity:Y.strokeOpacity}const z=this.getTileFormat(m,v),V=(x=(M=z?.fill)!=null?M:C)!=null?x:this.getNodeFill(m),G=(D=(_=z?.fillOpacity)!=null?_:R)!=null?D:O?n.fillOpacity:r.fillOpacity,F=(T=(I=z?.stroke)!=null?I:P)!=null?T:this.getNodeStroke(m),H=(b=(N=z?.strokeWidth)!=null?N:w)!=null?b:O?n.strokeWidth:r.strokeWidth,U=(E=(A=z?.strokeOpacity)!=null?A:B)!=null?E:O?n.strokeOpacity:r.strokeOpacity;S.crisp=!0,S.fill=validateColor(V),S.fillOpacity=G,S.stroke=validateColor(F),S.strokeWidth=H,S.strokeOpacity=U,S.cornerRadius=O?n.cornerRadius:r.cornerRadius;const q=(L=m.parent)==null?void 0:L.children.every(W=>W.children.length===0),K=m.parent!=null?h[m.parent.index]:void 0,j=m.parent!=null?d[m.parent.index]:void 0;q===!0&&K!=null&&j!=null?(S.clipBBox=k,S.x=K.x+j.left,S.y=K.y+j.top,S.width=K.width-(j.left+j.right),S.height=K.height-(j.top+j.bottom)):(S.clipBBox=void 0,S.x=k.x,S.y=k.y,S.width=k.width,S.height=k.height),S.visible=!0};this.groupSelection.selectByClass(Rect5).forEach(m=>y(m.datum,m,!1)),this.highlightSelection.selectByClass(Rect5).forEach(m=>{var S;const v=m.datum===p;m.visible=v||((S=p?.contains(m.datum))!=null?S:!1),m.visible&&y(m.datum,m,v)});const g=Array.from(this.rootNode,m=>{var S,v,M,x;const{index:_,children:D}=m,I=h[_],T=(S=this.labelData)==null?void 0:S[_];if(!(I==null||T==null))if(D.length===0){const N={width:I.width,height:I.height,meta:null},b=formatLabels(T.label,this.properties.tile.label,T.secondaryLabel,this.properties.tile.secondaryLabel,{padding:n.padding},()=>N);if(b==null)return;const{height:A,label:E,secondaryLabel:L}=b,{textAlign:k,verticalAlign:O,padding:C}=n,R=(v=textAlignFactors2[k])!=null?v:.5,P=I.x+C+(I.width-2*C)*R,w=(M=verticalAlignFactors2[O])!=null?M:.5,B=I.y+C+A*.5+(I.height-2*C-A)*w;return{label:E!=null?{text:E.text,fontSize:E.fontSize,lineHeight:E.lineHeight,style:this.properties.tile.label,x:P,y:B-(A-E.height)*.5}:void 0,secondaryLabel:L!=null?{text:L.text,fontSize:L.fontSize,lineHeight:L.fontSize,style:this.properties.tile.secondaryLabel,x:P,y:B+(A-L.height)*.5}:void 0,verticalAlign:"middle",textAlign:k}}else{if(T?.label==null)return;{const{padding:N,textAlign:b}=r,A=this.groupTitleHeight(m,I);if(A==null)return;const E=I.width-2*N,{text:L}=Text11.wrap(T.label,I.width-2*N,1/0,r.label,"never"),k=(x=textAlignFactors2[b])!=null?x:.5;return{label:{text:L,fontSize:r.label.fontSize,lineHeight:AutoSizedLabel.lineHeight(r.label.fontSize),style:this.properties.group.label,x:I.x+N+E*k,y:I.y+N+A*.5},secondaryLabel:void 0,verticalAlign:"middle",textAlign:b}}}}),f=(m,S,v,M)=>{const x=m.children.length===0,_=g[m.index],D=v===0?_?.label:_?.secondaryLabel;if(_==null||D==null){S.visible=!1;return}let I;if(M){const{tile:T,group:N}=a;I=T.secondaryLabel.color,x?v===0&&(I=T.label.color):I=N.label.color}S.text=D.text,S.fontSize=D.fontSize,S.lineHeight=D.lineHeight,S.fontStyle=D.style.fontStyle,S.fontFamily=D.style.fontFamily,S.fontWeight=D.style.fontWeight,S.fill=I??D.style.color,S.textAlign=_.textAlign,S.textBaseline=_.verticalAlign,S.x=D.x,S.y=D.y,S.visible=!0};this.groupSelection.selectByClass(Text11).forEach(m=>{f(m.datum,m,m.tag,!1)}),this.highlightSelection.selectByClass(Text11).forEach(m=>{var S;const v=m.datum===p;m.visible=v||((S=p?.contains(m.datum))!=null?S:!1),m.visible&&f(m.datum,m,m.tag,v)})})}updateNodeMidPoint(e){this.rootNode.walk(i=>{const o=e[i.index];o!=null&&(i.midPoint.x=o.x+o.width/2,i.midPoint.y=o.y)})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.groupSelection.nodes())}getTooltipHtml(e){var i;const{datum:o,depth:s}=e,{id:a}=this,{tooltip:n,colorKey:r,colorName:l=r,labelKey:c,secondaryLabelKey:u,sizeKey:h,sizeName:d=h,childrenKey:p}=this.properties,y=e.children.length===0,g=y||this.properties.group.interactive;if(o==null||s==null||!g)return import_ag_charts_community132._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const f=c!=null?o[c]:void 0,m=this.getTileFormat(e,!1),S=(i=m?.fill)!=null?i:this.getNodeFill(e);if(!n.renderer&&!f)return import_ag_charts_community132._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const v=[],M=u!=null?o[u]:void 0;M!=null&&u!==r&&u!==h&&v.push(sanitizeHtml13(M));const x=h!=null?o[h]:void 0;x!=null&&v.push(`${d}: ${sanitizeHtml13(x)}`);const _=r!=null?o[r]:void 0;_!=null&&v.push(`${l}: ${sanitizeHtml13(_)}`);const D=v.join("<br>"),I={title:f,color:y?this.properties.tile.label.color:this.properties.group.label.color,backgroundColor:S,content:D};return n.toTooltipHtml(I,{depth:s,datum:o,colorKey:r,labelKey:c,secondaryLabelKey:u,sizeKey:h,title:f,color:S,seriesId:a,childrenKey:p,colorName:l,itemId:void 0,sizeName:d})}};_TreemapSeries.className="TreemapSeries",_TreemapSeries.type="treemap";var TreemapSeries=_TreemapSeries,{DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:DEFAULT_DIVERGING_SERIES_COLOUR_RANGE4,DEFAULT_FONT_FAMILY:DEFAULT_FONT_FAMILY2,DEFAULT_HIERARCHY_FILLS:DEFAULT_HIERARCHY_FILLS2,DEFAULT_HIERARCHY_STROKES:DEFAULT_HIERARCHY_STROKES2,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2,EXTENDS_SERIES_DEFAULTS:EXTENDS_SERIES_DEFAULTS6,DEFAULT_LABEL_COLOUR:DEFAULT_LABEL_COLOUR3,FONT_WEIGHT:FONT_WEIGHT2}=import_ag_charts_community133._Theme,TreemapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",instanceConstructor:TreemapSeries,solo:!0,themeTemplate:{series:{__extends__:EXTENDS_SERIES_DEFAULTS6,group:{label:{enabled:!0,color:DEFAULT_LABEL_COLOUR3,fontStyle:void 0,fontWeight:FONT_WEIGHT2.NORMAL,fontSize:12,fontFamily:DEFAULT_FONT_FAMILY2,spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2,fontStyle:void 0,fontWeight:FONT_WEIGHT2.NORMAL,fontSize:18,minimumFontSize:10,fontFamily:DEFAULT_FONT_FAMILY2,wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2,fontStyle:void 0,fontWeight:void 0,fontSize:12,minimumFontSize:10,fontFamily:DEFAULT_FONT_FAMILY2,wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:DEFAULT_LABEL_COLOUR3},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2},secondaryLabel:{color:DEFAULT_INSIDE_SERIES_LABEL_COLOUR2},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{const{properties:o}=i,{fills:s,strokes:a}=t(e),n=o.get(DEFAULT_DIVERGING_SERIES_COLOUR_RANGE4),r=o.get(DEFAULT_HIERARCHY_FILLS2),l=o.get(DEFAULT_HIERARCHY_STROKES2);return{fills:s,strokes:a,colorRange:n,undocumentedGroupFills:r,undocumentedGroupStrokes:l}}},import_ag_charts_community137=require("ag-charts-community"),import_ag_charts_community135=require("ag-charts-community"),import_ag_charts_community134=require("ag-charts-community"),{DropShadow:DropShadow3,Label:Label10}=import_ag_charts_community134._Scene,{AbstractBarSeriesProperties:AbstractBarSeriesProperties5,BaseProperties:BaseProperties11,PropertiesArray:PropertiesArray3,SeriesTooltip:SeriesTooltip17,Validate:Validate53,BOOLEAN:BOOLEAN18,COLOR_STRING:COLOR_STRING24,FUNCTION:FUNCTION17,LINE_DASH:LINE_DASH18,NUMBER:NUMBER14,OBJECT:OBJECT22,OBJECT_ARRAY:OBJECT_ARRAY2,POSITIVE_NUMBER:POSITIVE_NUMBER28,RATIO:RATIO30,STRING:STRING21,UNION:UNION6}=import_ag_charts_community134._ModuleSupport,WaterfallSeriesTotal=class extends BaseProperties11{};__decorateClass([Validate53(UNION6(["subtotal","total"],"a total type"))],WaterfallSeriesTotal.prototype,"totalType",2),__decorateClass([Validate53(NUMBER14)],WaterfallSeriesTotal.prototype,"index",2),__decorateClass([Validate53(STRING21)],WaterfallSeriesTotal.prototype,"axisLabel",2);var WaterfallSeriesItemTooltip=class extends BaseProperties11{};__decorateClass([Validate53(FUNCTION17,{optional:!0})],WaterfallSeriesItemTooltip.prototype,"renderer",2);var WaterfallSeriesLabel=class extends Label10{constructor(){super(...arguments),this.placement="end",this.padding=6}};__decorateClass([Validate53(UNION6(["start","end","inside"],"a placement"))],WaterfallSeriesLabel.prototype,"placement",2),__decorateClass([Validate53(POSITIVE_NUMBER28)],WaterfallSeriesLabel.prototype,"padding",2);var WaterfallSeriesItem=class extends BaseProperties11{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new DropShadow3().set({enabled:!1}),this.label=new WaterfallSeriesLabel,this.tooltip=new WaterfallSeriesItemTooltip}};__decorateClass([Validate53(STRING21,{optional:!0})],WaterfallSeriesItem.prototype,"name",2),__decorateClass([Validate53(COLOR_STRING24)],WaterfallSeriesItem.prototype,"fill",2),__decorateClass([Validate53(COLOR_STRING24)],WaterfallSeriesItem.prototype,"stroke",2),__decorateClass([Validate53(RATIO30)],WaterfallSeriesItem.prototype,"fillOpacity",2),__decorateClass([Validate53(RATIO30)],WaterfallSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Validate53(LINE_DASH18)],WaterfallSeriesItem.prototype,"lineDash",2),__decorateClass([Validate53(POSITIVE_NUMBER28)],WaterfallSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Validate53(POSITIVE_NUMBER28)],WaterfallSeriesItem.prototype,"strokeWidth",2),__decorateClass([Validate53(POSITIVE_NUMBER28)],WaterfallSeriesItem.prototype,"cornerRadius",2),__decorateClass([Validate53(FUNCTION17,{optional:!0})],WaterfallSeriesItem.prototype,"formatter",2),__decorateClass([Validate53(OBJECT22)],WaterfallSeriesItem.prototype,"shadow",2),__decorateClass([Validate53(OBJECT22)],WaterfallSeriesItem.prototype,"label",2),__decorateClass([Validate53(OBJECT22)],WaterfallSeriesItem.prototype,"tooltip",2);var WaterfallSeriesConnectorLine=class extends BaseProperties11{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};__decorateClass([Validate53(BOOLEAN18)],WaterfallSeriesConnectorLine.prototype,"enabled",2),__decorateClass([Validate53(COLOR_STRING24)],WaterfallSeriesConnectorLine.prototype,"stroke",2),__decorateClass([Validate53(RATIO30)],WaterfallSeriesConnectorLine.prototype,"strokeOpacity",2),__decorateClass([Validate53(LINE_DASH18)],WaterfallSeriesConnectorLine.prototype,"lineDash",2),__decorateClass([Validate53(POSITIVE_NUMBER28)],WaterfallSeriesConnectorLine.prototype,"lineDashOffset",2),__decorateClass([Validate53(POSITIVE_NUMBER28)],WaterfallSeriesConnectorLine.prototype,"strokeWidth",2);var WaterfallSeriesItems=class extends BaseProperties11{constructor(){super(...arguments),this.positive=new WaterfallSeriesItem,this.negative=new WaterfallSeriesItem,this.total=new WaterfallSeriesItem}};__decorateClass([Validate53(OBJECT22)],WaterfallSeriesItems.prototype,"positive",2),__decorateClass([Validate53(OBJECT22)],WaterfallSeriesItems.prototype,"negative",2),__decorateClass([Validate53(OBJECT22)],WaterfallSeriesItems.prototype,"total",2);var WaterfallSeriesProperties=class extends AbstractBarSeriesProperties5{constructor(){super(...arguments),this.item=new WaterfallSeriesItems,this.totals=new PropertiesArray3(WaterfallSeriesTotal),this.line=new WaterfallSeriesConnectorLine,this.tooltip=new SeriesTooltip17}};__decorateClass([Validate53(STRING21)],WaterfallSeriesProperties.prototype,"xKey",2),__decorateClass([Validate53(STRING21)],WaterfallSeriesProperties.prototype,"yKey",2),__decorateClass([Validate53(STRING21,{optional:!0})],WaterfallSeriesProperties.prototype,"xName",2),__decorateClass([Validate53(STRING21,{optional:!0})],WaterfallSeriesProperties.prototype,"yName",2),__decorateClass([Validate53(OBJECT22)],WaterfallSeriesProperties.prototype,"item",2),__decorateClass([Validate53(OBJECT_ARRAY2)],WaterfallSeriesProperties.prototype,"totals",2),__decorateClass([Validate53(OBJECT22)],WaterfallSeriesProperties.prototype,"line",2),__decorateClass([Validate53(OBJECT22)],WaterfallSeriesProperties.prototype,"tooltip",2);var{adjustLabelPlacement,SeriesNodePickMode:SeriesNodePickMode12,fixNumericExtent:fixNumericExtent9,valueProperty:valueProperty14,keyProperty:keyProperty8,accumulativeValueProperty,trailingAccumulatedValueProperty,ChartAxisDirection:ChartAxisDirection16,getRectConfig:getRectConfig2,updateRect:updateRect2,checkCrisp:checkCrisp2,updateLabelNode:updateLabelNode3,prepareBarAnimationFunctions:prepareBarAnimationFunctions3,collapsedStartingBarPosition:collapsedStartingBarPosition2,resetBarSelectionsFn:resetBarSelectionsFn3,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation7,resetLabelFn:resetLabelFn5,animationValidation:animationValidation9,DEFAULT_CARTESIAN_DIRECTION_KEYS:DEFAULT_CARTESIAN_DIRECTION_KEYS2,DEFAULT_CARTESIAN_DIRECTION_NAMES:DEFAULT_CARTESIAN_DIRECTION_NAMES2,isFiniteNumber:isFiniteNumber10,computeBarFocusBounds:computeBarFocusBounds6}=import_ag_charts_community135._ModuleSupport,{Rect:Rect6,motion:motion9}=import_ag_charts_community135._Scene,{sanitizeHtml:sanitizeHtml14,isContinuous}=import_ag_charts_community135._Util,{ContinuousScale:ContinuousScale4}=import_ag_charts_community135._Scale,WaterfallSeries=class extends import_ag_charts_community135._ModuleSupport.AbstractBarSeries{constructor(t){super({moduleCtx:t,directionKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS2,directionNames:DEFAULT_CARTESIAN_DIRECTION_NAMES2,pickModes:[SeriesNodePickMode12.EXACT_SHAPE_MATCH],pathsPerSeries:1,hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:resetBarSelectionsFn3,label:resetLabelFn5}}),this.properties=new WaterfallSeriesProperties,this.seriesItemTypes=new Set(["positive","negative","total"])}processData(t){return __async(this,null,function*(){var e,i,o;const{xKey:s,yKey:a,totals:n}=this.properties,{data:r=[]}=this;if(!this.properties.isValid()||!this.visible)return;const l=x=>isContinuous(x)&&Number(x)>=0,c=x=>isContinuous(x)&&Number(x)<0,u=x=>x==="total"||x==="subtotal",h={missingValue:void 0,invalidValue:void 0},d=[],p=n.reduce((x,_)=>{const D=x.get(_.index);return D?D.push(_):x.set(_.index,[_]),x},new Map);r.forEach((x,_)=>{var D;d.push(x),(D=p.get(_))==null||D.forEach(I=>d.push(__spreadProps(__spreadValues({},I.toJson()),{[s]:I.axisLabel})))});const y=[];this.ctx.animationManager.isSkipped()||y.push(animationValidation9());const g=(e=this.getCategoryAxis())==null?void 0:e.scale,f=(i=this.getValueAxis())==null?void 0:i.scale,{isContinuousX:m,xScaleType:S,yScaleType:v}=this.getScaleInformation({xScale:g,yScale:f}),{processedData:M}=yield this.requestDataModel(t,d,{props:[keyProperty8(s,S,{id:"xValue"}),accumulativeValueProperty(a,v,__spreadProps(__spreadValues({},h),{id:"yCurrent"})),accumulativeValueProperty(a,v,__spreadProps(__spreadValues({},h),{missingValue:0,id:"yCurrentTotal"})),accumulativeValueProperty(a,v,__spreadProps(__spreadValues({},h),{id:"yCurrentPositive",validation:l})),accumulativeValueProperty(a,v,__spreadProps(__spreadValues({},h),{id:"yCurrentNegative",validation:c})),trailingAccumulatedValueProperty(a,v,__spreadProps(__spreadValues({},h),{id:"yPrevious"})),valueProperty14(a,v,{id:"yRaw"}),valueProperty14("totalType","band",{id:"totalTypeValue",missingValue:void 0,validation:u}),...m?[import_ag_charts_community135._ModuleSupport.SMALLEST_KEY_INTERVAL]:[],...y]});this.smallestDataInterval=(o=M.reduced)==null?void 0:o.smallestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:o,smallestDataInterval:s}=this;if(!i||!o)return[];const{keys:[a],values:n}=i.domain,r=o.resolveProcessedDataDefById(this,"xValue");if(t===this.getCategoryDirection()){if(r?.def.type==="key"&&r?.def.valueType==="category")return a;const l=isFiniteNumber10(s)?s:0,c=(e=import_ag_charts_community135._ModuleSupport.extent(a))!=null?e:[NaN,NaN],u=this.getCategoryAxis(),h=!!u?.isReversed(),d=t===ChartAxisDirection16.Y,p=h===d?0:-l,y=h===d?l:0,g=c[0]+p,f=c[1]+y;return fixNumericExtent9([g,f],u)}else{const l=o.resolveProcessedDataIndexById(this,"yCurrent"),c=n[l],u=[Math.min(0,c[0]),Math.max(0,c[1])];return fixNumericExtent9(u)}}createNodeData(){return __async(this,null,function*(){var t,e,i;const{data:o,dataModel:s,smallestDataInterval:a}=this,{line:n}=this.properties,r=this.getCategoryAxis(),l=this.getValueAxis();if(!(o&&r&&l&&s))return;const c=r.scale,u=l.scale,h=r.isReversed(),d=this.getBarDirection()===ChartAxisDirection16.X,p=(t=ContinuousScale4.is(c)?c.calcBandwidth(a):c.bandwidth)!=null?t:10;if(((e=this.processedData)==null?void 0:e.type)!=="ungrouped")return;const y={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),visible:this.visible};if(!this.visible)return y;const g=s.resolveProcessedDataIndexById(this,"yRaw"),f=s.resolveProcessedDataIndexById(this,"xValue"),m=s.resolveProcessedDataIndexById(this,"totalTypeValue"),S=[],v=s.resolveProcessedDataIndexById(this,"yCurrent"),M=s.resolveProcessedDataIndexById(this,"yPrevious"),x=s.resolveProcessedDataIndexById(this,"yCurrentTotal");function _(L,k,O){return L||k?{cumulativeValue:O[x],trailingValue:k?I:0}:{cumulativeValue:O[v],trailingValue:O[M]}}function D(L,k,O,C,R){return L?C:k?(C??0)-(R??0):O}let I=0;const{xKey:T,yKey:N,xName:b,yName:A}=this.properties;(i=this.processedData)==null||i.data.forEach(({keys:L,datum:k,values:O},C)=>{const R=O[m],P=this.isSubtotal(R),w=this.isTotal(R),B=w||P,z=L[f],V=Math.round(c.convert(z)),G=O[g],{cumulativeValue:F,trailingValue:H}=_(w,P,O);B&&(I=F??0);const U=Math.round(u.convert(F)),q=Math.round(u.convert(H)),K=D(w,P,G,F,H),j=(K??0)>=0,W=this.getSeriesItemType(j,R),{fill:Y,stroke:$,strokeWidth:Q,label:Z}=this.getItemConfig(W),tt=j?U:q,J=j?q:U,et=Math.max(Q,Math.abs(J-tt)),X={x:d?Math.min(tt,J):V,y:d?V:Math.min(tt,J),width:d?et:p,height:d?p:et},ot={x:X.x+X.width/2,y:X.y+X.height/2},st=B?U:q,at=Math.floor(n.strokeWidth)%2/2,ct=h?U:st,ut=h?st:U;let nt,rt;d?(nt={x:ct+at,y:X.y},rt={x:ut+at,y:X.y+X.height}):(nt={x:X.x,y:ct+at},rt={x:X.x+X.width,y:ut+at});const vt={x:h?rt.x:nt.x,y:h?rt.y:nt.y,x2:h?nt.x:rt.x,y2:h?nt.y:rt.y,size:0};S.push(vt);const _t=this.getLabelText(Z,{itemId:W==="subtotal"?"total":W,value:K,datum:k,xKey:T,yKey:N,xName:b,yName:A},dt=>isFiniteNumber10(dt)?dt.toFixed(2):String(dt)),mt={index:C,series:this,itemId:W,datum:k,cumulativeValue:F??0,xValue:z,yValue:K,yKey:N,xKey:T,x:X.x,y:X.y,width:X.width,height:X.height,midPoint:ot,fill:Y,stroke:$,strokeWidth:Q,opacity:1,label:__spreadValues({text:_t},adjustLabelPlacement({isPositive:(K??-1)>=0,isVertical:!d,placement:Z.placement,padding:Z.padding,rect:X}))};y.nodeData.push(mt),y.labelData.push(mt)});const E=this.properties.line.enabled;return v!==void 0&&E&&(y.pointData=S),y})}updateSeriesItemTypes(){var t,e;const{dataModel:i,seriesItemTypes:o,processedData:s}=this;if(!i||!s)return;o.clear();const a=i.resolveProcessedDataIndexById(this,"yCurrentPositive"),n=i.resolveProcessedDataIndexById(this,"yCurrentNegative"),r=i.resolveProcessedDataIndexById(this,"totalTypeValue"),l=(t=s.domain.values[a])!=null?t:[],c=(e=s.domain.values[n])!=null?e:[];l.length>0&&o.add("positive"),c.length>0&&o.add("negative");const u=s?.domain.values[r];u&&u.forEach(h=>{(h==="total"||h==="subtotal")&&o.add("total")})}isSubtotal(t){return t==="subtotal"}isTotal(t){return t==="total"}nodeFactory(){return new Rect6}getSeriesItemType(t,e){return e??(t?"positive":"negative")}getItemConfig(t){switch(t){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(t){return __async(this,null,function*(){const{nodeData:e,datumSelection:i}=t,o=e??[];return i.update(o)})}updateDatumNodes(t){return __async(this,null,function*(){const{datumSelection:e,isHighlight:i}=t,{id:o,ctx:s}=this,{yKey:a,highlightStyle:{item:n}}=this.properties,r=this.getCategoryAxis(),l=checkCrisp2(r?.visibleRange),c=this.getCategoryDirection()===ChartAxisDirection16.X;e.each((u,h)=>{const d=h.itemId,{fillOpacity:p,strokeOpacity:y,strokeWidth:g,lineDash:f,lineDashOffset:m,cornerRadius:S,formatter:v,shadow:M}=this.getItemConfig(d),x={fill:h.fill,stroke:h.stroke,fillOpacity:p,strokeOpacity:y,lineDash:f,lineDashOffset:m,fillShadow:M,strokeWidth:this.getStrokeWidth(g),cornerRadius:S},_=c?h.width>0:h.height>0,D=getRectConfig2({datum:h,isHighlighted:i,style:x,highlightStyle:n,formatter:v,seriesId:o,itemId:h.itemId,ctx:s,value:h.yValue,yKey:a});D.crisp=l,D.visible=_,updateRect2({rect:u,config:D})})})}updateLabelSelection(t){return __async(this,null,function*(){const{labelData:e,labelSelection:i}=t;if(e.length===0)return i.update([]);const o=e[0].itemId,{label:s}=this.getItemConfig(o),a=s.enabled?e:[];return i.update(a)})}updateLabelNodes(t){return __async(this,null,function*(){t.labelSelection.each((e,i)=>{updateLabelNode3(e,this.getItemConfig(i.itemId).label,i.label)})})}getTooltipHtml(t){var e,i,o;const s=this.getCategoryAxis(),a=this.getValueAxis();if(!this.properties.isValid()||!s||!a)return import_ag_charts_community135._ModuleSupport.EMPTY_TOOLTIP_CONTENT;const{id:n}=this,{xKey:r,yKey:l,xName:c,yName:u,tooltip:h}=this.properties,{datum:d,itemId:p,xValue:y,yValue:g}=t,{fill:f,strokeWidth:m,name:S,formatter:v}=this.getItemConfig(p);let M;v&&(M=this.ctx.callbackCache.call(v,{datum:d,value:g,xKey:r,yKey:l,fill:f,strokeWidth:m,highlighted:!1,seriesId:n,itemId:t.itemId}));const x=(i=(e=M?.fill)!=null?e:f)!=null?i:"gray",_=sanitizeHtml14(s.formatDatum(y)),D=sanitizeHtml14(a.formatDatum(g)),I=this.isTotal(p),T=this.isSubtotal(p);let N;I?N="Total":T?N="Subtotal":N=(o=S??u)!=null?o:l;const b=sanitizeHtml14(u),A=`<b>${sanitizeHtml14(c??r)}</b>: ${_}<br/><b>${sanitizeHtml14(N)}</b>: ${D}`;return h.toTooltipHtml({title:b,content:A,backgroundColor:x},{seriesId:n,itemId:p,datum:d,xKey:r,yKey:l,xName:c,yName:u,color:x,title:b})}getLegendData(t){if(t!=="category")return[];const{id:e,seriesItemTypes:i}=this,o=[],s=a=>a.charAt(0).toUpperCase()+a.substring(1);return i.forEach(a=>{const{fill:n,stroke:r,fillOpacity:l,strokeOpacity:c,strokeWidth:u,name:h}=this.getItemConfig(a);o.push({legendType:"category",id:e,itemId:a,seriesId:e,enabled:!0,label:{text:h??s(a)},marker:{fill:n,stroke:r,fillOpacity:l,strokeOpacity:c,strokeWidth:u}})}),o}toggleSeriesItem(){}animateEmptyUpdateReady({datumSelection:t,labelSelection:e,contextData:i,paths:o}){const s=prepareBarAnimationFunctions3(collapsedStartingBarPosition2(this.isVertical(),this.axes,"normal"));motion9.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s),seriesLabelFadeInAnimation7(this,"labels",this.ctx.animationManager,e);const{pointData:a}=i;if(!a)return;const[n]=o;this.isVertical()?this.animateConnectorLinesVertical(n,a):this.animateConnectorLinesHorizontal(n,a)}animateConnectorLinesHorizontal(t,e){const{path:i}=t;this.updateLineNode(t);const o=this.getValueAxis(),s=o?.isReversed(),a=s?(c,u)=>c<u:(c,u)=>c>u,n=o?.scale.convert(0),r=e.reduce((c,u)=>(a(u.x,c)&&(c=u.x),c),s?1/0:0),l=(c,u,h,d,p)=>(c-u)/(h-u)*(p-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:r,ease:import_ag_charts_community135._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(c){i.clear(!0),e.forEach((u,h)=>{const d=l(c,n,r,n,u.x),p=l(c,n,r,n,u.x2);h!==0&&i.lineTo(d,u.y),i.moveTo(p,u.y2)}),t.checkPathDirty()}})}animateConnectorLinesVertical(t,e){const{path:i}=t;this.updateLineNode(t);const o=this.getValueAxis(),s=o?.isReversed(),a=s?(c,u)=>c>u:(c,u)=>c<u,n=o?.scale.convert(0),r=e.reduce((c,u)=>(a(u.y,c)&&(c=u.y),c),s?0:1/0),l=(c,u,h,d,p)=>(c-u)/(h-u)*(p-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:r,ease:import_ag_charts_community135._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(c){i.clear(!0),e.forEach((u,h)=>{const d=l(c,n,r,n,u.y),p=l(c,n,r,n,u.y2);h!==0&&i.lineTo(u.x,d),i.moveTo(u.x2,p)}),t.checkPathDirty()}})}animateReadyResize(t){super.animateReadyResize(t),this.resetConnectorLinesPath(t)}updatePaths(t){return __async(this,null,function*(){this.resetConnectorLinesPath({contextData:t.contextData,paths:t.paths})})}resetConnectorLinesPath({contextData:t,paths:e}){if(e.length===0)return;const[i]=e;this.updateLineNode(i);const{path:o}=i;o.clear(!0);const{pointData:s}=t;s&&(s.forEach((a,n)=>{n!==0&&o.lineTo(a.x,a.y),o.moveTo(a.x2,a.y2)}),i.checkPathDirty())}updateLineNode(t){const{stroke:e,strokeWidth:i,strokeOpacity:o,lineDash:s,lineDashOffset:a}=this.properties.line;t.setProperties({fill:void 0,stroke:e,strokeWidth:this.getStrokeWidth(i),strokeOpacity:o,lineDash:s,lineDashOffset:a,lineJoin:"round",pointerEvents:import_ag_charts_community135._Scene.PointerEvents.None})}isLabelEnabled(){const{positive:t,negative:e,total:i}=this.properties.item;return t.label.enabled||e.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:t,seriesRect:e}){var i;return computeBarFocusBounds6((i=this.contextNodeData)==null?void 0:i.nodeData[t],this.contentGroup,e)}};WaterfallSeries.className="WaterfallSeries",WaterfallSeries.type="waterfall";var import_ag_charts_community136=require("ag-charts-community"),itemTheme={strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:import_ag_charts_community136._Theme.FONT_WEIGHT.NORMAL,fontSize:12,fontFamily:import_ag_charts_community136._Theme.DEFAULT_FONT_FAMILY,color:import_ag_charts_community136._Theme.DEFAULT_LABEL_COLOUR,formatter:void 0,placement:"end"}},WATERFALL_SERIES_THEME={series:{__extends__:import_ag_charts_community136._Theme.EXTENDS_SERIES_DEFAULTS,item:{positive:itemTheme,negative:itemTheme,total:itemTheme},line:{stroke:import_ag_charts_community136._Theme.DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,item:{toggleSeriesVisible:!1}}},WaterfallModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,instanceConstructor:WaterfallSeries,defaultAxes:[{type:import_ag_charts_community137._Theme.CARTESIAN_AXIS_TYPE.CATEGORY,position:import_ag_charts_community137._Theme.POSITION.BOTTOM},{type:import_ag_charts_community137._Theme.CARTESIAN_AXIS_TYPE.NUMBER,position:import_ag_charts_community137._Theme.POSITION.LEFT}],themeTemplate:WATERFALL_SERIES_THEME,swapDefaultAxesCondition:({direction:t})=>t==="horizontal",paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,themeTemplateParameters:o})=>{const{properties:s}=o,{fills:a,strokes:n}=t(e);return i?{item:{positive:{fill:a[0],stroke:n[0]},negative:{fill:a[1],stroke:n[1]},total:{fill:a[2],stroke:n[2]}}}:{item:{positive:s.get(import_ag_charts_community137._Theme.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS),negative:s.get(import_ag_charts_community137._Theme.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS),total:s.get(import_ag_charts_community137._Theme.DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS)}}}};function setupEnterpriseModules(){import_ag_charts_community138._ModuleSupport.moduleRegistry.register(AngleCategoryAxisModule,AngleNumberAxisModule,AnimationModule,AnnotationsModule,BackgroundModule,BoxPlotModule,CandlestickModule,OhlcModule,BulletModule,ContextMenuModule,CrosshairModule,DataSourceModule,ErrorBarsModule,MapLineModule,MapLineBackgroundModule,MapMarkerModule,MapShapeModule,MapShapeBackgroundModule,NavigatorModule,GradientLegendModule,HeatmapModule,NightingaleModule,OrdinalTimeAxisModule,RadarAreaModule,RadarLineModule,RadialBarModule,RadialColumnModule,RadiusCategoryAxisModule,RadiusNumberAxisModule,RangeBarModule,RangeAreaModule,SunburstModule,SyncModule,TreemapModule,WaterfallModule,ZoomModule),import_ag_charts_community138._ModuleSupport.enterpriseModule.isEnterprise=!0,import_ag_charts_community138._ModuleSupport.enterpriseModule.licenseManager=t=>{var e,i;return new LicenseManager((i=(e=t.container)==null?void 0:e.ownerDocument)!=null?i:typeof document>"u"?void 0:document)},import_ag_charts_community138._ModuleSupport.enterpriseModule.injectWatermark=injectWatermark}__reExport(main_exports,require("ag-charts-community"),module.exports),setupEnterpriseModules();
