var $n=Object.defineProperty,$u=Object.defineProperties,Zu=Object.getOwnPropertyDescriptor,qu=Object.getOwnPropertyDescriptors,Io=Object.getOwnPropertySymbols,Ju=Object.getPrototypeOf,Zn=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable,ed=Reflect.get,De=Math.pow,Jn=(t,e,i)=>e in t?$n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Y=(t,e)=>{for(var i in e||(e={}))Zn.call(e,i)&&Jn(t,i,e[i]);if(Io)for(var i of Io(e))qn.call(e,i)&&Jn(t,i,e[i]);return t},Oe=(t,e)=>$u(t,qu(e)),er=(t,e)=>{var i={};for(var o in t)Zn.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&Io)for(var o of Io(t))e.indexOf(o)<0&&qn.call(t,o)&&(i[o]=t[o]);return i},u=(t,e,i,o)=>{for(var s=o>1?void 0:o?Zu(e,i):e,a=t.length-1,n;a>=0;a--)(n=t[a])&&(s=(o?n(e,i,s):n(s))||s);return o&&s&&$n(e,i,s),s},$e=(t,e,i)=>ed(Ju(t),i,e),k=(t,e,i)=>new Promise((o,s)=>{var a=l=>{try{r(i.next(l))}catch(c){s(c)}},n=l=>{try{r(i.throw(l))}catch(c){s(c)}},r=l=>l.done?o(l.value):Promise.resolve(l.value).then(a,n);r((i=i.apply(t,e)).next())});import{AgCharts as td,time as id}from"ag-charts-community";import{_ModuleSupport as No}from"ag-charts-community";import{_Theme as tr}from"ag-charts-community";var ir={__extends__:tr.EXTENDS_AXES_DEFAULTS,gridLine:{enabled:!1,__extends__:tr.EXTENDS_AXES_GRID_LINE_DEFAULTS}};import{_ModuleSupport as od,_Scale as sd,_Util as ad}from"ag-charts-community";function Os(t,e,i){const o=(a,n,r,l)=>{let c=t[0];for(let h=a;r>0?h<=n:h>n;h+=r){const d=t[h];if(l(c,d))return!0;c=d}return!1},s=Math.floor(t.length/2);return o(e,s,e,i)?!0:o(t.length-e,s,-e,i)}import{_ModuleSupport as ks,_Scene as or,_Util as nd}from"ag-charts-community";import{_ModuleSupport as rd,_Scale as sr,_Scene as ld,_Util as cd}from"ag-charts-community";import{_ModuleSupport as hd,_Scene as ud,_Util as dd}from"ag-charts-community";var{ChartAxisDirection:pd,Layers:Rs,ARRAY:gd,BOOLEAN:Cs,COLOR_STRING:Ps,FONT_STYLE:yd,FONT_WEIGHT:md,LINE_DASH:fd,NUMBER:ar,POSITIVE_NUMBER:Sd,RATIO:nr,STRING:rr,UNION:xd,AND:vd,Validate:xe,MATCHING_CROSSLINE_TYPE:lr}=hd,{Group:cr}=ud,{createId:Md}=dd,st=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.parallel=void 0}};u([xe(Cs,{optional:!0})],st.prototype,"enabled",2),u([xe(rr,{optional:!0})],st.prototype,"text",2),u([xe(yd,{optional:!0})],st.prototype,"fontStyle",2),u([xe(md,{optional:!0})],st.prototype,"fontWeight",2),u([xe(Sd)],st.prototype,"fontSize",2),u([xe(rr)],st.prototype,"fontFamily",2),u([xe(ar)],st.prototype,"padding",2),u([xe(Ps,{optional:!0})],st.prototype,"color",2),u([xe(Cs,{optional:!0})],st.prototype,"parallel",2);var Ve=class Kn{constructor(){this.id=Md(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.shape="polygon",this.label=new st,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=pd.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.group=new cr({name:`${this.id}`,layer:!0,zIndex:Kn.LINE_LAYER_ZINDEX}),this.labelGroup=new cr({name:`${this.id}`,layer:!0,zIndex:Kn.LABEL_LAYER_ZINDEX})}setSectorNodeProps(e){var i,o,s;e.fill=this.fill,e.fillOpacity=(i=this.fillOpacity)!=null?i:1,e.stroke=this.stroke,e.strokeOpacity=(o=this.strokeOpacity)!=null?o:1,e.strokeWidth=(s=this.strokeWidth)!=null?s:1,e.lineDash=this.lineDash}setLabelNodeProps(e,i,o,s,a){const{label:n}=this;e.x=i,e.y=o,e.text=n.text,e.textAlign="center",e.textBaseline=s,e.rotation=a,e.rotationCenterX=i,e.rotationCenterY=o,e.fill=n.color,e.fontFamily=n.fontFamily,e.fontSize=n.fontSize,e.fontStyle=n.fontStyle,e.visible=!0}calculateLayout(e){}};Ve.LINE_LAYER_ZINDEX=Rs.SERIES_CROSSLINE_LINE_ZINDEX,Ve.RANGE_LAYER_ZINDEX=Rs.SERIES_CROSSLINE_RANGE_ZINDEX,Ve.LABEL_LAYER_ZINDEX=Rs.SERIES_LABEL_ZINDEX,u([xe(Cs,{optional:!0})],Ve.prototype,"enabled",2),u([xe(xd(["range","line"],"a crossLine type"),{optional:!0})],Ve.prototype,"type",2),u([xe(vd(lr("range"),gd.restrict({length:2})),{optional:!0})],Ve.prototype,"range",2),u([xe(lr("value"),{optional:!0})],Ve.prototype,"value",2),u([xe(Ps,{optional:!0})],Ve.prototype,"fill",2),u([xe(nr,{optional:!0})],Ve.prototype,"fillOpacity",2),u([xe(Ps,{optional:!0})],Ve.prototype,"stroke",2),u([xe(ar,{optional:!0})],Ve.prototype,"strokeWidth",2),u([xe(nr,{optional:!0})],Ve.prototype,"strokeOpacity",2),u([xe(fd,{optional:!0})],Ve.prototype,"lineDash",2);var hr=Ve,{ChartAxisDirection:Dd,validateCrossLineValues:Id}=rd,{Path:ur,Sector:Nd,Text:_d}=ld,{normalizeAngle360:ws,isNumberEqual:dr}=cd,pr=class Es extends hr{constructor(){super(),this.direction=Dd.X,this.polygonNode=new ur,this.sectorNode=new Nd,this.lineNode=new ur,this.labelNode=new _d,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.group.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:i,shape:o,type:s,value:a,range:n}=this;if(!i||!s||!Id(s,a,n,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=e,this.labelGroup.visible=e,s==="line"&&o==="circle"&&i instanceof sr.BandScale&&(this.type="range",this.range=[a,a]),this.updateLineNode(e),this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e)}updateLineNode(e){var i,o;const{scale:s,type:a,value:n,lineNode:r}=this;let l;if(!e||a!=="line"||!s||isNaN(l=s.convert(n))){r.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:h}=this;r.visible=!0,r.stroke=this.stroke,r.strokeOpacity=(i=this.strokeOpacity)!=null?i:1,r.strokeWidth=(o=this.strokeWidth)!=null?o:1,r.fill=void 0,r.lineDash=this.lineDash;const d=h*Math.cos(l),p=h*Math.sin(l),y=c*Math.cos(l),f=c*Math.sin(l);r.path.clear({trackChanges:!0}),r.path.moveTo(y,f),r.path.lineTo(d,p),this.group.zIndex=Es.LINE_LAYER_ZINDEX}updatePolygonNode(e){var i;const{polygonNode:o,range:s,scale:a,shape:n,type:r}=this;let l;if(!e||r!=="range"||n!=="polygon"||!a||!s||!(l=(i=a.ticks)==null?void 0:i.call(a))){o.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:h}=this,d=l.indexOf(s[0]),p=l.indexOf(s[1]),f=(d<=p?l.slice(d,p+1):l.slice(d).concat(l.slice(0,p+1))).map(m=>a.convert(m));o.visible=!0,this.setSectorNodeProps(o);const{path:g}=o;g.clear({trackChanges:!0}),f.forEach((m,S)=>{const M=h*Math.cos(m),I=h*Math.sin(m);S===0?g.moveTo(M,I):g.lineTo(M,I)}),c===0?g.lineTo(0,0):f.slice().reverse().forEach(m=>{const S=c*Math.cos(m),M=c*Math.sin(m);g.lineTo(S,M)}),o.path.closePath(),this.group.zIndex=Es.RANGE_LAYER_ZINDEX}updateSectorNode(e){var i;const{sectorNode:o,range:s,scale:a,shape:n,type:r}=this;if(!e||r!=="range"||n!=="circle"||!a||!s){o.visible=!1;return}const{axisInnerRadius:l,axisOuterRadius:c}=this,h=s.map(y=>a.convert(y)),d=(i=a.step)!=null?i:0,p=a instanceof sr.BandScale?d/2:0;o.visible=!0,this.setSectorNodeProps(o),o.centerX=0,o.centerY=0,o.innerRadius=l,o.outerRadius=c,o.startAngle=h[0]-p,o.endAngle=h[1]+p,this.group.zIndex=Es.RANGE_LAYER_ZINDEX}updateLabelNode(e){var i,o;const{label:s,labelNode:a,range:n,scale:r,type:l}=this;if(!e||s.enabled===!1||!s.text||!r||l==="range"&&!n){a.visible=!0;return}const{axisInnerRadius:c,axisOuterRadius:h}=this;let d,p,y,f;if(l==="line"){const g=ws(r.convert(this.value)),m=3*Math.PI/2,S=dr(g,m)||g>m||g<Math.PI/2,M=(c+h)/2*Math.cos(g),I=(c+h)/2*Math.sin(g);d=M+s.padding*Math.cos(g+Math.PI/2),p=I+s.padding*Math.sin(g+Math.PI/2),f=S?"top":"bottom",y=S?g:g-Math.PI}else{const[g,m]=n.map(v=>ws(r.convert(v)));let S=(g+m)/2;g>m&&(S-=Math.PI),S=ws(S);const M=(dr(S,0)||S>0)&&S<Math.PI;let I;const x=(o=(i=r.ticks)==null?void 0:i.call(r))!=null?o:[];this.shape==="circle"||x.length<3?I=h-s.padding:I=h*Math.cos(Math.PI/x.length)-s.padding,d=I*Math.cos(S),p=I*Math.sin(S),f=M?"bottom":"top",y=M?S-Math.PI/2:S+Math.PI/2}this.setLabelNodeProps(a,d,p,f,y)}};pr.className="AngleCrossLine";var gr=pr,{AND:Ad,assignJsonApplyConstructedArray:bd,ChartAxisDirection:Td,GREATER_THAN:Ed,NUMBER:yr,UNION:Ld,ProxyOnWrite:Od,Validate:zs}=ks,{Path:kd,Text:mr}=or,{angleBetween:Rd,isNumberEqual:mi,toRadians:Vs,normalizeAngle360:fi}=nd,Bs=class extends ks.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};u([zs(Ld(["fixed","parallel","perpendicular"],"a label orientation"))],Bs.prototype,"orientation",2);var _o=class extends ks.PolarAxis{constructor(t,e){super(t,e),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new kd),this.computeRange=()=>{const i=fi(-Math.PI/2+Vs(this.startAngle));let o=this.endAngle==null?i+Math.PI*2:-Math.PI/2+Vs(this.endAngle);o<i&&(o+=2*Math.PI),this.range=[i,o]},this.includeInvisibleDomains=!0}get direction(){return Td.X}assignCrossLineArrayConstructor(t){bd(t,gr)}createLabel(){return new Bs}update(){return this.updateScale(),this.updatePosition(),this.updateGridLines(),this.updateTickLines(),this.updateLabels(),this.updateRadiusLine(),this.updateCrossLines(),this.tickData.length}calculateAvailableRange(){const{range:t,gridLength:e}=this;return Rd(t[0],t[1])*e}updatePosition(){const{translation:t,axisGroup:e,gridGroup:i,crossLineGroup:o}=this,s=Math.floor(t.x),a=Math.floor(t.y);e.translationX=s,e.translationY=a,i.translationX=s,i.translationY=a,o.translationX=s,o.translationY=a}updateRadiusLine(){const t=this.radiusLine,{path:e}=t;e.clear({trackChanges:!0});const{points:i,closePath:o}=this.getAxisLinePoints();i.forEach(({x:s,y:a,moveTo:n,arc:r,radius:l=0,startAngle:c=0,endAngle:h=0})=>{r?e.arc(s,a,l,c,h):n?e.moveTo(s,a):e.lineTo(s,a)}),o&&e.closePath(),t.visible=this.line.enabled,t.stroke=this.line.color,t.strokeWidth=this.line.width,t.fill=void 0}getAxisLinePoints(){var t,e;const{scale:i,shape:o,gridLength:s}=this,[a,n]=this.range,r=mi(n-a,2*Math.PI),l=[];if(o==="circle")r?(l.push({x:s,y:0,moveTo:!0}),l.push({x:0,y:0,radius:s,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1})):(l.push({x:s*Math.cos(a),y:s*Math.sin(a),moveTo:!0}),l.push({x:0,y:0,radius:s,startAngle:fi(a),endAngle:fi(n),arc:!0,moveTo:!1}));else if(o==="polygon"){const c=((e=(t=i.ticks)==null?void 0:t.call(i))!=null?e:[]).map(h=>i.convert(h));c.length>2&&c.forEach((h,d)=>{const p=s*Math.cos(h),y=s*Math.sin(h),f=d===0;l.push({x:p,y,moveTo:f})})}return{points:l,closePath:r}}updateGridLines(){const{scale:t,gridLength:e,gridLine:{enabled:i,style:o,width:s},innerRadiusRatio:a}=this;if(!(o&&e>0))return;const n=this.tickData,r=e*a,l=o.length,c=h=>h.value;this.gridLineGroupSelection.update(i?n:[],void 0,c).each((h,d,p)=>{const{value:y}=d,{stroke:f,lineDash:g}=o[p%l],m=t.convert(y);h.x1=r*Math.cos(m),h.y1=r*Math.sin(m),h.x2=e*Math.cos(m),h.y2=e*Math.sin(m),h.stroke=f,h.strokeWidth=s,h.lineDash=g,h.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:t,tickLabelGroupSelection:e}=this,i=this.tickData;e.update(t.enabled?i:[]).each((o,s,a)=>{const n=this.labelData[a];if(!n||n.hidden){o.visible=!1;return}o.text=n.text,o.setFont(t),o.fill=t.color,o.x=n.x,o.y=n.y,o.textAlign=n.textAlign,o.textBaseline=n.textBaseline,o.visible=!0,n.rotation?(o.rotation=n.rotation,o.rotationCenterX=n.x,o.rotationCenterY=n.y):o.rotation=0})}updateTickLines(){const{scale:t,gridLength:e,tick:i,tickLineGroupSelection:o}=this,s=this.tickData;o.update(i.enabled?s:[]).each((a,n)=>{const{value:r}=n,l=t.convert(r),c=Math.cos(l),h=Math.sin(l);a.x1=e*c,a.y1=e*h,a.x2=(e+i.size)*c,a.y2=(e+i.size)*h,a.stroke=i.color,a.strokeWidth=i.width})}createLabelNodeData(t,e,i){const{label:o,gridLength:s,scale:a,tick:n}=this;if(!o.enabled)return[];const r=new mr,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,h=t.map((d,p)=>{var y;const{value:f}=d,g=s+o.padding+n.size,m=a.convert(f),S=Math.cos(m),M=Math.sin(m),I=g*S,x=g*M,{textAlign:v,textBaseline:D}=this.getLabelAlign(m),N=p===t.length-1&&f!==t[0]&&mi(fi(m),fi(a.convert(t[0]))),A=this.getLabelRotation(m);let L=String(f);if(o.formatter){const{callbackCache:T}=this.moduleCtx;L=(y=T.call(o.formatter,{value:f,index:p}))!=null?y:""}r.text=L,r.x=I,r.y=x,r.setFont(o),r.textAlign=v,r.textBaseline=D,r.rotation=A,A&&(r.rotationCenterX=I,r.rotationCenterY=x);let _=A?r.computeTransformedBBox():r.computeBBox();if(_&&e.hideWhenNecessary&&!A){const T=l-_.x,b=_.x+_.width-c,E=1;if(T>E||b>E){const O=_.width-Math.max(T,b);({text:L}=mr.wrap(L,O,1/0,o,"never")),L==="\u2026"&&(L="",_=void 0),r.text=L,_=r.computeBBox()}}return{text:L,x:I,y:x,textAlign:v,textBaseline:D,hidden:L===""||d.hidden||N,rotation:A,box:_}});return o.avoidCollisions&&this.avoidLabelCollisions(h),h}computeLabelsBBox(t,e){this.tickData=this.generateAngleTicks(),this.labelData=this.createLabelNodeData(this.tickData,t,e);const i=this.labelData.map(({box:o})=>o).filter(o=>o!=null);return!this.label.enabled||i.length===0?null:or.BBox.merge(i)}getLabelOrientation(){const{label:t}=this;return t instanceof Bs?t.orientation:"fixed"}getLabelRotation(t){var e;let i=Vs((e=this.label.rotation)!=null?e:0);t=fi(t);const o=this.getLabelOrientation();return o==="parallel"?(i+=t,t>=0&&t<Math.PI?i-=Math.PI/2:i+=Math.PI/2):o==="perpendicular"&&(i+=t,t>=Math.PI/2&&t<3*Math.PI/2&&(i+=Math.PI)),i}getLabelAlign(t){const e=Math.cos(t),i=Math.sin(t);let o,s;const a=this.getLabelOrientation(),n=mi(e,0),r=mi(i,0),l=mi(e,1),c=mi(i,-1),h=e>0&&!n,d=i>0&&!r;return a==="parallel"?(o="center",s=l&&r||d?"top":"bottom"):a==="perpendicular"?(o=c||h?"left":"right",s="middle"):(o="right",n?o="center":h&&(o="left"),s="bottom",r?s="middle":d&&(s="top")),{textAlign:o,textBaseline:s}}updateCrossLines(){var t;(t=this.crossLines)==null||t.forEach(e=>{if(e instanceof gr){const{shape:i,gridLength:o,innerRadiusRatio:s}=this;e.shape=i,e.axisOuterRadius=o,e.axisInnerRadius=o*s}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}};u([Od("rotation"),zs(yr.restrict({min:0,max:360}))],_o.prototype,"startAngle",2),u([zs(Ad(yr.restrict({min:0,max:720}),Ed("startAngle")),{optional:!0})],_o.prototype,"endAngle",2);var{RATIO:fr,Validate:Sr}=od,{BandScale:Cd}=sd,{isNumberEqual:xr}=ad,Si=class extends _o{constructor(t){super(t,new Cd),this.groupPaddingInner=0,this.paddingInner=0}generateAngleTicks(){var t,e;const{scale:i,tick:o,gridLength:s}=this,a=(e=(t=o.values)!=null?t:i.ticks())!=null?e:[];if(a.length<2||isNaN(o.minSpacing))return a.map(h=>({value:h,visible:!0}));const n=a[0],r=i.convert(n),l=s*Math.cos(r),c=s*Math.sin(r);for(let h=1;h<a.length-1;h++){const d=a[h],p=i.convert(d);if(p-r>Math.PI)break;const y=s*Math.cos(p),f=s*Math.sin(p);if(Math.sqrt(De(y-l,2)+De(f-c,2))>o.minSpacing){const m=new Set([n]);return Os(a,h,(S,M)=>{m.add(M)}),a.map(S=>{const M=m.has(S);return{value:S,visible:M}})}}return[{value:n,visible:!0}]}avoidLabelCollisions(t){let{minSpacing:e}=this.label;if(Number.isFinite(e)||(e=0),t.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;const h=l.box.clone().grow(e/2),d=c.box.clone().grow(e/2);return h.collidesBBox(d)},o=t[0],s=t.at(-1),a=new Set([o]),n=xr(o.x,s.x)&&xr(o.y,s.y),r=Math.floor(t.length/2);for(let l=1;l<=r;l++){const c=n?t.slice(0,-1):t;if(!Os(c,l,i)){Os(c,l,(d,p)=>{a.add(p)});break}}t.forEach(l=>{a.has(l)||(l.hidden=!0,l.box=void 0)})}};Si.className="AngleCategoryAxis",Si.type="angle-category",u([Sr(fr)],Si.prototype,"groupPaddingInner",2),u([Sr(fr)],Si.prototype,"paddingInner",2);var Pd={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",instanceConstructor:Si,themeTemplate:ir};import{_ModuleSupport as vr,_Util as wd}from"ag-charts-community";import{_Scale as zd,_Util as Vd}from"ag-charts-community";var{LinearScale:Bd,Invalidating:Fd}=zd,{isNumberEqual:Ud,range:Mr,isDenseInterval:Kd}=Vd,Dr=class extends Bd{constructor(){super(...arguments),this.arcLength=0,this.niceTickStep=0}ticks(){if(!this.domain||this.domain.length<2||this.domain.some(s=>!isFinite(s)))return[];this.refresh();const[t,e]=this.getDomain(),{interval:i}=this;if(i){const s=Math.abs(i),a=this.getPixelRange();if(!Kd({start:t,stop:e,interval:s,availableRange:a}))return Mr(t,e,s)}const o=this.nice&&this.niceTickStep?this.niceTickStep:this.getTickStep(t,e);return Mr(t,e,o)}hasNiceRange(){const t=this.range.slice().sort((i,o)=>i-o);return[Math.PI,2*Math.PI].some(i=>Ud(i,t[1]-t[0]))}getNiceStepAndTickCount(){const[t,e]=this.niceDomain;let i=this.getTickStep(t,e);const o=isNaN(this.maxTickCount)?1/0:this.maxTickCount,s=Math.abs(e-t)/i;let a=Math.pow(2,Math.ceil(Math.log(s)/Math.log(2)));return a>o&&(a/=2,i*=2),{count:a,step:i}}updateNiceDomain(){if(super.updateNiceDomain(),!this.hasNiceRange())return;const t=this.niceDomain[0]>this.niceDomain[1],e=t?this.niceDomain[1]:this.niceDomain[0],{step:i,count:o}=this.getNiceStepAndTickCount(),s=1/i,a=i>=1?Math.ceil(e/i+o)*i:Math.ceil((e+o*i)*s)/s;this.niceDomain=t?[a,e]:[e,a],this.niceTickStep=i}getPixelRange(){return this.arcLength}};u([Fd],Dr.prototype,"arcLength",2);var{AND:Ir,Default:Fs,GREATER_THAN:jd,LESS_THAN:Gd,NUMBER_OR_NAN:Nr,MIN_SPACING:Yd,Validate:Us}=vr,{angleBetween:Wd,isNumberEqual:_r,normalisedExtentWithMetadata:Hd}=wd,Ar=class extends vr.AxisTick{constructor(){super(...arguments),this.maxSpacing=NaN}};u([Us(Yd),Fs(NaN)],Ar.prototype,"maxSpacing",2);var Ui=class extends _o{constructor(t){super(t,new Dr),this.shape="circle",this.min=NaN,this.max=NaN}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:o,clipped:s}=Hd(t,e,i);return{domain:o,clipped:s}}createTick(){return new Ar}getRangeArcLength(){const{range:t}=this,e=Math.min(...t),i=Math.max(...t),o=Wd(e,i)||2*Math.PI,s=this.gridLength;return o*s}generateAngleTicks(){var t;const e=this.getRangeArcLength(),{scale:i,tick:o,range:s}=this,{minSpacing:a=NaN,maxSpacing:n=NaN}=o,r=n?Math.floor(e/n):1,l=a?Math.floor(e/a):1/0,c=Math.floor(4/Math.PI*Math.abs(s[0]-s[1]));return i.tickCount=Math.max(r,Math.min(l,c)),i.minTickCount=r,i.maxTickCount=l,i.arcLength=e,((t=o.values)!=null?t:i.ticks()).map(d=>({value:d,visible:!0}))}avoidLabelCollisions(t){let{minSpacing:e}=this.label;Number.isFinite(e)||(e=0);const i=(a,n)=>{if(a.hidden||n.hidden)return!1;const r=a.box.clone().grow(e/2),l=n.box.clone().grow(e/2);return r.collidesBBox(l)},o=t[0],s=t.at(-1);o!==s&&_r(o.x,s.x)&&_r(o.y,s.y)&&(s.hidden=!0);for(let a=1;a<t.length;a*=2){let n=!1;for(let r=a;r<t.length;r+=a){const l=t[r],c=t[r-a];if(i(c,l)){n=!0;break}}if(!n){t.forEach((r,l)=>{l%a>0&&(r.hidden=!0,r.box=void 0)});return}}t.forEach((a,n)=>{n>0&&(a.hidden=!0,a.box=void 0)})}};Ui.className="AngleNumberAxis",Ui.type="angle-number",u([Us(Ir(Nr,Gd("max"))),Fs(NaN)],Ui.prototype,"min",2),u([Us(Ir(Nr,jd("min"))),Fs(NaN)],Ui.prototype,"max",2);var Xd={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",instanceConstructor:Ui,themeTemplate:ir};import{_ModuleSupport as br,_Scene as Qd}from"ag-charts-community";var{OrdinalTimeScale:$d}=Qd,{dateToNumber:Ks}=br,js=class extends br.CategoryAxis{constructor(t){super(t,new $d)}normaliseDataDomain(t){const e=[],i=new Set;for(let o of t){typeof o=="number"&&(o=new Date(o));const s=Ks(o);i.has(s)||(i.add(s),e.push(o))}return e.sort((o,s)=>Ks(o)-Ks(s)),{domain:e,clipped:!1}}onLabelFormatChange(t,e){e?super.onLabelFormatChange(t,e):this.labelFormatter=this.scale.tickFormat({ticks:t})}};js.className="OrdinalTimeAxis",js.type="ordinal-time";import{_Theme as Tr}from"ag-charts-community";var Zd={__extends__:Tr.EXTENDS_AXES_DEFAULTS,groupPaddingInner:0,label:{autoRotate:!1},gridLine:{__extends__:Tr.EXTENDS_AXES_GRID_LINE_DEFAULTS,enabled:!1}},qd={type:"axis",optionsKey:"axes[]",hidden:!0,packageType:"enterprise",chartTypes:["cartesian"],identifier:"ordinal-time",instanceConstructor:js,themeTemplate:Zd};import{_Theme as Gs}from"ag-charts-community";var Er={__extends__:Gs.EXTENDS_AXES_DEFAULTS,line:{enabled:!1,__extends__:Gs.EXTENDS_AXES_LINE_DEFAULTS},tick:{enabled:!1,__extends__:Gs.EXTENDS_AXES_TICK_DEFAULTS}};import{_ModuleSupport as Jd,_Scale as ep}from"ag-charts-community";import{_ModuleSupport as Ao,_Scene as tp,_Util as ip}from"ag-charts-community";import{_ModuleSupport as op,_Scale as Lr,_Scene as sp,_Util as Ys}from"ag-charts-community";var{ChartAxisDirection:ap,Validate:np,DEGREE:rp,validateCrossLineValues:lp}=op,{Path:cp,Sector:hp,Text:up}=sp,{normalizeAngle360:dp,toRadians:pp,isNumberEqual:gp}=Ys,Or=class extends st{constructor(){super(...arguments),this.positionAngle=void 0}};u([np(rp,{optional:!0})],Or.prototype,"positionAngle",2);var kr=class jn extends hr{constructor(){super(),this.direction=ap.Y,this.label=new Or,this.polygonNode=new cp,this.sectorNode=new hp,this.labelNode=new up,this.outerRadius=0,this.innerRadius=0,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:i,type:o,value:s,range:a}=this;if(!i||!o||!lp(o,s,a,i)){this.group.visible=!1,this.labelGroup.visible=!1;return}o==="line"&&i instanceof Lr.BandScale&&(this.type="range",this.range=[s,s]),this.updateRadii();const{innerRadius:n,outerRadius:r}=this;e&&(e=n>=this.axisInnerRadius&&r<=this.axisOuterRadius),this.group.visible=e,this.labelGroup.visible=e,this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e),this.group.zIndex=this.type==="line"?jn.LINE_LAYER_ZINDEX:jn.RANGE_LAYER_ZINDEX}updateRadii(){var e;const{range:i,scale:o,type:s,axisInnerRadius:a,axisOuterRadius:n}=this;if(!o)return{innerRadius:0,outerRadius:0};const r=h=>n+a-h;let l=0,c=0;if(s==="line")l=r(o.convert(this.value)),c=l;else{const h=Math.abs((e=o?.bandwidth)!=null?e:0),d=i.map(p=>o.convert(p));l=r(Math.max(...d)),c=r(Math.min(...d))+h}this.outerRadius=l,this.innerRadius=c}drawPolygon(e,i,o){i.forEach((s,a)=>{const n=e*Math.cos(s),r=e*Math.sin(s);a===0?o.path.moveTo(n,r):o.path.lineTo(n,r)}),o.path.closePath()}updatePolygonNode(e){const{gridAngles:i,polygonNode:o,scale:s,shape:a,type:n,innerRadius:r,outerRadius:l}=this;if(!e||a!=="polygon"||!s||!i){o.visible=!1;return}o.visible=!0;const c=this.getPadding();o.path.clear({trackChanges:!0}),this.drawPolygon(l-c,i,o);const h=i.slice().reverse(),d=n==="line"?l-c:r+c;this.drawPolygon(d,h,o),this.setSectorNodeProps(o)}updateSectorNode(e){const{axisInnerRadius:i,axisOuterRadius:o,scale:s,sectorNode:a,shape:n,innerRadius:r,outerRadius:l}=this;if(!e||n!=="circle"||!s){a.visible=!1;return}a.visible=!0,a.startAngle=0,a.endAngle=2*Math.PI;const c=this.getPadding();a.innerRadius=Ys.clamp(i,r+c,o),a.outerRadius=Ys.clamp(i,l-c,o),this.setSectorNodeProps(a)}updateLabelNode(e){var i,o;const{innerRadius:s,label:a,labelNode:n,scale:r,shape:l,type:c}=this;if(!e||a.enabled===!1||!a.text||!r){n.visible=!1;return}const h=dp(pp(((i=a.positionAngle)!=null?i:0)-90)),d=(gp(h,0)||h>0)&&h<Math.PI,p=d?h-Math.PI/2:h+Math.PI/2;let y=0;const f=(o=this.gridAngles)!=null?o:[];c==="line"?y=s+a.padding:l==="circle"||f.length<3?y=s-a.padding:y=s*Math.cos(Math.PI/f.length)-a.padding;const g=y*Math.cos(h),m=y*Math.sin(h);let S;c==="line"?S=d?"top":"bottom":S=d?"bottom":"top",this.setLabelNodeProps(n,g,m,S,p)}getPadding(){var e,i;const{scale:o}=this;if(!o)return 0;const s=Math.abs((e=o.bandwidth)!=null?e:0),a=Math.abs((i=o.step)!=null?i:0);return o instanceof Lr.BandScale?(a-s)/2:0}};kr.className="RadiusCrossLine";var Rr=kr,{assignJsonApplyConstructedArray:yp,ChartAxisDirection:mp,Default:Cr,Layers:fp,DEGREE:Pr,MIN_SPACING:Sp,BOOLEAN:xp,Validate:bo}=Ao,{Caption:vp,Group:Mp,Path:Dp,Selection:Ip}=tp,{isNumberEqual:Np,normalizeAngle360:wr,toRadians:_p}=ip,zr=class extends Ao.AxisTick{constructor(){super(...arguments),this.maxSpacing=NaN}};u([bo(Sp),Cr(NaN)],zr.prototype,"maxSpacing",2);var Ws=class extends Ao.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};u([bo(xp,{optional:!0})],Ws.prototype,"autoRotate",2),u([bo(Pr)],Ws.prototype,"autoRotateAngle",2);var Hs=class extends Ao.PolarAxis{constructor(t,e){super(t,e),this.positionAngle=0,this.gridPathGroup=this.gridGroup.appendChild(new Mp({name:`${this.id}-gridPaths`,zIndex:fp.AXIS_GRID_ZINDEX})),this.gridPathSelection=Ip.select(this.gridPathGroup,Dp)}get direction(){return mp.Y}assignCrossLineArrayConstructor(t){yp(t,Rr)}getAxisTransform(){const t=this.scale.range[0],{translation:e,positionAngle:i,innerRadiusRatio:o}=this,s=t*o,a=_p(i);return{translationX:e.x,translationY:e.y-t-s,rotation:a,rotationCenterX:0,rotationCenterY:t+s}}updateSelections(t,e,i){var o;super.updateSelections(t,e,i);const{gridLine:{enabled:s,style:a,width:n},shape:r}=this;if(!a)return;const l=this.prepareTickData(e),c=a.length,h=(m,S)=>{const{stroke:M,lineDash:I}=a[S%c];m.stroke=M,m.strokeWidth=n,m.lineDash=I,m.fill=void 0},[d,p]=(o=this.gridRange)!=null?o:[0,2*Math.PI],y=Np(p-d,2*Math.PI),f=(m,S)=>{const{path:M}=m;M.clear({trackChanges:!0});const I=this.getTickRadius(S);y?(M.moveTo(I,0),M.arc(0,0,I,0,2*Math.PI)):(M.moveTo(I*Math.cos(d),I*Math.sin(d)),M.arc(0,0,I,wr(d),wr(p))),y&&M.closePath()},g=(m,S)=>{const{path:M}=m,I=this.gridAngles;if(M.clear({trackChanges:!0}),!I||I.length<3)return;const x=this.getTickRadius(S);I.forEach((v,D)=>{const N=x*Math.cos(v),A=x*Math.sin(v);D===0?M.moveTo(N,A):M.lineTo(N,A),I.forEach((L,_)=>{const T=x*Math.cos(L),b=x*Math.sin(L);_===0?M.moveTo(T,b):M.lineTo(T,b)}),M.closePath()}),M.closePath()};this.gridPathSelection.update(s?l:[]).each((m,S,M)=>{h(m,M),r==="circle"?f(m,S):g(m,S)})}updateTitle(){var t;const e=c=>c.defaultValue,{title:i,_titleCaption:o,range:s,moduleCtx:{callbackCache:a}}=this,{formatter:n=e}=(t=this.title)!=null?t:{};if(!i){o.enabled=!1;return}o.enabled=i.enabled,o.fontFamily=i.fontFamily,o.fontSize=i.fontSize,o.fontStyle=i.fontStyle,o.fontWeight=i.fontWeight,o.color=i.color,o.wrapping=i.wrapping;let r=!1;const l=o.node;i.enabled&&(r=!0,l.rotation=Math.PI/2,l.x=Math.floor((s[0]+s[1])/2),l.y=-vp.SMALL_PADDING,l.textAlign="center",l.textBaseline="bottom",l.text=a.call(n,this.getTitleFormatterParams())),l.visible=r}createTick(){return new zr}updateCrossLines(){var t;(t=this.crossLines)==null||t.forEach(e=>{if(e instanceof Rr){const{shape:i,gridAngles:o,range:s,innerRadiusRatio:a}=this,n=s[0];e.shape=i,e.gridAngles=o,e.axisOuterRadius=n,e.axisInnerRadius=n*a}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}createLabel(){return new Ws}};u([bo(Pr),Cr(0)],Hs.prototype,"positionAngle",2);var{RATIO:Xs,ProxyPropertyOnWrite:Vr,Validate:Qs}=Jd,{BandScale:Ap}=ep,Gt=class extends Hs{constructor(t){super(t,new Ap),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}prepareTickData(t){return t.slice().reverse()}getTickRadius(t){const{scale:e}=this,i=e.range[0],o=i*this.innerRadiusRatio,s=(i-o)/e.domain.length;return i-t.translationY+o-s/2}};Gt.className="RadiusCategoryAxis",Gt.type="radius-category",u([Qs(Xs)],Gt.prototype,"groupPaddingInner",2),u([Vr("scale","paddingInner"),Qs(Xs)],Gt.prototype,"paddingInner",2),u([Vr("scale","paddingOuter"),Qs(Xs)],Gt.prototype,"paddingOuter",2);var bp={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",instanceConstructor:Gt,themeTemplate:Er};import{_ModuleSupport as Tp,_Scale as Ep,_Util as Lp}from"ag-charts-community";var{AND:Br,Default:Fr,GREATER_THAN:Op,LESS_THAN:kp,NUMBER_OR_NAN:Ur,Validate:Kr}=Tp,{LinearScale:Rp}=Ep,{normalisedExtentWithMetadata:Cp}=Lp,Ki=class extends Hs{constructor(t){super(t,new Rp),this.shape="polygon",this.min=NaN,this.max=NaN}prepareTickData(t){var e;const{scale:i}=this,o=(e=i.getDomain)==null?void 0:e.call(i)[1];return t.filter(({tick:s})=>s!==o).sort((s,a)=>a.tick-s.tick)}getTickRadius(t){const{scale:e}=this,i=e.range[0],o=i*this.innerRadiusRatio;return i-t.translationY+o}normaliseDataDomain(t){const{min:e,max:i}=this,{extent:o,clipped:s}=Cp(t,e,i);return{domain:o,clipped:s}}};Ki.className="RadiusNumberAxis",Ki.type="radius-number",u([Kr(Br(Ur,kp("max"))),Fr(NaN)],Ki.prototype,"min",2),u([Kr(Br(Ur,Op("min"))),Fr(NaN)],Ki.prototype,"max",2);var Pp={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",instanceConstructor:Ki,themeTemplate:Er};import{_ModuleSupport as jr}from"ag-charts-community";var{BOOLEAN:wp,POSITIVE_NUMBER:zp,ObserveChanges:Gr,Validate:Yr}=jr,$s=class extends jr.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!0,t.animationManager.skip(!1)}};u([Gr((t,e)=>{t.ctx.animationManager.skip(!e)}),Yr(wp)],$s.prototype,"enabled",2),u([Gr((t,e)=>{t.ctx.animationManager.defaultDuration=e}),Yr(zp,{optional:!0})],$s.prototype,"duration",2);var Vp={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:$s,themeTemplate:{animation:{enabled:!0}}};import{_ModuleSupport as Zs}from"ag-charts-community";import{_ModuleSupport as Bp,_Scene as Fp}from"ag-charts-community";var{Image:Up}=Fp,{BaseProperties:Kp,ObserveChanges:jp,ProxyProperty:Gp,Validate:Yt,NUMBER:To,POSITIVE_NUMBER:Wr,RATIO:Yp,createElement:Wp,calculatePlacement:Hp}=Bp,mt=class extends Kp{constructor(){super(),this.opacity=1,this.loadedSynchronously=!0,this.containerWidth=0,this.containerHeight=0,this.onLoad=void 0,this.onImageLoad=()=>{var t;this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),(t=this.onLoad)==null||t.call(this))},this.imageElement=Wp("img"),this.imageElement.onload=this.onImageLoad,this.node=new Up(this.imageElement)}get complete(){return this.imageElement.width>0&&this.imageElement.height>0}performLayout(t,e){this.containerWidth=t,this.containerHeight=e,this.node.setProperties(this.complete?Y({visible:!0,opacity:this.opacity},Hp(this.imageElement.width,this.imageElement.height,this.containerWidth,this.containerHeight,this)):{visible:!1})}};u([Yt(To,{optional:!0})],mt.prototype,"top",2),u([Yt(To,{optional:!0})],mt.prototype,"right",2),u([Yt(To,{optional:!0})],mt.prototype,"bottom",2),u([Yt(To,{optional:!0})],mt.prototype,"left",2),u([Yt(Wr,{optional:!0})],mt.prototype,"width",2),u([Yt(Wr,{optional:!0})],mt.prototype,"height",2),u([Yt(Yp)],mt.prototype,"opacity",2),u([Gp("imageElement.src"),jp(t=>t.loadedSynchronously=t.complete)],mt.prototype,"url",2);var{ActionOnSet:Xp,OBJECT:Qp,Validate:$p}=Zs,Hr=class extends Zs.Background{constructor(t){super(t),this.ctx=t,this.image=new mt}onLayoutComplete(t){if(super.onLayoutComplete(t),this.image){const{width:e,height:i}=t.chart;this.image.performLayout(e,i)}}onImageLoad(){this.ctx.updateService.update(Zs.ChartUpdateType.SCENE_RENDER)}};u([$p(Qp,{optional:!0}),Xp({newValue(t){this.node.appendChild(t.node),t.onLoad=()=>this.onImageLoad()},oldValue(t){this.node.removeChild(t.node),t.onLoad=void 0}})],Hr.prototype,"image",2);var Zp={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:Hr};import{_Theme as qp}from"ag-charts-community";import{_ModuleSupport as ji,_Util as Jp}from"ag-charts-community";var ve="ag-chart-context-menu",ht="ag-charts-dark-context-menu",eg=`
.${ve} {
    background: rgb(248, 248, 248);
    border: 1px solid #babfc7;
    border-radius: 5px;
    box-shadow: 0 1px 4px 1px rgba(186, 191, 199, 0.4);
    color: rgb(24, 29, 31);
    font: 13px Verdana, sans-serif;
    position: fixed;
    transition: transform 0.1s ease;
    white-space: nowrap;
    z-index: 99999;
}

.${ve}.${ht} {
    color: white;
    background: #15181c;
}

.${ve}__cover {
    position: fixed;
    left: 0px;
    top: 0px;
}

.${ve}__menu {
    display: flex;
    flex-direction: column;
    padding: 0.5em 0;
}

.${ve}__item {
    background: none;
    border: none;
    box-sizing: border-box;
    font: inherit;
    padding: 0.5em 1em;
    text-align: left;
    -webkit-appearance: none;
    -moz-appearance: none;
}

.${ve}__item.${ht} {
    color: white;
}

.${ve}__item:hover {
    background: rgb(33, 150, 243, 0.1);
}

.${ve}__item:hover.${ht} {
    background: rgb(33, 150, 243, 0.1);
}

.${ve}__item:active {
    background: rgb(33, 150, 243, 0.2);
}

.${ve}__item:active.${ht} {
    background: rgb(33, 150, 243, 0.1);
}

.${ve}__item[disabled] {
    border: none;
    opacity: 0.5;
    text-align: left;
}

.${ve}__item[disabled]:hover {
    background: inherit;
    cursor: inherit;
}

.${ve}__divider {
    margin: 5px 0;
    background: #babfc7;
    height: 1px;
}

.${ve}__divider.${ht} {
    background: rgb(33, 150, 243, 0.1);
}
`,{BOOLEAN:Xr,Validate:Qr,createElement:Gi,getDocument:tg,getWindow:$r,injectStyle:ig}=ji,qs=class extends ji.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!0,this.darkTheme=!1,this.extraActions=[],this.extraNodeActions=[],this.x=0,this.y=0,this.highlightManager=t.highlightManager,this.interactionManager=t.interactionManager,this.registry=t.contextMenuRegistry,this.scene=t.scene;const{Default:e,ContextMenu:i,All:o}=ji.InteractionState,s=e|i;if(this.destroyFns.push(t.interactionManager.addListener("contextmenu",a=>this.onContextMenu(a),s),t.interactionManager.addListener("click",()=>this.onClick(),o)),this.groups={default:[],node:[],extra:[],extraNode:[]},this.canvasElement=t.scene.canvas.element,this.container=tg().body,this.element=this.container.appendChild(Gi("div")),this.element.classList.add(ve),this.element.addEventListener("contextmenu",a=>a.preventDefault()),this.destroyFns.push(()=>{var a;return(a=this.element.parentNode)==null?void 0:a.removeChild(this.element)}),this.hide(),typeof IntersectionObserver<"u"){const a=new IntersectionObserver(n=>{for(const r of n)r.target===this.canvasElement&&r.intersectionRatio===0&&this.hide()},{root:this.container});a.observe(this.canvasElement),this.intersectionObserver=a}if(typeof MutationObserver<"u"){const a=new MutationObserver(()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()});a.observe(this.element,{childList:!0}),this.mutationObserver=a}ig(eg,"contextMenu"),this.registry.registerDefaultAction({id:"download",label:"Download",action:()=>{const a=t.chartService.title;let n="image";a?.enabled&&a?.text!==void 0&&(n=a.text),this.scene.download(n)}})}isShown(){return this.menuElement!==void 0}onClick(){this.isShown()&&this.hide()}onContextMenu(t){if(!this.enabled)return;this.showEvent=t.sourceEvent,this.x=t.pageX,this.y=t.pageY,this.groups.default=this.registry.copyDefaultActions(),this.pickedNode=this.highlightManager.getActivePicked(),this.extraActions.length>0&&(this.groups.extra=[...this.extraActions]),this.extraNodeActions.length>0&&this.pickedNode&&(this.groups.extraNode=[...this.extraNodeActions]);const{default:e,node:i,extra:o,extraNode:s}=this.groups;e.length+i.length+o.length+s.length!==0&&(t.consume(),t.sourceEvent.preventDefault(),this.show())}show(){this.interactionManager.pushState(ji.InteractionState.ContextMenu),this.element.classList.toggle(ht,this.darkTheme);const t=this.renderMenu();this.menuElement?this.element.replaceChild(t,this.menuElement):this.element.appendChild(t),this.menuElement=t,this.element.style.display="block"}hide(){this.interactionManager.popState(ji.InteractionState.ContextMenu),this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0),this.element.style.display="none"}renderMenu(){const t=Gi("div");return t.classList.add(`${ve}__menu`),t.classList.toggle(ht,this.darkTheme),this.appendMenuGroup(t,this.groups.default,!1),this.pickedNode&&this.appendMenuGroup(t,this.groups.node),this.appendMenuGroup(t,this.groups.extra),this.pickedNode&&this.appendMenuGroup(t,this.groups.extraNode),t}appendMenuGroup(t,e,i=!0){e.length!==0&&(i&&t.appendChild(this.createDividerElement()),e.forEach(o=>{const s=this.renderItem(o);s&&t.appendChild(s)}))}renderItem(t){if(t&&typeof t=="object"&&t.constructor===Object)return this.createActionElement(t)}createDividerElement(){const t=Gi("div");return t.classList.add(`${ve}__divider`),t.classList.toggle(ht,this.darkTheme),t}createActionElement({id:t,label:e,action:i}){return t&&this.registry.isDisabled(t)?this.createDisabledElement(e):this.createButtonElement(e,i)}createButtonElement(t,e){const i=Gi("button");return i.classList.add(`${ve}__item`),i.classList.toggle(ht,this.darkTheme),i.innerHTML=t,i.onclick=()=>{var o;const s=(o=this.pickedNode)==null?void 0:o.series.createNodeContextMenuActionEvent(this.showEvent,this.pickedNode);s?(Object.defineProperty(s,"itemId",{enumerable:!1,get:()=>{var a;return Jp.Logger.warnOnce("Property [AgNodeContextMenuActionEvent.itemId] is deprecated. Use [yKey], [angleKey] and others instead."),(a=this.pickedNode)==null?void 0:a.itemId}}),e(s)):e({event:this.showEvent}),this.hide()},i}createDisabledElement(t){const e=Gi("button");return e.classList.add(`${ve}__item`),e.classList.toggle(ht,this.darkTheme),e.disabled=!0,e.innerHTML=t,e}reposition(){const{x:t,y:e}=this;this.element.style.top="unset",this.element.style.bottom="unset",this.element.style.left="unset",this.element.style.right="unset",t+this.element.offsetWidth>$r("innerWidth")?this.element.style.right=`calc(100% - ${t-1}px)`:this.element.style.left=`${t+1}px`,e+this.element.offsetHeight>$r("innerHeight")?this.element.style.bottom=`calc(100% - ${e}px - 0.5em)`:this.element.style.top=`calc(${e}px - 0.5em)`}destroy(){var t,e;super.destroy(),(t=this.intersectionObserver)==null||t.unobserve(this.canvasElement),(e=this.mutationObserver)==null||e.disconnect()}};u([Qr(Xr)],qs.prototype,"enabled",2),u([Qr(Xr)],qs.prototype,"darkTheme",2);var og={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],optionsKey:"contextMenu",instanceConstructor:qs,themeTemplate:{contextMenu:{enabled:!0,darkTheme:qp.IS_DARK_THEME}}};import{_ModuleSupport as Zr,_Scene as qr,_Util as sg}from"ag-charts-community";import{_ModuleSupport as ag,_Scene as Js}from"ag-charts-community";var{ActionOnSet:ng,BaseProperties:rg,BOOLEAN:Jr,FUNCTION:el,NUMBER:Eo,STRING:Lo,Validate:Ze,createElement:lg,injectStyle:cg}=ag,{BBox:hg}=Js,xi="ag-crosshair-label",ug=`
.${xi} {
    position: absolute;
    left: 0px;
    top: 0px;
    user-select: none;
    pointer-events: none;
    font: 12px Verdana, sans-serif;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    box-sizing: border-box;
}

.${xi}-content {
    padding: 0 7px;
    border-radius: 2px;
    line-height: 1.7em;
    background-color: rgb(71,71,71);
    color: rgb(255, 255, 255);
}

.${xi}-hidden {
    top: -10000px !important;
}
`,Wt=class extends Js.ChangeDetectableProperties{constructor(){super(...arguments),this.enabled=!0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0}};u([Ze(Jr)],Wt.prototype,"enabled",2),u([Ze(Lo,{optional:!0})],Wt.prototype,"className",2),u([Ze(Eo)],Wt.prototype,"xOffset",2),u([Ze(Eo)],Wt.prototype,"yOffset",2),u([Ze(Lo,{optional:!0})],Wt.prototype,"format",2),u([Ze(el,{optional:!0})],Wt.prototype,"renderer",2);var Ht=class extends rg{constructor(t){super(),this.labelRoot=t,this.enabled=!0,this.xOffset=0,this.yOffset=0,this.renderer=void 0,this.element=lg("div"),this.element.classList.add(xi),t.appendChild(this.element),cg(ug,"crosshairLabel")}show(t){const{element:e}=this;let i=t.x+this.xOffset,o=t.y+this.yOffset;const s=(l,c,h)=>Math.max(Math.min(c,h),l),a=this.getContainerBoundingBox(),n=a.x+a.width-e.clientWidth-1,r=a.y+a.height-e.clientHeight;i=s(a.x+1,i,n),o=s(a.y,o,r),e.style.transform=`translate(${Math.round(i)}px, ${Math.round(o)}px)`,this.toggle(!0)}setLabelHtml(t){t!==void 0&&(this.element.innerHTML=t)}computeBBox(){const{element:t}=this;return new Js.BBox(t.clientLeft,t.clientTop,t.clientWidth,t.clientHeight)}getContainerBoundingBox(){const{width:t,height:e}=this.labelRoot.getBoundingClientRect();return new hg(0,0,t,e)}toggle(t){this.element.classList.toggle(`${xi}-hidden`,!t)}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element)}toLabelHtml(t,e){var i,o;if(typeof t=="string")return t;e=e??{};const{text:s=(i=e.text)!=null?i:"",color:a=e.color,backgroundColor:n=e.backgroundColor,opacity:r=(o=e.opacity)!=null?o:1}=t,l=`opacity: ${r}; background-color: ${n?.toLowerCase()}; color: ${a}`;return`<div class="${xi}-content" style="${l}">
                    <span>${s}</span>
                </div>`}};u([Ze(Jr)],Ht.prototype,"enabled",2),u([Ze(Lo,{optional:!0}),ng({changeValue(t,e){t!==e&&(e&&this.element.classList.remove(e),t&&this.element.classList.add(t))}})],Ht.prototype,"className",2),u([Ze(Eo)],Ht.prototype,"xOffset",2),u([Ze(Eo)],Ht.prototype,"yOffset",2),u([Ze(Lo,{optional:!0})],Ht.prototype,"format",2),u([Ze(el,{optional:!0})],Ht.prototype,"renderer",2);var{Group:tl,Line:il,BBox:ea}=qr,{createId:dg}=sg,{POSITIVE_NUMBER:ol,RATIO:pg,BOOLEAN:sl,COLOR_STRING:gg,LINE_DASH:yg,OBJECT:mg,Validate:Lt,Layers:al,getDocument:fg}=Zr,ft=class extends Zr.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.id=dg(this),this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.label=new Wt,this.seriesRect=new ea(0,0,0,0),this.hoverRect=new ea(0,0,0,0),this.bounds=new ea(0,0,0,0),this.visible=!1,this.crosshairGroup=new tl({layer:!0,zIndex:al.SERIES_CROSSHAIR_ZINDEX}),this.lineGroup=this.crosshairGroup.appendChild(new tl({name:`${this.id}-crosshair-lines`,zIndex:al.SERIES_CROSSHAIR_ZINDEX})),this.lineGroupSelection=qr.Selection.select(this.lineGroup,il,!1),this.activeHighlight=void 0,this.axisCtx=t.parent,this.crosshairGroup.visible=!1,this.labels={};const e=t.regionManager.getRegion("series");this.destroyFns.push(t.scene.attachNode(this.crosshairGroup),e.addListener("hover",i=>this.onMouseMove(i)),e.addListener("leave",()=>this.onMouseOut()),t.highlightManager.addListener("highlight-change",i=>this.onHighlightChange(i)),t.layoutService.addListener("layout-complete",i=>this.layout(i)),()=>Object.entries(this.labels).forEach(([i,o])=>o.destroy()))}layout({series:{rect:t,paddedRect:e,visible:i},axes:o}){if(this.hideCrosshairs(),!(i&&o&&this.enabled)){this.visible=!1;return}this.visible=!0,this.seriesRect=t,this.hoverRect=e;const{position:s="left",axisId:a}=this.axisCtx,n=o.find(d=>d.id===a);if(!n)return;this.axisLayout=n;const r=n.gridPadding+n.seriesAreaPadding;this.bounds=this.buildBounds(t,s,r);const{crosshairGroup:l,bounds:c}=this;l.translationX=Math.round(c.x),l.translationY=Math.round(c.y);const h=["pointer",...this.axisCtx.seriesKeyProperties()];this.updateSelections(h),this.updateLines(),this.updateLabels(h)}buildBounds(t,e,i){const o=t.clone();return o.x+=e==="left"?-i:0,o.y+=e==="top"?-i:0,o.width+=e==="left"||e==="right"?i:0,o.height+=e==="top"||e==="bottom"?i:0,o}updateSelections(t){this.lineGroupSelection.update(t,e=>e.append(new il),e=>e)}updateLabels(t){var e;const{labels:i,ctx:o,axisLayout:s}=this;t.forEach(n=>{var r,l;(l=i[n])!=null||(i[n]=new Ht((r=o.scene.canvas.container)!=null?r:fg().body)),this.updateLabel(i[n])});const a=(e=this.label.format)!=null?e:s?.label.format;this.labelFormatter=a?this.axisCtx.scaleValueFormatter(a):void 0}updateLabel(t){const{enabled:e,className:i,xOffset:o,yOffset:s,format:a,renderer:n}=this.label;t.enabled=e,t.className=i,t.xOffset=o,t.yOffset=s,t.format=a,t.renderer=n}updateLines(){const{lineGroupSelection:t,bounds:e,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:n,axisLayout:r}=this;if(!r)return;const l=this.isVertical();t.each(c=>{c.stroke=i,c.strokeWidth=o,c.strokeOpacity=s,c.lineDash=a,c.lineDashOffset=n,c.y1=0,c.y2=l?e.height:0,c.x1=0,c.x2=l?0:e.width})}isVertical(){return this.axisCtx.direction==="x"}formatValue(t){var e;const{labelFormatter:i,axisLayout:o,ctx:{callbackCache:s}}=this;if(i){const r=s.call(i,t);if(r!==void 0)return r}const a=t%1===0,n=((e=o?.label.fractionDigits)!=null?e:0)+(a?0:1);return typeof t=="number"?t.toFixed(n):String(t)}onMouseMove(t){if(!this.enabled||this.snap)return;const{crosshairGroup:e,hoverRect:i}=this,{offsetX:o,offsetY:s}=t;if(this.visible&&i.containsPoint(o,s)){e.visible=!0;const a=this.getData(t);this.updatePositions(a)}else this.hideCrosshairs()}onMouseOut(){this.hideCrosshairs()}onHighlightChange(t){var e,i,o;if(!this.enabled)return;const{crosshairGroup:s,axisCtx:a}=this,{datum:n,series:r}=(e=t.currentHighlight)!=null?e:{},l=n&&(((i=r?.axes.x)==null?void 0:i.id)===a.axisId||((o=r?.axes.y)==null?void 0:o.id)===a.axisId);if(this.activeHighlight=l?t.currentHighlight:void 0,this.snap){if(!this.visible||!this.activeHighlight){this.hideCrosshairs();return}const c=this.getActiveHighlightData(this.activeHighlight);this.updatePositions(c),s.visible=!0}}updatePositions(t){const{seriesRect:e,lineGroupSelection:i}=this;i.each((o,s)=>{const a=t[s];if(!a){o.visible=!1;return}o.visible=!0;const{value:n,position:r}=a;let l=0,c=0;this.isVertical()?(l=r,o.translationX=Math.round(l)):(c=r,o.translationY=Math.round(c)),this.label.enabled?this.showLabel(l+e.x,c+e.y,n,s):this.hideLabel(s)})}getData(t){var e,i;const{seriesRect:o,axisCtx:s}=this,a="pointer",{datum:n,xKey:r="",yKey:l=""}=(e=this.activeHighlight)!=null?e:{},{offsetX:c,offsetY:h}=t,d=c-o.x,p=h-o.y,y=this.isVertical();return{[a]:{position:y?d:p,value:s.continuous?s.scaleInvert(y?d:p):(i=n?.[y?r:l])!=null?i:""}}}getActiveHighlightData(t){var e,i;const{axisCtx:o}=this,{datum:s,series:a,xKey:n="",aggregatedValue:r,cumulativeValue:l,midPoint:c}=t,h=a.getKeyProperties(o.direction),d=o.scaleBandwidth()/2,p=((e=a.axes[o.direction])==null?void 0:e.id)===o.axisId,y=h.indexOf("yKey")>-1&&p,f=h.indexOf("xKey")>-1&&p;if(y&&r!==void 0)return{yKey:{value:r,position:o.scaleConvert(r)+d}};if(y&&l!==void 0)return{yKey:{value:l,position:o.scaleConvert(l)+d}};if(f){const m=(i=this.isVertical()?c?.x:c?.y)!=null?i:0;return{xKey:{value:o.continuous?o.scaleInvert(m):s[n],position:m}}}const g={};return h.forEach(m=>{const S=a.properties[m],M=s[S],I=o.scaleConvert(M)+d;g[m]={value:M,position:I}}),g}getLabelHtml(t,e){const{label:{renderer:i},axisLayout:{label:{fractionDigits:o=0}={}}={}}=this,s={text:this.formatValue(t)};if(i){const a={value:t,fractionDigits:o};return e.toLabelHtml(i(a),s)}return e.toLabelHtml(s)}showLabel(t,e,i,o){const{axisCtx:s,bounds:a,axisLayout:n}=this;if(!n)return;const{label:{padding:r},tickSize:l}=n,c=r+l,h=this.labels[o],d=this.getLabelHtml(i,h);h.setLabelHtml(d);const p=h.computeBBox();let y;if(this.isVertical()){const f=-p.width/2,g=s.position==="bottom"?0:-p.height,m=s.position==="bottom"?a.y+a.height+c:a.y-c;y={x:t+f,y:m+g}}else{const f=-p.height/2,g=s.position==="right"?0:-p.width;y={x:(s.position==="right"?a.x+a.width+c:a.x-c)+g,y:e+f}}h.show(y)}hideCrosshairs(){this.crosshairGroup.visible=!1;for(const t in this.labels)this.hideLabel(t)}hideLabel(t){this.labels[t].toggle(!1)}};u([Lt(sl)],ft.prototype,"enabled",2),u([Lt(gg,{optional:!0})],ft.prototype,"stroke",2),u([Lt(yg,{optional:!0})],ft.prototype,"lineDash",2),u([Lt(ol)],ft.prototype,"lineDashOffset",2),u([Lt(ol)],ft.prototype,"strokeWidth",2),u([Lt(pg)],ft.prototype,"strokeOpacity",2),u([Lt(sl)],ft.prototype,"snap",2),u([Lt(mg)],ft.prototype,"label",2);import{_Theme as nl}from"ag-charts-community";var Sg={crosshair:{enabled:!0,snap:!0,stroke:nl.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}},category:{crosshair:{enabled:!1,snap:!0,stroke:nl.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},xg={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","ordinal-time","number","log","time"],instanceConstructor:ft,themeTemplate:Sg};import{_ModuleSupport as rl}from"ag-charts-community";var{BOOLEAN:vg,FUNCTION:Mg,ActionOnSet:Yi,Validate:ll}=rl,vi=class extends rl.BaseModuleInstance{constructor(t){super(),this.enabled=!1,this.getData=()=>Promise.resolve(),this.dataService=t.dataService}updateCallback(t,e){this.dataService&&(t&&e!=null?this.dataService.updateCallback(e):this.dataService.clearCallback())}};u([Yi({newValue(t){this.updateCallback(t,this.getData)}}),ll(vg)],vi.prototype,"enabled",2),u([Yi({newValue(t){this.updateCallback(this.enabled,t)}}),ll(Mg)],vi.prototype,"getData",2),u([Yi({newValue(t){this.dataService.requestThrottle=t}})],vi.prototype,"requestThrottle",2),u([Yi({newValue(t){this.dataService.dispatchThrottle=t}})],vi.prototype,"updateThrottle",2),u([Yi({newValue(t){this.dataService.dispatchOnlyLatest=!t}})],vi.prototype,"updateDuringInteraction",2);var Dg={type:"root",optionsKey:"dataSource",packageType:"enterprise",chartTypes:["cartesian","hierarchy","polar","topology"],instanceConstructor:vi,themeTemplate:{dataSource:{enabled:!1}}};import{AgErrorBarSupportedSeriesTypes as Ig}from"ag-charts-community";import{AgErrorBarSupportedSeriesTypes as cl,_ModuleSupport as ta,_Scene as Ng,_Util as _g}from"ag-charts-community";import{_ModuleSupport as Ag,_Scene as Mi}from"ag-charts-community";var{partialAssign:bg,mergeDefaults:Oo}=Ag,{BBox:St}=Mi,Tg=class{constructor(t){this.components=t,this.union=St.merge(t)}containsPoint(t,e){if(!this.union.containsPoint(t,e))return!1;for(const i of this.components)if(i.containsPoint(t,e))return!0;return!1}},Eg=class extends Mi.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new Mi.Path,this.capsPath=new Mi.Path,this.bboxes=new Tg([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(t){this._datum=t}calculateCapLength(t,e){const{lengthRatio:i=1,length:o}=t,{lengthRatioMultiplier:s,lengthMax:a}=e,n=o??i*s;return Math.min(n,a)}getFormatterParams(t,e){const{datum:i}=this;if(i===void 0||t.formatter===void 0&&t.cap.formatter===void 0)return;const{xLowerKey:o,xLowerName:s,xUpperKey:a,xUpperName:n,yLowerKey:r,yLowerName:l,yUpperKey:c,yUpperName:h}=t;return{datum:i.datum,seriesId:i.datum.seriesId,xKey:i.xKey,yKey:i.yKey,xLowerKey:o,xLowerName:s,xUpperKey:a,xUpperName:n,yLowerKey:r,yLowerName:l,yUpperKey:c,yUpperName:h,highlighted:e}}formatStyles(t,e,i){let o=t,{cap:s}=o,a=er(o,["cap"]);const n=this.getFormatterParams(e,i);if(n!==void 0){if(e.formatter!==void 0){const r=e.formatter(n);a=Oo(r,a),s=Oo(r,s),s=Oo(r?.cap,s)}if(e.cap.formatter!==void 0){const r=e.cap.formatter(n);s=Oo(r,s)}}return{whiskerStyle:a,capsStyle:s}}applyStyling(t,e){bg(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],t,e)}update(t,e,i){if(this.datum===void 0)return;const{whiskerStyle:o,capsStyle:s}=this.formatStyles(t,e,i),{xBar:a,yBar:n,capDefaults:r}=this.datum,l=this.whiskerPath;this.applyStyling(l,o),l.path.clear(),n!==void 0&&(l.path.moveTo(n.lowerPoint.x,n.lowerPoint.y),l.path.lineTo(n.upperPoint.x,n.upperPoint.y)),a!==void 0&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),l.path.closePath(),l.markDirtyTransform(),this.capLength=this.calculateCapLength(s??{},r);const c=this.capLength/2,h=this.capsPath;this.applyStyling(h,s),h.path.clear(),n!==void 0&&(h.path.moveTo(n.lowerPoint.x-c,n.lowerPoint.y),h.path.lineTo(n.lowerPoint.x+c,n.lowerPoint.y),h.path.moveTo(n.upperPoint.x-c,n.upperPoint.y),h.path.lineTo(n.upperPoint.x+c,n.upperPoint.y)),a!==void 0&&(h.path.moveTo(a.lowerPoint.x,a.lowerPoint.y-c),h.path.lineTo(a.lowerPoint.x,a.lowerPoint.y+c),h.path.moveTo(a.upperPoint.x,a.upperPoint.y-c),h.path.lineTo(a.upperPoint.x,a.upperPoint.y+c)),h.path.closePath(),h.markDirtyTransform()}updateBBoxes(){var t;const{capLength:e,whiskerPath:i,capsPath:o}=this,{yBar:s,xBar:a}=(t=this.datum)!=null?t:{},n=e/2,r=[];if(s!==void 0){const l=s.lowerPoint.y-s.upperPoint.y;r.push(new St(s.lowerPoint.x,s.upperPoint.y,i.strokeWidth,l),new St(s.lowerPoint.x-n,s.lowerPoint.y,e,o.strokeWidth),new St(s.upperPoint.x-n,s.upperPoint.y,e,o.strokeWidth))}if(a!==void 0){const l=a.upperPoint.x-a.lowerPoint.x;r.push(new St(a.lowerPoint.x,a.upperPoint.y,l,i.strokeWidth),new St(a.lowerPoint.x,a.lowerPoint.y-n,o.strokeWidth,e),new St(a.upperPoint.x,a.upperPoint.y-n,o.strokeWidth,e))}this.bboxes.components=r,this.bboxes.union=St.merge(r)}containsPoint(t,e){return this.bboxes.containsPoint(t,e)}pickNode(t,e){return this.containsPoint(t,e)?this:void 0}nearestSquared(t,e,i){const{bboxes:o}=this;if(o.union.distanceSquared(t,e)>i)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:s}=St.nearestBox(t,e,o.components);return{nearest:this,distanceSquared:s}}},Lg=class extends Mi.Group{get children(){return super.children}nearestSquared(t,e){const{nearest:i,distanceSquared:o}=Mi.nearestSquaredInContainer(t,e,this);if(i!==void 0&&!isNaN(o))return{datum:i.datum,distanceSquared:o}}};import{_ModuleSupport as Og}from"ag-charts-community";var{BaseProperties:hl,Validate:se,BOOLEAN:ul,COLOR_STRING:dl,FUNCTION:pl,LINE_DASH:gl,NUMBER:kg,OBJECT:Rg,POSITIVE_NUMBER:ko,RATIO:ia,STRING:Ot}=Og,ut=class extends hl{};u([se(ul,{optional:!0})],ut.prototype,"visible",2),u([se(dl,{optional:!0})],ut.prototype,"stroke",2),u([se(ko,{optional:!0})],ut.prototype,"strokeWidth",2),u([se(ia,{optional:!0})],ut.prototype,"strokeOpacity",2),u([se(gl,{optional:!0})],ut.prototype,"lineDash",2),u([se(ko,{optional:!0})],ut.prototype,"lineDashOffset",2),u([se(kg,{optional:!0})],ut.prototype,"length",2),u([se(ia,{optional:!0})],ut.prototype,"lengthRatio",2),u([se(pl,{optional:!0})],ut.prototype,"formatter",2);var Ae=class extends hl{constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new ut}};u([se(Ot,{optional:!0})],Ae.prototype,"yLowerKey",2),u([se(Ot,{optional:!0})],Ae.prototype,"yLowerName",2),u([se(Ot,{optional:!0})],Ae.prototype,"yUpperKey",2),u([se(Ot,{optional:!0})],Ae.prototype,"yUpperName",2),u([se(Ot,{optional:!0})],Ae.prototype,"xLowerKey",2),u([se(Ot,{optional:!0})],Ae.prototype,"xLowerName",2),u([se(Ot,{optional:!0})],Ae.prototype,"xUpperKey",2),u([se(Ot,{optional:!0})],Ae.prototype,"xUpperName",2),u([se(ul,{optional:!0})],Ae.prototype,"visible",2),u([se(dl,{optional:!0})],Ae.prototype,"stroke",2),u([se(ko,{optional:!0})],Ae.prototype,"strokeWidth",2),u([se(ia,{optional:!0})],Ae.prototype,"strokeOpacity",2),u([se(gl,{optional:!0})],Ae.prototype,"lineDash",2),u([se(ko,{optional:!0})],Ae.prototype,"lineDashOffset",2),u([se(pl,{optional:!0})],Ae.prototype,"formatter",2),u([se(Rg)],Ae.prototype,"cap",2);var{fixNumericExtent:yl,groupAccumulativeValueProperty:Cg,isDefined:Be,mergeDefaults:Pg,valueProperty:Ro,ChartAxisDirection:oa}=ta;function wg(t){for(const e of cl)if(e==t.series.type)return t.series;throw new Error(`AG Charts - unsupported series type '${t.series.type}', error bars supported series types: ${cl.join(", ")}`)}var zg=class vo extends ta.BaseModuleInstance{constructor(e){super(),this.properties=new Ae;const i=wg(e),{annotationGroup:o,annotationSelections:s}=i;this.cartesianSeries=i,this.groupNode=new Lg({name:`${o.id}-errorBars`,zIndex:ta.Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:i.getGroupZIndexSubOrder("annotation")}),o.appendChild(this.groupNode),this.selection=Ng.Selection.select(this.groupNode,()=>this.errorBarFactory()),s.add(this.selection),this.destroyFns.push(i.addListener("data-processed",a=>this.onDataProcessed(a)),i.addListener("data-update",a=>this.onDataUpdate(a)),i.addListener("visibility-changed",a=>this.onToggleSeriesItem(a)),e.highlightManager.addListener("highlight-change",a=>this.onHighlightChange(a)),()=>o.removeChild(this.groupNode),()=>s.delete(this.selection))}hasErrorBars(){const{xLowerKey:e,xUpperKey:i,yLowerKey:o,yUpperKey:s}=this.properties;return Be(e)&&Be(i)||Be(o)&&Be(s)}isStacked(){var e;const i=(e=this.cartesianSeries.seriesGrouping)==null?void 0:e.stackCount;return i===void 0?!1:i>0}getUnstackPropertyDefinition(e){const i=[],{cartesianSeries:o}=this,{xLowerKey:s,xUpperKey:a,yLowerKey:n,yUpperKey:r,xErrorsID:l,yErrorsID:c}=this.getMaybeFlippedKeys(),{isContinuousX:h,isContinuousY:d}=e;return n!==void 0&&r!==void 0&&i.push(Ro(o,n,d,{id:c}),Ro(o,r,d,{id:c})),s!==void 0&&a!==void 0&&i.push(Ro(o,s,h,{id:l}),Ro(o,a,h,{id:l})),i}getStackPropertyDefinition(e){var i,o;const s=[],{cartesianSeries:a}=this,{xLowerKey:n,xUpperKey:r,yLowerKey:l,yUpperKey:c,xErrorsID:h,yErrorsID:d}=this.getMaybeFlippedKeys(),{isContinuousX:p,isContinuousY:y}=e,f=(o=(i=a.seriesGrouping)==null?void 0:i.groupIndex)!=null?o:a.id,g=Y({invalidValue:null,missingValue:0,separateNegative:!0},a.visible?{}:{forceValue:0}),m=(M,I,x,v)=>Cg(a,M,I,"normal","current",Y({id:`${x}-${v}`,groupId:`errorGroup-${f}-${v}`},g)),S=(M,I,x,v)=>{s.push(...m(M,x,v,"lower"),...m(I,x,v,"upper"))};return l!==void 0&&c!==void 0&&S(l,c,y,d),n!==void 0&&r!==void 0&&S(n,r,p,h),s}getPropertyDefinitions(e){return this.isStacked()?this.getStackPropertyDefinition(e):this.getUnstackPropertyDefinition(e)}onDataProcessed(e){this.dataModel=e.dataModel,this.processedData=e.processedData}getDomain(e){const{xLowerKey:i,xUpperKey:o,xErrorsID:s,yLowerKey:a,yUpperKey:n,yErrorsID:r}=this.getMaybeFlippedKeys();if(e===oa.X?Be(i)&&Be(o):Be(a)&&Be(n)){const{dataModel:c,processedData:h,cartesianSeries:d}=this,p=d.axes[e],y={x:s,y:r}[e];if(c!==void 0&&h!==void 0)if(this.isStacked()){const f=c.getDomain(d,`${y}-lower`,"value",h),g=c.getDomain(d,`${y}-upper`,"value",h),m=[Math.min(...f,...g),Math.max(...f,...g)];return yl(m,p)}else{const f=c.getDomain(d,y,"value",h);return yl(f,p)}}return[]}onDataUpdate(e){this.dataModel=e.dataModel,this.processedData=e.processedData,Be(e.dataModel)&&Be(e.processedData)&&(this.createNodeData(),this.update())}getNodeData(){const{contextNodeData:e}=this.cartesianSeries;if(e.length>0)return e[0].nodeData}createNodeData(){var e,i;const o=this.getNodeData(),s=(e=this.cartesianSeries.axes[oa.X])==null?void 0:e.scale,a=(i=this.cartesianSeries.axes[oa.Y])==null?void 0:i.scale;if(!(!this.hasErrorBars()||!s||!a||!o))for(let n=0;n<o.length;n++){const{midPoint:r,xLower:l,xUpper:c,yLower:h,yUpper:d}=this.getDatum(o,n);if(r!==void 0){let p,y;Be(l)&&Be(c)&&(p={lowerPoint:{x:this.convert(s,l),y:r.y},upperPoint:{x:this.convert(s,c),y:r.y}}),Be(h)&&Be(d)&&(y={lowerPoint:{x:r.x,y:this.convert(a,h)},upperPoint:{x:r.x,y:this.convert(a,d)}}),o[n].xBar=p,o[n].yBar=y}}}getMaybeFlippedKeys(){let{xLowerKey:e,xUpperKey:i,yLowerKey:o,yUpperKey:s}=this.properties,[a,n]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([e,o]=[o,e],[i,s]=[s,i],[a,n]=[n,a]),{xLowerKey:e,xUpperKey:i,xErrorsID:a,yLowerKey:o,yUpperKey:s,yErrorsID:n}}static getDatumKey(e,i,o){if(i===void 0)return;const s=e.datum[i];if(s!==void 0){if(typeof s!="number"){_g.Logger.warnOnce(`Found [${i}] error value of type ${typeof s}. Expected number type`);return}return s+o}}getDatum(e,i){const{xLowerKey:o,xUpperKey:s,yLowerKey:a,yUpperKey:n}=this.getMaybeFlippedKeys(),r=e[i],l=r.cumulativeValue===void 0||!this.isStacked()?0:r.cumulativeValue-r.yValue,[c,h]=this.cartesianSeries.shouldFlipXY()?[l,0]:[0,l];return{midPoint:r.midPoint,xLower:vo.getDatumKey(r,o,c),xUpper:vo.getDatumKey(r,s,c),yLower:vo.getDatumKey(r,a,h),yUpper:vo.getDatumKey(r,n,h)}}convert(e,i){var o;const s=((o=e.bandwidth)!=null?o:0)/2;return e.convert(i)+s}update(){const e=this.getNodeData();e!==void 0&&(this.selection.update(e),this.selection.each((i,o,s)=>this.updateNode(i,o,s)))}updateNode(e,i,o){e.datum=i,e.update(this.getDefaultStyle(),this.properties,!1),e.updateBBoxes()}pickNodeExact(e){const{x:i,y:o}=this.groupNode.transformPoint(e.x,e.y),s=this.groupNode.pickNode(i,o);if(s!==void 0)return{datum:s.datum,distanceSquared:0}}pickNodeNearest(e){return this.groupNode.nearestSquared(e.x,e.y)}pickNodeMainAxisFirst(e){return this.groupNode.nearestSquared(e.x,e.y)}getTooltipParams(){const{xLowerKey:e,xUpperKey:i,yLowerKey:o,yUpperKey:s,xLowerName:a=e,xUpperName:n=i,yLowerName:r=o,yUpperName:l=s}=this.properties;return{xLowerKey:e,xLowerName:a,xUpperKey:i,xUpperName:n,yLowerKey:o,yLowerName:r,yUpperKey:s,yUpperName:l}}onToggleSeriesItem(e){this.groupNode.visible=e.enabled}makeStyle(e){return{visible:e.visible,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity,cap:Pg(this.properties.cap,e)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(e,i,o){const s=this.getNodeData();if(s!==void 0){for(let a=0;a<s.length;a++)if(e===s[a]){this.selection.nodes()[a].update(i,this.properties,o);break}}}onHighlightChange(e){const{previousHighlight:i,currentHighlight:o}=e;o?.series===this.cartesianSeries&&this.restyleHighlightChange(o,this.getHighlightStyle(),!0),i?.series===this.cartesianSeries&&this.restyleHighlightChange(i,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new Eg}getWhiskerProperties(){const{stroke:e,strokeWidth:i,visible:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}=this.properties;return{stroke:e,strokeWidth:i,visible:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}}};import{_Theme as Vg}from"ag-charts-community";var Bg={series:{errorBar:{visible:!0,stroke:Vg.DEFAULT_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}}},Fg={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:Ig,instanceConstructor:zg,themeTemplate:Bg};import{_ModuleSupport as ml,_Theme as fl}from"ag-charts-community";import{_ModuleSupport as Sl}from"ag-charts-community";import{_ModuleSupport as xl,_Scene as Ug,_Util as Kg}from"ag-charts-community";var{Validate:sa,BOOLEAN:jg,POSITIVE_NUMBER:vl,Layers:aa,ActionOnSet:Ml,CategoryAxis:Gg,GroupedCategoryAxis:Yg}=xl,{toRadians:Wg,Padding:Hg,Logger:Dl}=Kg,{Text:Xg,Group:Co,BBox:Il}=Ug,na=class{constructor(){this.top=0,this.bottom=0}};u([sa(vl)],na.prototype,"top",2),u([sa(vl)],na.prototype,"bottom",2);var Po=class extends xl.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.padding=new na,this.root=new Co({name:"root"}),this.seriesRoot=this.root.appendChild(new Co({name:"Series-root",layer:!0,zIndex:aa.SERIES_LAYER_ZINDEX})),this.axisGridGroup=this.root.appendChild(new Co({name:"Axes-Grids",layer:!0,zIndex:aa.AXIS_GRID_ZINDEX})),this.axisGroup=this.root.appendChild(new Co({name:"Axes-Grids",layer:!0,zIndex:aa.AXIS_GRID_ZINDEX})),this.data=[],this._destroyed=!1,this.miniChartAnimationPhase="initial",this.axes=[],this.series=[]}destroy(){this._destroyed||(this.destroySeries(this.series),this.axes.forEach(t=>t.destroy()),this.axes=[],this._destroyed=!0)}onSeriesChange(t,e){var i;const o=(i=e?.filter(s=>!t.includes(s)))!=null?i:[];this.destroySeries(o);for(const s of t){if(e?.includes(s))continue;s.rootGroup.parent==null&&this.seriesRoot.appendChild(s.rootGroup);const a=this;s.chart={get mode(){return"standalone"},get isMiniChart(){return!0},get seriesRect(){return a.seriesRect},placeLabels(){return new Map}},s.resetAnimation(this.miniChartAnimationPhase==="initial"?"initial":"disabled")}}destroySeries(t){t?.forEach(e=>{e.destroy(),e.rootGroup!=null&&this.seriesRoot.removeChild(e.rootGroup),e.chart=void 0})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t={};this.axes.forEach(e=>{var i;const o=e.direction;((i=t[o])!=null?i:t[o]=[]).push(e)}),this.series.forEach(e=>{e.directions.forEach(i=>{const o=t[i];if(!o){Dl.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}const s=e.getKeys(i),a=this.findMatchingAxis(o,s);if(!a){Dl.warnOnce(`no matching axis for direction [${i}] and keys [${s}]; check series and axes configuration.`);return}e.axes[i]=a})})}findMatchingAxis(t,e){for(const i of t){if(!i.keys.length)return i;if(e){for(const o of e)if(i.keys.includes(o))return i}}}updateData(t){return k(this,null,function*(){this.series.forEach(e=>e.setChartData(t.data)),this.miniChartAnimationPhase==="initial"&&this.ctx.animationManager.onBatchStop(()=>{this.miniChartAnimationPhase="ready",this.series.forEach(e=>e.resetAnimation("disabled"))})})}processData(t){return k(this,null,function*(){this.series.some(i=>i.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const e=this.series.map(i=>i.processData(t.dataController));yield Promise.all(e)})}computeAxisPadding(){const t=new Hg;return this.enabled&&this.axes.forEach(e=>{var i;const{position:o,thickness:s=0,line:a,label:n}=e;if(o==null)return;let r;s>0?r=s:r=(a.enabled?a.width:0)+(n.enabled?((i=n.fontSize)!=null?i:0)*Xg.defaultLineHeightRatio+n.padding:0),t[o]=Math.ceil(r)}),t}layout(t,e){return k(this,null,function*(){const{padding:i}=this,o=this.seriesRect!=null,s=new Il(0,0,t,e-(i.top+i.bottom));this.seriesRect=s,this.seriesRoot.translationY=i.top,this.seriesRoot.setClipRectInGroupCoordinateSpace(this.seriesRoot.inverseTransformBBox(new Il(0,-i.top,t,e)));const a=n=>n instanceof Gg||n instanceof Yg?[0,s.height]:[s.height,0];this.axes.forEach(n=>{const{position:r="left"}=n;switch(r){case"top":case"bottom":n.range=[0,s.width],n.gridLength=s.height;break;case"right":case"left":n.range=a(n),n.gridLength=s.width;break}switch(r){case"top":case"left":n.translation.x=0,n.translation.y=0;break;case"bottom":n.translation.x=0,n.translation.y=e;break;case"right":n.translation.x=t,n.translation.y=0;break}n.gridPadding=0,n.calculateLayout(),n.updatePosition({rotation:Wg(n.rotation),sideFlag:n.label.getSideFlag()}),n.update(void 0,o)}),yield Promise.all(this.series.map(n=>n.update({seriesRect:s})))})}};u([sa(jg)],Po.prototype,"enabled",2),u([Ml({changeValue(t,e=[]){for(const i of e)t.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of t)e?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup)}})],Po.prototype,"axes",2),u([Ml({changeValue(t,e){this.onSeriesChange(t,e)}})],Po.prototype,"series",2);var{ObserveChanges:Qg}=Sl,Nl=class Gn extends Sl.Navigator{constructor(e){super(e),this.miniChart=new Po(e)}updateData(e){return k(this,null,function*(){yield this.miniChart.updateData(e)})}processData(e){return k(this,null,function*(){yield this.miniChart.processData(e)})}performLayout(e){return k(this,null,function*(){const{shrinkRect:i}=yield $e(Gn.prototype,this,"performLayout").call(this,e);if(this.enabled){const{top:o,bottom:s}=this.miniChart.computeAxisPadding();i.shrink(o+s,"bottom"),this.y-=s}return{shrinkRect:i}})}performCartesianLayout(e){return k(this,null,function*(){yield $e(Gn.prototype,this,"performCartesianLayout").call(this,e),yield this.miniChart.layout(this.width,this.height)})}};u([Qg((t,e,i)=>{t.updateBackground(i?.root,e?.root)})],Nl.prototype,"miniChart",2);var $g=Nl,_l,Zg={type:"root",optionsKey:"navigator",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:$g,themeTemplate:Oe(Y({},ml.NavigatorModule.themeTemplate),{navigator:Oe(Y({},(_l=ml.NavigatorModule.themeTemplate)==null?void 0:_l.navigator),{miniChart:{enabled:!1,label:{color:fl.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:fl.DEFAULT_FONT_FAMILY,formatter:void 0,padding:0},padding:{top:0,bottom:0}}})})};import{_ModuleSupport as Al}from"ag-charts-community";var{BOOLEAN:qg,ActionOnSet:Jg,Validate:ey}=Al,bl=class extends Al.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1}};u([Jg({changeValue(t){this.ctx.toolbarManager.toggleVisibility("range-buttons",t)}}),ey(qg)],bl.prototype,"enabled",2);var ty={type:"root",optionsKey:"rangeButtons",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:bl,themeTemplate:{rangeButtons:{enabled:!1}}};import{_ModuleSupport as iy,_Util as oy}from"ag-charts-community";var{BOOLEAN:ra,STRING:sy,UNION:ay,BaseProperties:ny,CartesianAxis:Tl,ChartUpdateType:El,arraysEqual:ry,isDate:ly,isDefined:cy,isFiniteNumber:wo,ObserveChanges:Wi,TooltipManager:hy,Validate:Hi}=iy,{Logger:Ll}=oy,Xt=class extends ny{constructor(t){super(),this.moduleContext=t,this.enabled=!1,this.axes="x",this.nodeInteraction=!0,this.zoom=!0}updateChart(t,e=El.UPDATE_DATA){t.updateService.update(e,{skipSync:!0})}updateSiblings(t){const{syncManager:e}=this.moduleContext;k(this,null,function*(){for(const o of e.getGroupSiblings(t))yield o.waitForDataProcess(120),this.updateChart(o)}).catch(o=>{Ll.warnOnce("Error updating sibling chart",o)})}enabledZoomSync(){const{syncManager:t,zoomManager:e}=this.moduleContext;this.disableZoomSync=e.addListener("zoom-change",()=>{var i;for(const o of t.getGroupSiblings(this.groupId))(i=o.modulesManager.getModule("sync"))!=null&&i.zoom&&o.zoomManager.updateZoom("sync",this.mergeZoom(o))})}enabledNodeInteractionSync(){const{highlightManager:t,syncManager:e}=this.moduleContext;this.disableNodeInteractionSync=t.addListener("highlight-change",i=>{var o,s,a,n,r,l,c,h,d,p,y,f;for(const g of e.getGroupSiblings(this.groupId))if((o=g.modulesManager.getModule("sync"))!=null&&o.nodeInteraction){if(!((s=i.currentHighlight)!=null&&s.datum)){g.highlightManager.updateHighlight(g.id),g.tooltipManager.removeTooltip(g.id);continue}for(const m of g.axes){const S=this.axes==="xy"?"x":this.axes;if(!Tl.is(m)||m.direction!==S)continue;const M=g.series.map(I=>{const x=I.getKeys(m.direction);if(m.keys.length&&!m.keys.some(_=>x.includes(_)))return;const[{nodeData:v}]=I.contextNodeData;if(!v?.length)return;const D=v[0][`${m.direction}Key`];let N=i.currentHighlight.datum[D];const A=ly(N);A&&(N=N.getTime());const L=v.find(_=>{const T=_.datum[D];return A?T.getTime()===N:T===N});return L?{series:I,nodeDatum:L}:null}).filter(cy);if(M.length<2&&((a=M[0])==null?void 0:a.nodeDatum)!==g.highlightManager.getActiveHighlight()){const{series:I,nodeDatum:x}=(n=M[0])!=null?n:{};if(g.highlightManager.updateHighlight(g.id,x),x){const v=(h=(c=(r=x.midPoint)==null?void 0:r.x)!=null?c:(l=x.point)==null?void 0:l.x)!=null?h:0,D=(f=(y=(d=x.midPoint)==null?void 0:d.y)!=null?y:(p=x.point)==null?void 0:p.y)!=null?f:0,N=hy.makeTooltipMeta({offsetX:v,offsetY:D},x);delete N.lastPointerEvent,g.tooltipManager.updateTooltip(g.id,N,I.getTooltipHtml(x))}else g.tooltipManager.removeTooltip(g.id);this.updateChart(g,El.SERIES_UPDATE)}}}})}syncAxes(t=!1){const{syncManager:e}=this.moduleContext,i=e.getChart(),o=e.getGroup(this.groupId),s=o.flatMap(r=>r.series),a=o[0].axes;let n=!1;i.axes.forEach(r=>{if(!Tl.is(r)||this.axes!=="xy"&&this.axes!==r.direction){r.boundSeries=i.series.filter(f=>f.axes[r.direction]===r);return}const{direction:l,min:c,max:h,nice:d,reverse:p}=r;for(const f of a)if(l===f.direction&&(d!==f.nice||p!==f.reverse||c!==f.min&&(wo(c)||wo(f.min))||h!==f.max&&(wo(h)||wo(f.max)))){Ll.warnOnce("To allow synchronization, ensure that all charts have matching min, max, nice, and reverse properties on the synchronized axes."),r.boundSeries=i.series.filter(g=>g.axes[r.direction]===r),this.enabled=!1;return}const y=s.filter(f=>{if(f.visible){const g=f.getKeys(r.direction);return r.keys.length?r.keys.some(m=>g.includes(m)):!0}});ry(r.boundSeries,y)||(r.boundSeries=y,n=!0)}),n&&!t&&this.updateSiblings(this.groupId)}mergeZoom(t){var e,i;const{zoomManager:o}=this.moduleContext;if(this.axes==="xy")return o.getZoom();const s=(e=t.zoomManager.getZoom())!=null?e:{};return s[this.axes]=(i=o.getZoom())==null?void 0:i[this.axes],s}onEnabledChange(){const{syncManager:t}=this.moduleContext;this.enabled?t.subscribe(this.groupId):t.unsubscribe(this.groupId),this.updateSiblings(this.groupId),this.onNodeInteractionChange(),this.onZoomChange()}onGroupIdChange(t,e){if(!this.enabled||t===e)return;const{syncManager:i}=this.moduleContext;i.unsubscribe(e),i.subscribe(t),this.updateSiblings(e),this.updateSiblings(t)}onAxesChange(){if(!this.enabled)return;const{syncManager:t}=this.moduleContext;this.updateChart(t.getChart())}onNodeInteractionChange(){var t;this.enabled&&this.nodeInteraction?this.enabledNodeInteractionSync():(t=this.disableNodeInteractionSync)==null||t.call(this)}onZoomChange(){var t;this.enabled&&this.zoom?this.enabledZoomSync():(t=this.disableZoomSync)==null||t.call(this)}destroy(){var t;const{syncManager:e}=this.moduleContext;e.unsubscribe(this.groupId),this.updateSiblings(this.groupId),(t=this.disableZoomSync)==null||t.call(this)}};Xt.className="Sync",u([Hi(ra),Wi(t=>t.onEnabledChange())],Xt.prototype,"enabled",2),u([Hi(sy,{optional:!0}),Wi((t,e,i)=>t.onGroupIdChange(e,i))],Xt.prototype,"groupId",2),u([Hi(ay(["x","y","xy"],"an axis")),Wi(t=>t.onAxesChange())],Xt.prototype,"axes",2),u([Hi(ra),Wi(t=>t.onNodeInteractionChange())],Xt.prototype,"nodeInteraction",2),u([Hi(ra),Wi(t=>t.onZoomChange())],Xt.prototype,"zoom",2);var uy={type:"root",optionsKey:"sync",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:Xt,themeTemplate:{sync:{enabled:!1}}};import{_ModuleSupport as Qt,_Util as dy}from"ag-charts-community";var Ol=1e3*60*60*24,la=Ol*30,py=Ol*365,zo=new Map([["1m",la],["3m",la*3],["6m",la*6],["YTD",t=>new Date(`${new Date(t).getFullYear()}-01-01`).getTime()],["1y",py],["All",null]]);import{_ModuleSupport as gy,_Scene as yy}from"ag-charts-community";var{COLOR_STRING:my,RATIO:fy,Validate:kl}=gy,Vo=class extends yy.Rect{constructor(){super(...arguments),this.fill="rgb(33, 150, 243)",this.fillOpacity=.2}};Vo.className="ZoomRect",u([kl(my)],Vo.prototype,"fill",2),u([kl(fy)],Vo.prototype,"fillOpacity",2);import{_ModuleSupport as ca}from"ag-charts-community";import{_ModuleSupport as Sy}from"ag-charts-community";var{clamp:xy}=Sy,ee={min:0,max:1},Bo=(t,e=ee.min,i=ee.max)=>xy(e,t,i);function vy(){return{x:Y({},ee),y:Y({},ee)}}function Ye(t){return t.x.max-t.x.min}function at(t){return t.y.max-t.y.min}function ae(t){var e,i,o,s,a,n,r,l;return{x:{min:(i=(e=t?.x)==null?void 0:e.min)!=null?i:ee.min,max:(s=(o=t?.x)==null?void 0:o.max)!=null?s:ee.max},y:{min:(n=(a=t?.y)==null?void 0:a.min)!=null?n:ee.min,max:(l=(r=t?.y)==null?void 0:r.max)!=null?l:ee.max}}}function xt(t,e,i){if(!t)return{x:0,y:0};const o=Bo(e-t.x,0,t.x+t.width),s=Bo(i-t.y,0,t.y+t.height),a=1/t.width*o,n=1-1/t.height*s;return{x:Bo(a),y:Bo(n)}}function Xi(t,e,i){return{x:{min:t.x.min+e,max:t.x.max+e},y:{min:t.y.min+i,max:t.y.max+i}}}function My(t,e,i){return{x:{min:t.x.min,max:t.x.min+Ye(t)*e},y:{min:t.y.min,max:t.y.min+at(t)*i}}}function Rl(t,e,i){const o=Ye(t),s=at(t),a=t.x.min+o/2,n=t.y.min+s/2;return{x:{min:a-o*e/2,max:a+o*e/2},y:{min:n-s*i/2,max:n+s*i/2}}}function Fo(t,e,i,o){const{min:s,max:a}=e,n=s+(a-s)/2,r=t.max-t.min;switch(i){case"start":return{min:s,max:e.min+r};case"end":return{min:e.max-r,max:a};case"middle":return{min:n-r/2,max:n+r/2};case"pointer":return Qi(t,e,o??n);default:return{min:s,max:a}}}function Qi(t,e,i){const o=i*(1-(e.max-e.min-(t.max-t.min))),s=i-o,a=t.min+s,n=t.max+s;return{min:a,max:n}}function Dy(t,e,i){return{x:{min:t.x.min*e,max:t.x.max*e},y:{min:t.y.min*i,max:t.y.max*i}}}function We(t){const e=vy();return e.x=Cl(t.x),e.y=Cl(t.y),e}function Cl(t){const e=t.max-t.min;let i=t.max>ee.max?ee.max-e:t.min,o=t.min<ee.min?e:t.max;return i=Math.max(ee.min,i),o=Math.min(ee.max,o),{min:i,max:o}}function Pl({min:t,max:e},i,o){if(e===i.max)t=e-o;else if(t===i.min)e=t+o;else{const s=i.min+(i.max-i.min)/2;t=s-o/2,e=s+o/2}return{min:t,max:e}}var Iy=class{update(t,e,i,o,s,a){var n;return(n=this.oldZoom)!=null||(this.oldZoom=ae(e===ca.ChartAxisDirection.X?Oe(Y({},s),{x:a}):Oe(Y({},s),{y:a}))),this.updateCoords(t.offsetX,t.offsetY),this.updateZoom(e,i,o)}stop(){this.coords=void 0,this.oldZoom=void 0}updateCoords(t,e){this.coords?(this.coords.x2=t,this.coords.y2=e):this.coords={x1:t,y1:e,x2:t,y2:e}}updateZoom(t,e,i){const{coords:o,oldZoom:s}=this;let a=ae(s);if(!o||!s)return t===ca.ChartAxisDirection.X?a.x:a.y;const n=xt(i,o.x1,o.y1),r=xt(i,o.x2,o.y2);if(t===ca.ChartAxisDirection.X){const c=(r.x-n.x)*Ye(s);return a.x.max+=c,a.x=Fo(a.x,s.x,e,n.x),a=We(a),a.x}const l=(r.y-n.y)*at(s);return a.y.max-=l,a.y=Fo(a.y,s.y,e,n.y),a=We(a),a.y}};import{_ModuleSupport as wl}from"ag-charts-community";var Ny=class{update(t,e,i){return this.updateCoords(t.offsetX,t.offsetY),this.translateZooms(e,i)}stop(){this.coords=void 0}updateCoords(t,e){this.coords?this.coords={x1:this.coords.x2,y1:this.coords.y2,x2:t,y2:e}:this.coords={x1:t,y1:e,x2:t,y2:e}}translateZooms(t,e){var i;const{x1:o=0,y1:s=0,x2:a=0,y2:n=0}=(i=this.coords)!=null?i:{},r=o<=a?a-o:o-a,l=s<=n?n-s:s-n,c=xt(t,t.x+r,t.y+t.height-l),h=o<=a?-c.x:c.x,d=s<=n?c.y:-c.y,p={};for(const[y,{direction:f,zoom:g}]of Object.entries(e)){let m;f===wl.ChartAxisDirection.X?m=ae({x:g}):m=ae({y:g}),m=We(Xi(m,h*Ye(m),d*at(m))),f===wl.ChartAxisDirection.X?p[y]={direction:f,zoom:m.x}:p[y]={direction:f,zoom:m.y}}return p}};import{_ModuleSupport as _y,_Util as Ay}from"ag-charts-community";var{AND:zl,DATE:Vl,NUMBER:Bl,OR:Fl,ActionOnSet:Ul,isFiniteNumber:Kl,isValidDate:jl,Validate:Gl}=_y,Uo=class{constructor(t){this.onChange=t}getRange(){return this.getRangeWithValues(this.start,this.end)}getInitialRange(){return this.getRangeWithValues(this.initialStart,this.initialEnd)}extendToEnd(t){return this.extendWith(e=>Number(e)-t)}extendWith(t){var e;if(!this.domain)return;const i=this.domain.at(-1);if(i==null)return;const o=t(i),s=this.start!==o||this.end!==i;this.end=i,this.start=o,s||(e=this.onChange)==null||e.call(this,this.getRange())}extendAll(){var t;if(!this.domain)return;const e=this.domain[0],i=this.domain.at(-1),o=this.start!==e||this.end!==i;this.start=e,this.end=i,o||(t=this.onChange)==null||t.call(this,this.getRange())}updateAxis(t){const e=t.find(({domain:a})=>{const n=!Kl(a[0])||!Kl(a.at(-1)),r=!jl(a[0])||!jl(a.at(-1));return n||r});let i=this.domain;if(!e)return i!=null;let o=e.domain;i!=null&&i[0]instanceof Date&&(i=i.map(a=>a instanceof Date?a.getTime():a),o=o.map(a=>a instanceof Date?a.getTime():a));const s=i==null||!Ay.areArrayItemsStrictlyEqual(i,o);return s&&(this.domain=e.domain),s}getRangeWithValues(t,e){const{domain:i}=this;let o=i?.[0],s=i?.at(-1);if(t==null&&e==null||o==null||s==null)return;o=Number(o),s=Number(s);let a=0,n=1;return t!=null&&(a=(Number(t)-o)/(s-o)),e!=null&&(n=(Number(e)-o)/(s-o)),{min:a,max:n}}};u([Ul({changeValue(t){var e,i;(e=this.initialStart)!=null||(this.initialStart=t),(i=this.onChange)==null||i.call(this,this.getRangeWithValues(t,this.end))}}),Gl(zl(Fl(Vl,Bl)),{optional:!0})],Uo.prototype,"start",2),u([Ul({changeValue(t){var e,i;(e=this.initialEnd)!=null||(this.initialEnd=t),(i=this.onChange)==null||i.call(this,this.getRangeWithValues(this.start,t))}}),Gl(zl(Fl(Vl,Bl)),{optional:!0})],Uo.prototype,"end",2);import{_ModuleSupport as by}from"ag-charts-community";var{AND:Yl,GREATER_THAN:Ty,LESS_THAN:Ey,RATIO:Wl,ActionOnSet:Hl,Validate:Xl}=by,Ko=class{constructor(t){this.onChange=t}getRatio(){return this.getRatioWithValues(this.start,this.end)}getInitialRatio(){return this.getRatioWithValues(this.initialStart,this.initialEnd)}getRatioWithValues(t,e){if(!(t==null&&e==null))return{min:t??ee.min,max:e??ee.max}}};u([Hl({changeValue(t){var e,i;(e=this.initialStart)!=null||(this.initialStart=t),(i=this.onChange)==null||i.call(this,this.getRatioWithValues(t,this.end))}}),Xl(Yl(Wl,Ey("end")),{optional:!0})],Ko.prototype,"start",2),u([Hl({changeValue(t){var e,i;(e=this.initialEnd)!=null||(this.initialEnd=t),(i=this.onChange)==null||i.call(this,this.getRatioWithValues(this.start,t))}}),Xl(Yl(Wl,Ty("start")),{optional:!0})],Ko.prototype,"end",2);import{_ModuleSupport as Ly}from"ag-charts-community";var Oy=200,ky=class{update(t,e,i,o){const s=t.deltaX*e*Oy;return this.translateZooms(i,o,s)}translateZooms(t,e,i){const o={},s=xt(t,t.x+Math.abs(i),0),a=i<0?-s.x:s.x;for(const[n,{direction:r,zoom:l}]of Object.entries(e)){if(r!==Ly.ChartAxisDirection.X)continue;let c=ae({x:l});c=We(Xi(c,a*Ye(c),0)),o[n]={direction:r,zoom:c.x}}return o}},Ry=class{update(t,e,i,o,s,a,n,r){const l=ae(r),c=t.sourceEvent,h=t.deltaY;let d=ae(l);return d.x.max+=s?e*h*Ye(l):0,d.y.max+=a?e*h*at(l):0,i==="pointer"&&s||o==="pointer"&&a?d=this.scaleZoomToPointer(c,s,a,n,l,d):(s&&(d.x=Fo(d.x,l.x,i)),a&&(d.y=Fo(d.y,l.y,o))),d=We(d),d}scaleZoomToPointer(t,e,i,o,s,a){var n,r;const l=xt(o,(n=t.offsetX)!=null?n:t.clientX,(r=t.offsetY)!=null?r:t.clientY);return a.x=e?Qi(a.x,s.x,l.x):a.x,a.y=i?Qi(a.y,s.y,l.y):a.y,a}},Cy=class{constructor(t){this.rect=t,this.rect.visible=!1}update(t,e,i,o,s,a,n){this.rect.visible=!0,this.updateCoords(t.offsetX,t.offsetY,e,i,o,s,a,n),this.updateRect(a)}stop(t,e,i){let o=ae();if(!t||!e)return o;this.coords&&(o=this.createZoomFromCoords(e,i));const s=e.width/t.width,a=e.height/t.height;return o=We(Dy(o,s,a)),this.reset(),o}reset(){this.coords=void 0,this.rect.visible=!1}didUpdate(){return this.rect.visible}updateCoords(t,e,i,o,s,a,n,r){if(!this.coords){this.coords={x1:t,y1:e,x2:t,y2:e};return}if(this.coords.x2=t,this.coords.y2=e,!n)return;const l=ae(r),c=this.getNormalisedDimensions(),h=n.width/n.height,d=l.x.max-l.x.min,p=l.y.max-l.y.min,y=i/d,f=o/p;c.width/n.width<y&&(this.coords.x2<this.coords.x1?this.coords.x2=this.coords.x1-n.width*y:this.coords.x2=this.coords.x1+n.width*y),a&&!s?c.height/n.height<f&&(this.coords.y2<this.coords.y1?this.coords.y2=this.coords.y1-n.width*y:this.coords.y2=this.coords.y1+n.height*f):this.coords.y2<this.coords.y1?this.coords.y2=Math.min(this.coords.y1-c.width/h,this.coords.y1-n.height*f):this.coords.y2=Math.max(this.coords.y1+c.width/h,this.coords.y1+n.height*f),s||(this.coords.x1=n.x,this.coords.x2=n.x+n.width),a||(this.coords.y1=n.y,this.coords.y2=n.y+n.height)}updateRect(t){if(!t)return;const{rect:e}=this,i=this.getNormalisedDimensions(),{width:o,height:s}=i;let{x:a,y:n}=i;a=Math.max(a,t.x),a-=Math.max(0,a+o-(t.x+t.width)),n=Math.max(n,t.y),n-=Math.max(0,n+s-(t.y+t.height)),e.x=a,e.y=n,e.width=o,e.height=s}createZoomFromCoords(t,e){const i=ae(e),o=this.getNormalisedDimensions(),s=xt(t,o.x,o.y+o.height),a=o.width/t.width,n=o.height/t.height;let r=My(i,a,n);const l=s.x*(i.x.max-i.x.min),c=s.y*(i.y.max-i.y.min);return r=Xi(r,l,c),r=We(r),r}getNormalisedDimensions(){var t;const{x1:e=0,y1:i=0,x2:o=0,y2:s=0}=(t=this.coords)!=null?t:{},a=e<=o?e:o,n=i<=s?i:s,r=e<=o?o-e:e-o,l=i<=s?s-i:i-s;return{x:a,y:n,width:r,height:l}}},{BOOLEAN:Di,NUMBER:Ql,RATIO:Py,UNION:ha,ActionOnSet:wy,ChartAxisDirection:vt,ChartUpdateType:zy,Validate:He,round:Vy}=Qt,jo=t=>Vy(t,10),$l=ha(["pointer","start","middle","end"],"an anchor cord"),ua="zoom-action",da="pan-action",Go="zoom-cursor",Zl="zoom-tooltip",Fe=class extends Qt.BaseModuleInstance{constructor(t){super(),this.ctx=t,this.enabled=!1,this.enableAxisDragging=!0,this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.panKey="alt",this.axes="x",this.scrollingStep=(ee.max-ee.min)/10,this.minVisibleItemsX=2,this.minVisibleItemsY=2,this.anchorPointX="end",this.anchorPointY="middle",this.rangeX=new Uo(this.onRangeChange.bind(this,vt.X)),this.rangeY=new Uo(this.onRangeChange.bind(this,vt.Y)),this.ratioX=new Ko(this.onRatioChange.bind(this,vt.X)),this.ratioY=new Ko(this.onRatioChange.bind(this,vt.Y)),this.axisDragger=new Iy,this.panner=new Ny,this.scroller=new Ry,this.scrollPanner=new ky,this.dragState=0,this.minRatioX=0,this.minRatioY=0,this.enableSecondaryAxis=!1,this.scene=t.scene,this.cursorManager=t.cursorManager,this.highlightManager=t.highlightManager,this.tooltipManager=t.tooltipManager,this.zoomManager=t.zoomManager,this.updateService=t.updateService,this.contextMenuRegistry=t.contextMenuRegistry,this.toolbarManager=t.toolbarManager;const e=new Vo;this.selector=new Cy(e);const{Default:i,ZoomDrag:o,Animation:s}=Qt.InteractionState,a=i|s|o,n=i|s,r=t.regionManager.getRegion("series");this.destroyFns.push(this.scene.attachNode(e),r.addListener("dblclick",l=>this.onDoubleClick(l),n),r.addListener("drag",l=>this.onDrag(l),a),r.addListener("drag-start",l=>this.onDragStart(l),a),r.addListener("drag-end",()=>this.onDragEnd(),a),r.addListener("wheel",l=>this.onWheel(l),n),r.addListener("hover",()=>this.onAxisLeave(),n),r.addListener("leave",()=>this.onAxisLeave(),n),t.chartEventManager.addListener("axis-hover",l=>this.onAxisHover(l)),t.gestureDetector.addListener("pinch-move",l=>this.onPinchMove(l)),t.toolbarManager.addListener("button-pressed",l=>this.onToolbarButtonPress(l)),t.layoutService.addListener("layout-complete",l=>this.onLayoutComplete(l)),t.updateService.addListener("update-complete",l=>this.onUpdateComplete(l)),t.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}registerContextMenuActions(){this.contextMenuRegistry.registerDefaultAction({id:ua,label:"Zoom to here",action:e=>this.onContextMenuZoomToHere(e)}),this.contextMenuRegistry.registerDefaultAction({id:da,label:"Pan to here",action:e=>this.onContextMenuPanToHere(e)});const t=ae(this.zoomManager.getZoom());this.toggleContextMenuActions(t)}addToolbarButtons(){for(const[t]of zo.entries())this.toolbarManager.addButton(t,{label:t})}removeToolbarButtons(){for(const[t]of zo.entries())this.toolbarManager.removeButton(t)}toggleContextMenuActions(t){this.isMinZoom(t)?this.contextMenuRegistry.disableAction(ua):this.contextMenuRegistry.enableAction(ua),this.isMaxZoom(t)?this.contextMenuRegistry.disableAction(da):this.contextMenuRegistry.enableAction(da)}onRangeChange(t,e){if(!e)return;const i=ae(this.zoomManager.getZoom());i[t]=e,this.updateZoom(We(i))}onRatioChange(t,e){if(!e)return;let i=this.ratioX.getRatio(),o=this.ratioY.getRatio();t===vt.X?i=e:o=e;const s=We(ae({x:i,y:o}));this.updateZoom(s)}onDoubleClick(t){var e,i,o,s,a;if(!this.enabled||!this.enableDoubleClickToReset)return;const n=(i=(e=this.rangeX.getInitialRange())!=null?e:this.ratioX.getInitialRatio())!=null?i:ee,r=(s=(o=this.rangeY.getInitialRange())!=null?o:this.ratioY.getInitialRatio())!=null?s:ee,{min:l,max:c}=n,{min:h,max:d}=r;if(this.hoveredAxis){const{id:p,direction:y}=this.hoveredAxis,f=y===vt.X?{min:l,max:c}:{min:h,max:d};this.updateAxisZoom(p,y,f)}else(a=this.paddedRect)!=null&&a.containsPoint(t.offsetX,t.offsetY)&&this.highlightManager.getActivePicked()==null&&this.updateZoom({x:{min:l,max:c},y:{min:h,max:d}})}onDragStart(t){if(!this.enabled||!this.paddedRect)return;let e=0;if(this.enableAxisDragging&&this.hoveredAxis)e=1;else if(this.paddedRect.containsPoint(t.offsetX,t.offsetY)){const i=this.isPanningKeyPressed(t.sourceEvent);this.enablePanning&&(!this.enableSelecting||i)?(this.cursorManager.updateCursor(Go,"grabbing"),e=2):!this.isMinZoom(ae(this.zoomManager.getZoom()))&&!i&&(e=3)}(this.dragState=e)!==0&&this.zoomManager.fireZoomPanStartEvent()}onDrag(t){if(!this.enabled||!this.paddedRect||!this.seriesRect)return;this.ctx.interactionManager.pushState(Qt.InteractionState.ZoomDrag);const e=ae(this.zoomManager.getZoom());switch(this.dragState){case 1:if(!this.hoveredAxis)break;const{id:i,direction:o}=this.hoveredAxis,s=o===Qt.ChartAxisDirection.X?this.anchorPointX:this.anchorPointY,a=this.zoomManager.getAxisZoom(i),n=this.axisDragger.update(t,o,s,this.seriesRect,e,a);this.updateAxisZoom(i,o,n);break;case 2:const r=this.panner.update(t,this.seriesRect,this.zoomManager.getAxisZooms());for(const[l,{direction:c,zoom:h}]of Object.entries(r))this.updateAxisZoom(l,c,h);break;case 3:this.selector.update(t,this.minRatioX,this.minRatioY,this.isScalingX(),this.isScalingY(),this.paddedRect,e);break;case 0:return}this.tooltipManager.updateTooltip(Zl),this.updateService.update(zy.PERFORM_LAYOUT,{skipAnimations:!0})}onDragEnd(){if(this.ctx.interactionManager.popState(Qt.InteractionState.ZoomDrag),!(!this.enabled||this.dragState===0)){switch(this.dragState){case 1:this.axisDragger.stop();break;case 2:this.panner.stop();break;case 3:if(!this.selector.didUpdate())break;const t=ae(this.zoomManager.getZoom());if(!this.isMinZoom(t)){const e=this.selector.stop(this.seriesRect,this.paddedRect,t);this.updateZoom(e)}break}this.dragState=0,this.cursorManager.updateCursor(Go),this.tooltipManager.removeTooltip(Zl)}}onWheel(t){if(!this.enabled||!this.enableScrolling||!this.paddedRect||!this.seriesRect)return;const e=this.zoomManager.getZoom(),i=this.paddedRect.containsPoint(t.offsetX,t.offsetY),o=this.enableAxisDragging&&this.hoveredAxis!=null;let s=this.isScalingX(),a=this.isScalingY();o&&(s=this.hoveredAxis.direction===Qt.ChartAxisDirection.X,a=!s);const n=t.sourceEvent,{deltaX:r,deltaY:l}=n,c=r!=null&&l!=null&&Math.abs(r)>Math.abs(l);if(this.enablePanning&&c){t.consume(),t.sourceEvent.preventDefault();const d=this.scrollPanner.update(t,this.scrollingStep,this.seriesRect,this.zoomManager.getAxisZooms());for(const[p,{direction:y,zoom:f}]of Object.entries(d))this.updateAxisZoom(p,y,f);return}if(!i&&!o)return;t.consume(),t.sourceEvent.preventDefault();const h=this.scroller.update(t,this.scrollingStep,this.getAnchorPointX(),this.getAnchorPointY(),s,a,this.seriesRect,e);this.updateZoom(h)}onAxisLeave(){this.enabled&&(this.hoveredAxis=void 0,this.cursorManager.updateCursor(Go))}onAxisHover(t){this.enabled&&(this.hoveredAxis={id:t.axisId,direction:t.direction},this.enableAxisDragging&&this.cursorManager.updateCursor(Go,t.direction===vt.X?"ew-resize":"ns-resize"))}onPinchMove(t){if(!this.enabled||!this.enableScrolling||!this.paddedRect||!this.seriesRect)return;const e=this.zoomManager.getZoom(),i=ae(e),o=ae(e),s=t.deltaDistance*-.01,a=xt(this.seriesRect,t.origin.x,t.origin.y);this.isScalingX()&&(o.x.max+=s*Ye(i),o.x=Qi(o.x,i.x,a.x)),this.isScalingY()&&(o.y.max+=s*(i.y.max-i.y.min),o.y=Qi(o.y,i.y,a.y)),this.updateZoom(We(o))}onToolbarButtonPress(t){if(!zo.has(t.id))return;const e=zo.get(t.id);typeof e=="function"?this.rangeX.extendWith(e):e==null?this.rangeX.extendAll():this.rangeX.extendToEnd(e)}onLayoutComplete(t){if(!this.enabled)return;const{series:{rect:e,paddedRect:i,shouldFlipXY:o},axes:s}=t;if(this.seriesRect=e,this.paddedRect=i,this.shouldFlipXY=o,!s)return;const[a,n]=dy.bifurcate(h=>h.direction===vt.X,s),r=this.rangeX.updateAxis(a),l=this.rangeY.updateAxis(n);if(!r&&!l)return;const c={};c.x=this.rangeX.getRange(),c.y=this.rangeY.getRange(),(c.x!=null||c.y!=null)&&this.updateZoom(We(ae(c)))}onUpdateComplete({minRect:t,minVisibleRect:e}){if(!this.enabled||!this.paddedRect||!t||!e)return;const i=ae(this.zoomManager.getZoom()),o=this.shouldFlipXY?this.minVisibleItemsY:this.minVisibleItemsX,s=this.shouldFlipXY?this.minVisibleItemsX:this.minVisibleItemsY,a=e.width*o/this.paddedRect.width,n=e.height*s/this.paddedRect.height,r=jo(a*Ye(i)),l=jo(n*at(i));this.isScalingX()&&(this.minRatioX=Math.min(1,r)),this.isScalingY()&&(this.minRatioY=Math.min(1,l)),this.minRatioX||(this.minRatioX=this.minRatioY||0),this.minRatioY||(this.minRatioY=this.minRatioX||0)}onContextMenuZoomToHere({event:t}){if(!this.enabled||!this.paddedRect||!t||!t.target)return;const e=ae(this.zoomManager.getZoom()),i=xt(this.paddedRect,t.clientX,t.clientY),o=i.x*Ye(e),s=i.y*at(e),a=ee.max-ee.min,n=a/2;let r={x:{min:i.x-n,max:i.x+n},y:{min:i.y-n,max:i.y+n}};r=Rl(r,this.isScalingX()?this.minRatioX:a,this.isScalingY()?this.minRatioY:a),r=Xi(r,e.x.min-i.x+o,e.y.min-i.y+s),this.updateZoom(We(r))}onContextMenuPanToHere({event:t}){if(!this.enabled||!this.paddedRect||!t||!t.target)return;const e=ae(this.zoomManager.getZoom()),i=xt(this.paddedRect,t.clientX,t.clientY),o=Ye(e),s=at(e),a=i.x*o,n=i.y*s,r=(ee.max-ee.min)/2;let l={x:{min:i.x-r,max:i.x+r},y:{min:i.y-r,max:i.y+r}};l=Rl(l,o,s),l=Xi(l,e.x.min-i.x+a,e.y.min-i.y+n),this.updateZoom(We(l))}onZoomChange(){this.toggleContextMenuActions(ae(this.zoomManager.getZoom()))}isPanningKeyPressed(t){switch(this.panKey){case"alt":return t.altKey;case"ctrl":return t.ctrlKey;case"shift":return t.shiftKey;case"meta":return t.metaKey}}isScalingX(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="y":this.axes==="x"}isScalingY(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="x":this.axes==="y"}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMinZoom(t){const e=jo(Ye(t))<=this.minRatioX,i=jo(at(t))<=this.minRatioY;return e||i}isMaxZoom(t){return t.x.min===ee.min&&t.x.max===ee.max&&t.y.min===ee.min&&t.y.max===ee.max}updateZoom(t){const e=Ye(t),i=at(t),o=ae(this.zoomManager.getZoom()),s=e<=Ye(o)&&e<this.minRatioX,a=i<=at(o)&&i<this.minRatioY;s&&(t.x=Pl(t.x,o.x,this.minRatioX)),a&&(t.y=Pl(t.y,o.y,this.minRatioY)),this.zoomManager.updateZoom("zoom",t)}updateAxisZoom(t,e,i){if(!i)return;if(!this.enableSecondaryAxis){const a=ae(this.zoomManager.getZoom());a[e]=i,this.updateZoom(a);return}const o=i.max-i.min,s=e===vt.X?this.minRatioX:this.minRatioY;o<s||this.zoomManager.updateAxisZoom("zoom",t,i)}};u([wy({newValue(t){t?(this.registerContextMenuActions(),this.addToolbarButtons()):this.enabled&&this.removeToolbarButtons()}}),He(Di)],Fe.prototype,"enabled",2),u([He(Di)],Fe.prototype,"enableAxisDragging",2),u([He(Di)],Fe.prototype,"enableDoubleClickToReset",2),u([He(Di)],Fe.prototype,"enablePanning",2),u([He(Di)],Fe.prototype,"enableScrolling",2),u([He(Di)],Fe.prototype,"enableSelecting",2),u([He(ha(["alt","ctrl","meta","shift"],"a pan key"))],Fe.prototype,"panKey",2),u([He(ha(["x","y","xy"],"an axis"))],Fe.prototype,"axes",2),u([He(Py)],Fe.prototype,"scrollingStep",2),u([He(Ql.restrict({min:1}))],Fe.prototype,"minVisibleItemsX",2),u([He(Ql.restrict({min:1}))],Fe.prototype,"minVisibleItemsY",2),u([He($l)],Fe.prototype,"anchorPointX",2),u([He($l)],Fe.prototype,"anchorPointY",2);var By={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:Fe,themeTemplate:{zoom:{anchorPointX:"end",anchorPointY:"middle",axes:"x",enabled:!1,enableAxisDragging:!0,enableDoubleClickToReset:!0,enablePanning:!0,enableScrolling:!0,enableSelecting:!1,minVisibleItemsX:2,minVisibleItemsY:2,panKey:"alt",scrollingStep:.1}}};import{_Theme as ql}from"ag-charts-community";import{_ModuleSupport as pa,_Scale as Fy,_Scene as Uy,_Util as Ky}from"ag-charts-community";var{BOOLEAN:Jl,Layers:jy,POSITION:Gy,Validate:$t,Default:Yy,MIN_SPACING:Wy,POSITIVE_NUMBER:ga,ProxyProperty:qe,DeprecatedAndRenamedTo:Hy}=pa,{BBox:Xy,Group:ya,Rect:Qy,LinearGradientFill:$y,Triangle:Zy}=Uy,{createId:qy,Logger:Jy}=Ky,ma=class{constructor(){this.thickness=16,this.preferredLength=100}};u([$t(ga)],ma.prototype,"thickness",2),u([$t(ga)],ma.prototype,"preferredLength",2);var ec=class extends pa.AxisTick{constructor(){super(...arguments),this.enabled=!1,this.size=0,this.maxSpacing=NaN}};u([$t(Wy),Yy(NaN)],ec.prototype,"maxSpacing",2);var em=class extends pa.CartesianAxis{constructor(t){super(t,new Fy.LinearScale,{respondsToZoom:!1}),this.colorDomain=[],this.nice=!1,this.line.enabled=!1}calculateDomain(){this.setDomain(this.colorDomain)}formatDatum(t){return typeof t=="number"?t.toFixed(2):(Jy.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))}createTick(){return new ec}},kt=class{constructor(t){this.label=t}};u([qe("label.fontStyle")],kt.prototype,"fontStyle",2),u([qe("label.fontWeight")],kt.prototype,"fontWeight",2),u([qe("label.fontSize")],kt.prototype,"fontSize",2),u([qe("label.fontFamily")],kt.prototype,"fontFamily",2),u([qe("label.color")],kt.prototype,"color",2),u([qe("label.format")],kt.prototype,"format",2),u([qe("label.formatter")],kt.prototype,"formatter",2);var $i=class{constructor(t){this.tick=t}};u([qe("tick.values")],$i.prototype,"values",2),u([qe("tick.minSpacing")],$i.prototype,"minSpacing",2),u([qe("tick.maxSpacing")],$i.prototype,"maxSpacing",2),u([qe("tick.interval")],$i.prototype,"step",2);var tc=class{constructor(t){this.axis=t,this.label=new kt(t.label),this.interval=new $i(t.tick)}};u([qe("axis.seriesAreaPadding")],tc.prototype,"padding",2);var Zt=class{constructor(t){this.ctx=t,this.id=qy(this),this.group=new ya({name:"legend",layer:!0,zIndex:jy.LEGEND_ZINDEX}),this.gradient=new ma,this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=void 0,this.pagination=void 0,this.spacing=20,this.data=[],this.listeners={},this.latestGradientBox=void 0,this.layoutService=t.layoutService,this.destroyFns.push(this.layoutService.addListener("start-layout",e=>this.update(e.shrinkRect))),this.highlightManager=t.highlightManager,this.destroyFns.push(this.highlightManager.addListener("highlight-change",()=>this.onChartHoverChange())),this.gradientRect=new Qy,this.gradientFill=new $y,this.gradientFill.mask=this.gradientRect,this.group.append(this.gradientFill),this.arrow=new Zy,this.group.append(this.arrow),this.axisGridGroup=new ya({name:"legend-axis-grid-group"}),this.group.append(this.axisGridGroup),this.axisGroup=new ya({name:"legend-axis-group"}),this.group.append(this.axisGroup),this.axis=new em(t),this.axis.attachAxis(this.axisGroup,this.axisGridGroup),this.scale=new tc(this.axis),this.stop=this.scale,this.destroyFns.push(()=>this.detachLegend())}getOrientation(){switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}destroy(){this.destroyFns.forEach(t=>t())}attachLegend(t){t.appendChild(this.group)}detachLegend(){var t;(t=this.group.parent)==null||t.removeChild(this.group)}update(t){const e=this.data[0];if(!this.enabled||!e||!e.enabled)return this.group.visible=!1,{shrinkRect:t.clone()};const{colorRange:i}=this.normalizeColorArrays(e),o=this.updateGradientRect(t,i),s=this.updateAxis(e,o),{newShrinkRect:a,translateX:n,translateY:r}=this.getMeasurements(t,o,s);return this.updateArrow(o),this.group.visible=!0,this.group.translationX=n,this.group.translationY=r,this.latestGradientBox=o,{shrinkRect:a}}normalizeColorArrays(t){let e=t.colorDomain.slice();const i=t.colorRange.slice();if(e.length===i.length)return{colorDomain:e,colorRange:i};e.length>i.length&&i.splice(e.length);const o=i.length;return e=i.map((s,a)=>{const[n,r]=e;return a===0?n:a===o-1?r:n+(r-n)*a/(o-1)}),{colorDomain:e,colorRange:i}}updateGradientRect(t,e){const{preferredLength:i,thickness:o}=this.gradient,s=new Xy(0,0,0,0),a=this.getOrientation()==="vertical";if(a){const n=t.height,r=i;s.x=0,s.y=0,s.width=o,s.height=Math.min(n,r)}else{const n=t.width,r=i;s.x=0,s.y=0,s.width=Math.min(n,r),s.height=o}return this.reverseOrder&&(e=e.slice().reverse()),this.gradientFill.stops=e,this.gradientFill.direction=a?"to-bottom":"to-right",this.gradientRect.x=s.x,this.gradientRect.y=s.y,this.gradientRect.width=s.width,this.gradientRect.height=s.height,s}updateAxis(t,e){const{reverseOrder:i,axis:o}=this,s=this.getOrientation()==="vertical";o.position=s?"right":"bottom",o.colorDomain=i?t.colorDomain.slice().reverse():t.colorDomain,o.calculateDomain(),o.range=s?[0,e.height]:[0,e.width],o.gridLength=0,o.translation.x=e.x+(s?e.width:0),o.translation.y=e.y+(s?0:e.height);const a=o.calculateLayout().bbox;return o.update(),a}updateArrow(t){var e;const{arrow:i,axis:{label:o,scale:s}}=this,a=this.highlightManager.getActiveHighlight(),n=a?.colorValue;if(a==null||n==null){i.visible=!1;return}const r=this.getOrientation()==="vertical",l=(e=o.fontSize)!=null?e:0,c=s.convert(n);let h,d,p;r?(h=t.x-l/2,d=t.y+c,p=Math.PI/2):(h=t.x+c,d=t.y-l/2,p=Math.PI),i.fill=o.color,i.size=l,i.translationX=h,i.translationY=d,i.rotation=p,i.visible=!0}getMeasurements(t,e,i){let o,s;this.getOrientation()==="vertical"?(o=e.width+i.width,s=e.height):(o=e.width,s=e.height+i.height);const{spacing:n}=this,r=t.clone();let l,c;return this.position==="left"?(l=t.x,c=t.y+t.height/2-s/2,r.shrink(o+n,"left")):this.position==="right"?(l=t.x+t.width-o,c=t.y+t.height/2-s/2,r.shrink(o+n,"right")):this.position==="top"?(l=t.x+t.width/2-o/2,c=t.y,r.shrink(s+n,"top")):(l=t.x+t.width/2-o/2,c=t.y+t.height-s,r.shrink(s+n,"bottom")),{translateX:l,translateY:c,gradientBox:e,newShrinkRect:r}}computeBBox(){return this.group.computeBBox()}onChartHoverChange(){this.enabled&&this.latestGradientBox!=null&&this.updateArrow(this.latestGradientBox)}};Zt.className="GradientLegend",u([$t(Jl)],Zt.prototype,"enabled",2),u([$t(Gy)],Zt.prototype,"position",2),u([$t(Jl,{optional:!0})],Zt.prototype,"reverseOrder",2),u([$t(ga)],Zt.prototype,"spacing",2),u([Hy("scale")],Zt.prototype,"stop",2);var tm={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy","topology"],identifier:"gradient",instanceConstructor:Zt,themeTemplate:{enabled:!1,position:"bottom",spacing:20,scale:{padding:8,label:{color:ql.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ql.DEFAULT_FONT_FAMILY,formatter:void 0},interval:{minSpacing:1}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1}},im=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(t,e){let i=t[0],o=t[1],s=t[2],a=t[3];i=this.ff(i,o,s,a,e[0],7,-680876936),a=this.ff(a,i,o,s,e[1],12,-389564586),s=this.ff(s,a,i,o,e[2],17,606105819),o=this.ff(o,s,a,i,e[3],22,-1044525330),i=this.ff(i,o,s,a,e[4],7,-176418897),a=this.ff(a,i,o,s,e[5],12,1200080426),s=this.ff(s,a,i,o,e[6],17,-1473231341),o=this.ff(o,s,a,i,e[7],22,-45705983),i=this.ff(i,o,s,a,e[8],7,1770035416),a=this.ff(a,i,o,s,e[9],12,-1958414417),s=this.ff(s,a,i,o,e[10],17,-42063),o=this.ff(o,s,a,i,e[11],22,-1990404162),i=this.ff(i,o,s,a,e[12],7,1804603682),a=this.ff(a,i,o,s,e[13],12,-40341101),s=this.ff(s,a,i,o,e[14],17,-1502002290),o=this.ff(o,s,a,i,e[15],22,1236535329),i=this.gg(i,o,s,a,e[1],5,-165796510),a=this.gg(a,i,o,s,e[6],9,-1069501632),s=this.gg(s,a,i,o,e[11],14,643717713),o=this.gg(o,s,a,i,e[0],20,-373897302),i=this.gg(i,o,s,a,e[5],5,-701558691),a=this.gg(a,i,o,s,e[10],9,38016083),s=this.gg(s,a,i,o,e[15],14,-660478335),o=this.gg(o,s,a,i,e[4],20,-405537848),i=this.gg(i,o,s,a,e[9],5,568446438),a=this.gg(a,i,o,s,e[14],9,-1019803690),s=this.gg(s,a,i,o,e[3],14,-187363961),o=this.gg(o,s,a,i,e[8],20,1163531501),i=this.gg(i,o,s,a,e[13],5,-1444681467),a=this.gg(a,i,o,s,e[2],9,-51403784),s=this.gg(s,a,i,o,e[7],14,1735328473),o=this.gg(o,s,a,i,e[12],20,-1926607734),i=this.hh(i,o,s,a,e[5],4,-378558),a=this.hh(a,i,o,s,e[8],11,-2022574463),s=this.hh(s,a,i,o,e[11],16,1839030562),o=this.hh(o,s,a,i,e[14],23,-35309556),i=this.hh(i,o,s,a,e[1],4,-1530992060),a=this.hh(a,i,o,s,e[4],11,1272893353),s=this.hh(s,a,i,o,e[7],16,-155497632),o=this.hh(o,s,a,i,e[10],23,-1094730640),i=this.hh(i,o,s,a,e[13],4,681279174),a=this.hh(a,i,o,s,e[0],11,-358537222),s=this.hh(s,a,i,o,e[3],16,-722521979),o=this.hh(o,s,a,i,e[6],23,76029189),i=this.hh(i,o,s,a,e[9],4,-640364487),a=this.hh(a,i,o,s,e[12],11,-421815835),s=this.hh(s,a,i,o,e[15],16,530742520),o=this.hh(o,s,a,i,e[2],23,-995338651),i=this.ii(i,o,s,a,e[0],6,-198630844),a=this.ii(a,i,o,s,e[7],10,1126891415),s=this.ii(s,a,i,o,e[14],15,-1416354905),o=this.ii(o,s,a,i,e[5],21,-57434055),i=this.ii(i,o,s,a,e[12],6,1700485571),a=this.ii(a,i,o,s,e[3],10,-1894986606),s=this.ii(s,a,i,o,e[10],15,-1051523),o=this.ii(o,s,a,i,e[1],21,-2054922799),i=this.ii(i,o,s,a,e[8],6,1873313359),a=this.ii(a,i,o,s,e[15],10,-30611744),s=this.ii(s,a,i,o,e[6],15,-1560198380),o=this.ii(o,s,a,i,e[13],21,1309151649),i=this.ii(i,o,s,a,e[4],6,-145523070),a=this.ii(a,i,o,s,e[11],10,-1120210379),s=this.ii(s,a,i,o,e[2],15,718787259),o=this.ii(o,s,a,i,e[9],21,-343485551),t[0]=this.add32(i,t[0]),t[1]=this.add32(o,t[1]),t[2]=this.add32(s,t[2]),t[3]=this.add32(a,t[3])}cmn(t,e,i,o,s,a){return e=this.add32(this.add32(e,t),this.add32(o,a)),this.add32(e<<s|e>>>32-s,i)}ff(t,e,i,o,s,a,n){return this.cmn(e&i|~e&o,t,e,s,a,n)}gg(t,e,i,o,s,a,n){return this.cmn(e&o|i&~o,t,e,s,a,n)}hh(t,e,i,o,s,a,n){return this.cmn(e^i^o,t,e,s,a,n)}ii(t,e,i,o,s,a,n){return this.cmn(i^(e|~o),t,e,s,a,n)}md51(t){const e=t.length,i=[1732584193,-271733879,-1732584194,271733878];let o;for(o=64;o<=t.length;o+=64)this.md5cycle(i,this.md5blk(t.substring(o-64,o)));t=t.substring(o-64);const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<t.length;o++)s[o>>2]|=t.charCodeAt(o)<<(o%4<<3);if(s[o>>2]|=128<<(o%4<<3),o>55)for(this.md5cycle(i,s),o=0;o<16;o++)s[o]=0;return s[14]=e*8,this.md5cycle(i,s),i}md5blk(t){const e=[];for(let i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e}rhex(t){const e="0123456789abcdef".split("");let i="",o=0;for(;o<4;o++)i+=e[t>>o*8+4&15]+e[t>>o*8&15];return i}hex(t){for(let e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")}md5(t){return this.hex(this.md51(t))}add32(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)}add32Std(t,e){return t+e&4294967295}add32Compat(t,e){const i=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(i>>16)<<16|i&65535}};function fa(t){return t==null||t.length===0}var Yo={"01":"GRID","02":"CHARTS","0102":"BOTH"},ic=class ot{constructor(e){this.gridContext=!1,this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=e,this.md5=new im,this.md5.init()}validateLicense(){const e=this.getLicenseDetails(this.licenseKey,this.gridContext),i=`AG ${e.currentLicenseType==="BOTH"?"Grid and ":""}Charts Enterprise`,o=e.suppliedLicenseType===void 0?"":`AG ${e.suppliedLicenseType==="BOTH"?"Grid and AG Charts":e.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(e.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(i);else if(e.expired){const s=ot.getChartsReleaseDate(),a=ot.formatDate(s);this.outputExpiredKey(e.expiry,a,o)}else e.valid?e.isTrial&&e.trialExpired&&this.outputExpiredTrialKey(e.expiry,i,o):this.outputInvalidLicenseKey(!!e.incorrectLicenseType,i,o)}static extractExpiry(e){const i=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(ot.decode(i),10))}static extractLicenseComponents(e){let i=e.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),e.length<=32)return{md5:null,license:e,version:null,isTrial:null};const o=i.length-32,s=i.substring(o),a=i.substring(0,o),[n,r,l]=ot.extractBracketedInformation(i);return{md5:s,license:a,version:n,isTrial:r,type:l}}getLicenseDetails(e,i=!1){const o="CHARTS";if(fa(e))return{licenseKey:e,valid:!1,missing:!0,currentLicenseType:o};const s=ot.getChartsReleaseDate(),{md5:a,license:n,version:r,isTrial:l,type:c}=ot.extractLicenseComponents(e);let h=a===this.md5.md5(n)&&e.indexOf("For_Trialing_ag-Grid_Only")===-1,d,p,y=null,f=!1,g;function m(){d=y<new Date,p=void 0}if(h&&(y=ot.extractExpiry(n),h=!isNaN(y.getTime()),h))switch(p=s>y,r){case"legacy":case"2":{h=!1;break}case"3":fa(c)?h=!1:(g=c,c!==Yo["02"]&&c!==Yo["0102"]?(h=!1,f=!0):l&&m())}return h?{licenseKey:e,valid:h,expiry:ot.formatDate(y),expired:p,version:r,isTrial:l,trialExpired:d,invalidLicenseTypeForCombo:i?g!=="BOTH":void 0,incorrectLicenseType:f,currentLicenseType:o,suppliedLicenseType:g}:{licenseKey:e,valid:h,incorrectLicenseType:f,currentLicenseType:o,suppliedLicenseType:g}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!fa(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){if(!this.document)return"localhost";const e=this.document.defaultView||window;if(!e)return"localhost";const i=e.location,{hostname:o=""}=i;return o}isForceWatermark(){var e,i;if(!this.document)return!1;const o=((i=(e=this.document)==null?void 0:e.defaultView)!=null?i:typeof window<"u")?window:void 0;if(!o)return!1;const{pathname:s}=o.location;return s?s.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(e){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=e.getDate(),s=e.getMonth(),a=e.getFullYear();return o+" "+i[s]+" "+a}static getChartsReleaseDate(){return new Date(parseInt(ot.decode(ot.RELEASE_INFORMATION),10))}static decode(e){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let o="",s,a,n,r,l,c,h,d=0;const p=e.replace(/[^A-Za-z0-9+/=]/g,"");for(;d<p.length;)r=i.indexOf(p.charAt(d++)),l=i.indexOf(p.charAt(d++)),c=i.indexOf(p.charAt(d++)),h=i.indexOf(p.charAt(d++)),s=r<<2|l>>4,a=(l&15)<<4|c>>2,n=(c&3)<<6|h,o=o+String.fromCharCode(s),c!=64&&(o=o+String.fromCharCode(a)),h!=64&&(o=o+String.fromCharCode(n));return o=ot.utf8_decode(o),o}static utf8_decode(e){e=e.replace(/rn/g,"n");let i="";for(let o=0;o<e.length;o++){const s=e.charCodeAt(o);s<128?i+=String.fromCharCode(s):s>127&&s<2048?(i+=String.fromCharCode(s>>6|192),i+=String.fromCharCode(s&63|128)):(i+=String.fromCharCode(s>>12|224),i+=String.fromCharCode(s>>6&63|128),i+=String.fromCharCode(s&63|128))}return i}setLicenseKey(e,i=!1){this.gridContext=i,this.licenseKey=e}static extractBracketedInformation(e){if(!e.includes("["))return["legacy",!1,void 0];const i=e.match(/\[(.*?)\]/g).map(r=>r.replace("[","").replace("]",""));if(!i||i.length===0)return["legacy",!1,void 0];const o=i.filter(r=>r==="TRIAL").length===1,s=i.filter(r=>r.indexOf("v")===0)[0],a=s?s.replace("v",""):"legacy",n=Yo[i.filter(r=>Yo[r])[0]];return[a,o,n]}centerPadAndOutput(e){const i=this.totalMessageLength-e.length;console.error(e.padStart(i/2+e.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(e,i="*",o=""){console.error(e.padEnd(this.totalMessageLength-o.length,i)+o)}outputInvalidLicenseKey(e,i,o){this.gridContext||(e?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${o} only and does not cover you for ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to obtain a combined license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid - please contact info@ag-grid.com to obtain a valid license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""))),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e,i,o){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${o} expired on ${e}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(e){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${e} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${e} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(e,i,o){this.gridContext||(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${o} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${o} released before ${e}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="License Expired"}};ic.RELEASE_INFORMATION="MTcxMTU0NzQ1NzgwNA==";var om=ic;import{_ModuleSupport as sm}from"ag-charts-community";var{createElement:oc,injectStyle:am}=sm,nm=`
.ag-watermark {
    position: absolute;
    bottom: 20px;
    right: 25px;
    font-weight: bold;
    font-family: Impact, sans-serif;
    font-size: 19px;
    opacity: 0.7;
    animation: 1s ease-out 3s ag-watermark-fadeout;
    color: #9B9B9B;
    pointer-events: none;

    &::before {
        content: '';
        display: block;
        height: 40px;
        width: 170px;
        background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);
        background-repeat: no-repeat;
        background-size: 170px 40px;
    }

    > span {
        padding-left: 0.7rem;
    }
}

@keyframes ag-watermark-fadeout {
    from { opacity: 0.5; }
    to { opacity: 0; }
}
`;function rm(t,e){am(nm,"watermark");const i=oc("div"),o=oc("span");o.innerText=e,i.addEventListener("animationend",()=>t.removeChild(i)),i.classList.add("ag-watermark"),i.appendChild(o),t.appendChild(i)}import{_Theme as Zi,_Util as lm}from"ag-charts-community";import{_ModuleSupport as Sa,_Scale as cm,_Scene as hm,_Util as sc}from"ag-charts-community";function um(t){return{from:t?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function dm(t){return(e,i)=>t?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}import{_ModuleSupport as pm,_Scene as gm}from"ag-charts-community";var{Group:ym,Rect:qi,Line:Wo,BBox:ac,Selection:mm}=gm,fm=class extends ym{constructor(){super(),this.append([new qi({tag:0}),new qi({tag:0}),new qi({tag:2}),new qi({tag:1}),new Wo({tag:3}),new Wo({tag:3}),new Wo({tag:4}),new Wo({tag:4})])}updateDatumStyles(t,e,i,o,s){const{bandwidth:a,scaledValues:{xValue:n,medianValue:r}}=t;let{minValue:l,q1Value:c,q3Value:h,maxValue:d}=t.scaledValues;(i&&!o||!i&&o)&&([d,h,c,l]=[l,c,h,d]);const{fill:p,fillOpacity:y,stroke:f,strokeWidth:g,strokeOpacity:m,lineDash:S,lineDashOffset:M,cap:I,whisker:x}=e,v=mm.select(this,qi),D=v.selectByTag(0),[N]=v.selectByTag(2),[A]=v.selectByTag(1),L=v.selectByTag(3),_=v.selectByTag(4);x.strokeWidth>a&&(x.strokeWidth=a),N.setProperties({x:c,y:n,width:h-c,height:a});const T=i?new ac(n,c,a,h-c):new ac(c,n,h-c,a);D[0].setProperties({x:c,y:n,width:Math.round(r-c+g/2),height:a,cornerRadius:s,cornerRadiusBbox:T}),D[1].setProperties({x:Math.round(r-g/2),y:n,width:Math.floor(h-r+g/2),height:a,cornerRadius:s,cornerRadiusBbox:T});const b=Math.max(Math.round(r-g/2),c+g),E=Math.min(Math.round(r+g/2),h-g);A.setProperties({visible:b<E,x:b,y:n+g,width:E-b,height:Math.max(0,a-g*2),cornerRadius:s,cornerRadiusBbox:T});const O=Math.floor(n+a*(1-I.lengthRatio)/2),R=Math.ceil(n+a*(1+I.lengthRatio)/2);_[0].setProperties({x:l,y1:O,y2:R}),_[1].setProperties({x:d,y1:O,y2:R}),L[0].setProperties({x1:Math.round(l+x.strokeWidth/2),x2:c,y:Math.floor(n+a/2)}),L[1].setProperties({x1:h,x2:Math.round(d-x.strokeWidth/2),y:Math.floor(n+a/2)}),i&&pm.invertShapeDirection(N,A,...D,..._,...L);for(const P of D)P.setProperties({fill:p,fillOpacity:y,strokeWidth:g*2,strokeOpacity:0});A.setProperties({fill:f,fillOpacity:m,strokeWidth:0});for(const P of[...L,..._])P.setProperties(x);N.setProperties({stroke:f,strokeWidth:g,strokeOpacity:m,lineDash:S,lineDashOffset:M,cornerRadius:s,fillOpacity:0})}};import{_ModuleSupport as Sm}from"ag-charts-community";var{BaseProperties:nc,AbstractBarSeriesProperties:xm,SeriesTooltip:vm,Validate:X,COLOR_STRING:xa,FUNCTION:Mm,LINE_DASH:rc,OBJECT:va,POSITIVE_NUMBER:Ji,RATIO:Ho,STRING:Xe,mergeDefaults:Dm}=Sm,lc=class extends nc{constructor(){super(...arguments),this.lengthRatio=.5}};u([X(Ho)],lc.prototype,"lengthRatio",2);var Ii=class extends nc{};u([X(xa,{optional:!0})],Ii.prototype,"stroke",2),u([X(Ji)],Ii.prototype,"strokeWidth",2),u([X(Ho)],Ii.prototype,"strokeOpacity",2),u([X(rc,{optional:!0})],Ii.prototype,"lineDash",2),u([X(Ji)],Ii.prototype,"lineDashOffset",2);var ie=class extends xm{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new lc,this.whisker=new Ii,this.tooltip=new vm}toJson(){const{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:o,lineDashOffset:s}=this,a=super.toJson();return a.whisker=Dm(a.whisker,{stroke:t,strokeWidth:e,strokeOpacity:i,lineDash:o,lineDashOffset:s}),a}};u([X(Xe)],ie.prototype,"xKey",2),u([X(Xe)],ie.prototype,"minKey",2),u([X(Xe)],ie.prototype,"q1Key",2),u([X(Xe)],ie.prototype,"medianKey",2),u([X(Xe)],ie.prototype,"q3Key",2),u([X(Xe)],ie.prototype,"maxKey",2),u([X(Xe,{optional:!0})],ie.prototype,"xName",2),u([X(Xe,{optional:!0})],ie.prototype,"yName",2),u([X(Xe,{optional:!0})],ie.prototype,"minName",2),u([X(Xe,{optional:!0})],ie.prototype,"q1Name",2),u([X(Xe,{optional:!0})],ie.prototype,"medianName",2),u([X(Xe,{optional:!0})],ie.prototype,"q3Name",2),u([X(Xe,{optional:!0})],ie.prototype,"maxName",2),u([X(xa,{optional:!0})],ie.prototype,"fill",2),u([X(Ho)],ie.prototype,"fillOpacity",2),u([X(xa)],ie.prototype,"stroke",2),u([X(Ji)],ie.prototype,"strokeWidth",2),u([X(Ho)],ie.prototype,"strokeOpacity",2),u([X(rc)],ie.prototype,"lineDash",2),u([X(Ji)],ie.prototype,"lineDashOffset",2),u([X(Ji)],ie.prototype,"cornerRadius",2),u([X(Mm,{optional:!0})],ie.prototype,"formatter",2),u([X(va)],ie.prototype,"cap",2),u([X(va)],ie.prototype,"whisker",2),u([X(va)],ie.prototype,"tooltip",2);var{extent:Im,extractDecoratedProperties:cc,fixNumericExtent:Ma,keyProperty:Nm,mergeDefaults:Da,SeriesNodePickMode:_m,SMALLEST_KEY_INTERVAL:Am,valueProperty:eo,diff:bm,animationValidation:Tm,ChartAxisDirection:Em,convertValuesToScaleByDefs:Lm}=Sa,{motion:hc}=hm,Om=class extends Sa.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.xKey=o.properties.xKey,this.minKey=o.properties.minKey,this.q1Key=o.properties.q1Key,this.medianKey=o.properties.medianKey,this.q3Key=o.properties.q3Key,this.maxKey=o.properties.maxKey}},Ia=class Bu extends Sa.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[_m.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},pathsPerSeries:1,hasHighlightedLabels:!0}),this.properties=new ie,this.NodeEvent=Om}processData(e){return k(this,null,function*(){var i,o,s,a;if(!this.properties.isValid())return;const{xKey:n,minKey:r,q1Key:l,medianKey:c,q3Key:h,maxKey:d}=this.properties,p=!this.ctx.animationManager.isSkipped(),y=((i=this.getCategoryAxis())==null?void 0:i.scale)instanceof cm.ContinuousScale,f=[];p&&this.processedData&&f.push(bm(this.processedData)),p&&f.push(Tm(this));const{processedData:g}=yield this.requestDataModel(e,(o=this.data)!=null?o:[],{props:[Nm(this,n,y,{id:"xValue"}),eo(this,r,!0,{id:"minValue"}),eo(this,l,!0,{id:"q1Value"}),eo(this,c,!0,{id:"medianValue"}),eo(this,h,!0,{id:"q3Value"}),eo(this,d,!0,{id:"maxValue"}),...y?[Am]:[],...f],dataVisible:this.visible});this.smallestDataInterval={x:(a=(s=g.reduced)==null?void 0:s.smallestKeyInterval)!=null?a:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(e){var i;const{processedData:o,dataModel:s,smallestDataInterval:a}=this;if(!(o&&s))return[];if(e===this.getBarDirection()){const g=s.getDomain(this,"minValue","value",o),m=s.getDomain(this,"maxValue","value",o);return Ma([Math.min(...g),Math.max(...m)],this.getValueAxis())}const{index:n,def:r}=s.resolveProcessedDataIndexById(this,"xValue"),l=o.domain.keys[n];if(r.type==="key"&&r.valueType==="category")return l;const c=this.getCategoryAxis(),h=c?.isReversed(),d=(i=Im(l))!=null?i:[NaN,NaN],p=a&&isFinite(a.x)?a.x:0;if(e===Em.Y){const g=d[0]+(h?0:-p),m=d[1]+(h?p:0);return Ma([g,m],c)}const y=d[0]+(h?-p:0),f=d[1]+(h?0:p);return Ma([y,f],c)}createNodeData(){return k(this,null,function*(){const{visible:e,dataModel:i}=this,o=this.getCategoryAxis(),s=this.getValueAxis();if(!(i&&e&&o&&s))return[];const{xKey:a,fill:n,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:d,lineDashOffset:p,cap:y,whisker:f}=this.properties,g=[],m=i.resolveProcessedDataDefsByIds(this,["xValue","minValue","q1Value","medianValue","q3Value","maxValue"]),{barWidth:S,groupIndex:M}=this.updateGroupScale(o),{groupScale:I,processedData:x}=this,v=this.isVertical();return x?.data.forEach(({datum:D,keys:N,values:A})=>{const{xValue:L,minValue:_,q1Value:T,medianValue:b,q3Value:E,maxValue:O}=i.resolveProcessedDataDefsValues(m,{keys:N,values:A});if([_,T,b,E,O].some(F=>typeof F!="number")||_>T||T>b||b>E||E>O)return;const R=Lm({defs:m,values:{xValue:L,minValue:_,q1Value:T,medianValue:b,q3Value:E,maxValue:O},xAxis:o,yAxis:s});R.xValue+=Math.round(I.convert(String(M)));const P=Math.round(S),w=Math.abs(R.q3Value-R.q1Value),C=R.xValue+P/2,z=Math.min(R.q3Value,R.q1Value)+w/2,V={x:v?C:z,y:v?z:C};g.push({series:this,itemId:L,datum:D,xKey:a,bandwidth:P,scaledValues:R,cap:y,whisker:f,fill:n,fillOpacity:r,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:d,lineDashOffset:p,midPoint:V})}),[{itemId:a,nodeData:g,labelData:[],scales:$e(Bu.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}getLegendData(e){var i;const{id:o,data:s}=this,{xKey:a,yName:n,fill:r,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:d,showInLegend:p,legendItemName:y,visible:f}=this.properties;return!p||!s?.length||!a||e!=="category"?[]:[{legendType:"category",id:o,itemId:o,seriesId:o,enabled:f,label:{text:(i=y??n)!=null?i:o},marker:{fill:r,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:h},legendItemName:y}]}getTooltipHtml(e){const{xKey:i,minKey:o,q1Key:s,medianKey:a,q3Key:n,maxKey:r,xName:l,yName:c,minName:h,q1Name:d,medianName:p,q3Name:y,maxName:f,tooltip:g}=this.properties,{datum:m}=e,S=this.getCategoryAxis(),M=this.getValueAxis();if(!S||!M||!this.properties.isValid())return"";const I=sc.sanitizeHtml(c),v=[[i,l,S],[o,h,M],[s,d,M],[a,p,M],[n,y,M],[r,f,M]].map(([N,A,L])=>sc.sanitizeHtml(`${A??N}: ${L.formatDatum(m[N])}`)).join(I?"<br/>":", "),{fill:D}=this.getFormattedStyles(e);return g.toTooltipHtml({title:I,content:v,backgroundColor:D},{seriesId:this.id,datum:m,fill:D,xKey:i,minKey:o,q1Key:s,medianKey:a,q3Key:n,maxKey:r,xName:l,minName:h,q1Name:d,medianName:p,q3Name:y,maxName:f})}animateEmptyUpdateReady({datumSelections:e}){const i=this.isVertical(),{from:o,to:s}=um(i);hc.resetMotion(e,dm(i)),hc.staticFromToMotion(this.id,"datums",this.ctx.animationManager,e,o,s,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(e){return k(this,null,function*(){var i;const o=(i=e.nodeData)!=null?i:[];return e.datumSelection.update(o)})}updateDatumNodes(e){return k(this,arguments,function*({datumSelection:i,isHighlight:o}){var s;const a=this.isVertical(),n=(s=this.getValueAxis())==null?void 0:s.isReversed(),{cornerRadius:r}=this.properties;i.each((l,c)=>{let h=this.getFormattedStyles(c,o);o&&(h=Da(this.properties.highlightStyle.item,h));const{stroke:d,strokeWidth:p,strokeOpacity:y,lineDash:f,lineDashOffset:g}=h;h.whisker=Da(h.whisker,{stroke:d,strokeWidth:p,strokeOpacity:y,lineDash:f,lineDashOffset:g}),l.updateDatumStyles(c,h,a,n,r)})})}updateLabelNodes(e){return k(this,null,function*(){})}updateLabelSelection(e){return k(this,null,function*(){const{labelData:i,labelSelection:o}=e;return o.update(i)})}nodeFactory(){return new fm}getFormattedStyles(e,i=!1){const{id:o,ctx:{callbackCache:s}}=this,{xKey:a,minKey:n,q1Key:r,medianKey:l,q3Key:c,maxKey:h,formatter:d}=this.properties,{datum:p,fill:y,fillOpacity:f,stroke:g,strokeWidth:m,strokeOpacity:S,lineDash:M,lineDashOffset:I,cap:x,whisker:v}=e,D={fill:y,fillOpacity:f,stroke:g,strokeWidth:m,strokeOpacity:S,lineDash:M,lineDashOffset:I,cap:cc(x),whisker:cc(v)};if(d){const N=s.call(d,Oe(Y({datum:p,seriesId:o,highlighted:i},D),{xKey:a,minKey:n,q1Key:r,medianKey:l,q3Key:c,maxKey:h}));if(N)return Da(N,D)}return D}};Ia.className="BoxPlotSeries",Ia.type="box-plot";var km=Ia;import{_Theme as Na}from"ag-charts-community";var Rm={series:{__extends__:Na.EXTENDS_SERIES_DEFAULTS,direction:"vertical",strokeWidth:2},axes:{[Na.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[Na.CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},Cm={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",instanceConstructor:km,defaultAxes:[{type:Zi.CARTESIAN_AXIS_TYPE.NUMBER,position:Zi.POSITION.LEFT},{type:Zi.CARTESIAN_AXIS_TYPE.CATEGORY,position:Zi.POSITION.BOTTOM}],themeTemplate:Rm,groupable:!0,paletteFactory:({takeColors:t,userPalette:e,themeTemplateParameters:i})=>{var o;const s=i.properties.get(Zi.DEFAULT_BACKGROUND_COLOUR),a=(o=Array.isArray(s)?s[0]:s)!=null?o:"white",{fills:[n],strokes:[r]}=t(1);return{fill:e?n:lm.Color.interpolate(n,a)(.7),stroke:r}},swapDefaultAxesCondition:({direction:t})=>t==="horizontal"};import{_Theme as Ni}from"ag-charts-community";import{_ModuleSupport as to,_Scale as Pm,_Scene as qt,_Util as Xo}from"ag-charts-community";import{_ModuleSupport as wm}from"ag-charts-community";var{AbstractBarSeriesProperties:zm,BaseProperties:_a,PropertiesArray:Vm,SeriesTooltip:Bm,Validate:J,ARRAY:Fm,COLOR_STRING:_i,LINE_DASH:uc,OBJECT:Aa,POSITIVE_NUMBER:Ai,RATIO:bi,STRING:Qo}=wm,Mt=class extends _a{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.lengthRatio=.75}};u([J(_i)],Mt.prototype,"fill",2),u([J(bi)],Mt.prototype,"fillOpacity",2),u([J(_i)],Mt.prototype,"stroke",2),u([J(Ai)],Mt.prototype,"strokeWidth",2),u([J(bi)],Mt.prototype,"strokeOpacity",2),u([J(uc)],Mt.prototype,"lineDash",2),u([J(Ai)],Mt.prototype,"lineDashOffset",2),u([J(bi)],Mt.prototype,"lengthRatio",2);var dc=class extends _a{};u([J(Ai,{optional:!0})],dc.prototype,"max",2);var $o=class extends _a{constructor(){super(...arguments),this.color="lightgrey"}};u([J(_i)],$o.prototype,"color",2),u([J(Ai,{optional:!0})],$o.prototype,"stop",2);var Ie=class extends zm{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.widthRatio=.5,this.colorRanges=new Vm($o),this.target=new Mt,this.scale=new dc,this.tooltip=new Bm,this.backgroundFill="white"}};u([J(Qo)],Ie.prototype,"valueKey",2),u([J(Qo,{optional:!0})],Ie.prototype,"valueName",2),u([J(Qo,{optional:!0})],Ie.prototype,"targetKey",2),u([J(Qo,{optional:!0})],Ie.prototype,"targetName",2),u([J(_i)],Ie.prototype,"fill",2),u([J(bi)],Ie.prototype,"fillOpacity",2),u([J(_i)],Ie.prototype,"stroke",2),u([J(Ai)],Ie.prototype,"strokeWidth",2),u([J(bi)],Ie.prototype,"strokeOpacity",2),u([J(uc)],Ie.prototype,"lineDash",2),u([J(Ai)],Ie.prototype,"lineDashOffset",2),u([J(bi)],Ie.prototype,"widthRatio",2),u([J(Fm.restrict({minLength:0}))],Ie.prototype,"colorRanges",2),u([J(Aa)],Ie.prototype,"target",2),u([J(Aa)],Ie.prototype,"scale",2),u([J(Aa)],Ie.prototype,"tooltip",2),u([J(_i)],Ie.prototype,"backgroundFill",2);var{animationValidation:Um,collapsedStartingBarPosition:pc,diff:Km,keyProperty:jm,partialAssign:ba,prepareBarAnimationFunctions:gc,resetBarSelectionsFn:Gm,seriesLabelFadeInAnimation:yc,valueProperty:mc,createDatumId:Ym}=to,{fromToMotion:fc}=qt.motion,{ContinuousScale:Ta,OrdinalTimeScale:Sc}=Pm,{sanitizeHtml:xc}=Xo,vc=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],Wm=class Yn extends to.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:{y:["targetKey","valueKey"]},directionNames:{y:["targetName","valueName"]},pickModes:[to.SeriesNodePickMode.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,animationResetFns:{datum:Gm}}),this.properties=new Ie,this.normalizedColorRanges=[],this.colorRangesGroup=new qt.Group({name:`${this.id}-colorRanges`}),this.colorRangesSelection=qt.Selection.select(this.colorRangesGroup,qt.Rect,!1),this.rootGroup.append(this.colorRangesGroup),this.targetLinesSelection=qt.Selection.select(this.annotationGroup,qt.Line,!1)}destroy(){this.rootGroup.removeChild(this.colorRangesGroup),super.destroy()}processData(e){return k(this,null,function*(){var i,o;if(!this.properties.isValid()||!this.data)return;const{valueKey:s,targetKey:a}=this.properties,n=(i=this.getCategoryAxis())==null?void 0:i.scale,r=(o=this.getValueAxis())==null?void 0:o.scale,l=Ta.is(n)||Sc.is(n),c=Ta.is(r)||Sc.is(r),h=Ta.is(n)?"range":"category",d=[];a!==void 0&&d.push(mc(this,a,c,{id:"target"})),this.ctx.animationManager.isSkipped()||(this.processedData!==void 0&&d.push(Km(this.processedData)),d.push(Um(this))),yield this.requestDataModel(e,this.data.slice(0,1),{props:[jm(this,s,l,{id:"xValue",valueType:h}),mc(this,s,c,{id:"value"}),...d],groupByKeys:!0,dataVisible:this.visible}),this.animationState.transition("updateData")})}getBandScalePadding(){return{inner:0,outer:0}}getMaxValue(){var e,i;return Math.max(...(i=(e=this.getValueAxis())==null?void 0:e.dataDomain.domain)!=null?i:[0])}getSeriesDomain(e){var i,o;const{dataModel:s,processedData:a}=this;if(!s||!a)return[];const{valueKey:n,targetKey:r,valueName:l,scale:c}=this.properties;if(e===this.getCategoryDirection())return[l??n];if(e==((i=this.getValueAxis())==null?void 0:i.direction)){const h=s.getDomain(this,"value","value",a),d=r===void 0?[]:s.getDomain(this,"target","value",a);return[0,(o=c.max)!=null?o:Math.max(...h,...d)]}throw new Error(`unknown direction ${e}`)}getKeys(e){return e===this.getBarDirection()?[this.properties.valueKey]:super.getKeys(e)}createNodeData(){return k(this,null,function*(){var e,i,o,s;const{dataModel:a,processedData:n}=this,{valueKey:r,targetKey:l,widthRatio:c,target:{lengthRatio:h}}=this.properties,d=(e=this.getCategoryAxis())==null?void 0:e.scale,p=(i=this.getValueAxis())==null?void 0:i.scale;if(!r||!a||!n||!d||!p)return[];if(c===void 0||h===void 0)return[];const y=(o=d.bandwidth)!=null?o:NaN,f=this.getMaxValue(),g=a.resolveProcessedDataIndexById(this,"value").index,m=l===void 0?NaN:a.resolveProcessedDataIndexById(this,"target").index,S={itemId:r,nodeData:[],labelData:[],scales:$e(Yn.prototype,this,"calculateScaling").call(this),visible:this.visible};for(const{datum:x,values:v}of n.data){if(!Array.isArray(x)||x.length<1)continue;v[0][g]<0&&Xo.Logger.warnOnce("negative values are not supported, clipping to 0.");const D=(s=this.properties.valueName)!=null?s:this.properties.valueKey,N=Math.min(f,Math.max(0,v[0][g])),A=p.convert(N),L=c*y,_=p.convert(0),T=this.getBarDirection()===to.ChartAxisDirection.X,b={x:y*(1-c)/2,y:Math.min(A,_),width:L,height:Math.abs(_-A)};T&&([b.x,b.y,b.width,b.height]=[b.y,b.x,b.height,b.width]);let E;if(v[0][m]<0&&Xo.Logger.warnOnce("negative targets are not supported, ignoring."),this.properties.targetKey&&v[0][m]>=0){const R=h*y,P=Math.min(f,v[0][m]);if(!isNaN(P)&&P!==void 0){const w=p.convert(P);let C=y*(1-h)/2,z=C+R,[V,F]=[w,w];T&&([C,z,V,F]=[V,F,C,z]),E={value:P,x1:C,x2:z,y1:V,y2:F}}}const O=Oe(Y({series:this,datum:x[0],xKey:r,xValue:D,yKey:r,yValue:N,cumulativeValue:N,target:E},b),{midPoint:{x:b.x+b.width/2,y:b.y+b.height/2},opacity:1});S.nodeData.push(O)}const M=[...this.getColorRanges()].sort((x,v)=>{var D,N;return((D=x.stop)!=null?D:f)-((N=v.stop)!=null?N:f)});let I=0;return this.normalizedColorRanges=M.map(x=>{var v;const D=Math.min(f,(v=x.stop)!=null?v:1/0),N={color:x.color,start:I,stop:D};return I=D,N}),[S]})}getColorRanges(){const{colorRanges:e,fill:i,backgroundFill:o}=this.properties;if(e!==void 0&&e.length>0)return e;const s=new $o;return s.color=Xo.Color.interpolate(i,o)(.7),[s]}getLegendData(e){return[]}getTooltipHtml(e){const{valueKey:i,valueName:o,targetKey:s,targetName:a}=this.properties,n=this.getValueAxis(),{yValue:r,target:{value:l}={value:void 0},datum:c}=e;if(i===void 0||r===void 0||n===void 0)return"";const h=(y,f,g)=>{const m=xc(f??y),S=xc(n.formatDatum(g));return`<b>${m}</b>: ${S}`},d=void 0,p=s===void 0||l===void 0?h(i,o,r):`${h(i,o,r)}<br/>${h(s,a,l)}`;return this.properties.tooltip.toTooltipHtml({title:d,content:p,backgroundColor:this.properties.fill},{datum:c,title:d,seriesId:this.id,valueKey:i,valueName:o,targetKey:s,targetName:a})}isLabelEnabled(){return!1}nodeFactory(){return new qt.Rect}updateDatumSelection(e){return k(this,null,function*(){return this.targetLinesSelection.update(e.nodeData,void 0,void 0),e.datumSelection.update(e.nodeData,void 0,void 0)})}updateDatumNodes(e){return k(this,null,function*(){for(const{node:i}of e.datumSelection){const o=this.properties;ba(vc,i,o)}for(const{node:i,datum:o}of this.targetLinesSelection)if(o.target===void 0)i.visible=!1;else{const s=this.properties.target;ba(["x1","x2","y1","y2"],i,o.target),ba(vc,i,s)}})}updateColorRanges(){return k(this,null,function*(){const e=this.getValueAxis(),i=this.getCategoryAxis();if(!e||!i)return;const[o,s]=[0,Math.max(...i.scale.range)],a=this.getBarDirection()===to.ChartAxisDirection.Y?(n,r)=>{n.x=o,n.y=e.scale.convert(r.stop),n.height=e.scale.convert(r.start)-n.y,n.width=s}:(n,r)=>{n.x=e.scale.convert(r.start),n.y=o,n.height=s,n.width=e.scale.convert(r.stop)-n.x};this.colorRangesSelection.update(this.normalizedColorRanges);for(const{node:n,datum:r}of this.colorRangesSelection)a(n,r),n.fill=r.color})}updateNodes(e,i,o){return k(this,null,function*(){yield $e(Yn.prototype,this,"updateNodes").call(this,e,i,o),yield this.updateColorRanges()})}updateLabelSelection(e){return k(this,null,function*(){return e.labelSelection})}updateLabelNodes(e){return k(this,null,function*(){})}animateEmptyUpdateReady(e){const{datumSelections:i,annotationSelections:o}=e,s=gc(pc(this.isVertical(),this.axes,"normal"));fc(this.id,"nodes",this.ctx.animationManager,i,s),yc(this,"annotations",this.ctx.animationManager,o)}animateWaitingUpdateReady(e){var i,o,s;const{datumSelections:a,annotationSelections:n}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=(o=(i=this.processedData)==null?void 0:i.reduced)==null?void 0:o.diff,l=gc(pc(this.isVertical(),this.axes,"normal"));fc(this.id,"nodes",this.ctx.animationManager,a,l,(h,d)=>Ym(d.xValue),r),((s=r?.changed)!=null?s:!0)&&yc(this,"annotations",this.ctx.animationManager,n)}};import{_Theme as Hm}from"ag-charts-community";var Xm={series:{direction:"vertical",strokeWidth:0,strokeOpacity:1,fillOpacity:1,widthRatio:.5,target:{strokeWidth:3,strokeOpacity:1,lengthRatio:.75}},axes:{[Hm.CARTESIAN_AXIS_TYPE.NUMBER]:{nice:!1,crosshair:{enabled:!1}}}},Qm={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bullet",solo:!0,instanceConstructor:Wm,defaultAxes:[{type:Ni.CARTESIAN_AXIS_TYPE.NUMBER,position:Ni.POSITION.LEFT},{type:Ni.CARTESIAN_AXIS_TYPE.CATEGORY,position:Ni.POSITION.BOTTOM}],themeTemplate:Xm,swapDefaultAxesCondition:t=>t?.direction==="horizontal",paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{var o;const{properties:s}=i,{fills:[a],strokes:[n]}=t(e),r=i.properties.get(Ni.DEFAULT_BACKGROUND_COLOUR),l=(o=Array.isArray(r)?r[0]:r)!=null?o:"white",c=s.get(Ni.DEFAULT_CROSS_LINES_COLOUR);return{fill:a,stroke:n,target:{stroke:c},backgroundFill:l}}};import{_Theme as Zo}from"ag-charts-community";import{_ModuleSupport as Ea,_Scale as $m,_Scene as Zm,_Util as qm}from"ag-charts-community";import{_Scene as Ti}from"ag-charts-community";var Jm=class extends Ti.Group{constructor(){super(),this.append([new Ti.Rect({tag:0}),new Ti.Line({tag:2}),new Ti.Line({tag:2})])}updateDatumStyles(t,e){const{bandwidth:i,scaledValues:{xValue:o}}=t,{openValue:s,closeValue:a,highValue:n,lowValue:r}=t.scaledValues,{fill:l,fillOpacity:c,stroke:h,strokeWidth:d,strokeOpacity:p,lineDash:y,lineDashOffset:f,wick:g,cornerRadius:m}=e,S=Ti.Selection.select(this,Ti.Rect),[M]=S.selectByTag(0),I=S.selectByTag(2);g.strokeWidth>i&&(g.strokeWidth=i);const x=Math.min(s,a),v=Math.max(s,a),D=Math.min(n,r),N=Math.max(n,r);M.setProperties({x:o,y:x,width:i,height:v-x}),M.setProperties({fill:l,fillOpacity:c,strokeWidth:d,strokeOpacity:p,stroke:h,lineDash:y,lineDashOffset:f,cornerRadius:m}),I[0].setProperties({y1:Math.round(N+g.strokeWidth/2),y2:v,x:Math.floor(o+i/2)}),I[0].setProperties(g),I[1].setProperties({y1:Math.round(D-g.strokeWidth/2),y2:x,x:Math.floor(o+i/2)}),I[1].setProperties(g)}};import{_ModuleSupport as ef}from"ag-charts-community";var{BaseProperties:La,AbstractBarSeriesProperties:tf,SeriesTooltip:of,Validate:Q,COLOR_STRING:Oa,FUNCTION:Mc,LINE_DASH:Dc,OBJECT:io,POSITIVE_NUMBER:oo,RATIO:ka,STRING:nt}=ef,Ei=class extends La{};u([Q(Oa,{optional:!0})],Ei.prototype,"stroke",2),u([Q(oo)],Ei.prototype,"strokeWidth",2),u([Q(ka)],Ei.prototype,"strokeOpacity",2),u([Q(Dc,{optional:!0})],Ei.prototype,"lineDash",2),u([Q(oo)],Ei.prototype,"lineDashOffset",2);var Je=class extends La{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new Ei}};u([Q(Oa,{optional:!0})],Je.prototype,"fill",2),u([Q(ka)],Je.prototype,"fillOpacity",2),u([Q(Oa)],Je.prototype,"stroke",2),u([Q(oo)],Je.prototype,"strokeWidth",2),u([Q(ka)],Je.prototype,"strokeOpacity",2),u([Q(Dc)],Je.prototype,"lineDash",2),u([Q(oo)],Je.prototype,"lineDashOffset",2),u([Q(oo)],Je.prototype,"cornerRadius",2),u([Q(Mc,{optional:!0})],Je.prototype,"formatter",2),u([Q(io)],Je.prototype,"wick",2);var Ra=class extends La{constructor(){super(...arguments),this.up=new Je,this.down=new Je}};u([Q(io)],Ra.prototype,"up",2),u([Q(io)],Ra.prototype,"down",2);var Pe=class extends tf{constructor(){super(...arguments),this.item=new Ra,this.tooltip=new of}};u([Q(nt)],Pe.prototype,"xKey",2),u([Q(nt)],Pe.prototype,"openKey",2),u([Q(nt)],Pe.prototype,"closeKey",2),u([Q(nt)],Pe.prototype,"highKey",2),u([Q(nt)],Pe.prototype,"lowKey",2),u([Q(nt,{optional:!0})],Pe.prototype,"xName",2),u([Q(nt,{optional:!0})],Pe.prototype,"yName",2),u([Q(nt,{optional:!0})],Pe.prototype,"openName",2),u([Q(nt,{optional:!0})],Pe.prototype,"closeName",2),u([Q(nt,{optional:!0})],Pe.prototype,"highName",2),u([Q(nt,{optional:!0})],Pe.prototype,"lowName",2),u([Q(Mc,{optional:!0})],Pe.prototype,"formatter",2),u([Q(io)],Pe.prototype,"item",2),u([Q(io)],Pe.prototype,"tooltip",2);function sf(t){return{from:t?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function af(t){return(e,i)=>t?{scalingCenterY:(i.itemId==="up"?Math.max:Math.min)(i.scaledValues.highValue,i.scaledValues.lowValue)}:{scalingCenterX:i.scaledValues.highValue}}var{extent:nf,extractDecoratedProperties:rf,fixNumericExtent:Ca,keyProperty:lf,mergeDefaults:Pa,SeriesNodePickMode:cf,SMALLEST_KEY_INTERVAL:hf,valueProperty:qo,diff:uf,animationValidation:df,ChartAxisDirection:pf,convertValuesToScaleByDefs:gf}=Ea,{motion:Ic}=Zm,{sanitizeHtml:Nc,Logger:_c}=qm,{ContinuousScale:Ac,OrdinalTimeScale:yf}=$m,mf=class extends Ea.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.xKey=o.properties.xKey,this.openKey=o.properties.openKey,this.closeKey=o.properties.closeKey,this.highKey=o.properties.highKey,this.lowKey=o.properties.lowKey}},wa=class Fu extends Ea.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[cf.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},pathsPerSeries:1}),this.properties=new Pe,this.NodeEvent=mf}processData(e){return k(this,null,function*(){var i,o,s,a;if(!this.properties.isValid())return;const{xKey:n,openKey:r,closeKey:l,highKey:c,lowKey:h}=this.properties,d=!this.ctx.animationManager.isSkipped(),p=(i=this.getCategoryAxis())==null?void 0:i.scale,y=Ac.is(p)||yf.is(p),f=Ac.is(p)?"range":"category",g=[];d&&this.processedData&&g.push(uf(this.processedData)),d&&g.push(df(this));const{processedData:m}=yield this.requestDataModel(e,(o=this.data)!=null?o:[],{props:[lf(this,n,y,{id:"xValue",valueType:f}),qo(this,r,!0,{id:"openValue"}),qo(this,l,!0,{id:"closeValue"}),qo(this,c,!0,{id:"highValue"}),qo(this,h,!0,{id:"lowValue"}),...y?[hf]:[],...g],dataVisible:this.visible});this.smallestDataInterval={x:(a=(s=m.reduced)==null?void 0:s.smallestKeyInterval)!=null?a:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(e){var i;const{processedData:o,dataModel:s,smallestDataInterval:a}=this;if(!(o&&s))return[];if(e===this.getBarDirection()){const g=s.getDomain(this,"lowValue","value",o),m=s.getDomain(this,"highValue","value",o),S=s.getDomain(this,"openValue","value",o),M=s.getDomain(this,"closeValue","value",o);return Ca([Math.min(...g,...m,...S,...M),Math.max(...m,...g,...S,...M)],this.getValueAxis())}const{index:n,def:r}=s.resolveProcessedDataIndexById(this,"xValue"),l=o.domain.keys[n];if(r.type==="key"&&r.valueType==="category")return l;const c=this.getCategoryAxis(),h=c?.isReversed(),d=(i=nf(l))!=null?i:[NaN,NaN],p=a&&isFinite(a.x)?a.x:0;if(e===pf.Y){const g=d[0]+(h?0:-p),m=d[1]+(h?p:0);return Ca([g,m],c)}const y=d[0]+(h?-p:0),f=d[1]+(h?0:p);return Ca([y,f],c)}createNodeData(){return k(this,null,function*(){const{visible:e,dataModel:i}=this,o=this.getCategoryAxis(),s=this.getValueAxis();if(!(i&&e&&o&&s))return[];const{xKey:a,openKey:n,closeKey:r,highKey:l,lowKey:c}=this.properties,h=[],d=i.resolveProcessedDataDefsByIds(this,["xValue","openValue","closeValue","highValue","lowValue"]),{barWidth:p,groupIndex:y}=this.updateGroupScale(o),{groupScale:f,processedData:g}=this;return g?.data.forEach(({datum:m,keys:S,values:M})=>{const{xValue:I,openValue:x,closeValue:v,highValue:D,lowValue:N}=i.resolveProcessedDataDefsValues(d,{keys:S,values:M}),A=N!==void 0&&N<=x&&N<=v,L=D!==void 0&&D>=x&&D>=v;if(!A){_c.warnOnce(`invalid low value for key [${c}] in data element, low value cannot be higher than datum open or close values`);return}if(!L){_c.warnOnce(`invalid high value for key [${l}] in data element, high value cannot be lower than datum open or close values.`);return}const _=gf({defs:d,values:{xValue:I,openValue:x,closeValue:v,highValue:D,lowValue:N},xAxis:o,yAxis:s});_.xValue+=Math.round(f.convert(String(y)));const T=v>x,b=this.getSeriesItemType(T),{fill:E,fillOpacity:O,stroke:R,strokeWidth:P,strokeOpacity:w,lineDash:C,lineDashOffset:z,wick:V,cornerRadius:F}=this.getItemConfig(b),G=Math.min(_.openValue,_.closeValue),B=Math.max(_.openValue,_.closeValue)-G,q={x:_.xValue+Math.round(p)/2,y:G+B/2};h.push({series:this,itemId:b,datum:m,xKey:a,xValue:I,openKey:n,closeKey:r,highKey:l,lowKey:c,openValue:x,closeValue:v,highValue:D,lowValue:N,bandwidth:Math.round(p),scaledValues:_,wick:V,fill:E,fillOpacity:O,stroke:R,strokeWidth:P,strokeOpacity:w,lineDash:C,lineDashOffset:z,cornerRadius:F,midPoint:q,aggregatedValue:v})}),[{itemId:a,nodeData:h,labelData:[],scales:$e(Fu.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}getSeriesItemType(e){return e?"up":"down"}getItemConfig(e){switch(e){case"up":return this.properties.item.up;case"down":return this.properties.item.down}}getLegendData(e){return[]}getTooltipHtml(e){const{xKey:i,openKey:o,closeKey:s,highKey:a,lowKey:n,xName:r,yName:l,openName:c,closeName:h,highName:d,lowName:p,tooltip:y}=this.properties,{datum:f}=e,g=this.getCategoryAxis(),m=this.getValueAxis();if(!g||!m||!this.properties.isValid())return"";const S=D=>D.charAt(0).toUpperCase()+D.substring(1),M=Nc(l),x=[[i,r,g],[o,c,m],[a,d,m],[n,p,m],[s,h,m]].map(([D,N,A])=>Nc(`${N??S(D)}: ${A.formatDatum(f[D])}`)).join("<br/>");let{fill:v}=this.getFormattedStyles(e);return v==="transparent"&&(v=this.properties.item.down.fill),y.toTooltipHtml({title:M,content:x,backgroundColor:v},{seriesId:this.id,datum:f,fill:v,xKey:i,openKey:o,closeKey:s,highKey:a,lowKey:n,xName:r,yName:l,openName:c,closeName:h,highName:d,lowName:p})}animateEmptyUpdateReady({datumSelections:e}){const i=this.isVertical(),{from:o,to:s}=sf(i);Ic.resetMotion(e,af(i)),Ic.staticFromToMotion(this.id,"datums",this.ctx.animationManager,e,o,s,{phase:"initial"})}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(e){return k(this,null,function*(){var i;const o=(i=e.nodeData)!=null?i:[];return e.datumSelection.update(o)})}updateDatumNodes(e){return k(this,arguments,function*({datumSelection:i,isHighlight:o}){i.each((s,a)=>{let n=this.getFormattedStyles(a,o);o&&(n=Pa(this.properties.highlightStyle.item,n));const{stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:d}=n;n.wick=Pa(n.wick,{stroke:r,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:d}),s.updateDatumStyles(a,n)})})}updateLabelNodes(e){return k(this,null,function*(){})}updateLabelSelection(e){return k(this,null,function*(){const{labelData:i,labelSelection:o}=e;return o.update(i)})}nodeFactory(){return new Jm}getFormattedStyles(e,i=!1){const{id:o,ctx:{callbackCache:s}}=this,{xKey:a,openKey:n,closeKey:r,highKey:l,lowKey:c,formatter:h}=this.properties,{datum:d,fill:p,fillOpacity:y,stroke:f,strokeWidth:g,strokeOpacity:m,lineDash:S,lineDashOffset:M,wick:I,itemId:x,cornerRadius:v}=e,D={fill:p,fillOpacity:y,stroke:f,strokeWidth:g,strokeOpacity:m,lineDash:S,lineDashOffset:M,wick:rf(I),cornerRadius:v};if(h){const N=s.call(h,Oe(Y({datum:d,seriesId:o,itemId:x,highlighted:i},D),{xKey:a,openKey:n,closeKey:r,highKey:l,lowKey:c}));if(N)return Pa(N,D)}return D}};wa.className="CandleStickSeries",wa.type="candlestick";var ff=wa;import{_Theme as za}from"ag-charts-community";var Sf={series:{__extends__:za.EXTENDS_SERIES_DEFAULTS},axes:{[za.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[za.CARTESIAN_AXIS_TYPE.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},xf={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",instanceConstructor:ff,hidden:!0,defaultAxes:[{type:Zo.CARTESIAN_AXIS_TYPE.NUMBER,position:Zo.POSITION.LEFT},{type:Zo.CARTESIAN_AXIS_TYPE.ORDINAL_TIME,position:Zo.POSITION.BOTTOM}],themeTemplate:Sf,groupable:!1,paletteFactory:({takeColors:t,colorsCount:e})=>{const{fills:i,strokes:o}=t(e);return{item:{up:{fill:"transparent",stroke:o[0]},down:{fill:i[0],stroke:o[0]}}}}};import{_Theme as Li}from"ag-charts-community";import{_ModuleSupport as Va,_Scale as vf,_Scene as Mf,_Util as Df}from"ag-charts-community";import{_ModuleSupport as If,_Scene as Nf,_Util as _f}from"ag-charts-community";var{Validate:Jo,NUMBER:bc,TEXT_WRAP:Af,OVERFLOW_STRATEGY:bf}=If,{Logger:Tf}=_f,{Text:Jt,Label:Ef}=Nf,so=class extends Ef{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}static lineHeight(t){return Math.ceil(t*Jt.defaultLineHeightRatio)}};u([Jo(Af)],so.prototype,"wrapping",2),u([Jo(bf)],so.prototype,"overflowStrategy",2),u([Jo(bc,{optional:!0})],so.prototype,"minimumFontSize",2);var et=class extends so{constructor(){super(...arguments),this.spacing=0}};u([Jo(bc)],et.prototype,"spacing",2);var ao=class extends so{};function Lf(t,e){const{fontSize:i,minimumFontSize:o=i}=t,{fontSize:s,minimumFontSize:a=s}=e,n=i-o,r=s-a;let l=t.fontSize,c=e.fontSize;const h=[{labelFontSize:i,secondaryLabelFontSize:s}];for(;l>o||c>a;){const d=n>0?(l-o)/n:-1,p=r>0?(c-a)/r:-1;d>p?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function Tc(t,e,i){if(t>e)return;let o=t,s=e,a;for(;s>=o;){const n=(s+o)/2|0,r=i(n);r==null?s=n-1:(a=r,o=n+1)}return a}function Of(t,e,i,o,{padding:s},a){var n,r;const{spacing:l}=e,c=2*s,h=2*s+l,d=((n=e.minimumFontSize)!=null?n:e.fontSize)+((r=o.minimumFontSize)!=null?r:o.fontSize);if(d>a(d+h,!1).height-h)return;const p=Lf(e,o),y=new Jt;y.setFont(e);const f={fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight},g=new Jt;g.setFont(o);const m={fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight};let S,M;return Tc(0,p.length-1,I=>{const{labelFontSize:x,secondaryLabelFontSize:v}=p[I],D=I===0,N=et.lineHeight(x),A=ao.lineHeight(v),L=a(N+A+h,D),_=L.width-c,T=L.height-h;if(N+A>T)return;if(S==null||S.fontSize!==x){f.fontSize=x;const{lines:E}=Jt.wrapLines(t,_,T,f,e.wrapping,D?e.overflowStrategy:"hide");if(E==null)S=void 0;else{const O=E.join(`
`);y.text=O,y.fontSize=x,y.lineHeight=x;const R=y.computeBBox().width,P=E.length*N;S={text:O,fontSize:x,lineHeight:N,width:R,height:P}}}if(S==null||S.width>_||S.height>T)return;if(M==null||M.fontSize!==v){m.fontSize=v;const{lines:E}=Jt.wrapLines(i,_,T,m,o.wrapping,D?o.overflowStrategy:"hide");if(E==null)M=void 0;else{const O=E.join(`
`);g.text=O,g.fontSize=v,g.lineHeight=A;const R=g.computeBBox().width,P=E.length*A;M={text:O,fontSize:v,lineHeight:A,width:R,height:P}}}if(M==null)return;const b=S.height+M.height;if(!(M.width>_||b>T))return{width:Math.max(S.width,M.width),height:b+l,meta:L.meta,label:S,secondaryLabel:M}})}function Ba(t,e,{padding:i},o){var s;const a=2*i,n=Math.min((s=e.minimumFontSize)!=null?s:e.fontSize,e.fontSize),r=new Jt;r.setFont(e);const l={fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight};return Tc(n,e.fontSize,c=>{const h=et.lineHeight(c),d=c===n,p=o(h+a,d),y=p.width-a,f=p.height-a;if(h>f)return;l.fontSize=c;const{lines:g}=Jt.wrapLines(t,y,f,l,e.wrapping,d?e.overflowStrategy:"hide");if(g==null)return;const m=g.join(`
`);r.text=m,r.fontSize=c,r.lineHeight=h;const S=r.computeBBox(),M=r.computeBBox().width,I=h*g.length;if(!(S.width>y||I>f))return[{text:m,fontSize:c,lineHeight:h,width:M,height:I},p.meta]})}function Ec(t){return t?.minimumFontSize!=null&&t?.fontSize&&t?.minimumFontSize>t?.fontSize}function Fa(t,e,i,o,s,a){const n=e.enabled?t:void 0,r=o.enabled?i:void 0;(Ec(e)||Ec(o))&&Tf.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;n!=null&&r!=null&&(l=Of(n,e,r,o,s,a));let c;if(l==null&&n!=null&&(c=Ba(n,e,s,a)),c!=null){const[d,p]=c;l={width:d.width,height:d.height,meta:p,label:d,secondaryLabel:void 0}}let h;if(l==null&&n==null&&r!=null&&(h=Ba(r,o,s,a)),h!=null){const[d,p]=h;l={width:d.width,height:d.height,meta:p,label:void 0,secondaryLabel:d}}return l}import{_ModuleSupport as kf}from"ag-charts-community";var{CartesianSeriesProperties:Rf,SeriesTooltip:Cf,Validate:be,AND:Pf,ARRAY:wf,COLOR_STRING:zf,COLOR_STRING_ARRAY:Vf,FUNCTION:Bf,OBJECT:Lc,POSITIVE_NUMBER:Oc,RATIO:Ff,STRING:ei,TEXT_ALIGN:Uf,VERTICAL_ALIGN:Kf}=kf,Ne=class extends Rf{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new et,this.tooltip=new Cf}};u([be(ei,{optional:!0})],Ne.prototype,"title",2),u([be(ei)],Ne.prototype,"xKey",2),u([be(ei)],Ne.prototype,"yKey",2),u([be(ei,{optional:!0})],Ne.prototype,"colorKey",2),u([be(ei,{optional:!0})],Ne.prototype,"xName",2),u([be(ei,{optional:!0})],Ne.prototype,"yName",2),u([be(ei,{optional:!0})],Ne.prototype,"colorName",2),u([be(Pf(Vf,wf.restrict({minLength:1})))],Ne.prototype,"colorRange",2),u([be(zf,{optional:!0})],Ne.prototype,"stroke",2),u([be(Ff,{optional:!0})],Ne.prototype,"strokeOpacity",2),u([be(Oc,{optional:!0})],Ne.prototype,"strokeWidth",2),u([be(Uf)],Ne.prototype,"textAlign",2),u([be(Kf)],Ne.prototype,"verticalAlign",2),u([be(Oc)],Ne.prototype,"itemPadding",2),u([be(Bf,{optional:!0})],Ne.prototype,"formatter",2),u([be(Lc)],Ne.prototype,"label",2),u([be(Lc)],Ne.prototype,"tooltip",2);var{SeriesNodePickMode:jf,getMissCount:Gf,valueProperty:Ua,ChartAxisDirection:Rt,DEFAULT_CARTESIAN_DIRECTION_KEYS:Yf,DEFAULT_CARTESIAN_DIRECTION_NAMES:Wf}=Va,{Rect:Hf,PointerEvents:Xf}=Mf,{ColorScale:Qf}=vf,{sanitizeHtml:Oi,Color:$f,Logger:Zf}=Df,qf=class extends Va.CartesianSeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.colorKey=o.properties.colorKey}},Jf={left:-.5,center:0,right:-.5},eS={top:-.5,middle:0,bottom:-.5},Ka=class Uu extends Va.CartesianSeries{constructor(e){super({moduleCtx:e,directionKeys:Yf,directionNames:Wf,pickModes:[jf.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new Ne,this.NodeEvent=qf,this.colorScale=new Qf}processData(e){return k(this,null,function*(){var i;const o=this.axes[Rt.X],s=this.axes[Rt.Y];if(!o||!s||!this.properties.isValid()||!((i=this.data)!=null&&i.length))return;const{xKey:a,yKey:n,colorRange:r,colorKey:l}=this.properties,{isContinuousX:c,isContinuousY:h}=this.isContinuous(),{dataModel:d,processedData:p}=yield this.requestDataModel(e,this.data,{props:[Ua(this,a,c,{id:"xValue"}),Ua(this,n,h,{id:"yValue"}),...l?[Ua(this,l,!0,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const y=d.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=p.domain.values[y],this.colorScale.range=r,this.colorScale.update()}})}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:i,processedData:o}=this;if(!i||!o)return!1;const s=i.resolveProcessedDataIndexById(this,"colorValue").index,a=o.data.length,n=Gf(this,o.defs.values[s].missing);return!(a===0||a===n)}getSeriesDomain(e){const{dataModel:i,processedData:o}=this;return!i||!o?[]:e===Rt.X?i.getDomain(this,"xValue","value",o):i.getDomain(this,"yValue","value",o)}createNodeData(){return k(this,null,function*(){var e,i,o,s,a,n,r;const{data:l,visible:c,axes:h,dataModel:d}=this,p=h[Rt.X],y=h[Rt.Y];if(!(l&&d&&c&&p&&y))return[];if(p.type!=="category"||y.type!=="category")return Zf.warnOnce(`Heatmap series expected axes to have "category" type, but received "${p.type}" and "${y.type}" instead.`),[];const{xKey:f,xName:g,yKey:m,yName:S,colorKey:M,colorName:I,textAlign:x,verticalAlign:v,itemPadding:D,colorRange:N,label:A}=this.properties,L=d.resolveProcessedDataIndexById(this,"xValue").index,_=d.resolveProcessedDataIndexById(this,"yValue").index,T=M?d.resolveProcessedDataIndexById(this,"colorValue").index:void 0,b=p.scale,E=y.scale,O=((e=b.bandwidth)!=null?e:0)/2,R=((i=E.bandwidth)!=null?i:0)/2,P=this.isColorScaleValid(),w=[],C=[],z=(o=b.bandwidth)!=null?o:10,V=(s=E.bandwidth)!=null?s:10,F=(z-2*D)*Jf[x],G=(V-2*D)*eS[v],j=()=>({width:z,height:V,meta:null});for(const{values:B,datum:q}of(n=(a=this.processedData)==null?void 0:a.data)!=null?n:[]){const K=B[L],H=B[_],te=b.convert(K)+O,ne=E.convert(H)+R,he=B[T??-1],oe=P&&he!=null?this.colorScale.convert(he):N[0],Se=he==null?void 0:this.getLabelText(A,{value:he,datum:q,colorKey:M,colorName:I,xKey:f,yKey:m,xName:g,yName:S}),de=Fa(Se,this.properties.label,void 0,this.properties.label,{padding:D},j),Ke={x:te,y:ne,size:0};if(w.push({series:this,itemId:m,yKey:m,xKey:f,xValue:K,yValue:H,colorValue:he,datum:q,point:Ke,width:z,height:V,fill:oe,midPoint:{x:te,y:ne}}),de?.label!=null){const{text:ze,fontSize:je,lineHeight:bt,height:Ge}=de.label,{fontStyle:Qe,fontFamily:Tt,fontWeight:Fi,color:Mo}=this.properties.label,Et=Ke.x+F*(z-2*D),yt=Ke.y+G*(V-2*D)-(de.height-Ge)*.5;C.push({series:this,itemId:m,datum:q,text:ze,fontSize:je,lineHeight:bt,fontStyle:Qe,fontFamily:Tt,fontWeight:Fi,color:Mo,textAlign:x,verticalAlign:v,x:Et,y:yt})}}return[{itemId:(r=this.properties.yKey)!=null?r:this.id,nodeData:w,labelData:C,scales:$e(Uu.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}nodeFactory(){return new Hf}updateDatumSelection(e){return k(this,null,function*(){const{nodeData:i,datumSelection:o}=e,s=i??[];return o.update(s)})}updateDatumNodes(e){return k(this,null,function*(){var i;const{isHighlight:o}=e,{id:s,ctx:{callbackCache:a}}=this,{xKey:n,yKey:r,colorKey:l,formatter:c,highlightStyle:{item:{fill:h,stroke:d,strokeWidth:p,strokeOpacity:y,fillOpacity:f}}}=this.properties,g=this.axes[Rt.X],[m,S]=(i=g?.visibleRange)!=null?i:[],I=!(m!==0||S!==1);e.datumSelection.each((x,v)=>{var D,N,A,L,_;const{point:T,width:b,height:E}=v,O=o&&h!==void 0?$f.interpolate(v.fill,h)(f??1):v.fill,R=o&&d!==void 0?d:this.properties.stroke,P=o&&y!==void 0?y:this.properties.strokeOpacity,w=o&&p!==void 0?p:this.properties.strokeWidth;let C;c&&(C=a.call(c,{datum:v.datum,fill:O,stroke:R,strokeOpacity:P,strokeWidth:w,highlighted:o,xKey:n,yKey:r,colorKey:l,seriesId:s})),x.crisp=I,x.x=Math.floor(T.x-b/2),x.y=Math.floor(T.y-E/2),x.width=Math.ceil(b),x.height=Math.ceil(E),x.fill=(D=C?.fill)!=null?D:O,x.stroke=(N=C?.stroke)!=null?N:R,x.strokeOpacity=(L=(A=C?.strokeOpacity)!=null?A:P)!=null?L:1,x.strokeWidth=(_=C?.strokeWidth)!=null?_:w})})}updateLabelSelection(e){return k(this,null,function*(){const{labelData:i,labelSelection:o}=e,{enabled:s}=this.properties.label,a=s?i:[];return o.update(a)})}updateLabelNodes(e){return k(this,null,function*(){e.labelSelection.each((i,o)=>{i.text=o.text,i.fontSize=o.fontSize,i.lineHeight=o.lineHeight,i.fontStyle=o.fontStyle,i.fontFamily=o.fontFamily,i.fontWeight=o.fontWeight,i.fill=o.color,i.textAlign=o.textAlign,i.textBaseline=o.verticalAlign,i.x=o.x,i.y=o.y,i.pointerEvents=Xf.None})})}getTooltipHtml(e){var i,o,s;const a=this.axes[Rt.X],n=this.axes[Rt.Y];if(!this.properties.isValid()||!a||!n)return"";const{xKey:r,yKey:l,colorKey:c,xName:h,yName:d,colorName:p,stroke:y,strokeWidth:f,colorRange:g,formatter:m,tooltip:S}=this.properties,{colorScale:M,id:I,ctx:{callbackCache:x}}=this,{datum:v,xValue:D,yValue:N,colorValue:A}=e,L=this.isColorScaleValid()?M.convert(A):g[0];let _;m&&(_=x.call(m,{datum:e,xKey:r,yKey:l,colorKey:c,fill:L,stroke:y,strokeWidth:f,highlighted:!1,seriesId:I}));const T=(o=(i=_?.fill)!=null?i:L)!=null?o:"gray",b=(s=this.properties.title)!=null?s:d,E=Oi(a.formatDatum(D)),O=Oi(n.formatDatum(N));let R=`<b>${Oi(h??r)}</b>: ${E}<br><b>${Oi(d??l)}</b>: ${O}`;return c&&(R=`<b>${Oi(p??c)}</b>: ${Oi(A)}<br>`+R),S.toTooltipHtml({title:b,content:R,backgroundColor:T},{seriesId:I,datum:v,xKey:r,yKey:l,xName:h,yName:d,title:b,color:T,colorKey:c})}getLegendData(e){var i;return e!=="gradient"||!((i=this.data)!=null&&i.length)||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue").index],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}};Ka.className="HeatmapSeries",Ka.type="heatmap";var tS=Ka;import{_Theme as no}from"ag-charts-community";var iS={series:{__extends__:no.EXTENDS_SERIES_DEFAULTS,label:{__overrides__:no.OVERRIDE_SERIES_LABEL_DEFAULTS,enabled:!1,color:no.DEFAULT_LABEL_COLOUR,fontSize:no.FONT_SIZE.SMALL,fontFamily:no.DEFAULT_FONT_FAMILY,wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},oS={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",instanceConstructor:tS,defaultAxes:[{type:Li.CARTESIAN_AXIS_TYPE.CATEGORY,position:Li.POSITION.LEFT},{type:Li.CARTESIAN_AXIS_TYPE.CATEGORY,position:Li.POSITION.BOTTOM}],themeTemplate:iS,paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,themeTemplateParameters:o})=>{var s;const{properties:a}=o,n=a.get(Li.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),r=a.get(Li.DEFAULT_BACKGROUND_COLOUR),l=(s=Array.isArray(r)?r[0]:r)!=null?s:"white",{fills:c,strokes:h}=t(e);return{stroke:i?h[0]:l,colorRange:i?[c[0],c[1]]:n}}};import{_Theme as sS}from"ag-charts-community";import{_ModuleSupport as aS,_Scene as nS,_Util as rS}from"ag-charts-community";import{_Scene as lS}from"ag-charts-community";var cS=1e-9;function kc(t,e,i,o){const[s,a]=t,[n,r]=e,l=n-s,c=r-a,h=l*l+c*c;let d,p;if(Math.abs(h)<cS)d=s,p=a;else{let g=((i-s)*l+(o-a)*c)/h;g=Math.max(0,Math.min(1,g)),d=s+g*(n-s),p=a+g*(r-a)}const y=i-d,f=o-p;return y*y+f*f}function Rc(t,e,i){let o=1/0,s=t[t.length-1];for(const a of t)o=Math.min(o,kc(s,a,e,i)),s=a;return Math.sqrt(o)}function ja(t){let[e,i]=t[0],o=0;for(let s=1;s<t.length;s+=1){const[a,n]=t[s],r=Math.hypot(a-e,n-i);o+=r,e=a,i=n}return o}function es(t){if(t.length===0)return;const e=ja(t)/2;let[i,o]=t[0],s=0;for(let a=1;a<t.length;a+=1){const[n,r]=t[a],l=Math.hypot(n-i,r-o),c=s+l;if(c>e){const h=(e-s)/l,d=[i+(n-i)*h,o+(r-o)*h],p=Math.atan2(r-o,n-i);return{point:d,angle:p}}s=c,i=n,o=r}}import{_ModuleSupport as hS}from"ag-charts-community";var{LonLatBBox:uS}=hS;function ro(t,e,i,o,s){return t==null?t=new uS(e,i,o,s):(t.lon0=Math.min(t.lon0,e),t.lat0=Math.min(t.lat0,i),t.lon1=Math.max(t.lon1,o),t.lat1=Math.max(t.lat1,s)),t}var dS=(t,e,i)=>{let o=t,s=o;for(const a of e)if(o==null||i(o.value,a)>0)o={value:a,next:o},s=o;else{for(s=s;s.next!=null&&i(s.next.value,a)<=0;)s=s.next;s.next={value:a,next:s.next}}return o};function ti(t,e){return t.forEach(i=>{const[o,s]=i;e=ro(e,o,s,o,s)}),e}function pS(t){if(t.length===0)return;let e=0,i=0,o=0,[s,a]=t[t.length-1];for(const[n,r]of t){const l=s*r-n*a;o+=l,e+=(s+n)*l,i+=(a+r)*l,s=n,a=r}return o*=3,[e/o,i/o]}function ts(t,e,i){let o=!1,s=1/0;for(const a of t){let n=a[a.length-1],[r,l]=n;for(const c of a){const[h,d]=c;d>i!=l>i&&e<(r-h)*(i-d)/(l-d)+h&&(o=!o),s=Math.min(s,kc(n,c,e,i)),n=c,r=h,l=d}}return(o?-1:1)*Math.sqrt(s)}var{Path:gS,Path2D:yS,BBox:mS,ScenePathChangeDetection:Cc}=lS,ki=class extends gS{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new yS}computeBBox(){var t;return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),(t=this.bbox)==null?void 0:t.clone()}updatePath(){const{projectedGeometry:t}=this;this.strokePath.clear(),this.path.clear(),this.bbox=t!=null?this.drawGeometry(t,void 0):void 0}drawPath(t){super.drawPath(t),this.strokePath.draw(t),this.renderStroke(t)}containsPoint(t,e){const{projectedGeometry:i}=this;return i==null||({x:t,y:e}=this.transformPoint(t,e),!this.getCachedBBox().containsPoint(t,e))?!1:this.geometryDistance(i,t,e)<=0}distanceToPoint(t,e){const{projectedGeometry:i}=this;return{x:t,y:e}=this.transformPoint(t,e),i!=null?this.geometryDistance(i,t,e):1/0}geometryDistance(t,e,i){const{renderMode:o,strokeWidth:s}=this,a=(o&1)!==0,n=(o&2)!==0,r=Math.max(s/2,1)+1;switch(t.type){case"GeometryCollection":return t.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,e,i)),1/0);case"MultiPolygon":return a?t.coordinates.reduce((l,c)=>Math.min(l,Math.max(ts(c,e,i),0)),1/0):1/0;case"Polygon":return a?Math.max(ts(t.coordinates,e,i),0):1/0;case"MultiLineString":return n?t.coordinates.reduce((l,c)=>Math.min(l,Math.max(Rc(c,e,i)-r,0)),1/0):1/0;case"LineString":return n?Math.max(Rc(t.coordinates,e,i)-r,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(t,e){const{renderMode:i,path:o,strokePath:s}=this,a=(i&1)!==0,n=(i&2)!==0;switch(t.type){case"GeometryCollection":t.geometries.forEach(r=>{e=this.drawGeometry(r,e)});break;case"MultiPolygon":a&&t.coordinates.forEach(r=>{e=this.drawPolygon(o,r,e)});break;case"Polygon":a&&(e=this.drawPolygon(o,t.coordinates,e));break;case"LineString":n&&(e=this.drawLineString(s,t.coordinates,e,!1));break;case"MultiLineString":n&&t.coordinates.forEach(r=>{e=this.drawLineString(s,r,e,!1)});break;case"Point":case"MultiPoint":break}return e}drawPolygon(t,e,i){if(e.length<1)return i;i=this.drawLineString(t,e[0],i,!0);for(let o=1;o<e.length;o+=1){const s=e[o];this.drawLineString(t,s,void 0,!0)}return i}drawLineString(t,e,i,o){if(e.length<2)return i;const s=o?e.length-1:e.length;for(let a=0;a<s;a+=1){const[n,r]=e[a];if(a===0?t.moveTo(n,r):t.lineTo(n,r),i==null)i=new mS(n,r,0,0);else{const{x:l,y:c}=i,h=l+i.width,d=c+i.height;i.x=Math.min(l,n),i.y=Math.min(c,r),i.width=Math.max(h,n)-i.x,i.height=Math.max(d,r)-i.y}}return o&&t.closePath(),i}};u([Cc()],ki.prototype,"projectedGeometry",2),u([Cc()],ki.prototype,"renderMode",2);function Ri(t,e){if(t.bbox!=null){const[i,o,s,a]=t.bbox;return e=ro(e,i,o,s,a),e}switch(t.type){case"GeometryCollection":t.geometries.forEach(i=>{e=Ri(i,e)});break;case"MultiPolygon":t.coordinates.forEach(i=>{i.length>0&&(e=ti(i[0],e))});break;case"Polygon":t.coordinates.length>0&&(e=ti(t.coordinates[0],e));break;case"MultiLineString":t.coordinates.forEach(i=>{e=ti(i,e)});break;case"LineString":e=ti(t.coordinates,e);break;case"MultiPoint":t.coordinates.forEach(i=>{const[o,s]=i;e=ro(e,o,s,o,s)});break;case"Point":{const[i,o]=t.coordinates;e=ro(e,i,o,i,o);break}}return e}function is(t){switch(t.type){case"GeometryCollection":{let e,i;return t.geometries.map(o=>{const s=is(o);if(s==null)return;const a=ti(s[0],void 0);if(a==null)return;const n=Math.abs(a.lat1-a.lat0)*Math.abs(a.lon1-a.lon0);(e==null||n>e)&&(e=n,i=s)}),i}case"MultiPolygon":{let e,i;return t.coordinates.forEach(o=>{const s=ti(o[0],void 0);if(s==null)return;const a=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(e==null||a>e)&&(e=a,i=o)}),i}case"Polygon":return t.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function os(t){switch(t.type){case"GeometryCollection":{let e,i;return t.geometries.map(o=>{const s=os(o);if(s==null)return;const a=ja(s);a!=null&&(e==null||a>e)&&(e=a,i=s)}),i}case"MultiLineString":{let e=0,i;return t.coordinates.forEach(o=>{const s=ja(o);s>e&&(e=s,i=o)}),i}case"LineString":return t.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function Ga(t,e){if(t==null)return!1;switch(t.type){case"GeometryCollection":return t.geometries.some(i=>Ga(i,e));case"MultiPolygon":case"Polygon":return(e&1)!==0;case"MultiLineString":case"LineString":return(e&2)!==0;case"MultiPoint":case"Point":return(e&4)!==0}}function Ct(t,e){switch(t.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:t.geometries.map(i=>Ct(i,e))};case"Polygon":return{type:"Polygon",coordinates:Ya(t.coordinates,e)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:fS(t.coordinates,e)};case"MultiLineString":return{type:"MultiLineString",coordinates:Ya(t.coordinates,e)};case"LineString":return{type:"LineString",coordinates:Wa(t.coordinates,e)};case"MultiPoint":return{type:"MultiPoint",coordinates:Wa(t.coordinates,e)};case"Point":return{type:"Point",coordinates:e.convert(t.coordinates)}}}function fS(t,e){return t.map(i=>Ya(i,e))}function Ya(t,e){return t.map(i=>Wa(i,e))}function Wa(t,e){return t.map(i=>e.convert(i))}import{_ModuleSupport as Pc}from"ag-charts-community";function wc(t){return Array.isArray(t)&&t.length>=2&&t.every(Pc.isFiniteNumber)}function ss(t){return Array.isArray(t)&&t.length>=2&&t.every(wc)}var zc=.001;function SS(t){return Math.abs(t[0][0]-t[t.length-1][0])<zc&&Math.abs(t[0][1]-t[t.length-1][1])<zc}function Vc(t){return Array.isArray(t)&&t.every(ss)&&t.every(SS)}function Bc(t){if(t===null)return!0;if(typeof t!="object"||t.type==null)return!1;const{type:e,coordinates:i}=t;switch(e){case"GeometryCollection":return Array.isArray(t.geometries)&&t.geometries.every(Bc);case"MultiPolygon":return Array.isArray(i)&&i.every(Vc);case"Polygon":return Vc(i);case"MultiLineString":return Array.isArray(i)&&i.every(ss);case"LineString":return ss(i);case"MultiPoint":return ss(i);case"Point":return wc(i)}}function xS(t){return t!==null&&typeof t=="object"&&t.type==="Feature"&&Bc(t.geometry)}function vS(t){return t!==null&&typeof t=="object"&&t.type==="FeatureCollection"&&Array.isArray(t.features)&&t.features.every(xS)}var dt=Pc.predicateWithMessage(vS,"a GeoJSON object");import{_ModuleSupport as MS}from"ag-charts-community";var{COLOR_STRING:DS,LINE_DASH:IS,OBJECT:NS,POSITIVE_NUMBER:Fc,RATIO:_S,Validate:ii,SeriesProperties:AS,SeriesTooltip:bS}=MS,Pt=class extends AS{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new bS}};u([ii(dt,{optional:!0})],Pt.prototype,"topology",2),u([ii(DS)],Pt.prototype,"stroke",2),u([ii(_S)],Pt.prototype,"strokeOpacity",2),u([ii(Fc)],Pt.prototype,"strokeWidth",2),u([ii(IS)],Pt.prototype,"lineDash",2),u([ii(Fc)],Pt.prototype,"lineDashOffset",2),u([ii(NS)],Pt.prototype,"tooltip",2);var{createDatumId:TS,DataModelSeries:ES,SeriesNodePickMode:LS,Validate:OS}=aS,{Group:kS,Selection:RS,PointerEvents:CS}=nS,{Logger:PS}=rS,as=class extends ES{constructor(t){super({moduleCtx:t,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[LS.EXACT_SHAPE_MATCH]}),this.properties=new Pt,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new kS({name:"itemGroup"})),this.datumSelection=RS.select(this.itemGroup,()=>this.nodeFactory()),this.contextNodeData=[]}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}nodeFactory(){const t=new ki;return t.renderMode=2,t.lineJoin="round",t.lineCap="round",t.pointerEvents=CS.None,t}processData(){return k(this,null,function*(){const{topology:t}=this;this.topologyBounds=t?.features.reduce((e,i)=>{const o=i.geometry;return o==null?e:Ri(o,e)},void 0),t==null&&PS.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")})}createNodeData(){return k(this,null,function*(){const{id:t,topology:e,scale:i}=this;if(e==null)return[];const o=[],s=[];return e.features.forEach((a,n)=>{const{geometry:r}=a,l=r!=null&&i!=null?Ct(r,i):void 0;l!=null&&o.push({series:this,itemId:n,datum:a,index:n,projectedGeometry:l})}),[{itemId:t,nodeData:o,labelData:s}]})}updateSelections(){return k(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return k(this,null,function*(){const{datumSelection:t}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:e}=this.contextNodeData[0];this.datumSelection=yield this.updateDatumSelection({nodeData:e,datumSelection:t}),yield this.updateDatumNodes({datumSelection:t})})}updateDatumSelection(t){return k(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>TS(e.index))})}updateDatumNodes(t){return k(this,null,function*(){const{properties:e}=this,{datumSelection:i}=t,{stroke:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}=e,r=this.getStrokeWidth(e.strokeWidth);i.each((l,c)=>{const{projectedGeometry:h}=c;if(h==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=h,l.stroke=o,l.strokeWidth=r,l.strokeOpacity=s,l.lineDash=a,l.lineDashOffset=n})})}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return""}};as.className="MapLineBackgroundSeries",as.type="map-line-background",u([OS(dt,{optional:!0,property:"topology"})],as.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS:wS,DEFAULT_HIERARCHY_STROKES:zS}=sS,VS={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",instanceConstructor:as,themeTemplate:{series:{__extends__:wS,strokeWidth:1,lineDash:[0],lineDashOffset:0},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:({themeTemplateParameters:t})=>{var e;const{properties:i}=t;return{stroke:(e=i.get(zS))==null?void 0:e[1]}}};import{_Theme as BS}from"ag-charts-community";import{_ModuleSupport as FS,_Scale as US,_Scene as KS,_Util as jS}from"ag-charts-community";import{_ModuleSupport as GS,_Scene as YS}from"ag-charts-community";var{AND:WS,ARRAY:HS,COLOR_STRING:XS,COLOR_STRING_ARRAY:QS,FUNCTION:$S,LINE_DASH:ZS,NUMBER_ARRAY:qS,OBJECT:Uc,POSITIVE_NUMBER:Ha,RATIO:JS,STRING:rt,Validate:le,SeriesProperties:ex,SeriesTooltip:tx}=GS,{Label:ix}=YS,re=class extends ex{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new ix,this.tooltip=new tx}};u([le(dt,{optional:!0})],re.prototype,"topology",2),u([le(rt,{optional:!0})],re.prototype,"title",2),u([le(rt,{optional:!0})],re.prototype,"legendItemName",2),u([le(rt)],re.prototype,"idKey",2),u([le(rt)],re.prototype,"topologyIdKey",2),u([le(rt,{optional:!0})],re.prototype,"idName",2),u([le(rt,{optional:!0})],re.prototype,"labelKey",2),u([le(rt,{optional:!0})],re.prototype,"labelName",2),u([le(rt,{optional:!0})],re.prototype,"sizeKey",2),u([le(rt,{optional:!0})],re.prototype,"sizeName",2),u([le(rt,{optional:!0})],re.prototype,"colorKey",2),u([le(rt,{optional:!0})],re.prototype,"colorName",2),u([le(qS,{optional:!0})],re.prototype,"sizeDomain",2),u([le(WS(QS,HS.restrict({minLength:1})),{optional:!0})],re.prototype,"colorRange",2),u([le(Ha,{optional:!0})],re.prototype,"maxStrokeWidth",2),u([le(XS)],re.prototype,"stroke",2),u([le(JS)],re.prototype,"strokeOpacity",2),u([le(Ha)],re.prototype,"strokeWidth",2),u([le(ZS)],re.prototype,"lineDash",2),u([le(Ha)],re.prototype,"lineDashOffset",2),u([le($S,{optional:!0})],re.prototype,"formatter",2),u([le(Uc)],re.prototype,"label",2),u([le(Uc)],re.prototype,"tooltip",2);var{getMissCount:ox,createDatumId:sx,DataModelSeries:ax,SeriesNodePickMode:Kc,valueProperty:lo,Validate:nx}=FS,{ColorScale:rx,LinearScale:lx}=US,{Group:cx,Selection:Xa,Text:jc}=KS,{sanitizeHtml:co,Logger:Gc}=jS,ns=class extends ax{constructor(t){super({moduleCtx:t,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[Kc.EXACT_SHAPE_MATCH,Kc.NEAREST_NODE]}),this.properties=new re,this._chartTopology=void 0,this.colorScale=new rx,this.sizeScale=new lx,this.itemGroup=this.contentGroup.appendChild(new cx({name:"itemGroup"})),this.datumSelection=Xa.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Xa.select(this.labelGroup,jc),this.highlightDatumSelection=Xa.select(this.highlightGroup,()=>this.nodeFactory()),this.contextNodeData=[],this._previousDatumMidPoint=void 0}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>{this.onLegendItemClick(t)}),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>{this.onLegendItemDoubleClick(t)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const t=new ki;return t.renderMode=2,t.lineJoin="round",t.lineCap="round",t}processData(t){return k(this,null,function*(){var e;if(this.data==null||!this.properties.isValid())return;const{data:i,topology:o,sizeScale:s,colorScale:a}=this,{topologyIdKey:n,idKey:r,sizeKey:l,colorKey:c,labelKey:h,sizeDomain:d,colorRange:p}=this.properties,y=new Map;o?.features.forEach(S=>{var M;const I=(M=S.properties)==null?void 0:M[n];I==null||!Ga(S.geometry,2)||y.set(I,S)});const{dataModel:f,processedData:g}=yield this.requestDataModel(t,i,{props:[lo(this,r,!1,{id:"idValue",includeProperty:!1}),lo(this,r,!1,{id:"featureValue",includeProperty:!1,processor:()=>S=>y.get(S)}),...h!=null?[lo(this,h,!1,{id:"labelValue"})]:[],...l!=null?[lo(this,l,!0,{id:"sizeValue"})]:[],...c!=null?[lo(this,c,!0,{id:"colorValue"})]:[]]}),m=f.resolveProcessedDataIndexById(this,"featureValue").index;if(this.topologyBounds=g.data.reduce((S,{values:M})=>{const I=M[m],x=I?.geometry;return x==null?S:Ri(x,S)},void 0),l!=null){const S=f.resolveProcessedDataIndexById(this,"sizeValue").index,M=(e=g.domain.values[S])!=null?e:[];s.domain=d??M}if(p!=null&&this.isColorScaleValid()){const S=f.resolveProcessedDataIndexById(this,"colorValue").index;a.domain=g.domain.values[S],a.range=p,a.update()}o==null&&Gc.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const o=e.resolveProcessedDataIndexById(this,"colorValue").index,s=i.data.length,a=ox(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelDatum(t,e,i,o){if(e==null||i==null)return;const s=os(i);if(s==null)return;const{idKey:a,idName:n,sizeKey:r,sizeName:l,colorKey:c,colorName:h,labelKey:d,labelName:p,label:y}=this.properties,f=this.getLabelText(y,{value:e,datum:t,idKey:a,idName:n,sizeKey:r,sizeName:l,colorKey:c,colorName:h,labelKey:d,labelName:p});if(f==null)return;const g=jc.getTextSize(String(f),o),m=es(s);if(m==null)return;const[S,M]=m.point,{width:I,height:x}=g;return{point:{x:S,y:M,size:0},label:{width:I,height:x,text:f},marker:void 0,placement:void 0}}createNodeData(){return k(this,null,function*(){var t;const{id:e,dataModel:i,processedData:o,sizeScale:s,colorScale:a,properties:n,scale:r}=this,{idKey:l,sizeKey:c,colorKey:h,labelKey:d,label:p}=n;if(i==null||o==null)return[];const y=this.isColorScaleValid(),f=i.resolveProcessedDataIndexById(this,"idValue").index,g=i.resolveProcessedDataIndexById(this,"featureValue").index,m=d!=null?i.resolveProcessedDataIndexById(this,"labelValue").index:void 0,S=c!=null?i.resolveProcessedDataIndexById(this,"sizeValue").index:void 0,M=h!=null?i.resolveProcessedDataIndexById(this,"colorValue").index:void 0,I=(t=n.maxStrokeWidth)!=null?t:n.strokeWidth;s.range=[Math.min(n.strokeWidth,I),I];const x=p.getFont(),v=new Map;o.data.forEach(({values:_})=>{var T;const b=_[f],E=(T=_[g])==null?void 0:T.geometry,O=E!=null&&r!=null?Ct(E,r):void 0;b!=null&&O!=null&&v.set(b,O)});const D=[],N=[],A=[];o.data.forEach(({datum:_,values:T})=>{const b=T[f],E=M!=null?T[M]:void 0,O=S!=null?T[S]:void 0,R=m!=null?T[m]:void 0,P=y&&E!=null?a.convert(E):void 0,w=O!=null?s.convert(O,{clampMode:"clamped"}):void 0,C=v.get(b);C==null&&A.push(b);const z=this.getLabelDatum(_,R,C,x);z!=null&&N.push(z),D.push({series:this,itemId:l,datum:_,stroke:P,strokeWidth:w,idValue:b,labelValue:R,colorValue:E,sizeValue:O,projectedGeometry:C})});const L=10;if(A.length>L){const _=A.length-L;A.length=L,A.push(`(+${_} more)`)}return A.length>0&&Gc.warnOnce("some data items do not have matches in the provided topology",A),[{itemId:e,nodeData:D,labelData:N}]})}updateSelections(){return k(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return k(this,null,function*(){var t,e,i;const{datumSelection:o,labelSelection:s,highlightDatumSelection:a}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let n=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight();n!=null&&(n.series!==this||n.datum==null)&&(n=void 0);const r=(i=(e=this.contextNodeData[0])==null?void 0:e.nodeData)!=null?i:[];this.datumSelection=yield this.updateDatumSelection({nodeData:r,datumSelection:o}),yield this.updateDatumNodes({datumSelection:o,isHighlight:!1}),this.labelSelection=yield this.updateLabelSelection({labelSelection:s}),yield this.updateLabelNodes({labelSelection:s}),this.highlightDatumSelection=yield this.updateDatumSelection({nodeData:n!=null?[n]:[],datumSelection:a}),yield this.updateDatumNodes({datumSelection:a,isHighlight:!0})})}updateDatumSelection(t){return k(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>sx(e.idValue))})}updateDatumNodes(t){return k(this,null,function*(){const{id:e,properties:i,ctx:{callbackCache:o}}=this,{datumSelection:s,isHighlight:a}=t,{idKey:n,labelKey:r,sizeKey:l,colorKey:c,stroke:h,strokeOpacity:d,lineDash:p,lineDashOffset:y,formatter:f}=i,g=a?i.highlightStyle.item:void 0,m=this.getStrokeWidth(i.strokeWidth);s.each((S,M)=>{var I,x,v,D,N,A,L,_,T,b,E,O;const{projectedGeometry:R}=M;if(R==null){S.visible=!1,S.projectedGeometry=void 0;return}let P;if(f!=null){const w={seriesId:e,datum:M.datum,itemId:M.itemId,idKey:n,labelKey:r,sizeKey:l,colorKey:c,strokeOpacity:d,stroke:h,strokeWidth:m,lineDash:p,lineDashOffset:y,highlighted:a};P=o.call(f,w)}S.visible=!0,S.projectedGeometry=R,S.stroke=(v=(x=(I=g?.stroke)!=null?I:P?.stroke)!=null?x:M.stroke)!=null?v:h,S.strokeWidth=Math.max((D=g?.strokeWidth)!=null?D:0,(A=(N=P?.strokeWidth)!=null?N:M.strokeWidth)!=null?A:m),S.strokeOpacity=(_=(L=g?.strokeOpacity)!=null?L:P?.strokeOpacity)!=null?_:d,S.lineDash=(b=(T=g?.lineDash)!=null?T:P?.lineDash)!=null?b:p,S.lineDashOffset=(O=(E=g?.lineDashOffset)!=null?E:P?.lineDashOffset)!=null?O:y})})}updateLabelSelection(t){return k(this,null,function*(){var e,i;const o=(i=this.isLabelEnabled()?(e=this.chart)==null?void 0:e.placeLabels().get(this):void 0)!=null?i:[];return t.labelSelection.update(o)})}updateLabelNodes(t){return k(this,null,function*(){const{labelSelection:e}=t,{color:i,fontStyle:o,fontWeight:s,fontSize:a,fontFamily:n}=this.properties.label;e.each((r,{x:l,y:c,width:h,height:d,text:p})=>{r.visible=!0,r.x=l+h/2,r.y=c+d/2,r.text=p,r.fill=i,r.fontStyle=o,r.fontWeight=s,r.fontSize=a,r.fontFamily=n,r.textAlign="center",r.textBaseline="middle"})})}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:o,series:s}=t,a=e!=null&&e===t.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,{legendItemName:a}=this.properties,n=a!=null&&a===t.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):e&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){return this.contextNodeData.flatMap(({labelData:t})=>t)}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum({x:t,y:e}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const n=s.distanceToPoint(t,e);n<i&&(i=n,o=a)}),o!=null?{datum:o,distance:i}:void 0}datumMidPoint(t){var e;const{_previousDatumMidPoint:i}=this;if(i?.datum===t)return i.point;const o=t.projectedGeometry,s=o!=null?os(o):void 0,a=s!=null?(e=es(s))==null?void 0:e.point:void 0,n=a!=null?{x:a[0],y:a[1]}:void 0;return this._previousDatumMidPoint={datum:t,point:n},n}getLegendData(t){var e,i,o,s;const{processedData:a,dataModel:n}=this;if(a==null||n==null)return[];const{title:r,legendItemName:l,idKey:c,idName:h,colorKey:d,colorName:p,colorRange:y,stroke:f,strokeWidth:g,strokeOpacity:m,lineDash:S,visible:M}=this.properties;if(t==="gradient"&&d!=null&&y!=null){const I=a.domain.values[n.resolveProcessedDataIndexById(this,"colorValue").index];return[{legendType:"gradient",enabled:M,seriesId:this.id,colorName:p,colorRange:y,colorDomain:I}]}else return t==="category"?[{legendType:"category",id:this.id,itemId:(i=(e=l??r)!=null?e:h)!=null?i:c,seriesId:this.id,enabled:M,label:{text:(s=(o=l??r)!=null?o:h)!=null?s:c},marker:{fill:f,fillOpacity:m,stroke:void 0,strokeWidth:0,strokeOpacity:0,enabled:!1},line:{stroke:f,strokeOpacity:m,strokeWidth:g,lineDash:S},legendItemName:l}]:[]}getTooltipHtml(t){var e,i,o,s,a;const{id:n,processedData:r,properties:l,ctx:{callbackCache:c}}=this;if(!r||!l.isValid())return"";const{legendItemName:h,idKey:d,idName:p,colorKey:y,colorName:f,sizeKey:g,sizeName:m,labelKey:S,labelName:M,formatter:I,tooltip:x}=l,{datum:v,stroke:D,idValue:N,colorValue:A,sizeValue:L,labelValue:_}=t,T=(i=co((e=l.title)!=null?e:h))!=null?i:"",b=[];b.push(co((p!=null?`${p}: `:"")+N)),A!=null&&b.push(co((f??y)+": "+A)),L!=null&&b.push(co((m??g)+": "+L)),_!=null&&S!==d&&b.push(co((M??S)+": "+_));const E=b.join("<br>");let O;I&&(O=c.call(I,{seriesId:n,datum:v,idKey:d,stroke:D,strokeWidth:this.getStrokeWidth((o=t.strokeWidth)!=null?o:l.strokeWidth),highlighted:!1}));const R=(a=(s=O?.stroke)!=null?s:D)!=null?a:l.stroke;return x.toTooltipHtml({title:T,content:E,backgroundColor:R},Y({seriesId:n,datum:v,idKey:d,title:T,color:R},this.getModuleTooltipParams()))}};ns.className="MapLineSeries",ns.type="map-line",u([nx(dt,{optional:!0,property:"topology"})],ns.prototype,"_chartTopology",2);var{DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:hx,EXTENDS_SERIES_DEFAULTS:ux,DEFAULT_FONT_FAMILY:dx,DEFAULT_LABEL_COLOUR:px,singleSeriesPaletteFactory:gx}=BS,yx={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",instanceConstructor:ns,themeTemplate:{series:{__extends__:ux,strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:dx,color:px}},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:o,themeTemplateParameters:s}=t,{fill:a}=gx(t),{properties:n}=s,r=n.get(hx),{fills:l}=e(i);return{colorRange:o?[l[0],l[1]]:r,stroke:a}}};import{_Theme as mx}from"ag-charts-community";import{_ModuleSupport as fx,_Scale as Sx,_Scene as xx,_Util as vx}from"ag-charts-community";function Mx(){return{fromFn:(i,o,s)=>s==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,o,s)=>s==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function Yc(t,e,i){const o=ti(t[0],void 0);if(o==null)return;const s=(o.lon0+o.lon1)/2,a=(o.lat0+o.lat1)/2,n=Math.abs(o.lon1-o.lon0),r=Math.abs(o.lat1-o.lat0),l=pS(t[0]),[c,h]=l,d=-ts(t,c,h);let p;const y=(v,D)=>{const A=Math.max(D-d,0);return v-.5*A},f=(v,D,N)=>{const{distance:A,maxDistance:L}=i(t,v,D,N),_=Math.hypot(c-v,h-D),T=Math.min(Math.max(c,v-N/2),v+N/2),b=Math.min(Math.max(h,D-N/2),D+N/2),E=Math.hypot(c-T,h-b),O=y(A,_),R=y(L,E);return{distance:A,maxDistance:L,value:O,maxValue:R,x:v,y:D,stride:N}},g=(v,D,N,A)=>{const L=f(D,N,A);L.maxDistance>=0&&v.push(L)},m=Math.min(n,r)/2;let S={value:f(s,a,m),next:null};for(;S!=null;){const v=S.value,{distance:D,value:N,maxValue:A,x:L,y:_,stride:T}=v;if(S=S.next,D>0&&(p==null||N>p.value)&&(p=v),p!=null&&A-p.value<=e)continue;const b=T/2,E=[];g(E,L-b,_-b,b),g(E,L+b,_-b,b),g(E,L-b,_+b,b),g(E,L+b,_+b,b),E.sort(Wc),S=dS(S,E,Wc)}if(p==null)return;const{distance:M,x:I,y:x}=p;return{x:I,y:x,distance:M}}var Wc=(t,e)=>e.maxValue-t.maxValue;function Qa(t,e){const i=Yc(t,e,(a,n,r,l)=>{const c=-ts(a,n,r),h=c+l*Math.SQRT2;return{distance:c,maxDistance:h}});if(i==null)return;const{x:o,y:s}=i;return[o,s]}function Hc(t,e){var i,o;let s;switch(t.type){case"GeometryCollection":return t.geometries.flatMap(a=>Hc(a,e));case"MultiPoint":return t.coordinates;case"Point":return[t.coordinates];case"MultiPolygon":{const a=is(t);s=a!=null?Qa(a,e):void 0;break}case"Polygon":{const a=t.coordinates;s=a!=null?Qa(a,e):void 0;break}case"MultiLineString":{const a=os(t);s=a!=null?(i=es(a))==null?void 0:i.point:void 0;break}case"LineString":{const a=t.coordinates;s=(o=es(a))==null?void 0:o.point;break}}return s!=null?[s]:[]}import{_ModuleSupport as Dx,_Scene as Ix,_Util as Nx}from"ag-charts-community";var{AND:_x,ARRAY:Ax,COLOR_STRING:Xc,COLOR_STRING_ARRAY:bx,FUNCTION:Tx,NUMBER_ARRAY:Ex,OBJECT:Qc,POSITIVE_NUMBER:$a,RATIO:$c,STRING:ke,MARKER_SHAPE:Lx,Validate:$,SeriesProperties:Ox,SeriesTooltip:kx}=Dx,{Label:Rx,Circle:Cx}=Ix,{Logger:Px}=Nx,Zc=class extends Rx{constructor(){super(...arguments),this.placement="bottom"}};u([$(ke)],Zc.prototype,"placement",2);var Z=class extends Ox{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape=Cx,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.label=new Zc,this.tooltip=new kx}isValid(){const t=super.isValid(),e=this.idKey!=null,i=this.latitudeKey!=null&&this.longitudeKey!=null;return!e&&!i?(Px.warnOnce("Either both [topology] and [idKey] or both [latitudeKey] and [longitudeKey] must be set to render a map marker series."),!1):t}};u([$(dt,{optional:!0})],Z.prototype,"topology",2),u([$(ke,{optional:!0})],Z.prototype,"title",2),u([$(ke,{optional:!0})],Z.prototype,"legendItemName",2),u([$(ke,{optional:!0})],Z.prototype,"idKey",2),u([$(ke)],Z.prototype,"topologyIdKey",2),u([$(ke,{optional:!0})],Z.prototype,"idName",2),u([$(ke,{optional:!0})],Z.prototype,"latitudeKey",2),u([$(ke,{optional:!0})],Z.prototype,"latitudeName",2),u([$(ke,{optional:!0})],Z.prototype,"longitudeKey",2),u([$(ke,{optional:!0})],Z.prototype,"longitudeName",2),u([$(ke,{optional:!0})],Z.prototype,"labelKey",2),u([$(ke,{optional:!0})],Z.prototype,"labelName",2),u([$(ke,{optional:!0})],Z.prototype,"sizeKey",2),u([$(ke,{optional:!0})],Z.prototype,"sizeName",2),u([$(ke,{optional:!0})],Z.prototype,"colorKey",2),u([$(ke,{optional:!0})],Z.prototype,"colorName",2),u([$(_x(bx,Ax.restrict({minLength:1})),{optional:!0})],Z.prototype,"colorRange",2),u([$(Lx)],Z.prototype,"shape",2),u([$($a)],Z.prototype,"size",2),u([$($a,{optional:!0})],Z.prototype,"maxSize",2),u([$(Ex,{optional:!0})],Z.prototype,"sizeDomain",2),u([$(Xc,{optional:!0})],Z.prototype,"fill",2),u([$($c)],Z.prototype,"fillOpacity",2),u([$(Xc,{optional:!0})],Z.prototype,"stroke",2),u([$($a)],Z.prototype,"strokeWidth",2),u([$($c)],Z.prototype,"strokeOpacity",2),u([$(Tx,{optional:!0})],Z.prototype,"formatter",2),u([$(Qc)],Z.prototype,"label",2),u([$(Qc)],Z.prototype,"tooltip",2);var{Validate:wx,fromToMotion:zx,StateMachine:Vx,getMissCount:Bx,createDatumId:Fx,DataModelSeries:Ux,SeriesNodePickMode:qc,Layers:Kx,valueProperty:oi}=fx,{ColorScale:jx,LinearScale:Gx}=Sx,{Group:Yx,Selection:Za,Text:Jc,getMarker:eh}=xx,{sanitizeHtml:Ci,Logger:Wx}=vx,rs=class extends Ux{constructor(t){super({moduleCtx:t,contentGroupVirtual:!0,useLabelLayer:!0,pickModes:[qc.EXACT_SHAPE_MATCH,qc.NEAREST_NODE]}),this.properties=new Z,this._chartTopology=void 0,this.colorScale=new jx,this.sizeScale=new Gx,this.markerGroup=this.contentGroup.appendChild(new Yx({name:"markerGroup",layer:!0,isVirtual:!1,zIndex:Kx.SERIES_LAYER_ZINDEX,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelSelection=Za.select(this.labelGroup,Jc,!1),this.markerSelection=Za.select(this.markerGroup,()=>this.markerFactory(),!1),this.highlightMarkerSelection=Za.select(this.highlightGroup,()=>this.markerFactory()),this.contextNodeData=[],this.animationState=new Vx("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}get hasData(){const t=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||t)}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>{this.onLegendItemClick(t)}),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>{this.onLegendItemDoubleClick(t)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}markerFactory(){const{shape:t}=this.properties,e=eh(t);return new e}processData(t){return k(this,null,function*(){var e;if(this.data==null||!this.properties.isValid())return;const{data:i,topology:o,sizeScale:s,colorScale:a}=this,{topologyIdKey:n,idKey:r,latitudeKey:l,longitudeKey:c,sizeKey:h,colorKey:d,labelKey:p,sizeDomain:y,colorRange:f}=this.properties,g=new Map;o?.features.forEach(D=>{var N;const A=(N=D.properties)==null?void 0:N[n];A!=null&&g.set(A,D)});const m=l!=null&&c!=null,{dataModel:S,processedData:M}=yield this.requestDataModel(t,i,{props:[...r!=null?[oi(this,r,!1,{id:"idValue",includeProperty:!1}),oi(this,r,!1,{id:"featureValue",includeProperty:!1,processor:()=>D=>g.get(D)})]:[],...m?[oi(this,l,!1,{id:"latValue"}),oi(this,c,!1,{id:"lonValue"})]:[],...p?[oi(this,p,!1,{id:"labelValue"})]:[],...h?[oi(this,h,!0,{id:"sizeValue"})]:[],...d?[oi(this,d,!0,{id:"colorValue"})]:[]]}),I=r!=null?S.resolveProcessedDataIndexById(this,"featureValue").index:void 0,x=m?S.resolveProcessedDataIndexById(this,"latValue").index:void 0,v=m?S.resolveProcessedDataIndexById(this,"lonValue").index:void 0;if(this.topologyBounds=M.data.reduce((D,{values:N})=>{const A=I!=null?N[I]:void 0,L=A?.geometry;if(L!=null&&(D=Ri(L,D)),x!=null&&v!=null){const _=N[v],T=N[x];D=ro(D,_,T,_,T)}return D},void 0),h!=null){const D=S.resolveProcessedDataIndexById(this,"sizeValue").index,N=(e=M.domain.values[D])!=null?e:[];s.domain=y??N}if(f!=null&&this.isColorScaleValid()){const D=S.resolveProcessedDataIndexById(this,"colorValue").index;a.domain=M.domain.values[D],a.range=f,a.update()}this.animationState.transition("updateData")})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const o=e.resolveProcessedDataIndexById(this,"colorValue").index,s=i.data.length,a=Bx(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelDatum(t,e,i,o,s,a){if(e==null)return;const{idKey:n,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:d,sizeKey:p,sizeName:y,colorKey:f,colorName:g,labelKey:m,labelName:S,label:M}=this.properties,{placement:I}=M,x=this.getLabelText(M,{value:e,datum:t,idKey:n,idName:r,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:d,sizeKey:p,sizeName:y,colorKey:f,colorName:g,labelKey:m,labelName:S});if(x==null)return;const{width:v,height:D}=Jc.getTextSize(String(x),a);return{point:{x:i,y:o,size:s},label:{width:v,height:D,text:x},marker:eh(this.properties.shape),placement:I}}createNodeData(){return k(this,null,function*(){var t;const{id:e,dataModel:i,processedData:o,colorScale:s,sizeScale:a,properties:n,scale:r}=this,{idKey:l,latitudeKey:c,longitudeKey:h,sizeKey:d,colorKey:p,labelKey:y,label:f}=n;if(i==null||o==null||r==null)return[];const g=this.isColorScaleValid(),m=c!=null&&h!=null,S=l!=null?i.resolveProcessedDataIndexById(this,"idValue").index:void 0,M=l!=null?i.resolveProcessedDataIndexById(this,"featureValue").index:void 0,I=m?i.resolveProcessedDataIndexById(this,"latValue").index:void 0,x=m?i.resolveProcessedDataIndexById(this,"lonValue").index:void 0,v=y!=null?i.resolveProcessedDataIndexById(this,"labelValue").index:void 0,D=d!=null?i.resolveProcessedDataIndexById(this,"sizeValue").index:void 0,N=p!=null?i.resolveProcessedDataIndexById(this,"colorValue").index:void 0,A=(t=n.maxSize)!=null?t:n.size;a.range=[Math.min(n.size,A),A];const L=f.getFont();let _;S!=null&&M!=null&&(_=new Map,o.data.forEach(({values:R})=>{var P;const w=R[S],C=(P=R[M])==null?void 0:P.geometry,z=C!=null&&r!=null?Ct(C,r):void 0;w!=null&&z!=null&&_.set(w,z)}));const T=[],b=[],E=[];o.data.forEach(({datum:R,values:P})=>{const w=S!=null?P[S]:void 0,C=x!=null?P[x]:void 0,z=I!=null?P[I]:void 0,V=N!=null?P[N]:void 0,F=D!=null?P[D]:void 0,G=v!=null?P[v]:void 0,j=g&&V!=null?s.convert(V):void 0,B=F!=null?a.convert(F,{clampMode:"clamped"}):n.size,q=w!=null?_?.get(w):void 0;if(w!=null&&Ct==null&&E.push(w),C!=null&&z!=null){const[K,H]=r.convert([C,z]),te=this.getLabelDatum(R,G,K,H,B,L);te&&b.push(te),T.push({series:this,itemId:c,datum:R,index:-1,fill:j,idValue:w,lonValue:C,latValue:z,labelValue:G,sizeValue:F,colorValue:V,point:{x:K,y:H,size:B},midPoint:{x:K,y:H}})}else q!=null&&Hc(q,1).forEach(([K,H],te)=>{const ne=this.getLabelDatum(R,G,K,H,B,L);ne&&b.push(ne),T.push({series:this,itemId:c,datum:R,index:te,fill:j,idValue:w,lonValue:C,latValue:z,labelValue:G,sizeValue:F,colorValue:V,point:{x:K,y:H,size:B},midPoint:{x:K,y:H}})})});const O=10;if(E.length>O){const R=E.length-O;E.length=O,E.push(`(+${R} more)`)}return E.length>0&&Wx.warnOnce("some data items do not have matches in the provided topology",E),[{itemId:e,nodeData:T,labelData:b}]})}updateSelections(){return k(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(t){return k(this,arguments,function*({seriesRect:e}){var i,o,s;const{labelSelection:a,markerSelection:n,highlightMarkerSelection:r}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let l=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();l!=null&&(l.series!==this||l.datum==null)&&(l=void 0);const c=(s=(o=this.contextNodeData[0])==null?void 0:o.nodeData)!=null?s:[];this.labelSelection=yield this.updateLabelSelection({labelSelection:a}),yield this.updateLabelNodes({labelSelection:a}),this.markerSelection=yield this.updateMarkerSelection({markerData:c,markerSelection:n}),yield this.updateMarkerNodes({markerSelection:n,isHighlight:!1,highlightedDatum:l}),this.highlightMarkerSelection=yield this.updateMarkerSelection({markerData:l!=null?[l]:[],markerSelection:r}),yield this.updateMarkerNodes({markerSelection:r,isHighlight:!0,highlightedDatum:l}),this.checkResize(e)&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateLabelSelection(t){return k(this,null,function*(){var e,i;const o=(i=this.isLabelEnabled()?(e=this.chart)==null?void 0:e.placeLabels().get(this):void 0)!=null?i:[];return t.labelSelection.update(o)})}updateLabelNodes(t){return k(this,null,function*(){const{labelSelection:e}=t,{color:i,fontStyle:o,fontWeight:s,fontSize:a,fontFamily:n}=this.properties.label;e.each((r,{x:l,y:c,width:h,height:d,text:p})=>{r.visible=!0,r.x=l+h/2,r.y=c+d/2,r.text=p,r.fill=i,r.fontStyle=o,r.fontWeight=s,r.fontSize=a,r.fontFamily=n,r.textAlign="center",r.textBaseline="middle"})})}updateMarkerSelection(t){return k(this,null,function*(){const{markerData:e,markerSelection:i}=t;return i.update(e,void 0,o=>Fx([o.index,o.idValue,o.lonValue,o.latValue]))})}updateMarkerNodes(t){return k(this,null,function*(){const{id:e,properties:i,ctx:{callbackCache:o}}=this,{markerSelection:s,isHighlight:a,highlightedDatum:n}=t,{idKey:r,latitudeKey:l,longitudeKey:c,labelKey:h,sizeKey:d,colorKey:p,fill:y,fillOpacity:f,stroke:g,strokeOpacity:m,formatter:S}=i,M=a?i.highlightStyle.item:void 0,I=this.getStrokeWidth(i.strokeWidth);s.each((x,v)=>{var D,N,A,L,_,T,b,E,O,R,P;const{datum:w,point:C}=v;let z;if(S!=null){const V={seriesId:e,datum:v.datum,itemId:v.itemId,size:C.size,idKey:r,latitudeKey:l,longitudeKey:c,labelKey:h,sizeKey:d,colorKey:p,fill:y,fillOpacity:f,stroke:g,strokeWidth:I,strokeOpacity:m,highlighted:a};z=o.call(S,V)}x.size=C.size,x.fill=(A=(N=(D=M?.fill)!=null?D:z?.fill)!=null?N:v.fill)!=null?A:y,x.fillOpacity=(_=(L=M?.fillOpacity)!=null?L:z?.fillOpacity)!=null?_:f,x.stroke=(b=(T=M?.stroke)!=null?T:z?.stroke)!=null?b:g,x.strokeWidth=(O=(E=M?.strokeWidth)!=null?E:z?.strokeWidth)!=null?O:I,x.strokeOpacity=(P=(R=M?.strokeOpacity)!=null?R:z?.strokeOpacity)!=null?P:m,x.translationX=C.x,x.translationY=C.y,x.zIndex=!a&&n!=null&&w===n.datum?1:0})})}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:o,series:s}=t,a=e!=null&&e===t.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,{legendItemName:a}=this.properties,n=a!=null&&a===t.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):e&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isProcessedDataAnimatable(){return!0}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:t}=this.ctx,e=Mx();zx(this.id,"markers",t,[this.markerSelection,this.highlightMarkerSelection],e)}getLabelData(){return this.contextNodeData.flatMap(({labelData:t})=>t)}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum(t){const{x:e,y:i}=this.rootGroup.transformPoint(t.x,t.y);let o=1/0,s;return this.contextNodeData[0].nodeData.forEach(a=>{const{x:n,y:r,size:l}=a.point,c=Math.max(Math.abs(n-e)-l,0),h=Math.max(Math.abs(r-i)-l,0),d=c*c+h*h;d<o&&(o=d,s=a)}),s!=null?{datum:s,distance:Math.sqrt(o)}:void 0}getLegendData(t){var e,i,o,s,a,n;const{processedData:r,dataModel:l}=this;if(r==null||l==null)return[];const{title:c,legendItemName:h,idName:d,idKey:p,colorKey:y,colorName:f,colorRange:g,visible:m,shape:S,fill:M,stroke:I,fillOpacity:x,strokeOpacity:v,strokeWidth:D}=this.properties;if(t==="gradient"&&y!=null&&g!=null){const N=r.domain.values[l.resolveProcessedDataIndexById(this,"colorValue").index];return[{legendType:"gradient",enabled:m,seriesId:this.id,colorName:f,colorRange:g,colorDomain:N}]}else return t==="category"?[{legendType:"category",id:this.id,itemId:(o=(i=(e=h??c)!=null?e:d)!=null?i:p)!=null?o:this.id,seriesId:this.id,enabled:m,label:{text:(n=(a=(s=h??c)!=null?s:d)!=null?a:p)!=null?n:this.id},marker:{shape:S,fill:M,fillOpacity:x,stroke:I,strokeWidth:D,strokeOpacity:v},legendItemName:h}]:[]}getTooltipHtml(t){var e,i,o,s;const{id:a,processedData:n,ctx:{callbackCache:r},properties:l}=this;if(!n||!this.properties.isValid())return"";const{legendItemName:c,idKey:h,idName:d,latitudeKey:p,longitudeKey:y,sizeKey:f,sizeName:g,colorKey:m,colorName:S,labelKey:M,labelName:I,formatter:x,tooltip:v}=l,{datum:D,fill:N,idValue:A,latValue:L,lonValue:_,sizeValue:T,colorValue:b,labelValue:E}=t,O=(i=Ci((e=l.title)!=null?e:c))!=null?i:"",R=[];A!=null&&R.push(Ci((d!=null?`${d}: `:"")+A)),b!=null&&R.push(Ci((S??m)+": "+b)),T!=null&&R.push(Ci((g??f)+": "+T)),E!=null&&(h==null||h!==M)&&R.push(Ci((I??M)+": "+E)),L!=null&&_!=null&&R.push(Ci(`${Math.abs(L).toFixed(4)}\xB0 ${L>=0?"N":"S"}, ${Math.abs(_).toFixed(4)}\xB0 ${L>=0?"W":"E"}`));const P=R.join("<br>");let w;x&&(w=r.call(x,{seriesId:a,datum:D,latitudeKey:p,longitudeKey:y,fill:N,highlighted:!1}));const C=(s=(o=w?.fill)!=null?o:N)!=null?s:l.fill;return v.toTooltipHtml({title:O,content:P,backgroundColor:C},Y({seriesId:a,datum:D,idKey:h,latitudeKey:p,longitudeKey:y,title:O,color:C},this.getModuleTooltipParams()))}};rs.className="MapMarkerSeries",rs.type="map-marker",u([wx(dt,{optional:!0,property:"topology"})],rs.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS:Hx,DEFAULT_LABEL_COLOUR:Xx,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:Qx,singleSeriesPaletteFactory:$x}=mx,Zx={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",instanceConstructor:rs,themeTemplate:{series:{__extends__:Hx,maxSize:30,fillOpacity:.5,label:{color:Xx}},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:o,themeTemplateParameters:s}=t,{fill:a,stroke:n}=$x(t),{properties:r}=s,l=r.get(Qx),{fills:c}=e(i);return{fill:a,stroke:n,colorRange:o?[c[0],c[1]]:l}}};import{_Theme as qx}from"ag-charts-community";import{_ModuleSupport as Jx,_Scene as ev,_Util as tv}from"ag-charts-community";import{_ModuleSupport as iv}from"ag-charts-community";var{COLOR_STRING:th,LINE_DASH:ov,OBJECT:sv,POSITIVE_NUMBER:ih,RATIO:oh,Validate:Dt,SeriesProperties:av,SeriesTooltip:nv}=iv,pt=class extends av{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new nv}};u([Dt(dt,{optional:!0})],pt.prototype,"topology",2),u([Dt(th)],pt.prototype,"fill",2),u([Dt(oh)],pt.prototype,"fillOpacity",2),u([Dt(th)],pt.prototype,"stroke",2),u([Dt(oh)],pt.prototype,"strokeOpacity",2),u([Dt(ih)],pt.prototype,"strokeWidth",2),u([Dt(ov)],pt.prototype,"lineDash",2),u([Dt(ih)],pt.prototype,"lineDashOffset",2),u([Dt(sv)],pt.prototype,"tooltip",2);var{createDatumId:rv,Series:lv,SeriesNodePickMode:cv,Validate:hv}=Jx,{Selection:uv,Group:dv,PointerEvents:pv}=ev,{Logger:gv}=tv,ls=class extends lv{constructor(t){super({moduleCtx:t,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[cv.EXACT_SHAPE_MATCH]}),this.properties=new pt,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new dv({name:"itemGroup"})),this.datumSelection=uv.select(this.itemGroup,()=>this.nodeFactory()),this.contextNodeData=[]}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}setOptionsData(){}setChartData(){}get hasData(){return!1}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}nodeFactory(){const t=new ki;return t.renderMode=1,t.lineJoin="round",t.pointerEvents=pv.None,t}processData(){return k(this,null,function*(){const{topology:t}=this;this.topologyBounds=t?.features.reduce((e,i)=>{const o=i.geometry;return o==null?e:Ri(o,e)},void 0),t==null&&gv.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")})}createNodeData(){return k(this,null,function*(){const{id:t,topology:e,scale:i}=this;if(e==null)return[];const o=[],s=[];return e.features.forEach((a,n)=>{const{geometry:r}=a,l=r!=null&&i!=null?Ct(r,i):void 0;l!=null&&o.push({series:this,itemId:n,datum:a,index:n,projectedGeometry:l})}),[{itemId:t,nodeData:o,labelData:s}]})}updateSelections(){return k(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return k(this,null,function*(){const{datumSelection:t}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:e}=this.contextNodeData[0];this.datumSelection=yield this.updateDatumSelection({nodeData:e,datumSelection:t}),yield this.updateDatumNodes({datumSelection:t})})}updateDatumSelection(t){return k(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>rv(e.index))})}updateDatumNodes(t){return k(this,null,function*(){const{properties:e}=this,{datumSelection:i}=t,{fill:o,fillOpacity:s,stroke:a,strokeOpacity:n,lineDash:r,lineDashOffset:l}=e,c=this.getStrokeWidth(e.strokeWidth);i.each((h,d)=>{const{projectedGeometry:p}=d;if(p==null){h.visible=!1,h.projectedGeometry=void 0;return}h.visible=!0,h.projectedGeometry=p,h.fill=o,h.fillOpacity=s,h.stroke=a,h.strokeWidth=c,h.strokeOpacity=n,h.lineDash=r,h.lineDashOffset=l})})}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(){return[]}getTooltipHtml(){return""}};ls.className="MapShapeBackgroundSeries",ls.type="map-shape-background",u([hv(dt,{optional:!0,property:"topology"})],ls.prototype,"_chartTopology",2);var{DEFAULT_BACKGROUND_COLOUR:yv,DEFAULT_HIERARCHY_FILLS:mv}=qx,fv={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",instanceConstructor:ls,themeTemplate:{series:{stroke:yv,strokeWidth:1},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:({themeTemplateParameters:t})=>{var e;const{properties:i}=t;return{fill:(e=i.get(mv))==null?void 0:e[1]}}};import{_Theme as Sv}from"ag-charts-community";import{_ModuleSupport as sh,_Scale as xv,_Scene as vv,_Util as Mv}from"ag-charts-community";function Dv(t,{aspectRatio:e,precision:i}){const o=Yc(t,i,(l,c,h,d)=>{const p=Nv(l,c,h,e),y=p+2*d*e,f=p*Math.SQRT2,g=y*Math.SQRT2;return{distance:f,maxDistance:g}});if(o==null)return;const{x:s,y:a,distance:n}=o,r=n/Math.SQRT2;return{x:s,y:a,maxWidth:r}}function Iv(t,e,i,o,s){const[a,n]=t,[r,l]=e,c=1/s,h=r-a,d=l-n,[p,y]=n<=l?t:e,[f,g]=a<=r?t:e,[m,S]=n<=l?e:t,[M,I]=a<=r?e:t;let x=1/0;if(h!==0){const _=d/h;for(let T=0;T<=1;T+=1){const b=T===0?c:-c,E=(_*a-n-b*i+o)/(_-b);if(E>=f&&E<=M){const O=Math.abs(i-E)*2;x=Math.min(x,O)}}}else for(let _=0;_<=1;_+=1){const b=(_===0?c:-c)*(a-i)+o;if(b>=y&&b<=S){const O=Math.abs(o-b)*2*s;x=Math.min(x,O)}}const v=s,D=Math.abs((p-i)/(y-o)),N=Math.abs((m-i)/(S-o));if(S<o&&N<v){const T=Math.abs(o-S)*2*s;x=Math.min(x,T)}else if(y>o&&D<v){const T=Math.abs(o-y)*2*s;x=Math.min(x,T)}const A=Math.abs((g-o)/(f-i)),L=Math.abs((I-o)/(M-i));if(M<i&&L<c){const _=Math.abs(i-M)*2;x=Math.min(x,_)}else if(f>i&&A<c){const _=Math.abs(i-f)*2;x=Math.min(x,_)}return x}function Nv(t,e,i,o){let s=!1,a=1/0;for(const n of t){let r=n[n.length-1],[l,c]=r;for(const h of n){const[d,p]=h;p>i!=c>i&&e<(l-d)*(i-p)/(c-p)+d&&(s=!s);const y=Iv(r,h,e,i,o);a=Math.min(a,y),r=h,l=d,c=p}}return(s?1:-1)*a}function cs(t,e,i){i>=e&&(t.maxX=Math.min(t.maxX,i-e)),i<=e&&(t.minX=Math.max(t.minX,i-e))}function _v(t,e,i,o,s,a){const n=s-a/2,r=s+a/2,[l,c]=e,[h,d]=i,p=h-l,y=d-c,[f,g]=l<=h?e:i,[m,S]=l<=h?i:e;if(p!==0){const M=y/p;for(let I=0;I<=1;I+=1){const v=((I===0?n:r)-c)/M+l;v>=f&&v<=m&&cs(t,o,v)}}else Math.max(n,Math.min(c,d))<=Math.min(r,Math.max(c,d))&&cs(t,o,l);return m<o&&S>=n&&S<=r?cs(t,o,m):f>o&&g>=n&&g<=r&&cs(t,o,f),t}function Av(t,e,i,o){const s={minX:-1/0,maxX:1/0};for(const r of t){let l=r[r.length-1];for(const c of r)_v(s,l,c,e,i,o),l=c}const{minX:a,maxX:n}=s;return Number.isFinite(a)&&Number.isFinite(n)?{x:e+(a+n)/2,width:n-a}:{x:e,width:0}}import{_ModuleSupport as bv}from"ag-charts-community";var{AND:Tv,ARRAY:Ev,COLOR_STRING:ah,COLOR_STRING_ARRAY:Lv,FUNCTION:Ov,LINE_DASH:kv,OBJECT:nh,POSITIVE_NUMBER:qa,RATIO:rh,STRING:It,Validate:ue,SeriesProperties:Rv,SeriesTooltip:Cv}=bv,ce=class extends Rv{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new ao,this.tooltip=new Cv}};u([ue(dt,{optional:!0})],ce.prototype,"topology",2),u([ue(It,{optional:!0})],ce.prototype,"title",2),u([ue(It,{optional:!0})],ce.prototype,"legendItemName",2),u([ue(It)],ce.prototype,"idKey",2),u([ue(It,{optional:!0})],ce.prototype,"idName",2),u([ue(It)],ce.prototype,"topologyIdKey",2),u([ue(It,{optional:!0})],ce.prototype,"labelKey",2),u([ue(It,{optional:!0})],ce.prototype,"labelName",2),u([ue(It,{optional:!0})],ce.prototype,"colorKey",2),u([ue(It,{optional:!0})],ce.prototype,"colorName",2),u([ue(Tv(Lv,Ev.restrict({minLength:1})),{optional:!0})],ce.prototype,"colorRange",2),u([ue(ah)],ce.prototype,"fill",2),u([ue(rh)],ce.prototype,"fillOpacity",2),u([ue(ah)],ce.prototype,"stroke",2),u([ue(rh)],ce.prototype,"strokeOpacity",2),u([ue(qa)],ce.prototype,"strokeWidth",2),u([ue(kv)],ce.prototype,"lineDash",2),u([ue(qa)],ce.prototype,"lineDashOffset",2),u([ue(qa)],ce.prototype,"padding",2),u([ue(Ov,{optional:!0})],ce.prototype,"formatter",2),u([ue(nh)],ce.prototype,"label",2),u([ue(nh)],ce.prototype,"tooltip",2);var{getMissCount:Pv,createDatumId:wv,DataModelSeries:zv,SeriesNodePickMode:lh,valueProperty:hs,Validate:Vv}=sh,{ColorScale:Bv}=xv,{Group:ch,Selection:Ja,Text:en,PointerEvents:Fv}=vv,{sanitizeHtml:us,Logger:hh}=Mv,uh=sh.MercatorScale.fixedScale(),ds=class extends zv{constructor(t){super({moduleCtx:t,contentGroupVirtual:!1,useLabelLayer:!0,pickModes:[lh.EXACT_SHAPE_MATCH,lh.NEAREST_NODE]}),this.properties=new ce,this._chartTopology=void 0,this.colorScale=new Bv,this.itemGroup=this.contentGroup.appendChild(new ch({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new ch({name:"itemLabelGroup"})),this.datumSelection=Ja.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Ja.select(this.itemLabelGroup,en),this.highlightDatumSelection=Ja.select(this.highlightGroup,()=>this.nodeFactory()),this.contextNodeData=[],this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=Fv.None}get topology(){var t;return(t=this.properties.topology)!=null?t:this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}setChartTopology(t){this._chartTopology=t,this.topology===t&&(this.nodeDataRefresh=!0)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>{this.onLegendItemClick(t)}),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>{this.onLegendItemDoubleClick(t)}))}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const t=new ki;return t.renderMode=1,t.lineJoin="round",t}processData(t){return k(this,null,function*(){if(this.data==null||!this.properties.isValid())return;const{data:e,topology:i,colorScale:o}=this,{topologyIdKey:s,idKey:a,colorKey:n,labelKey:r,colorRange:l}=this.properties,c=new Map;i?.features.forEach(y=>{var f;const g=(f=y.properties)==null?void 0:f[s];g==null||!Ga(y.geometry,1)||c.set(g,y)});const{dataModel:h,processedData:d}=yield this.requestDataModel(t,e,{props:[hs(this,a,!1,{id:"idValue",includeProperty:!1}),hs(this,a,!1,{id:"featureValue",includeProperty:!1,processor:()=>y=>c.get(y)}),...r?[hs(this,r,!1,{id:"labelValue"})]:[],...n?[hs(this,n,!0,{id:"colorValue"})]:[]]}),p=h.resolveProcessedDataIndexById(this,"featureValue").index;if(this.topologyBounds=d.data.reduce((y,{values:f})=>{const g=f[p],m=g?.geometry;return m==null?y:Ri(m,y)},void 0),l!=null&&this.isColorScaleValid()){const y=h.resolveProcessedDataIndexById(this,"colorValue").index;o.domain=d.domain.values[y],o.range=l,o.update()}i==null&&hh.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const o=e.resolveProcessedDataIndexById(this,"colorValue").index,s=i.data.length,a=Pv(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelLayout(t,e,i,o,s){if(e==null||o==null)return;const{idKey:a,idName:n,colorKey:r,colorName:l,labelKey:c,labelName:h,padding:d,label:p}=this.properties,y=this.getLabelText(p,{value:e,datum:t,idKey:a,idName:n,colorKey:r,colorName:l,labelKey:c,labelName:h});if(y==null)return;const f=en.getTextSize(String(y),i),g=y.split(`
`).length,m=(f.width+2*d)/(g*et.lineHeight(p.fontSize)+2*d);if(s?.geometry===o&&s?.labelText===y&&s?.aspectRatio===m)return s;const S=Ct(o,uh),M=is(S);if(M==null)return;const I=Dv(M,{aspectRatio:m,precision:.001});if(I==null)return;const{x,y:v,maxWidth:D}=I;return{geometry:o,labelText:y,aspectRatio:m,x,y:v,maxWidth:D,fixedPolygon:M}}getLabelDatum(t,e,i,o){const{padding:s,label:a}=this.properties,{labelText:n,aspectRatio:r,x:l,y:c,maxWidth:h,fixedPolygon:d}=t,p={width:Math.ceil(h*e),height:Math.ceil(h*e/r),meta:l},y=Ba(n,a,{padding:s},(x,v)=>{if(!v)return p;const D=Av(d,l,c,x/e);return{width:D.width*e,height:x,meta:D.x}});if(y==null)return;const[{text:f,fontSize:g,lineHeight:m,width:S},M]=y;return f===en.ellipsis?void 0:{x:(S>p.width?l:M)*e-i,y:c*e-o,text:f,fontSize:g,lineHeight:m}}createNodeData(){return k(this,null,function*(){const{id:t,dataModel:e,processedData:i,colorScale:o,properties:s,scale:a,previousLabelLayouts:n}=this,{idKey:r,colorKey:l,labelKey:c,label:h,fill:d}=s;if(e==null||i==null)return[];const p=this.isColorScaleValid(),y=e.resolveProcessedDataIndexById(this,"idValue").index,f=e.resolveProcessedDataIndexById(this,"featureValue").index,g=c!=null?e.resolveProcessedDataIndexById(this,"labelValue").index:void 0,m=l!=null?e.resolveProcessedDataIndexById(this,"colorValue").index:void 0,S=h.getFont(),M=new Map;this.previousLabelLayouts=M;const I=[],x=[],v=[];i.data.forEach(({datum:N,values:A})=>{var L;const _=A[y],T=m!=null?A[m]:void 0,b=g!=null?A[g]:void 0,E=(L=A[f])==null?void 0:L.geometry;E==null&&v.push(_);const O=p&&T!=null?o.convert(T):void 0,R=this.getLabelLayout(N,b,S,E,n?.get(_));R!=null&&M.set(_,R);const P=R!=null&&a!=null?this.getLabelDatum(R,a.scale/uh.scale,a.originX,a.originY):void 0;P!=null&&x.push(P);const w=E!=null&&a!=null?Ct(E,a):void 0;I.push({series:this,itemId:r,datum:N,idValue:_,colorValue:T,labelValue:b,fill:O??d,projectedGeometry:w})});const D=10;if(v.length>D){const N=v.length-D;v.length=D,v.push(`(+${N} more)`)}return v.length>0&&hh.warnOnce("some data items do not have matches in the provided topology",v),[{itemId:t,nodeData:I,labelData:x}]})}updateSelections(){return k(this,null,function*(){this.nodeDataRefresh&&(this.contextNodeData=yield this.createNodeData(),this.nodeDataRefresh=!1)})}update(){return k(this,null,function*(){var t,e,i,o,s;const{datumSelection:a,labelSelection:n,highlightDatumSelection:r}=this;yield this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let l=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight();l!=null&&(l.series!==this||l.datum==null)&&(l=void 0);const c=(i=(e=this.contextNodeData[0])==null?void 0:e.nodeData)!=null?i:[],h=(s=(o=this.contextNodeData[0])==null?void 0:o.labelData)!=null?s:[];this.datumSelection=yield this.updateDatumSelection({nodeData:c,datumSelection:a}),yield this.updateDatumNodes({datumSelection:a,isHighlight:!1}),this.labelSelection=yield this.updateLabelSelection({labelData:h,labelSelection:n}),yield this.updateLabelNodes({labelSelection:n}),this.highlightDatumSelection=yield this.updateDatumSelection({nodeData:l!=null?[l]:[],datumSelection:r}),yield this.updateDatumNodes({datumSelection:r,isHighlight:!0})})}updateDatumSelection(t){return k(this,null,function*(){return t.datumSelection.update(t.nodeData,void 0,e=>wv(e.idValue))})}updateDatumNodes(t){return k(this,null,function*(){const{id:e,properties:i,ctx:{callbackCache:o}}=this,{datumSelection:s,isHighlight:a}=t,{idKey:n,colorKey:r,labelKey:l,fillOpacity:c,stroke:h,strokeOpacity:d,lineDash:p,lineDashOffset:y,formatter:f}=i,g=a?i.highlightStyle.item:void 0,m=this.getStrokeWidth(i.strokeWidth);s.each((S,M)=>{var I,x,v,D,N,A,L,_,T,b,E,O,R,P;const{projectedGeometry:w}=M;if(w==null){S.visible=!1,S.projectedGeometry=void 0;return}let C;if(f!=null){const z={seriesId:e,datum:M.datum,itemId:M.itemId,idKey:n,colorKey:r,labelKey:l,fill:M.fill,fillOpacity:c,strokeOpacity:d,stroke:h,strokeWidth:m,lineDash:p,lineDashOffset:y,highlighted:a};C=o.call(f,z)}S.visible=!0,S.projectedGeometry=w,S.fill=(x=(I=g?.fill)!=null?I:C?.fill)!=null?x:M.fill,S.fillOpacity=(D=(v=g?.fillOpacity)!=null?v:C?.fillOpacity)!=null?D:c,S.stroke=(A=(N=g?.stroke)!=null?N:C?.stroke)!=null?A:h,S.strokeWidth=(_=(L=g?.strokeWidth)!=null?L:C?.strokeWidth)!=null?_:m,S.strokeOpacity=(b=(T=g?.strokeOpacity)!=null?T:C?.strokeOpacity)!=null?b:d,S.lineDash=(O=(E=g?.lineDash)!=null?E:C?.lineDash)!=null?O:p,S.lineDashOffset=(P=(R=g?.lineDashOffset)!=null?R:C?.lineDashOffset)!=null?P:y})})}updateLabelSelection(t){return k(this,null,function*(){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e)})}updateLabelNodes(t){return k(this,null,function*(){const{labelSelection:e}=t,{color:i,fontStyle:o,fontWeight:s,fontFamily:a}=this.properties.label;e.each((n,{x:r,y:l,text:c,fontSize:h,lineHeight:d})=>{n.visible=!0,n.x=r,n.y=l,n.text=c,n.fill=i,n.fontStyle=o,n.fontWeight=s,n.fontSize=h,n.lineHeight=d,n.fontFamily=a,n.textAlign="center",n.textBaseline="middle"})})}onLegendItemClick(t){const{legendItemName:e}=this.properties,{enabled:i,itemId:o,series:s}=t,a=e!=null&&e===t.legendItemName;(s.id===this.id||a)&&this.toggleSeriesItem(o,i)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,{legendItemName:a}=this.properties,n=a!=null&&a===t.legendItemName;o.id===this.id||n?this.toggleSeriesItem(i,!0):e&&s===1?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}resetAnimation(){}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}pickNodeClosestDatum({x:t,y:e}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const n=s.distanceToPoint(t,e);n<i&&(i=n,o=a)}),o!=null?{datum:o,distance:i}:void 0}datumMidPoint(t){const{_previousDatumMidPoint:e}=this;if(e?.datum===t)return e.point;const i=t.projectedGeometry,o=i!=null?is(i):void 0,s=o!=null?Qa(o,2):void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:t,point:a},a}getLegendData(t){var e,i,o,s;const{processedData:a,dataModel:n}=this;if(a==null||n==null)return[];const{title:r,legendItemName:l,idKey:c,idName:h,fill:d,fillOpacity:p,stroke:y,strokeWidth:f,strokeOpacity:g,colorKey:m,colorName:S,colorRange:M,visible:I}=this.properties;if(t==="gradient"&&m!=null&&M!=null){const x=a.domain.values[n.resolveProcessedDataIndexById(this,"colorValue").index];return[{legendType:"gradient",enabled:I,seriesId:this.id,colorName:S,colorRange:M,colorDomain:x}]}else return t==="category"?[{legendType:"category",id:this.id,itemId:(i=(e=l??r)!=null?e:h)!=null?i:c,seriesId:this.id,enabled:I,label:{text:(s=(o=l??r)!=null?o:h)!=null?s:c},marker:{fill:d,fillOpacity:p,stroke:y,strokeWidth:f,strokeOpacity:g},legendItemName:l}]:[]}getTooltipHtml(t){var e,i,o;const{id:s,processedData:a,ctx:{callbackCache:n},properties:r}=this;if(!a||!r.isValid())return"";const{legendItemName:l,idKey:c,idName:h,colorKey:d,colorName:p,labelKey:y,labelName:f,stroke:g,strokeWidth:m,formatter:S,tooltip:M}=r,{datum:I,fill:x,idValue:v,colorValue:D,labelValue:N}=t,A=(i=us((e=r.title)!=null?e:l))!=null?i:"",L=[];L.push(us((h!=null?`${h}: `:"")+v)),D!=null&&L.push(us((p??d)+": "+D)),N!=null&&y!==c&&L.push(us((f??y)+": "+N));const _=L.join("<br>");let T;S&&(T=n.call(S,{seriesId:s,datum:I,idKey:c,fill:x,stroke:g,strokeWidth:this.getStrokeWidth(m),highlighted:!1}));const b=(o=T?.fill)!=null?o:x;return M.toTooltipHtml({title:A,content:_,backgroundColor:b},Y({seriesId:s,datum:I,idKey:c,title:A,color:b},this.getModuleTooltipParams()))}};ds.className="MapShapeSeries",ds.type="map-shape",u([Vv(dt,{optional:!0,property:"topology"})],ds.prototype,"_chartTopology",2);var{EXTENDS_SERIES_DEFAULTS:Uv,DEFAULT_INVERTED_LABEL_COLOUR:Kv,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:jv,DEFAULT_BACKGROUND_COLOUR:Gv,singleSeriesPaletteFactory:Yv}=Sv,Wv={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",instanceConstructor:ds,themeTemplate:{series:{__extends__:Uv,fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:Kv,fontWeight:"bold",overflowStrategy:"hide"}},legend:{enabled:!1},gradientLegend:{enabled:!1},tooltip:{range:"exact"}},paletteFactory:t=>{const{takeColors:e,colorsCount:i,userPalette:o,themeTemplateParameters:s}=t,{fill:a}=Yv(t),{properties:n}=s,r=n.get(jv),{fills:l}=e(i);return{fill:a,stroke:n.get(Gv),colorRange:o?[l[0],l[1]]:r}}};import{_Theme as tn}from"ag-charts-community";import{_Scene as Hv}from"ag-charts-community";import{_ModuleSupport as on,_Scale as Xv,_Scene as Qv,_Util as $v}from"ag-charts-community";var{isDefined:Zv,ChartAxisDirection:wt,PolarAxis:qv,diff:Jv,fixNumericExtent:eM,groupAccumulativeValueProperty:dh,keyProperty:tM,normaliseGroupTo:iM,resetLabelFn:oM,seriesLabelFadeInAnimation:sM,seriesLabelFadeOutAnimation:aM,valueProperty:nM,animationValidation:rM}=on,{BandScale:lM}=Xv,{motion:ph}=Qv,{isNumber:gh,normalizeAngle360:yh,sanitizeHtml:mh}=$v,cM=class extends on.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},fh=class extends on.PolarSeries{constructor(t,{animationResetFns:e}){super({moduleCtx:t,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:Oe(Y({},e),{label:oM})}),this.NodeEvent=cM,this.nodeData=[],this.groupScale=new lM,this.circleCache={r:0,cx:0,cy:0}}addChartEventListeners(){var t,e;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(t){const{axes:e,dataModel:i,processedData:o}=this;if(!o||!i)return[];if(t===wt.X)return i.getDomain(this,"angleValue","key",o);{const s=e[wt.Y],a=i.getDomain(this,"radiusValue-end","value",o),n=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return eM(n,s)}}processData(t){return k(this,null,function*(){var e;if(!this.properties.isValid())return;const i=this.getStackId(),o=`${i}-trailing`,{angleKey:s,radiusKey:a,normalizedTo:n,visible:r}=this.properties,l=[];Zv(n)&&l.push(iM(this,[i,o],Math.abs(n),"range"));const c=!this.ctx.animationManager.isSkipped();c&&this.processedData&&l.push(Jv(this.processedData)),c&&l.push(rM(this));const h=r||!c?{}:{forceValue:0};yield this.requestDataModel(t,(e=this.data)!=null?e:[],{props:[tM(this,s,!1,{id:"angleValue"}),nM(this,a,!0,Y({id:"radiusValue-raw",invalidValue:null},h)),...dh(this,a,!0,"normal","current",Y({id:"radiusValue-end",invalidValue:null,groupId:i},h)),...dh(this,a,!0,"trailing","current",Y({id:"radiusValue-start",invalidValue:null,groupId:o},h)),...l],dataVisible:r||c}),this.animationState.transition("updateData")})}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,o=this.circleCache;return t===o.r&&e===o.cx&&i===o.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}isRadiusAxisReversed(){var t;return(t=this.axes[wt.Y])==null?void 0:t.isReversed()}maybeRefreshNodeData(){return k(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:e=[]}={}]=yield this.createNodeData();this.nodeData=e,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const t=this.axes[wt.Y];return t instanceof qv?this.radius*t.innerRadiusRatio:0}createNodeData(){return k(this,null,function*(){var t;const{processedData:e,dataModel:i,groupScale:o}=this;if(!e||!i||!this.properties.isValid())return[];const s=this.axes[wt.X],a=this.axes[wt.Y],n=s?.scale,r=a?.scale;if(!n||!r)return[];const l=i.resolveProcessedDataIndexById(this,"radiusValue-start").index,c=i.resolveProcessedDataIndexById(this,"radiusValue-end").index,h=i.resolveProcessedDataIndexById(this,"radiusValue-raw").index;let d=0,p=0;s instanceof Si&&(d=s.groupPaddingInner,p=s.paddingInner);const f=((t=n.bandwidth)!=null?t:0)*(1-p),{index:g,visibleGroupCount:m}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);o.domain=Array.from({length:m}).map((b,E)=>String(E)),o.range=[-f/2,f/2],o.paddingInner=m>1?d:0;const S=this.isRadiusAxisReversed(),M=S?this.radius:this.getAxisInnerRadius(),I=S?this.getAxisInnerRadius():this.radius,x=I+M,{angleKey:v,radiusKey:D,angleName:N,radiusName:A,label:L}=this.properties,_=(b,E,O,R)=>{const P=this.getLabelText(L,{value:E,datum:b,angleKey:v,radiusKey:D,angleName:N,radiusName:A},w=>gh(w)?w.toFixed(2):String(w));if(P)return{x:O,y:R,text:P,textAlign:"center",textBaseline:"middle"}},T=e.data.map((b,E,O)=>{const{datum:R,keys:P,values:w}=b,C=P[0],z=w[h],V=w[l],F=w[c];let G,j;if(O.length===1)G=-.5*Math.PI,j=1.5*Math.PI;else{const Ke=n.convert(C);G=yh(Ke+o.convert(String(g))),j=yh(G+o.bandwidth)}const B=G+o.bandwidth/2,q=x-r.convert(V),K=x-r.convert(F),H=(q+K)/2,te=Math.cos(B),ne=Math.sin(B),he=te*H,oe=ne*H,Se=this.properties.label.enabled?_(R,z,he,oe):void 0,de=this.getColumnWidth(G,j);return{series:this,datum:R,point:{x:he,y:oe,size:0},midPoint:{x:he,y:oe},label:Se,angleValue:C,radiusValue:z,innerRadius:q,outerRadius:K,startAngle:G,endAngle:j,axisInnerRadius:M,axisOuterRadius:I,columnWidth:de,index:E}});return[{itemId:D,nodeData:T,labelData:T}]})}getColumnWidth(t,e){return NaN}update(t){return k(this,arguments,function*({seriesRect:e}){const i=this.checkResize(e);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(t,e){var i,o,s,a,n;let r=[];if(e){const g=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();g?.datum&&g.series===this&&(r=[g])}else r=this.nodeData;const l=e?this.properties.highlightStyle.item:void 0,c=(o=l?.fill)!=null?o:this.properties.fill,h=(s=l?.fillOpacity)!=null?s:this.properties.fillOpacity,d=(a=l?.stroke)!=null?a:this.properties.stroke,p=this.properties.strokeOpacity,y=(n=l?.strokeWidth)!=null?n:this.properties.strokeWidth,f=g=>g.angleValue;t.update(r,void 0,f).each((g,m)=>{var S,M,I,x;const v=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:m,fill:c,stroke:d,strokeWidth:y,highlighted:e,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;this.updateItemPath(g,m,e,v),g.fill=(S=v?.fill)!=null?S:c,g.fillOpacity=(M=v?.fillOpacity)!=null?M:h,g.stroke=(I=v?.stroke)!=null?I:d,g.strokeOpacity=p,g.strokeWidth=(x=v?.strokeWidth)!=null?x:y,g.lineDash=this.properties.lineDash,g.lineJoin="round"})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:t}=this,e=this.getColumnTransitionFunctions();ph.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],e),sM(this,"labels",this.ctx.animationManager,[t])}animateClearingUpdateEmpty(){const{itemSelection:t}=this,{animationManager:e}=this.ctx,i=this.getColumnTransitionFunctions();ph.fromToMotion(this.id,"datums",e,[t],i),aM(this,"labels",e,[this.labelSelection])}getTooltipHtml(t){var e;const{id:i,axes:o,dataModel:s}=this,{angleKey:a,radiusKey:n,angleName:r,radiusName:l,fill:c,stroke:h,strokeWidth:d,formatter:p,tooltip:y}=this.properties,{angleValue:f,radiusValue:g,datum:m}=t,S=o[wt.X],M=o[wt.Y];if(!this.properties.isValid()||!(S&&M&&gh(g))||!s)return"";const I=S.formatDatum(f),x=M.formatDatum(g),v=mh(l),D=mh(`${I}: ${x}`),{fill:N}=(e=p&&this.ctx.callbackCache.call(p,{seriesId:i,datum:m,fill:c,stroke:h,strokeWidth:d,highlighted:!1,angleKey:a,radiusKey:n}))!=null?e:{fill:c};return y.toTooltipHtml({title:v,backgroundColor:c,content:D},{seriesId:i,datum:m,color:N,title:v,angleKey:a,radiusKey:n,angleName:r,radiusName:l})}getLegendData(t){var e;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{radiusKey:i,radiusName:o,fill:s,stroke:a,fillOpacity:n,strokeOpacity:r,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:o??i},marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:n??1,strokeOpacity:r??1,strokeWidth:l}}]}onLegendItemClick(t){const{enabled:e,itemId:i,series:o}=t;o.id===this.id&&this.toggleSeriesItem(i,e)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,n=o.id===this.id||e&&s===1;this.toggleSeriesItem(i,n)}computeLabelsBBox(){return null}};import{_ModuleSupport as hM,_Scene as uM}from"ag-charts-community";var{Label:dM}=uM,{SeriesProperties:pM,SeriesTooltip:gM,Validate:Te,COLOR_STRING:Sh,DEGREE:yM,FUNCTION:mM,LINE_DASH:fM,NUMBER:SM,OBJECT:xh,POSITIVE_NUMBER:vh,RATIO:Mh,STRING:ho}=hM,Me=class extends pM{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new dM,this.tooltip=new gM}};u([Te(ho)],Me.prototype,"angleKey",2),u([Te(ho,{optional:!0})],Me.prototype,"angleName",2),u([Te(ho)],Me.prototype,"radiusKey",2),u([Te(ho,{optional:!0})],Me.prototype,"radiusName",2),u([Te(Sh)],Me.prototype,"fill",2),u([Te(Mh)],Me.prototype,"fillOpacity",2),u([Te(Sh)],Me.prototype,"stroke",2),u([Te(vh)],Me.prototype,"strokeWidth",2),u([Te(Mh)],Me.prototype,"strokeOpacity",2),u([Te(fM)],Me.prototype,"lineDash",2),u([Te(vh)],Me.prototype,"lineDashOffset",2),u([Te(mM,{optional:!0})],Me.prototype,"formatter",2),u([Te(yM)],Me.prototype,"rotation",2),u([Te(ho,{optional:!0})],Me.prototype,"stackGroup",2),u([Te(SM,{optional:!0})],Me.prototype,"normalizedTo",2),u([Te(xh)],Me.prototype,"label",2),u([Te(xh)],Me.prototype,"tooltip",2);import{_Scene as xM}from"ag-charts-community";import{_Scene as vM}from"ag-charts-community";var{motion:MM}=vM;function Dh(){const t={startAngle:new Map,endAngle:new Map},e=["startAngle","endAngle"],i=(n,r,l)=>{e.forEach(c=>{var h,d;const p=t[c];let y=(l==="removed"||l==="updated"?n:r)[c],f=(l==="removed"?n:r)[c];isNaN(f)&&(f=(d=(h=n.previousDatum)==null?void 0:h[c])!=null?d:NaN);const g=y-f;Math.abs(g)>Math.PI&&(y-=Math.sign(g)*2*Math.PI),p.set(r,{from:y,to:f})})},o=(n,r)=>({startAngle:t.startAngle.get(n)[r],endAngle:t.endAngle.get(n)[r]});return{calculate:i,from:n=>o(n,"from"),to:n=>o(n,"to")}}function Ih(t,e,i){if(i==="updated"){if(t.previousDatum==null||isNaN(t.previousDatum.startAngle)||isNaN(t.previousDatum.endAngle))return"added";if(isNaN(e.startAngle)||isNaN(e.endAngle))return"removed"}return i==="added"&&t.previousDatum!=null?"updated":i}function DM(t){const e=Dh();return{toFn:(s,a,n)=>{const{startAngle:r,endAngle:l}=e.to(a);let c,h,d,p,y;return n==="removed"?(c=s.innerRadius,h=s.innerRadius,d=s.columnWidth,p=s.axisInnerRadius,y=s.axisOuterRadius):(c=isNaN(a.innerRadius)?t:a.innerRadius,h=isNaN(a.outerRadius)?t:a.outerRadius,d=isNaN(a.columnWidth)?s.columnWidth:a.columnWidth,p=a.axisInnerRadius,y=a.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:d,axisInnerRadius:p,axisOuterRadius:y,startAngle:r,endAngle:l}},fromFn:(s,a,n)=>{n=Ih(s,a,n),e.calculate(s,a,n);const{startAngle:r,endAngle:l}=e.from(a);let c,h,d,p,y;n==="removed"||n==="updated"?(c=s.innerRadius,h=s.outerRadius,d=s.columnWidth,p=s.axisInnerRadius,y=s.axisOuterRadius):(c=t,h=t,d=a.columnWidth,p=a.axisInnerRadius,y=a.axisOuterRadius);const f=MM.NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{innerRadius:c,outerRadius:h,columnWidth:d,axisInnerRadius:p,axisOuterRadius:y,startAngle:r,endAngle:l,phase:f}}}}function IM(t,{innerRadius:e,outerRadius:i,columnWidth:o,axisInnerRadius:s,axisOuterRadius:a,startAngle:n,endAngle:r}){return{innerRadius:e,outerRadius:i,columnWidth:o,axisInnerRadius:s,axisOuterRadius:a,startAngle:n,endAngle:r}}var{motion:NM}=xM;function _M(t){const e=Dh();return{toFn:(s,a,n)=>{const{startAngle:r,endAngle:l}=e.to(a);let c,h;return n==="removed"?(c=t,h=t):(c=isNaN(a.innerRadius)?t:a.innerRadius,h=isNaN(a.outerRadius)?t:a.outerRadius),{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l}},fromFn:(s,a,n)=>{n=Ih(s,a,n),e.calculate(s,a,n);const{startAngle:r,endAngle:l}=e.from(a);let c,h;n==="removed"||n==="updated"?(c=s.innerRadius,h=s.outerRadius):(c=t,h=t);const d=NM.NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l,phase:d}}}}function AM(t,{innerRadius:e,outerRadius:i,startAngle:o,endAngle:s}){return{innerRadius:e,outerRadius:i,startAngle:o,endAngle:s}}var{Sector:bM}=Hv,sn=class extends fh{constructor(t){super(t,{animationResetFns:{item:AM}}),this.properties=new Me}getStackId(){var t,e;return`nightingale-stack-${(e=(t=this.seriesGrouping)==null?void 0:t.groupIndex)!=null?e:this.id}-yValues`}nodeFactory(){return new bM}updateItemPath(t,e,i,o){t.centerX=0,t.centerY=0,i&&(t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius,t.startAngle=e.startAngle,t.endAngle=e.endAngle)}getColumnTransitionFunctions(){const t=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return _M(t)}};sn.className="NightingaleSeries",sn.type="nightingale";import{_Theme as zt}from"ag-charts-community";var TM={series:{__extends__:zt.EXTENDS_SERIES_DEFAULTS,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:zt.DEFAULT_FONT_FAMILY,color:zt.DEFAULT_LABEL_COLOUR,__overrides__:zt.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[zt.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:zt.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[zt.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:zt.POLAR_AXIS_SHAPE.CIRCLE}}},EM={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",instanceConstructor:sn,defaultAxes:[{type:tn.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:tn.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:TM,paletteFactory({takeColors:t,userPalette:e}){const{fills:[i],strokes:[o]}=t(1);return{fill:i,stroke:e?o:tn.DEFAULT_POLAR_SERIES_STROKE}},stackable:!0,groupable:!0,stackedByDefault:!0};import{_ModuleSupport as LM,_Theme as Nh}from"ag-charts-community";import{_ModuleSupport as _h,_Theme as uo}from"ag-charts-community";var Ah={series:{__extends__:uo.EXTENDS_SERIES_DEFAULTS,label:{enabled:!1,fontSize:12,fontFamily:uo.DEFAULT_FONT_FAMILY,color:uo.DEFAULT_LABEL_COLOUR,__overrides__:uo.OVERRIDE_SERIES_LABEL_DEFAULTS},marker:{enabled:!0,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[uo.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{label:{padding:10}}}},OM=_h.mergeDefaults({series:{strokeWidth:2}},Ah),kM=_h.mergeDefaults({series:{fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},Ah);import{_ModuleSupport as bh,_Scene as RM}from"ag-charts-community";import{_ModuleSupport as an,_Scene as CM,_Util as PM}from"ag-charts-community";import{_ModuleSupport as wM,_Scene as zM}from"ag-charts-community";var{Label:VM}=zM,{SeriesMarker:BM,SeriesProperties:FM,SeriesTooltip:UM,Validate:we,BOOLEAN:KM,COLOR_STRING:jM,DEGREE:GM,FUNCTION:YM,LINE_DASH:WM,OBJECT:nn,POSITIVE_NUMBER:Th,RATIO:HM,STRING:ps}=wM,Ee=class extends FM{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new BM,this.label=new VM,this.tooltip=new UM,this.connectMissingData=!1}};u([we(ps)],Ee.prototype,"angleKey",2),u([we(ps)],Ee.prototype,"radiusKey",2),u([we(ps,{optional:!0})],Ee.prototype,"angleName",2),u([we(ps,{optional:!0})],Ee.prototype,"radiusName",2),u([we(jM)],Ee.prototype,"stroke",2),u([we(Th)],Ee.prototype,"strokeWidth",2),u([we(HM)],Ee.prototype,"strokeOpacity",2),u([we(WM)],Ee.prototype,"lineDash",2),u([we(Th)],Ee.prototype,"lineDashOffset",2),u([we(YM,{optional:!0})],Ee.prototype,"formatter",2),u([we(GM)],Ee.prototype,"rotation",2),u([we(nn)],Ee.prototype,"marker",2),u([we(nn)],Ee.prototype,"label",2),u([we(nn)],Ee.prototype,"tooltip",2),u([we(KM)],Ee.prototype,"connectMissingData",2);var{ChartAxisDirection:si,PolarAxis:XM,SeriesNodePickMode:Eh,valueProperty:Lh,fixNumericExtent:QM,seriesLabelFadeInAnimation:$M,markerFadeInAnimation:ZM,resetMarkerFn:qM,animationValidation:JM}=an,{BBox:eD,Group:tD,Path:iD,PointerEvents:oD,Selection:Oh,Text:sD,getMarker:aD}=CM,{extent:nD,isNumber:rD,isNumberEqual:kh,sanitizeHtml:Rh,toFixed:Ch}=PM,lD=class extends an.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},rn=class extends an.PolarSeries{constructor(t){super({moduleCtx:t,useLabelLayer:!0,pickModes:[Eh.NEAREST_NODE,Eh.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:qM}}),this.properties=new Ee,this.NodeEvent=lD,this.nodeData=[],this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0};const e=new tD;this.contentGroup.append(e),this.lineSelection=Oh.select(e,iD),e.zIndexSubOrder=[()=>this._declarationOrder,1]}nodeFactory(){const{shape:t}=this.properties.marker,e=aD(t);return new e}addChartEventListeners(){var t,e;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];if(t===si.X)return e.getDomain(this,"angleValue","value",i);{const o=e.getDomain(this,"radiusValue","value",i),s=nD(o.length===0?o:[0].concat(o));return QM(s)}}processData(t){return k(this,null,function*(){var e;if(!this.properties.isValid())return;const{angleKey:i,radiusKey:o}=this.properties,s=[];this.ctx.animationManager.isSkipped()||s.push(JM(this)),yield this.requestDataModel(t,(e=this.data)!=null?e:[],{props:[Lh(this,i,!1,{id:"angleValue"}),Lh(this,o,!1,{id:"radiusValue",invalidValue:void 0}),...s]}),this.animationState.transition("updateData")})}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,o=this.circleCache;return t===o.r&&e===o.cx&&i===o.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}getAxisInnerRadius(){const t=this.axes[si.Y];return t instanceof XM?this.radius*t.innerRadiusRatio:0}maybeRefreshNodeData(){return k(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:e=[]}={}]=yield this.createNodeData();this.nodeData=e,this.nodeDataRefresh=!1})}createNodeData(){return k(this,null,function*(){var t,e;const{processedData:i,dataModel:o}=this;if(!i||!o||!this.properties.isValid())return[];const{angleKey:s,radiusKey:a,angleName:n,radiusName:r,marker:l,label:c}=this.properties,h=(t=this.axes[si.X])==null?void 0:t.scale,d=(e=this.axes[si.Y])==null?void 0:e.scale;if(!h||!d)return[];const p=o.resolveProcessedDataIndexById(this,"angleValue").index,y=o.resolveProcessedDataIndexById(this,"radiusValue").index,f=this.getAxisInnerRadius(),g=i.data.map(m=>{const{datum:S,values:M}=m,I=M[p],x=M[y],v=h.convert(I),D=this.radius+f-d.convert(x),N=Math.cos(v),A=Math.sin(v),L=N*D,_=A*D;let T;if(c.enabled){const b=this.getLabelText(c,{value:x,datum:S,angleKey:s,radiusKey:a,angleName:n,radiusName:r},E=>rD(E)?E.toFixed(2):String(E));if(b){let E="right";kh(N,0)?E="center":N>0&&(E="left");let O="bottom";kh(A,0)?O="middle":A>0&&(O="top"),T={x:L+N*l.size,y:_+A*l.size,text:b,textAlign:E,textBaseline:O}}}return{series:this,datum:S,point:{x:L,y:_,size:l.size},midPoint:{x:L,y:_},label:T,angleValue:I,radiusValue:x}});return[{itemId:a,nodeData:g,labelData:g}]})}update(t){return k(this,arguments,function*({seriesRect:e}){var i,o;const s=this.checkResize(e),a=!this.ctx.animationManager.isSkipped(),{series:n}=(o=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight())!=null?o:{};this.highlightGroup.visible=(a||this.visible)&&n===this,yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),s&&this.animationState.transition("resize"),this.animationState.transition("update")})}updatePathSelections(){const t=this.visible?[!0]:[];this.lineSelection.update(t)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=Oh.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(t){var e;return(e=t?.fill)!=null?e:this.properties.marker.fill}updateMarkers(t,e){var i;const{angleKey:o,radiusKey:s,marker:a,visible:n}=this.properties;let r=[];if(n&&a.shape&&a.enabled)if(e){const c=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();c?.datum&&(r=[c])}else r=this.nodeData;const l=e?this.properties.highlightStyle.item:void 0;t.update(r).each((c,h)=>{var d,p,y,f,g,m,S,M,I,x,v,D,N;const A=this.getMarkerFill(l),L=(p=(d=l?.stroke)!=null?d:a.stroke)!=null?p:this.properties.stroke,_=(g=(f=(y=l?.strokeWidth)!=null?y:a.strokeWidth)!=null?f:this.properties.strokeWidth)!=null?g:1,T=a.formatter?this.ctx.callbackCache.call(a.formatter,{datum:h.datum,angleKey:o,radiusKey:s,fill:A,stroke:L,strokeWidth:_,size:a.size,highlighted:e,seriesId:this.id}):void 0;c.fill=(m=T?.fill)!=null?m:A,c.stroke=(S=T?.stroke)!=null?S:L,c.strokeWidth=(M=T?.strokeWidth)!=null?M:_,c.fillOpacity=(x=(I=l?.fillOpacity)!=null?I:a.fillOpacity)!=null?x:1,c.strokeOpacity=(D=(v=a.strokeOpacity)!=null?v:this.properties.strokeOpacity)!=null?D:1,c.size=(N=T?.size)!=null?N:a.size;const{x:b,y:E}=h.point;c.translationX=b,c.translationY=E,c.visible=n&&c.size>0&&!isNaN(b)&&!isNaN(E)})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}getTooltipHtml(t){var e;if(!this.properties.isValid())return"";const{id:i}=this,{angleKey:o,radiusKey:s,angleName:a,radiusName:n,marker:r,tooltip:l}=this.properties,{datum:c,angleValue:h,radiusValue:d}=t,p=typeof h=="number"?Ch(h):String(h),y=typeof d=="number"?Ch(d):String(d),f=Rh(n),g=Rh(`${p}: ${y}`),{formatter:m,fill:S,stroke:M,strokeWidth:I,size:x}=r,v=I??this.properties.strokeWidth,{fill:D}=(e=m&&this.ctx.callbackCache.call(m,{datum:c,angleKey:o,radiusKey:s,fill:S,stroke:M,strokeWidth:v,size:x,highlighted:!1,seriesId:i}))!=null?e:{fill:S};return l.toTooltipHtml({title:f,content:g,backgroundColor:D},{datum:c,angleKey:o,angleName:a,radiusKey:s,radiusName:n,title:f,color:D,seriesId:i})}getLegendData(t){var e,i,o,s,a,n,r,l,c,h;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{radiusKey:d,radiusName:p,stroke:y,strokeWidth:f,strokeOpacity:g,lineDash:m,visible:S,marker:M}=this.properties;return[{legendType:"category",id:this.id,itemId:d,seriesId:this.id,enabled:S,label:{text:p??d},marker:{shape:M.shape,fill:(s=(o=(i=this.getMarkerFill())!=null?i:M.stroke)!=null?o:y)!=null?s:"rgba(0, 0, 0, 0)",stroke:(n=(a=M.stroke)!=null?a:y)!=null?n:"rgba(0, 0, 0, 0)",fillOpacity:(r=M.fillOpacity)!=null?r:1,strokeOpacity:(c=(l=M.strokeOpacity)!=null?l:g)!=null?c:1,strokeWidth:(h=M.strokeWidth)!=null?h:0,enabled:M.enabled||f<=0},line:{stroke:y,strokeOpacity:g,strokeWidth:f,lineDash:m}}]}onLegendItemClick(t){const{enabled:e,itemId:i,series:o}=t;o.id===this.id&&this.toggleSeriesItem(i,e)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,n=o.id===this.id||e&&s===1;this.toggleSeriesItem(i,n)}pickNodeClosestDatum(t){var e,i;const{x:o,y:s}=t,{rootGroup:a,nodeData:n,centerX:r,centerY:l}=this,c=a.transformPoint(o,s),h=this.radius;if(Math.sqrt(De(o-r,2)+De(s-l,2))>h+this.properties.marker.size)return;let p=1/0,y;for(const f of n){const{point:{x:g=NaN,y:m=NaN}={}}=f;if(isNaN(g)||isNaN(m))continue;const S=Math.sqrt(De(c.x-g-r,2)+De(c.y-m-l,2));S<p&&(p=S,y=f)}if(y){const f=Math.max(p-((i=(e=y.point)==null?void 0:e.size)!=null?i:0),0);return{datum:y,distance:f}}}computeLabelsBBox(){return k(this,null,function*(){const{label:t}=this.properties;yield this.maybeRefreshNodeData();const e=[],i=new sD;return this.nodeData.forEach(o=>{if(!t.enabled||!o.label)return;i.text=o.label.text,i.x=o.label.x,i.y=o.label.y,i.setFont(t),i.setAlign(o.label);const s=i.computeBBox();e.push(s)}),e.length===0?null:eD.merge(e)})}getLineNode(){return this.lineSelection.nodes()[0]}beforePathAnimation(){const t=this.getLineNode();t.fill=void 0,t.lineJoin="round",t.lineCap="round",t.pointerEvents=oD.None,t.stroke=this.properties.stroke,t.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),t.strokeOpacity=this.properties.strokeOpacity,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset}getLinePoints(){const{nodeData:t,resetInvalidToZero:e}=this,{connectMissingData:i}=this.properties;if(t.length===0)return[];const o=this.axes[si.Y],s=this.axes[si.X],a=s?.isReversed(),r=o?.isReversed()&&!a?[...t].reverse():t,l=[];let c=!1,h;return r.forEach((d,p)=>{let{x:y,y:f}=d.point;const g=isNaN(y)||isNaN(f);g||(h??(h=d)),g&&!i&&(y=0,f=0);const m=p===0||!e&&!i&&(g||c);l.push({x:y,y:f,moveTo:m}),c=g}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(t,e,i){const{path:o}=t;o.clear({trackChanges:!0});const s=this.getAxisInnerRadius(),a=this.axes[si.Y],r=a?.isReversed()?this.radius+s-a?.scale.convert(0):s;e.forEach(l=>{const{x:c,y:h,arc:d,radius:p=0,startAngle:y=0,endAngle:f=0,moveTo:g}=l,m=Math.atan2(h,c),S=r*Math.cos(m),M=r*Math.sin(m),I=i,x=S*(1-I)+c*I,v=M*(1-I)+h*I;d?o.arc(c,h,p,y,f):g?o.moveTo(x,v):o.lineTo(x,v)}),t.checkPathDirty()}animatePaths(t){const e=this.getLinePoints();this.animateSinglePath(this.getLineNode(),e,t)}animateEmptyUpdateReady(){const{itemSelection:t,labelSelection:e}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:o=>this.animatePaths(o),onStop:()=>this.animatePaths(1)}),ZM(this,i,[t],"added"),$M(this,"labels",i,[e])}animateWaitingUpdateReady(t){super.animateWaitingUpdateReady(t),this.resetPaths()}animateReadyResize(t){super.animateReadyResize(t),this.resetPaths()}resetPaths(){const t=this.getLineNode();if(t){const{path:e}=t,i=this.getLinePoints();t.fill=void 0,t.stroke=this.properties.stroke,t.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),t.strokeOpacity=this.properties.strokeOpacity,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset,e.clear({trackChanges:!0}),i.forEach(({x:o,y:s,moveTo:a})=>{a?e.moveTo(o,s):e.lineTo(o,s)}),t.checkPathDirty()}}};rn.className="RadarSeries";import{_ModuleSupport as cD}from"ag-charts-community";var{RATIO:hD,COLOR_STRING:uD,Validate:Ph}=cD,ln=class extends Ee{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};u([Ph(uD)],ln.prototype,"fill",2),u([Ph(hD)],ln.prototype,"fillOpacity",2);var{Group:dD,Path:pD,PointerEvents:gD,Selection:yD}=RM,{ChartAxisDirection:wh}=bh,cn=class extends rn{constructor(t){super(t),this.properties=new ln,this.resetInvalidToZero=!0;const e=new dD;e.zIndexSubOrder=[()=>this._declarationOrder,0],this.contentGroup.append(e),this.areaSelection=yD.select(e,pD)}updatePathSelections(){const t=this.visible?[!0]:[];this.areaSelection.update(t),super.updatePathSelections()}getAreaNode(){return this.areaSelection.nodes()[0]}getMarkerFill(t){var e,i;return(i=(e=t?.fill)!=null?e:this.properties.marker.fill)!=null?i:this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const t=this.getAreaNode();t.fill=this.properties.fill,t.fillOpacity=this.properties.fillOpacity,t.pointerEvents=gD.None,t.stroke=void 0}animatePaths(t){super.animatePaths(t),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),t)}getAreaPoints(){var t,e;const i=this.getLinePoints(),o=l=>{const c=this.axes[l];return c instanceof bh.PolarAxis?c:void 0},s=o(wh.Y),a=o(wh.X);if(!s?.isReversed())return i;const{points:r=[]}=(e=(t=a?.getAxisLinePoints)==null?void 0:t.call(a))!=null?e:{};return i.concat(...r)}resetPaths(){super.resetPaths();const t=this.getAreaNode();if(t){const{path:e}=t,i=this.getAreaPoints();t.fill=this.properties.fill,t.fillOpacity=this.properties.fillOpacity,t.stroke=void 0,t.lineDash=this.properties.lineDash,t.lineDashOffset=this.properties.lineDashOffset,t.lineJoin=t.lineCap="round",e.clear({trackChanges:!0}),i.forEach(({x:o,y:s,moveTo:a,arc:n,radius:r=0,startAngle:l=0,endAngle:c=0})=>{n?e.arc(o,s,r,l,c):a?e.moveTo(o,s):e.lineTo(o,s)}),e.closePath(),t.checkPathDirty()}}};cn.className="RadarAreaSeries",cn.type="radar-area";var{markerPaletteFactory:mD}=LM,fD={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",instanceConstructor:cn,defaultAxes:[{type:Nh.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:Nh.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:kM,paletteFactory:t=>{const{marker:e}=mD(t);return{stroke:e.stroke,fill:e.fill,marker:e}}};import{_Theme as zh}from"ag-charts-community";var hn=class extends rn{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};hn.className="RadarLineSeries",hn.type="radar-line";var SD={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",instanceConstructor:hn,defaultAxes:[{type:zh.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:zh.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:OM,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{stroke:e,marker:{fill:e,stroke:i}}}};import{_Theme as Vh}from"ag-charts-community";import{_ModuleSupport as un,_Scale as xD,_Scene as vD,_Util as MD}from"ag-charts-community";import{_ModuleSupport as DD,_Scene as ID}from"ag-charts-community";var{Label:ND}=ID,{SeriesProperties:_D,SeriesTooltip:AD,Validate:Le,COLOR_STRING:Bh,DEGREE:bD,FUNCTION:TD,LINE_DASH:ED,NUMBER:LD,OBJECT:Fh,POSITIVE_NUMBER:Uh,RATIO:Kh,STRING:po}=DD,_e=class extends _D{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new ND,this.tooltip=new AD}};u([Le(po)],_e.prototype,"angleKey",2),u([Le(po)],_e.prototype,"radiusKey",2),u([Le(po,{optional:!0})],_e.prototype,"angleName",2),u([Le(po,{optional:!0})],_e.prototype,"radiusName",2),u([Le(Bh)],_e.prototype,"fill",2),u([Le(Kh)],_e.prototype,"fillOpacity",2),u([Le(Bh)],_e.prototype,"stroke",2),u([Le(Uh)],_e.prototype,"strokeWidth",2),u([Le(Kh)],_e.prototype,"strokeOpacity",2),u([Le(ED)],_e.prototype,"lineDash",2),u([Le(Uh)],_e.prototype,"lineDashOffset",2),u([Le(TD,{optional:!0})],_e.prototype,"formatter",2),u([Le(bD)],_e.prototype,"rotation",2),u([Le(po,{optional:!0})],_e.prototype,"stackGroup",2),u([Le(LD,{optional:!0})],_e.prototype,"normalizedTo",2),u([Le(Fh)],_e.prototype,"label",2),u([Le(Fh)],_e.prototype,"tooltip",2);import{_Scene as OD}from"ag-charts-community";var{motion:kD}=OD;function RD(t,e,i){if(i==="updated"){if(t.previousDatum==null||isNaN(t.previousDatum.innerRadius)||isNaN(t.previousDatum.outerRadius))return"added";if(isNaN(e.innerRadius)||isNaN(e.outerRadius))return"removed"}return i==="added"&&t.previousDatum!=null?"updated":i}function jh(t){return{toFn:(o,s,a)=>{let n,r,l,c;return a==="removed"?(n=t,r=t,l=s.innerRadius,c=s.outerRadius):(n=s.startAngle,r=s.endAngle,l=isNaN(s.innerRadius)?o.innerRadius:s.innerRadius,c=isNaN(s.outerRadius)?o.outerRadius:s.outerRadius),{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c}},fromFn:(o,s,a)=>{a=RD(o,s,a);let n,r,l,c;a==="removed"||a==="updated"?(n=o.startAngle,r=o.endAngle,l=o.innerRadius,c=o.outerRadius):(n=t,r=t,l=s.innerRadius,c=s.outerRadius);const h=kD.NODE_UPDATE_STATE_TO_PHASE_MAPPING[a];return{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c,phase:h}}}}function CD(t,e){return{centerX:0,centerY:0,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle}}var{ChartAxisDirection:Nt,PolarAxis:PD,diff:wD,isDefined:zD,groupAccumulativeValueProperty:Gh,keyProperty:VD,normaliseGroupTo:BD,valueProperty:FD,fixNumericExtent:UD,resetLabelFn:KD,seriesLabelFadeInAnimation:jD,seriesLabelFadeOutAnimation:GD,animationValidation:YD}=un,{BandScale:WD}=xD,{Sector:HD,motion:Yh}=vD,{angleBetween:XD,isNumber:Wh,sanitizeHtml:Hh}=MD,QD=class extends un.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},dn=class extends un.PolarSeries{constructor(t){super({moduleCtx:t,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:CD,label:KD}}),this.properties=new _e,this.NodeEvent=QD,this.nodeData=[],this.groupScale=new WD,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new HD}addChartEventListeners(){var t,e;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",i=>this.onLegendItemClick(i)),(e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}getSeriesDomain(t){const{axes:e,dataModel:i,processedData:o}=this;if(!o||!i)return[];if(t===Nt.X){const s=e[Nt.X],a=i.getDomain(this,"angleValue-end","value",o),n=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return UD(n,s)}else return i.getDomain(this,"radiusValue","key",o)}processData(t){return k(this,null,function*(){var e;if(!this.properties.isValid())return;const i=this.getStackId(),o=`${i}-trailing`,{angleKey:s,radiusKey:a,normalizedTo:n,visible:r}=this.properties,l=[];zD(n)&&l.push(BD(this,[i,o],Math.abs(n),"range"));const c=!this.ctx.animationManager.isSkipped();c&&(this.processedData&&l.push(wD(this.processedData)),l.push(YD(this)));const h=this.visible||!c?{}:{forceValue:0};yield this.requestDataModel(t,(e=this.data)!=null?e:[],{props:[VD(this,a,!1,{id:"radiusValue"}),FD(this,s,!0,Y({id:"angleValue-raw",invalidValue:null},h)),...Gh(this,s,!0,"normal","current",Y({id:"angleValue-end",invalidValue:null,groupId:i},h)),...Gh(this,s,!0,"trailing","current",Y({id:"angleValue-start",invalidValue:null,groupId:o},h)),...l],dataVisible:r||c}),this.animationState.transition("updateData")})}didCircleChange(){const t=this.radius,e=this.centerX,i=this.centerY,o=this.circleCache;return t===o.r&&e===o.cx&&i===o.cy?!1:(this.circleCache={r:t,cx:e,cy:i},!0)}maybeRefreshNodeData(){return k(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:e=[]}={}]=yield this.createNodeData();this.nodeData=e,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const t=this.axes[Nt.Y];return t instanceof PD?this.radius*t.innerRadiusRatio:0}createNodeData(){return k(this,null,function*(){var t,e;const{processedData:i,dataModel:o}=this;if(!i||!o||!this.properties.isValid())return[];const s=this.axes[Nt.X],a=this.axes[Nt.Y],n=s?.scale,r=a?.scale;if(!n||!r)return[];const l=o.resolveProcessedDataIndexById(this,"angleValue-start").index,c=o.resolveProcessedDataIndexById(this,"angleValue-end").index,h=o.resolveProcessedDataIndexById(this,"angleValue-raw").index;let d=0;a instanceof Gt&&(d=a.groupPaddingInner);const{groupScale:p}=this,{index:y,visibleGroupCount:f}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);p.domain=Array.from({length:f}).map((T,b)=>String(b)),p.range=[0,Math.abs((t=r.bandwidth)!=null?t:0)],p.paddingInner=f>1?d:0;const g=p.bandwidth>=1?p.bandwidth:p.rawBandwidth,m=(e=this.axes[Nt.Y])==null?void 0:e.isReversed(),S=m?this.radius:this.getAxisInnerRadius(),I=(m?this.getAxisInnerRadius():this.radius)+S,{angleKey:x,radiusKey:v,angleName:D,radiusName:N,label:A}=this.properties,L=(T,b,E,O)=>{const R=this.getLabelText(A,{value:b,datum:T,angleKey:x,radiusKey:v,angleName:D,radiusName:N},P=>Wh(P)?P.toFixed(2):String(P));if(R)return{x:E,y:O,text:R,textAlign:"center",textBaseline:"middle"}},_=i.data.map((T,b)=>{const{datum:E,keys:O,values:R}=T,P=O[0],w=R[h],C=R[l],z=R[c];let V=Math.max(n.convert(C),n.range[0]),F=Math.min(n.convert(z),n.range[1]);V>F&&([V,F]=[F,V]),w<0&&([V,F]=[F,V]);const j=I-r.convert(P)+p.convert(String(y)),B=j+g,q=(j+B)/2,K=V+XD(V,F)/2,H=Math.cos(K)*q,te=Math.sin(K)*q,ne=this.properties.label.enabled?L(E,w,H,te):void 0;return{series:this,datum:E,point:{x:H,y:te,size:0},midPoint:{x:H,y:te},label:ne,angleValue:w,radiusValue:P,innerRadius:j,outerRadius:B,startAngle:V,endAngle:F,index:b}});return[{itemId:v,nodeData:_,labelData:_}]})}update(t){return k(this,arguments,function*({seriesRect:e}){const i=this.checkResize(e);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),i&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(t,e){var i,o,s,a,n;let r=[];if(e){const g=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();g?.datum&&g.series===this&&(r=[g])}else r=this.nodeData;const l=e?this.properties.highlightStyle.item:void 0,c=(o=l?.fill)!=null?o:this.properties.fill,h=(s=l?.fillOpacity)!=null?s:this.properties.fillOpacity,d=(a=l?.stroke)!=null?a:this.properties.stroke,p=this.properties.strokeOpacity,y=(n=l?.strokeWidth)!=null?n:this.properties.strokeWidth,f=g=>g.radiusValue;t.update(r,void 0,f).each((g,m)=>{var S,M,I,x,v;const D=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:m,fill:c,stroke:d,strokeWidth:y,highlighted:e,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;g.fill=(S=D?.fill)!=null?S:c,g.fillOpacity=(M=D?.fillOpacity)!=null?M:h,g.stroke=(I=D?.stroke)!=null?I:d,g.strokeOpacity=p,g.strokeWidth=(x=D?.strokeWidth)!=null?x:y,g.lineDash=this.properties.lineDash,g.lineJoin="round",g.inset=d!=null?((v=D?.strokeWidth)!=null?v:y)/2:0,e&&(g.startAngle=m.startAngle,g.endAngle=m.endAngle,g.innerRadius=m.innerRadius,g.outerRadius=m.outerRadius)})}updateLabels(){const{label:t}=this.properties;this.labelSelection.update(this.nodeData).each((e,i)=>{t.enabled&&i.label?(e.x=i.label.x,e.y=i.label.y,e.fill=t.color,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=i.label.text,e.textAlign=i.label.textAlign,e.textBaseline=i.label.textBaseline,e.visible=!0):e.visible=!1})}getBarTransitionFunctions(){var t;const e=(t=this.axes[Nt.X])==null?void 0:t.scale;let i=0;if(!e)return jh(i);const o=Math.min(e.domain[0],e.domain[1]),s=Math.max(e.domain[0],e.domain[1]);return o<=0&&s>=0&&(i=e.convert(0)),jh(i)}animateEmptyUpdateReady(){const{labelSelection:t}=this,e=this.getBarTransitionFunctions();Yh.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],e),jD(this,"labels",this.ctx.animationManager,[t])}animateClearingUpdateEmpty(){const{itemSelection:t}=this,{animationManager:e}=this.ctx,i=this.getBarTransitionFunctions();Yh.fromToMotion(this.id,"datums",e,[t],i),GD(this,"labels",e,[this.labelSelection])}getTooltipHtml(t){var e;const{id:i,axes:o,dataModel:s}=this,{angleKey:a,angleName:n,radiusKey:r,radiusName:l,fill:c,stroke:h,strokeWidth:d,formatter:p,tooltip:y}=this.properties,{angleValue:f,radiusValue:g,datum:m}=t,S=o[Nt.X],M=o[Nt.Y];if(!this.properties.isValid()||!(S&&M&&Wh(f))||!s)return"";const I=S.formatDatum(f),x=M.formatDatum(g),v=Hh(n),D=Hh(`${x}: ${I}`),{fill:N}=(e=p&&this.ctx.callbackCache.call(p,{datum:m,fill:c,stroke:h,strokeWidth:d,highlighted:!1,angleKey:a,radiusKey:r,seriesId:i}))!=null?e:{fill:c};return y.toTooltipHtml({title:v,backgroundColor:c,content:D},{seriesId:i,datum:m,color:N,title:v,angleKey:a,radiusKey:r,angleName:n,radiusName:l})}getLegendData(t){var e;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{angleKey:i,angleName:o,fill:s,stroke:a,fillOpacity:n,strokeOpacity:r,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:c,label:{text:o??i},marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:n??1,strokeOpacity:r??1,strokeWidth:l}}]}onLegendItemClick(t){const{enabled:e,itemId:i,series:o}=t;o.id===this.id&&this.toggleSeriesItem(i,e)}onLegendItemDoubleClick(t){const{enabled:e,itemId:i,series:o,numVisibleItems:s}=t,n=o.id===this.id||e&&s===1;this.toggleSeriesItem(i,n)}computeLabelsBBox(){return null}getStackId(){var t,e;return`radialBar-stack-${(e=(t=this.seriesGrouping)==null?void 0:t.groupIndex)!=null?e:this.id}-xValues`}};dn.className="RadialBarSeries",dn.type="radial-bar";import{_Theme as go}from"ag-charts-community";var $D={series:{__extends__:go.EXTENDS_SERIES_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:go.DEFAULT_FONT_FAMILY,color:go.DEFAULT_INVERTED_LABEL_COLOUR,__overrides__:go.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[go.POLAR_AXIS_TYPE.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},ZD={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",instanceConstructor:dn,defaultAxes:[{type:Vh.POLAR_AXIS_TYPE.ANGLE_NUMBER},{type:Vh.POLAR_AXIS_TYPE.RADIUS_CATEGORY}],themeTemplate:$D,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},stackable:!0,groupable:!0};import{_Theme as Xh}from"ag-charts-community";import{_ModuleSupport as qD,_Scene as JD}from"ag-charts-community";import{_ModuleSupport as eI}from"ag-charts-community";var{Validate:Qh,RATIO:$h}=eI,pn=class extends Me{};u([Qh($h,{optional:!0})],pn.prototype,"columnWidthRatio",2),u([Qh($h,{optional:!0})],pn.prototype,"maxColumnWidthRatio",2);var{ChartAxisDirection:tI,PolarAxis:iI}=qD,{RadialColumnShape:oI,getRadialColumnWidth:sI}=JD,gn=class extends fh{constructor(t){super(t,{animationResetFns:{item:IM}}),this.properties=new pn}getStackId(){var t,e;return`radarColumn-stack-${(e=(t=this.seriesGrouping)==null?void 0:t.groupIndex)!=null?e:this.id}-yValues`}nodeFactory(){return new oI}getColumnTransitionFunctions(){const t=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return DM(t)}isRadiusAxisCircle(){const t=this.axes[tI.Y];return t instanceof iI?t.shape==="circle":!1}updateItemPath(t,e,i){t.isBeveled=this.isRadiusAxisCircle(),t.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(t.innerRadius=e.innerRadius,t.outerRadius=e.outerRadius,t.startAngle=e.startAngle,t.endAngle=e.endAngle,t.columnWidth=e.columnWidth,t.axisInnerRadius=e.axisInnerRadius,t.axisOuterRadius=e.axisOuterRadius)}getColumnWidth(t,e){const{columnWidthRatio:i=.5,maxColumnWidthRatio:o=.5}=this.properties;return sI(t,e,this.radius,i,o)}};gn.className="RadialColumnSeries",gn.type="radial-column";import{_Theme as Vt}from"ag-charts-community";var aI={series:{__extends__:Vt.EXTENDS_SERIES_DEFAULTS,columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:Vt.DEFAULT_FONT_FAMILY,color:Vt.DEFAULT_LABEL_COLOUR,__overrides__:Vt.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[Vt.POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:Vt.POLAR_AXIS_SHAPE.CIRCLE,groupPaddingInner:0,paddingInner:0,label:{padding:10}},[Vt.POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:Vt.POLAR_AXIS_SHAPE.CIRCLE,innerRadiusRatio:.5}}},nI={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",instanceConstructor:gn,defaultAxes:[{type:Xh.POLAR_AXIS_TYPE.ANGLE_CATEGORY},{type:Xh.POLAR_AXIS_TYPE.RADIUS_NUMBER}],themeTemplate:aI,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},stackable:!0,groupable:!0};import{_ModuleSupport as rI,_Theme as gs}from"ag-charts-community";import{_ModuleSupport as yn,_Scene as Zh,_Util as lI}from"ag-charts-community";import{_ModuleSupport as cI,_Scene as hI}from"ag-charts-community";var{DropShadow:uI,Label:dI}=hI,{CartesianSeriesProperties:pI,SeriesMarker:gI,SeriesTooltip:yI,Validate:pe,BOOLEAN:mI,COLOR_STRING:qh,LINE_DASH:fI,OBJECT:ys,PLACEMENT:SI,POSITIVE_NUMBER:mn,RATIO:Jh,STRING:ai}=cI,fn=class extends dI{constructor(){super(...arguments),this.placement="outside",this.padding=6}};u([pe(SI)],fn.prototype,"placement",2),u([pe(mn)],fn.prototype,"padding",2);var ye=class extends pI{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new uI().set({enabled:!1}),this.marker=new gI,this.label=new fn,this.tooltip=new yI,this.connectMissingData=!1}};u([pe(ai)],ye.prototype,"xKey",2),u([pe(ai)],ye.prototype,"yLowKey",2),u([pe(ai)],ye.prototype,"yHighKey",2),u([pe(ai,{optional:!0})],ye.prototype,"xName",2),u([pe(ai,{optional:!0})],ye.prototype,"yName",2),u([pe(ai,{optional:!0})],ye.prototype,"yLowName",2),u([pe(ai,{optional:!0})],ye.prototype,"yHighName",2),u([pe(qh)],ye.prototype,"fill",2),u([pe(Jh)],ye.prototype,"fillOpacity",2),u([pe(qh)],ye.prototype,"stroke",2),u([pe(mn)],ye.prototype,"strokeWidth",2),u([pe(Jh)],ye.prototype,"strokeOpacity",2),u([pe(fI)],ye.prototype,"lineDash",2),u([pe(mn)],ye.prototype,"lineDashOffset",2),u([pe(ys)],ye.prototype,"shadow",2),u([pe(ys)],ye.prototype,"marker",2),u([pe(ys)],ye.prototype,"label",2),u([pe(ys)],ye.prototype,"tooltip",2),u([pe(mI)],ye.prototype,"connectMissingData",2);var{valueProperty:eu,keyProperty:xI,ChartAxisDirection:gt,mergeDefaults:vI,updateLabelNode:MI,fixNumericExtent:tu,AreaSeriesTag:Sn,buildResetPathFn:DI,resetLabelFn:II,resetMarkerFn:NI,resetMarkerPositionFn:iu,pathSwipeInAnimation:_I,resetMotion:AI,markerSwipeScaleInAnimation:bI,seriesLabelFadeInAnimation:TI,animationValidation:EI,diff:LI,updateClipPath:ou}=yn,{getMarker:OI,PointerEvents:xn}=Zh,{sanitizeHtml:ni,extent:kI,isNumber:RI}=lI,CI=class extends yn.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},vn=class Ku extends yn.CartesianSeries{constructor(e){super({moduleCtx:e,hasMarkers:!0,pathsPerSeries:2,directionKeys:{[gt.X]:["xKey"],[gt.Y]:["yLowKey","yHighKey"]},directionNames:{[gt.X]:["xName"],[gt.Y]:["yLowName","yHighName","yName"]},animationResetFns:{path:DI({getOpacity:()=>this.getOpacity()}),label:II,marker:(i,o)=>Y(Y({},NI(i)),iu(i,o))}}),this.properties=new ye,this.NodeEvent=CI}processData(e){return k(this,null,function*(){var i;if(!this.properties.isValid())return;const{xKey:o,yLowKey:s,yHighKey:a}=this.properties,{isContinuousX:n,isContinuousY:r}=this.isContinuous(),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(LI(this.processedData)),c&&l.push(EI(this)),yield this.requestDataModel(e,(i=this.data)!=null?i:[],{props:[xI(this,o,n,{id:"xValue"}),eu(this,s,r,{id:"yLowValue",invalidValue:void 0}),eu(this,a,r,{id:"yHighValue",invalidValue:void 0}),...l],dataVisible:this.visible}),this.animationState.transition("updateData")})}getSeriesDomain(e){const{processedData:i,dataModel:o,axes:s}=this;if(!(i&&o))return[];const{domain:{keys:[a],values:n}}=i;if(e===gt.X){const r=o.resolveProcessedDataDefById(this,"xValue"),l=s[gt.X];return r?.def.type==="key"&&r.def.valueType==="category"?a:tu(kI(a),l)}else{const r=o.resolveProcessedDataIndexById(this,"yLowValue").index,l=n[r],c=o.resolveProcessedDataIndexById(this,"yHighValue").index,h=n[c],d=[l[0]>h[0]?h[0]:l[0],h[1]<l[1]?l[1]:h[1]];return tu(d)}}createNodeData(){return k(this,null,function*(){var e,i;const{data:o,dataModel:s,axes:a,visible:n}=this,r=a[gt.X],l=a[gt.Y];if(!(o&&n&&r&&l&&s))return[];const c=r.scale,h=l.scale,{xKey:d,yLowKey:p,yHighKey:y,connectMissingData:f,marker:g}=this.properties,m=`${p}-${y}`,S=((e=c.bandwidth)!=null?e:0)/2,M=s.resolveProcessedDataDefsByIds(this,["xValue","yHighValue","yLowValue"]),I=(w,C,z)=>{const V=c.convert(w)+S,F=h.convert(C),G=h.convert(z);return[{point:{x:V,y:F},size:g.size,itemId:"high",yValue:C,xValue:w},{point:{x:V,y:G},size:g.size,itemId:"low",yValue:z,xValue:w}]},x=w=>{const C=w,{point:z}=C,V=er(C,["point"]);return Oe(Y({},V),{point:Oe(Y({},z),{moveTo:!0})})},v=[],D=[],N={itemId:m,points:[]},A={itemId:m,points:[]},L={itemId:m,labelData:v,nodeData:D,fillData:A,strokeData:N,scales:$e(Ku.prototype,this,"calculateScaling").call(this),visible:this.visible},_=A.points,T=[],b=N.points,E=[];let O,R=-1/0,P=-1/0;return(i=this.processedData)==null||i.data.forEach(({keys:w,datum:C,values:z},V)=>{const F=s.resolveProcessedDataDefsValues(M,{keys:w,values:z}),{xValue:G,yHighValue:j,yLowValue:B}=F,K=j==null||B==null?[]:I(G,j,B),H=B>j;K.forEach(({point:{x:ze,y:je},size:bt,itemId:Ge="",yValue:Qe})=>{D.push({index:V,series:this,itemId:Ge,datum:C,midPoint:{x:ze,y:je},yHighValue:j,yLowValue:B,xValue:G,xKey:d,yLowKey:p,yHighKey:y,point:{x:ze,y:je,size:bt}});const Tt=this.createLabelData({point:{x:ze,y:je},value:Qe,yLowValue:B,yHighValue:j,itemId:Ge,inverted:H,datum:C,series:this});v.push(Tt)});const te=R!=null&&P!=null,ne=O!=null&&te,he=G!=null,oe=j!=null&&B!=null;let[Se,de]=I(G,j??0,B??0);if(!f)if(oe){if(!te){const[ze,je]=I(G,0,0);_.push(ze),T.push(je)}}else{const[ze,je]=I(O,0,0);_.push(ze),T.push(je)}he&&oe&&(_.push(Se),T.push(de)),he&&oe&&!ne&&!f&&V>0&&(Se=x(Se),de=x(de)),he&&oe&&(b.push(Se),E.push(de)),O=G,R=j,P=B}),_.length>0&&(_[0]=x(_[0])),_.push(...T.reverse()),E.length>0&&(E[0]=x(E[0])),b.push(...E),[L]})}createLabelData({point:e,value:i,itemId:o,inverted:s,datum:a,series:n}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yName:d,yLowName:p,yHighName:y,label:f}=this.properties,{placement:g,padding:m=10}=f;let S=o;s&&(S=o==="low"?"high":"low");const M=g==="outside"&&S==="high"||g==="inside"&&S==="low"?-1:1;return{x:e.x,y:e.y+m*M,series:n,itemId:o,datum:a,text:this.getLabelText(f,{value:i,datum:a,itemId:o,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:y,yName:d},I=>RI(I)?I.toFixed(2):String(I)),textAlign:"center",textBaseline:M===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker,i=OI(e);return new i}updatePathNodes(e){return k(this,null,function*(){const{opacity:i,visible:o}=e,[s,a]=e.paths,n=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:Sn.Stroke,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:xn.None,stroke:this.properties.stroke,strokeWidth:n,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:i,visible:o}),s.setProperties({tag:Sn.Fill,stroke:void 0,lineJoin:"round",pointerEvents:xn.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:n,opacity:i,visible:o}),ou(this,a),ou(this,s)})}updatePaths(e){return k(this,null,function*(){this.updateAreaPaths([e.paths],[e.contextData])})}updateAreaPaths(e,i){this.updateFillPath(e,i),this.updateStrokePath(e,i)}updateFillPath(e,i){i.forEach(({fillData:o},s)=>{const[a]=e[s],{path:n}=a;n.clear({trackChanges:!0});for(const{point:r}of o.points)r.moveTo?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y);n.closePath(),a.checkPathDirty()})}updateStrokePath(e,i){i.forEach(({strokeData:o},s)=>{const[,a]=e[s],{path:n}=a;n.clear({trackChanges:!0});for(const{point:r}of o.points)r.moveTo?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y);a.checkPathDirty()})}updateMarkerSelection(e){return k(this,null,function*(){const{nodeData:i,markerSelection:o}=e;return this.properties.marker.isDirty()&&(o.clear(),o.cleanup()),o.update(this.properties.marker.enabled?i:[])})}updateMarkerNodes(e){return k(this,null,function*(){const{markerSelection:i,isHighlight:o}=e,{xKey:s,yLowKey:a,yHighKey:n,marker:r,fill:l,stroke:c,strokeWidth:h,fillOpacity:d,strokeOpacity:p}=this.properties,y=vI(o&&this.properties.highlightStyle.item,r.getStyle(),{fill:l,fillOpacity:d,stroke:c,strokeWidth:h,strokeOpacity:p});i.each((f,g)=>{this.updateMarkerStyle(f,r,{datum:g,highlighted:o,xKey:s,yHighKey:n,yLowKey:a},y)}),o||this.properties.marker.markClean()})}updateLabelSelection(e){return k(this,null,function*(){const{labelData:i,labelSelection:o}=e;return o.update(i,s=>{s.tag=Sn.Label,s.pointerEvents=xn.None})})}updateLabelNodes(e){return k(this,null,function*(){e.labelSelection.each((i,o)=>{MI(i,this.properties.label,o)})})}getHighlightLabelData(e,i){const o=e.filter(s=>s.datum===i.datum);return o.length>0?o:void 0}getHighlightData(e,i){const o=e.filter(s=>s.datum===i.datum);return o.length>0?o:void 0}getTooltipHtml(e){const i=this.axes[gt.X],o=this.axes[gt.Y];if(!this.properties.isValid()||!i||!o)return"";const{id:s}=this,{xKey:a,yLowKey:n,yHighKey:r,xName:l,yName:c,yLowName:h,yHighName:d,fill:p,tooltip:y}=this.properties,{datum:f,itemId:g,xValue:m,yLowValue:S,yHighValue:M}=e,I=p??"gray",x=ni(i.formatDatum(m)),v=ni(o.formatDatum(S)),D=ni(o.formatDatum(M)),N=l??a,A=h??n,L=d??r,_=ni(c),T=c?`<b>${ni(N)}</b>: ${x}<br><b>${ni(A)}</b>: ${v}<br><b>${ni(L)}</b>: ${D}<br>`:`${x}: ${v} - ${D}`;return y.toTooltipHtml({title:_,content:T,backgroundColor:I},{seriesId:s,itemId:g,datum:f,xKey:a,yLowKey:n,yHighKey:r,xName:l,yLowName:h,yHighName:d,yName:c,color:I})}getLegendData(e){var i,o;if(e!=="category")return[];const{yLowKey:s,yHighKey:a,yName:n,yLowName:r,yHighName:l,fill:c,stroke:h,strokeWidth:d,strokeOpacity:p,lineDash:y,visible:f,marker:g}=this.properties,m=n??`${r??s} - ${l??a}`;return[{legendType:"category",id:this.id,itemId:`${s}-${a}`,seriesId:this.id,enabled:f,label:{text:`${m}`},marker:{shape:g.shape,fill:(i=g.fill)!=null?i:c,stroke:(o=g.stroke)!=null?o:h,fillOpacity:g.fillOpacity,strokeOpacity:g.strokeOpacity,strokeWidth:g.strokeWidth},line:{stroke:h,strokeOpacity:p,strokeWidth:d,lineDash:y}}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new Zh.Group}animateEmptyUpdateReady(e){const{markerSelections:i,labelSelections:o,contextData:s,paths:a}=e,{animationManager:n}=this.ctx;this.updateAreaPaths(a,s),_I(this,n,a.flat()),AI(i,iu),bI(this,n,i),TI(this,"labels",n,o)}animateReadyResize(e){const{contextData:i,paths:o}=e;this.updateAreaPaths(o,i),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{contextData:i,paths:o}=e;super.animateWaitingUpdateReady(e),this.updateAreaPaths(o,i)}};vn.className="RangeAreaSeries",vn.type="range-area";var PI=vn;import{_Theme as Pi}from"ag-charts-community";var wI={series:{__extends__:Pi.EXTENDS_SERIES_DEFAULTS,fillOpacity:.7,nodeClickRange:"nearest",marker:{__extends__:Pi.EXTENDS_CARTESIAN_MARKER_DEFAULTS,enabled:!1,fillOpacity:1,strokeWidth:2,size:6},label:{enabled:!1,placement:"outside",padding:10,fontSize:12,fontFamily:Pi.DEFAULT_FONT_FAMILY,color:Pi.DEFAULT_LABEL_COLOUR,__overrides__:Pi.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[Pi.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0,snap:!1}}}},{markerPaletteFactory:zI}=rI,VI={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",instanceConstructor:PI,defaultAxes:[{type:gs.CARTESIAN_AXIS_TYPE.NUMBER,position:gs.POSITION.LEFT},{type:gs.CARTESIAN_AXIS_TYPE.CATEGORY,position:gs.POSITION.BOTTOM}],themeTemplate:wI,paletteFactory:t=>{const{marker:e}=zI(t);return{fill:e.fill,stroke:e.stroke,marker:e}}};import{_Theme as ms}from"ag-charts-community";import{_ModuleSupport as Mn,_Scale as BI,_Scene as FI,_Util as UI}from"ag-charts-community";import{_ModuleSupport as KI,_Scene as jI}from"ag-charts-community";var{DropShadow:GI,Label:YI}=jI,{AbstractBarSeriesProperties:WI,SeriesTooltip:HI,Validate:ge,COLOR_STRING:su,FUNCTION:XI,LINE_DASH:QI,OBJECT:Dn,PLACEMENT:$I,POSITIVE_NUMBER:fs,RATIO:au,STRING:ri}=KI,In=class extends YI{constructor(){super(...arguments),this.placement="inside",this.padding=6}};u([ge($I)],In.prototype,"placement",2),u([ge(fs)],In.prototype,"padding",2);var me=class extends WI{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new GI().set({enabled:!1}),this.label=new In,this.tooltip=new HI}};u([ge(ri)],me.prototype,"xKey",2),u([ge(ri)],me.prototype,"yLowKey",2),u([ge(ri)],me.prototype,"yHighKey",2),u([ge(ri,{optional:!0})],me.prototype,"xName",2),u([ge(ri,{optional:!0})],me.prototype,"yName",2),u([ge(ri,{optional:!0})],me.prototype,"yLowName",2),u([ge(ri,{optional:!0})],me.prototype,"yHighName",2),u([ge(su)],me.prototype,"fill",2),u([ge(au)],me.prototype,"fillOpacity",2),u([ge(su)],me.prototype,"stroke",2),u([ge(fs)],me.prototype,"strokeWidth",2),u([ge(au)],me.prototype,"strokeOpacity",2),u([ge(QI)],me.prototype,"lineDash",2),u([ge(fs)],me.prototype,"lineDashOffset",2),u([ge(fs)],me.prototype,"cornerRadius",2),u([ge(XI,{optional:!0})],me.prototype,"formatter",2),u([ge(Dn)],me.prototype,"shadow",2),u([ge(Dn)],me.prototype,"label",2),u([ge(Dn)],me.prototype,"tooltip",2);var{SeriesNodePickMode:ZI,valueProperty:nu,keyProperty:qI,ChartAxisDirection:Ss,getRectConfig:JI,updateRect:e0,checkCrisp:t0,updateLabelNode:i0,SMALLEST_KEY_INTERVAL:ru,diff:o0,prepareBarAnimationFunctions:lu,midpointStartingBarPosition:cu,resetBarSelectionsFn:s0,fixNumericExtent:Nn,seriesLabelFadeInAnimation:hu,resetLabelFn:a0,animationValidation:n0,createDatumId:r0}=Mn,{Rect:l0,PointerEvents:c0,motion:uu}=FI,{sanitizeHtml:li,isNumber:du,extent:h0}=UI,{ContinuousScale:_n,OrdinalTimeScale:pu}=BI,u0=class extends Mn.SeriesNodeEvent{constructor(t,e,i,o){super(t,e,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},An=class ju extends Mn.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[ZI.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},datumSelectionGarbageCollection:!1,animationResetFns:{datum:s0,label:a0}}),this.properties=new me,this.NodeEvent=u0}processData(e){return k(this,null,function*(){var i,o,s,a,n;if(!this.properties.isValid())return;const{xKey:r,yLowKey:l,yHighKey:c}=this.properties,h=(i=this.getCategoryAxis())==null?void 0:i.scale,d=(o=this.getValueAxis())==null?void 0:o.scale,p=_n.is(h)||pu.is(h),y=_n.is(d)||pu.is(d),f=_n.is(h)?"range":"category",g=[];this.ctx.animationManager.isSkipped()||(this.processedData&&g.push(o0(this.processedData)),g.push(n0(this)));const m=this.visible?{}:{forceValue:0},{processedData:S}=yield this.requestDataModel(e,(s=this.data)!=null?s:[],{props:[qI(this,r,p,{id:"xValue",valueType:f}),nu(this,l,y,Y({id:"yLowValue"},m)),nu(this,c,y,Y({id:"yHighValue"},m)),...p?[ru]:[],...g],groupByKeys:!0});this.smallestDataInterval={x:(n=(a=S.reduced)==null?void 0:a.smallestKeyInterval)!=null?n:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(e){var i;const{processedData:o,dataModel:s}=this;if(!(o&&s))return[];const{domain:{keys:[a],values:n}}=o;if(e===this.getCategoryDirection()){const r=s.resolveProcessedDataDefById(this,"xValue");if(r?.def.type==="key"&&r?.def.valueType==="category")return a;const{reduced:{[ru.property]:l}={}}=o,c=l!=null&&isFinite(l)?l:0,h=(i=h0(a))!=null?i:[NaN,NaN],d=this.getCategoryAxis(),p=d?.isReversed();if(e===Ss.Y){const g=h[0]+(p?0:-c),m=h[1]+(p?c:0);return Nn([g,m],d)}const y=h[0]+(p?-c:0),f=h[1]+(p?0:c);return Nn([y,f],d)}else{const r=s.resolveProcessedDataIndexById(this,"yLowValue").index,l=n[r],c=s.resolveProcessedDataIndexById(this,"yHighValue").index,h=n[c],d=[l[0]>h[0]?h[0]:l[0],h[1]<l[1]?l[1]:h[1]];return Nn(d)}}createNodeData(){return k(this,null,function*(){const{data:e,dataModel:i,groupScale:o,processedData:s,properties:{visible:a}}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!(e&&a&&n&&r&&i))return[];const l=n.scale,c=r.scale,h=this.getBarDirection()===Ss.X,{xKey:d,yLowKey:p,yHighKey:y,fill:f,stroke:g,strokeWidth:m}=this.properties,S=`${p}-${y}`,M=[],I=i.resolveProcessedDataIndexById(this,"yLowValue").index,x=i.resolveProcessedDataIndexById(this,"yHighValue").index,v=i.resolveProcessedDataIndexById(this,"xValue").index,{barWidth:D,groupIndex:N}=this.updateGroupScale(n);return s?.data.forEach(({keys:A,datum:L,values:_},T)=>{_.forEach((b,E)=>{var O;(O=M[E])!=null||(M[E]={itemId:S,nodeData:[],labelData:[],scales:$e(ju.prototype,this,"calculateScaling").call(this),visible:this.visible});const R=A[v],P=Math.round(l.convert(R))+o.convert(String(N)),w=b[I],C=b[x],z=Math.min(w,C),V=Math.max(w,C),F=Math.round(c.convert(z)),j=Math.round(c.convert(V)),B=F,q=Math.max(m,Math.abs(B-j)),K={x:h?Math.min(j,B):P,y:h?P:Math.min(j,B),width:h?q:D,height:h?D:q},H={x:K.x+K.width/2,y:K.y+K.height/2},te=this.createLabelData({rect:K,barAlongX:h,yLowValue:z,yHighValue:V,datum:L[E],series:this}),ne={index:T,series:this,itemId:S,datum:L[E],xValue:R,yLowValue:w,yHighValue:C,yLowKey:p,yHighKey:y,xKey:d,x:K.x,y:K.y,width:K.width,height:K.height,midPoint:H,fill:f,stroke:g,strokeWidth:m,opacity:1,labels:te};M[E].nodeData.push(ne),M[E].labelData.push(...te)})}),M})}createLabelData({rect:e,barAlongX:i,yLowValue:o,yHighValue:s,datum:a,series:n}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:d,yHighName:p,yName:y,label:f}=this.properties,g={datum:a,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:d,yHighName:p,yName:y},{placement:m,padding:S}=f,I=S*(m==="outside"?1:-1),x={x:e.x+(i?-I:e.width/2),y:e.y+(i?e.height/2:e.height+I),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(f,Y({itemId:"low",value:o},g),D=>du(D)?D.toFixed(2):""),itemId:"low",datum:a,series:n},v={x:e.x+(i?e.width+I:e.width/2),y:e.y+(i?e.height/2:-I),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(f,Y({itemId:"high",value:s},g),D=>du(D)?D.toFixed(2):""),itemId:"high",datum:a,series:n};return m==="outside"&&(x.textAlign=i?"right":"center",x.textBaseline=i?"middle":"top",v.textAlign=i?"left":"center",v.textBaseline=i?"middle":"bottom"),[x,v]}nodeFactory(){return new l0}updateDatumSelection(e){return k(this,null,function*(){const{nodeData:i,datumSelection:o}=e,s=i??[];return o.update(s,void 0,a=>this.getDatumId(a))})}updateDatumNodes(e){return k(this,null,function*(){const{datumSelection:i,isHighlight:o}=e,{id:s,ctx:a}=this,{yLowKey:n,yHighKey:r,highlightStyle:{item:l}}=this.properties,c=this.axes[Ss.X],h=t0(c?.visibleRange),d=this.getCategoryDirection()===Ss.X;i.each((p,y)=>{const{fillOpacity:f,strokeOpacity:g,strokeWidth:m,lineDash:S,lineDashOffset:M,formatter:I,shadow:x}=this.properties,v={fill:y.fill,stroke:y.stroke,fillOpacity:f,strokeOpacity:g,lineDash:S,lineDashOffset:M,fillShadow:x,strokeWidth:this.getStrokeWidth(m),cornerRadius:this.properties.cornerRadius},D=d?y.width>0:y.height>0,N=JI({datum:y,lowValue:y.yLowValue,highValue:y.yHighValue,isHighlighted:o,style:v,highlightStyle:l,formatter:I,seriesId:s,itemId:y.itemId,ctx:a,yLowKey:n,yHighKey:r});N.crisp=h,N.visible=D,e0({rect:p,config:N})})})}getHighlightLabelData(e,i){const o=e.filter(s=>s.datum===i.datum);return o.length>0?o:void 0}updateLabelSelection(e){return k(this,null,function*(){const i=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(i,o=>{o.pointerEvents=c0.None})})}updateLabelNodes(e){return k(this,null,function*(){e.labelSelection.each((i,o)=>{i0(i,this.properties.label,o)})})}getTooltipHtml(e){var i,o;const{id:s,ctx:{callbackCache:a}}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!this.properties.isValid()||!n||!r)return"";const{xKey:l,yLowKey:c,yHighKey:h,xName:d,yLowName:p,yHighName:y,yName:f,fill:g,strokeWidth:m,formatter:S,tooltip:M}=this.properties,{datum:I,itemId:x,xValue:v,yLowValue:D,yHighValue:N}=e;let A;S&&(A=a.call(S,{datum:I,xKey:l,yLowKey:c,yHighKey:h,fill:g,strokeWidth:m,highlighted:!1,seriesId:s,itemId:x}));const L=(o=(i=A?.fill)!=null?i:g)!=null?o:"gray",_=li(n.formatDatum(v)),T=li(r.formatDatum(D)),b=li(r.formatDatum(N)),E=d??l,O=p??c,R=y??h,P=li(f),w=f?`<b>${li(E)}</b>: ${_}<br><b>${li(O)}</b>: ${T}<br><b>${li(R)}</b>: ${b}<br>`:`${_}: ${T} - ${b}`,C={title:P,content:w,backgroundColor:L};return M.toTooltipHtml(C,{datum:I,xKey:l,xName:d,yLowKey:c,yLowName:p,yHighKey:h,yHighName:y,yName:f,color:L,seriesId:s,itemId:x})}getLegendData(e){const{id:i,visible:o}=this;if(e!=="category")return[];const{fill:s,stroke:a,strokeWidth:n,fillOpacity:r,strokeOpacity:l,yName:c,yLowName:h,yHighName:d,yLowKey:p,yHighKey:y}=this.properties,f=c??`${h??p} - ${d??y}`;return[{legendType:"category",id:i,itemId:`${p}-${y}`,seriesId:i,enabled:o,label:{text:`${f}`},marker:{fill:s,stroke:a,fillOpacity:r,strokeOpacity:l,strokeWidth:n}}]}animateEmptyUpdateReady({datumSelections:e,labelSelections:i}){const o=lu(cu(this.isVertical(),"normal"));uu.fromToMotion(this.id,"datums",this.ctx.animationManager,e,o),hu(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(e){var i;const{datumSelections:o,labelSelections:s}=e,{processedData:a}=this,n=(i=a?.reduced)==null?void 0:i.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=lu(cu(this.isVertical(),"fade"));uu.fromToMotion(this.id,"datums",this.ctx.animationManager,o,r,(l,c)=>r0(c.xValue),n),hu(this,"labels",this.ctx.animationManager,s)}getDatumId(e){return`${e.xValue}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}};An.className="RangeBarSeries",An.type="range-bar";var d0=An;import{_Theme as yo}from"ag-charts-community";var p0={series:{__extends__:yo.EXTENDS_SERIES_DEFAULTS,direction:"vertical",strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:yo.DEFAULT_FONT_FAMILY,color:yo.DEFAULT_INSIDE_SERIES_LABEL_COLOUR,placement:"inside",__overrides__:yo.OVERRIDE_SERIES_LABEL_DEFAULTS}},axes:{[yo.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0,snap:!1}}}},g0={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",instanceConstructor:d0,defaultAxes:[{type:ms.CARTESIAN_AXIS_TYPE.CATEGORY,position:ms.POSITION.BOTTOM},{type:ms.CARTESIAN_AXIS_TYPE.NUMBER,position:ms.POSITION.LEFT}],themeTemplate:p0,paletteFactory:({takeColors:t})=>{const{fills:[e],strokes:[i]}=t(1);return{fill:e,stroke:i}},groupable:!0,swapDefaultAxesCondition:({direction:t})=>t==="horizontal"};import{_Theme as gu}from"ag-charts-community";import{_ModuleSupport as yu,_Scene as y0,_Util as m0}from"ag-charts-community";import{_ModuleSupport as f0}from"ag-charts-community";var{HierarchySeriesProperties:S0,HighlightStyle:x0,SeriesTooltip:v0,Validate:fe,COLOR_STRING:M0,FUNCTION:D0,NUMBER:mu,OBJECT:wi,POSITIVE_NUMBER:fu,RATIO:xs,STRING:vs}=f0,Bt=class extends x0{constructor(){super(...arguments),this.label=new et,this.secondaryLabel=new et}};u([fe(vs,{optional:!0})],Bt.prototype,"fill",2),u([fe(xs,{optional:!0})],Bt.prototype,"fillOpacity",2),u([fe(M0,{optional:!0})],Bt.prototype,"stroke",2),u([fe(fu,{optional:!0})],Bt.prototype,"strokeWidth",2),u([fe(xs,{optional:!0})],Bt.prototype,"strokeOpacity",2),u([fe(wi)],Bt.prototype,"label",2),u([fe(wi)],Bt.prototype,"secondaryLabel",2);var Ue=class extends S0{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.highlightStyle=new Bt,this.label=new et,this.secondaryLabel=new ao,this.tooltip=new v0}};u([fe(vs,{optional:!0})],Ue.prototype,"sizeName",2),u([fe(vs,{optional:!0})],Ue.prototype,"labelKey",2),u([fe(vs,{optional:!0})],Ue.prototype,"secondaryLabelKey",2),u([fe(xs)],Ue.prototype,"fillOpacity",2),u([fe(fu)],Ue.prototype,"strokeWidth",2),u([fe(xs)],Ue.prototype,"strokeOpacity",2),u([fe(mu,{optional:!0})],Ue.prototype,"sectorSpacing",2),u([fe(mu,{optional:!0})],Ue.prototype,"padding",2),u([fe(D0,{optional:!0})],Ue.prototype,"formatter",2),u([fe(wi)],Ue.prototype,"highlightStyle",2),u([fe(wi)],Ue.prototype,"label",2),u([fe(wi)],Ue.prototype,"secondaryLabel",2),u([fe(wi)],Ue.prototype,"tooltip",2);var{fromToMotion:I0}=yu,{Sector:bn,Group:Su,Selection:xu,Text:mo}=y0,{sanitizeHtml:Tn}=m0,vu=(t,e=0,i=2*Math.PI/t.sumSize,o=Array.from(t,()=>{}))=>{let s=e;for(const a of t.children){const n=s,r=s+a.sumSize*i;o[a.index]={start:n,end:r},vu(a,n,i,o),s=r}return o},En=class Gu extends yu.HierarchySeries{constructor(){super(...arguments),this.properties=new Ue,this.groupSelection=xu.select(this.contentGroup,Su),this.highlightSelection=xu.select(this.highlightGroup,Su),this.angleData=[]}processData(){return k(this,null,function*(){const{childrenKey:e,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r}=this.properties;yield $e(Gu.prototype,this,"processData").call(this),this.angleData=vu(this.rootNode);const l=c=>typeof c=="number"?c.toFixed(2):typeof c=="string"?c:"";this.labelData=Array.from(this.rootNode,({datum:c,depth:h})=>{let d;if(c!=null&&h!=null&&s!=null){const y=c[s];d=this.getLabelText(this.properties.label,{depth:h,datum:c,childrenKey:e,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r,value:y},l)}d===""&&(d=void 0);let p;if(c!=null&&h!=null&&a!=null){const y=c[a];p=this.getLabelText(this.properties.secondaryLabel,{depth:h,datum:c,childrenKey:e,colorKey:i,colorName:o,labelKey:s,secondaryLabelKey:a,sizeKey:n,sizeName:r,value:y},l)}return p===""&&(p=void 0),d!=null||p!=null?{label:d,secondaryLabel:p}:void 0})})}updateSelections(){return k(this,null,function*(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:e}=this;if(e==null||e.seriesRect==null)return;const o=Array.from(this.rootNode),s=a=>{a.append([new bn,new mo({tag:0}),new mo({tag:1})])};this.groupSelection.update(o,s,a=>this.getDatumId(a)),this.highlightSelection.update(o,s,a=>this.getDatumId(a))})}updateNodes(){return k(this,null,function*(){var e;const{chart:i,data:o,maxDepth:s,labelData:a}=this;if(i==null||o==null||a==null)return;const{width:n,height:r}=i.seriesRect,{sectorSpacing:l=0,padding:c=0,highlightStyle:h}=this.properties;this.contentGroup.translationX=n/2,this.contentGroup.translationY=r/2,this.highlightGroup.translationX=n/2,this.highlightGroup.translationY=r/2;const d=l*.5,y=Math.min(n,r)/2/(s+1),f=-Math.PI/2,g=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight();new mo().setFont(this.properties.label),this.rootNode.walk(x=>{const v=this.angleData[x.index];if(x.depth!=null&&v!=null){const D=v.end-v.start,N=(x.depth+.5)*y;x.midPoint.x=Math.cos(D)*N,x.midPoint.y=Math.sin(D)*N}});const S=(x,v,D)=>{var N,A,L,_,T,b,E,O,R,P;const{depth:w}=x,C=this.angleData[x.index];if(w==null||C==null){v.visible=!1;return}v.visible=!0;let z,V,F,G,j;D&&(z=h.fill,V=h.fillOpacity,F=h.stroke,G=h.strokeWidth,j=h.strokeOpacity);const B=this.getSectorFormat(x,D),q=(A=(N=B?.fill)!=null?N:z)!=null?A:x.fill,K=(_=(L=B?.fillOpacity)!=null?L:V)!=null?_:this.properties.fillOpacity,H=(b=(T=B?.stroke)!=null?T:F)!=null?b:x.stroke,te=(O=(E=B?.strokeWidth)!=null?E:G)!=null?O:this.properties.strokeWidth,ne=(P=(R=B?.strokeOpacity)!=null?R:j)!=null?P:this.properties.strokeOpacity;v.fill=q,v.fillOpacity=K,v.stroke=H,v.strokeWidth=te,v.strokeOpacity=ne,v.centerX=0,v.centerY=0,v.innerRadius=w*y,v.outerRadius=(w+1)*y,v.angleOffset=f,v.startAngle=C.start,v.endAngle=C.end,v.inset=d+te*.5};this.groupSelection.selectByClass(bn).forEach(x=>{S(x.datum,x,!1)}),this.highlightSelection.selectByClass(bn).forEach(x=>{const v=x.datum,D=g===v;x.visible=D,x.visible&&S(x.datum,x,D)});const M=Array.from(this.rootNode,(x,v)=>{const{depth:D}=x,N=a[v],A=this.angleData[v];if(D==null||A==null)return;const L=D*y+d,_=(D+1)*y-d,T=L>d?d/L:d,b=_>d?d/_:d,E=A.start+T,R=A.end+T-E,P=A.start+b,C=A.end+b-P,z=oe=>{var Se;if(D===0&&((Se=x.parent)==null?void 0:Se.sumSize)===x.sumSize)return{width:2*Math.sqrt(De(_,2)-De(oe*.5,2)),height:oe,meta:0};const Ke=oe,ze=2*Math.sqrt(De(_,2)-De(L+Ke,2)),je=R<Math.PI?2*L*Math.tan(R*.5):1/0,bt=Math.min(ze,je);let Ge,Qe;return D===0?(Ge=oe,Qe=Math.sqrt(De(_,2)-De(Ge/2,2))-oe/(2*Math.tan(C*.5))):(Ge=2*L*Math.tan(R*.5),Qe=Math.sqrt(De(_,2)-De(Ge/2,2))-L),bt>=Qe?{width:bt,height:Ke,meta:1}:{width:Qe,height:Ge,meta:2}},V=Fa(N?.label,this.properties.label,N?.secondaryLabel,this.properties.secondaryLabel,{padding:c},z);if(V==null)return;const{width:F,height:G,meta:j,label:B,secondaryLabel:q}=V,K=f+(A.start+A.end)/2,H=Math.sin(K)>=0,te=Math.cos(K)>=0,ne=(H?3:12)&(te?6:9);let he;switch(j){case 0:he=0;break;case 1:{const Se=_-(y-G)*.58,de=Math.sqrt(De(_-c,2)-De(F/2,2));he=Math.min(Se,de);break}case 2:if(D===0){const oe=G/(2*Math.tan(R*.5))+F*.5,Se=Math.sqrt(De(_,2)-De(G*.5,2))-F*.5;he=(oe+Se)*.5}else he=(L+_)*.5;break}return{width:F,height:G,labelPlacement:j,circleQuarter:ne,radius:he,theta:K,label:B,secondaryLabel:q}}),I=(x,v,D,N)=>{const{index:A,depth:L}=x,_=M?.[A],T=D===0?this.properties.label:this.properties.secondaryLabel,b=D===0?_?.label:_?.secondaryLabel;if(L==null||_==null||b==null){v.visible=!1;return}const{height:E,labelPlacement:O,circleQuarter:R,radius:P,theta:w}=_;let C;switch(N&&(C=(D===0?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),v.text=b.text,v.fontSize=b.fontSize,v.lineHeight=b.lineHeight,v.fontStyle=T.fontStyle,v.fontFamily=T.fontFamily,v.fontWeight=T.fontWeight,v.fill=C??T.color,O){case 0:v.textAlign="center",v.textBaseline="top",v.translationX=0,v.translationY=(D===0?0:E-b.height)-E*.5,v.rotation=0;break;case 1:{const z=(R&3)!==0,V=D===0==!z?P:P-(E-b.height);v.textAlign="center",v.textBaseline=z?"bottom":"top",v.translationX=Math.cos(w)*V,v.translationY=Math.sin(w)*V,v.rotation=z?w-Math.PI*.5:w+Math.PI*.5;break}case 2:{const z=(R&6)!==0,V=D===0==!z?(E-b.height)*.5:(b.height-E)*.5;v.textAlign="center",v.textBaseline="middle",v.translationX=Math.cos(w)*P+Math.cos(w+Math.PI/2)*V,v.translationY=Math.sin(w)*P+Math.sin(w+Math.PI/2)*V,v.rotation=z?w:w+Math.PI;break}}v.visible=!0};this.groupSelection.selectByClass(mo).forEach(x=>{I(x.datum,x,x.tag,!1)}),this.highlightSelection.selectByClass(mo).forEach(x=>{const v=x.datum,D=g===v;x.visible=D,x.visible&&I(x.datum,x,x.tag,D)})})}getSectorFormat(e,i){const{datum:o,fill:s,stroke:a,depth:n}=e,{ctx:{callbackCache:r},properties:{formatter:l}}=this;if(!l||o==null||n==null)return{};const{colorKey:c,labelKey:h,sizeKey:d,strokeWidth:p}=this.properties,y=r.call(l,{seriesId:this.id,depth:n,datum:o,colorKey:c,labelKey:h,sizeKey:d,fill:s,stroke:a,strokeWidth:p,highlighted:i});return y??{}}getTooltipHtml(e){var i;const{id:o}=this,{tooltip:s,colorKey:a,colorName:n=a,labelKey:r,secondaryLabelKey:l,sizeKey:c,sizeName:h=c}=this.properties,{datum:d,depth:p}=e;if(d==null||p==null)return"";const y=r!=null?d[r]:void 0,f=this.getSectorFormat(e,!1),g=(i=f?.fill)!=null?i:e.fill;if(!s.renderer&&!y)return"";const m=[],S=l!=null?d[l]:void 0;S!=null&&l!==a&&l!==c&&m.push(Tn(S));const M=c!=null?d[c]:void 0;M!=null&&m.push(`${h}: ${Tn(M)}`);const I=a!=null?d[a]:void 0;I!=null&&m.push(`${n}: ${Tn(I)}`);const x=m.join("<br>"),v={title:y,color:this.properties.label.color,backgroundColor:g,content:x};return s.toTooltipHtml(v,{depth:p,datum:d,colorKey:a,labelKey:r,secondaryLabelKey:l,sizeKey:c,title:y,color:g,seriesId:o})}createNodeData(){return k(this,null,function*(){return[]})}animateEmptyUpdateReady({datumSelections:e}){I0(this.id,"nodes",this.ctx.animationManager,e,{toFn(i,o,s){return{scalingX:1,scalingY:1}},fromFn(i,o,s){return s==="unknown"&&o!=null&&i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}})}};En.className="SunburstSeries",En.type="sunburst";var N0=En,{EXTENDS_SERIES_DEFAULTS:_0,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:Ms}=gu,A0={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",instanceConstructor:N0,solo:!0,themeTemplate:{series:{__extends__:_0,label:{fontSize:14,minimumFontSize:9,color:Ms,overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontSize:8,minimumFontSize:7,color:Ms,overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:Ms},secondaryLabel:{color:Ms},stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{const{properties:o}=i,{fills:s,strokes:a}=t(e),n=o.get(gu.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE);return{fills:s,strokes:a,colorRange:n}}};import{_Theme as b0}from"ag-charts-community";import{_ModuleSupport as T0,_Scene as E0,_Util as L0}from"ag-charts-community";import{_ModuleSupport as O0,_Scene as k0}from"ag-charts-community";var{Label:R0}=k0,{BaseProperties:Ds,HierarchySeriesProperties:C0,HighlightStyle:P0,SeriesTooltip:w0,Validate:U,BOOLEAN:z0,COLOR_STRING:Is,FUNCTION:V0,NUMBER:B0,OBJECT:tt,POSITIVE_NUMBER:Ft,RATIO:Ut,STRING:ci,STRING_ARRAY:Mu,TEXT_ALIGN:Du,VERTICAL_ALIGN:F0}=O0,Iu=class extends R0{constructor(){super(...arguments),this.spacing=0}};u([U(B0)],Iu.prototype,"spacing",2);var lt=class extends Ds{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new Iu}};u([U(ci,{optional:!0})],lt.prototype,"fill",2),u([U(Ut)],lt.prototype,"fillOpacity",2),u([U(Is,{optional:!0})],lt.prototype,"stroke",2),u([U(Ft)],lt.prototype,"strokeWidth",2),u([U(Ut)],lt.prototype,"strokeOpacity",2),u([U(Du)],lt.prototype,"textAlign",2),u([U(Ft)],lt.prototype,"gap",2),u([U(Ft)],lt.prototype,"padding",2),u([U(z0)],lt.prototype,"interactive",2),u([U(tt)],lt.prototype,"label",2);var it=class extends Ds{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new et,this.secondaryLabel=new ao}};u([U(ci,{optional:!0})],it.prototype,"fill",2),u([U(Ut)],it.prototype,"fillOpacity",2),u([U(Is,{optional:!0})],it.prototype,"stroke",2),u([U(Ft,{optional:!0})],it.prototype,"strokeWidth",2),u([U(Ut)],it.prototype,"strokeOpacity",2),u([U(Du)],it.prototype,"textAlign",2),u([U(F0)],it.prototype,"verticalAlign",2),u([U(Ft)],it.prototype,"gap",2),u([U(Ft)],it.prototype,"padding",2),u([U(tt)],it.prototype,"label",2),u([U(tt)],it.prototype,"secondaryLabel",2);var hi=class extends Ds{constructor(){super(...arguments),this.label=new et}};u([U(ci,{optional:!0})],hi.prototype,"fill",2),u([U(Ut,{optional:!0})],hi.prototype,"fillOpacity",2),u([U(Is,{optional:!0})],hi.prototype,"stroke",2),u([U(Ft,{optional:!0})],hi.prototype,"strokeWidth",2),u([U(Ut,{optional:!0})],hi.prototype,"strokeOpacity",2),u([U(tt)],hi.prototype,"label",2);var Kt=class extends Ds{constructor(){super(...arguments),this.label=new et,this.secondaryLabel=new ao}};u([U(ci,{optional:!0})],Kt.prototype,"fill",2),u([U(Ut,{optional:!0})],Kt.prototype,"fillOpacity",2),u([U(Is,{optional:!0})],Kt.prototype,"stroke",2),u([U(Ft,{optional:!0})],Kt.prototype,"strokeWidth",2),u([U(Ut,{optional:!0})],Kt.prototype,"strokeOpacity",2),u([U(tt)],Kt.prototype,"label",2),u([U(tt)],Kt.prototype,"secondaryLabel",2);var Ln=class extends P0{constructor(){super(...arguments),this.group=new hi,this.tile=new Kt}};u([U(tt)],Ln.prototype,"group",2),u([U(tt)],Ln.prototype,"tile",2);var ct=class extends C0{constructor(){super(...arguments),this.highlightStyle=new Ln,this.tooltip=new w0,this.group=new lt,this.tile=new it,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};u([U(ci,{optional:!0})],ct.prototype,"sizeName",2),u([U(ci,{optional:!0})],ct.prototype,"labelKey",2),u([U(ci,{optional:!0})],ct.prototype,"secondaryLabelKey",2),u([U(V0,{optional:!0})],ct.prototype,"formatter",2),u([U(tt)],ct.prototype,"highlightStyle",2),u([U(tt)],ct.prototype,"tooltip",2),u([U(tt)],ct.prototype,"group",2),u([U(tt)],ct.prototype,"tile",2),u([U(Mu)],ct.prototype,"undocumentedGroupFills",2),u([U(Mu)],ct.prototype,"undocumentedGroupStrokes",2);var{Rect:On,Group:Nu,BBox:Ns,Selection:_u,Text:zi}=E0,{Color:U0,Logger:K0,isEqual:j0,sanitizeHtml:kn}=L0,Au=new zi;function G0(t,e){const{fontStyle:i,fontWeight:o,fontSize:s,fontFamily:a}=e;Au.setProperties({text:t,fontStyle:i,fontWeight:o,fontSize:s,fontFamily:a,textAlign:"left",textBaseline:"top"});const{width:n,height:r}=Au.computeBBox();return{width:n,height:r}}function bu(t){if(typeof t=="string"&&!U0.validColorString(t)){const e="black";return K0.warnOnce(`invalid Treemap tile colour string "${t}". Affected treemap tiles will be coloured ${e}.`),e}return t}function jt(t){return t.children.length>0?t.sumSize-t.size:t.size}var Tu={left:0,center:.5,right:1},Y0={top:0,middle:.5,bottom:1},Rn=class Yu extends T0.HierarchySeries{constructor(){super(...arguments),this.properties=new ct,this.groupSelection=_u.select(this.contentGroup,Nu),this.highlightSelection=_u.select(this.highlightGroup,Nu)}groupTitleHeight(e,i){var o,s;const a=(s=(o=this.labelData)==null?void 0:o[e.index])==null?void 0:s.label,{label:n}=this.properties.group,r=3;if(a!=null){if(n.fontSize>i.width/r||n.fontSize>i.height/r)return;{const{height:l}=G0(a,n);return Math.max(l,n.fontSize)}}}getNodePadding(e,i){if(e.index===0)return{top:0,right:0,bottom:0,left:0};if(e.children.length===0){const{padding:r}=this.properties.tile;return{top:r,right:r,bottom:r,left:r}}const{label:{spacing:o},padding:s}=this.properties.group,a=this.groupTitleHeight(e,i),n=a!=null?a+o:0;return{top:s+n,right:s,bottom:s,left:s}}processData(){return k(this,null,function*(){var e;yield $e(Yu.prototype,this,"processData").call(this);const{childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,tile:c,group:h}=this.properties;if(!((e=this.data)!=null&&e.length)){this.labelData=void 0;return}const d=p=>typeof p=="number"?p.toFixed(2):typeof p=="string"?p:"";this.labelData=Array.from(this.rootNode,({datum:p,depth:y,children:f})=>{const g=f.length===0,m=g?c.label:h.label;let S;if(p!=null&&y!=null&&a!=null){const I=p[a];S=this.getLabelText(m,{depth:y,datum:p,childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,value:I},d)}S===""&&(S=void 0);let M;if(g&&p!=null&&y!=null&&n!=null){const I=p[n];M=this.getLabelText(c.secondaryLabel,{depth:y,datum:p,childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,value:I},d)}return M===""&&(M=void 0),S!=null||M!=null?{label:S,secondaryLabel:M}:void 0})})}squarify(e,i,o){const{index:s,datum:a,children:n}=e;if(i.width<=0||i.height<=0){o[s]=void 0;return}o[s]=s===0?void 0:i;const r=Array.from(n,(A,L)=>L).filter(A=>jt(n[A])>0).sort((A,L)=>jt(n[L])-jt(n[A])),l=A=>{const L=r[A];return n[L]},c=r.every(A=>n[A].children.length===0),h=1,d=a!=null?this.getNodePadding(e,i):{top:0,right:0,bottom:0,left:0},p=i.width-d.left-d.right,y=i.height-d.top-d.bottom;if(p<=0||y<=0)return;const f=r.length;let g=0,m=0,S=1/0,M=r.reduce((A,L)=>A+jt(n[L]),0);const I=new Ns(i.x+d.left,i.y+d.top,p,y),x=I.clone();let v=0;for(;v<f;){const A=jt(l(v)),L=jt(l(m)),_=x.width<x.height;g+=A;const T=_?x.height:x.width,b=_?x.width:x.height,E=b*L/g;let O=T*g/M;const R=Math.max(E,O)/Math.min(E,O),P=Math.abs(h-R);if(P<S){S=P,v++;continue}g-=A,O=T*g/M;let w=_?x.x:x.y;for(let C=m;C<v;C++){const z=l(C),V=jt(z),F=_?w:x.x,G=_?x.y:w,j=b*V/g,B=_?j:O,q=_?O:j,K=new Ns(F,G,B,q);this.applyGap(I,K,c),this.squarify(z,K,o),M-=V,w+=j}_?(x.y+=O,x.height-=O):(x.x+=O,x.width-=O),m=v,g=0,S=1/0}const D=x.width<x.height;let N=D?x.x:x.y;for(let A=m;A<f;A++){const L=l(A),_=D?N:x.x,T=D?x.y:N,b=jt(L)/M,E=x.width*(D?b:1),O=x.height*(D?1:b),R=new Ns(_,T,E,O);this.applyGap(I,R,c),this.squarify(L,R,o),N+=D?E:O}}applyGap(e,i,o){const s=o?this.properties.tile.gap*.5:this.properties.group.gap*.5,a=c=>({left:c.x,top:c.y,right:c.x+c.width,bottom:c.y+c.height}),n=a(e),r=a(i);["top","right","bottom","left"].forEach(c=>{j0(n[c],r[c])||i.shrink(s,c)})}createNodeData(){return k(this,null,function*(){return[]})}updateSelections(){return k(this,null,function*(){var e;if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:i}=(e=this.chart)!=null?e:{};if(!i)return;const o=Array.from(this.rootNode),s=a=>{a.append([new On,new zi({tag:0}),new zi({tag:1})])};this.groupSelection.update(o,s,a=>this.getDatumId(a)),this.highlightSelection.update(o,s,a=>this.getDatumId(a))})}getTileFormat(e,i){var o,s;const{datum:a,depth:n,children:r}=e,{colorKey:l,labelKey:c,secondaryLabelKey:h,sizeKey:d,tile:p,group:y,formatter:f}=this.properties;if(!f||a==null||n==null)return{};const g=r.length===0,m=(o=g?p.fill:y.fill)!=null?o:e.fill,S=(s=g?p.stroke:y.stroke)!=null?s:e.stroke,M=g?p.strokeWidth:y.strokeWidth,I=this.ctx.callbackCache.call(f,{seriesId:this.id,depth:n,datum:a,colorKey:l,labelKey:c,secondaryLabelKey:h,sizeKey:d,fill:m,stroke:S,strokeWidth:M,highlighted:i});return I??{}}getNodeFill(e){var i,o,s;if(e.children.length===0)return(i=this.properties.tile.fill)!=null?i:e.fill;const{undocumentedGroupFills:n}=this.properties,r=n[Math.min((o=e.depth)!=null?o:0,n.length)];return(s=this.properties.group.fill)!=null?s:r}getNodeStroke(e){var i,o,s;if(e.children.length===0)return(i=this.properties.tile.stroke)!=null?i:e.stroke;const{undocumentedGroupStrokes:n}=this.properties,r=n[Math.min((o=e.depth)!=null?o:0,n.length)];return(s=this.properties.group.stroke)!=null?s:r}updateNodes(){return k(this,null,function*(){var e,i;const{rootNode:o,data:s}=this,{highlightStyle:a,tile:n,group:r}=this.properties,{seriesRect:l}=(e=this.chart)!=null?e:{};if(!l||!s)return;const{width:c,height:h}=l,d=Array.from(this.rootNode,()=>{});this.squarify(o,new Ns(0,0,c,h),d);let p=(i=this.ctx.highlightManager)==null?void 0:i.getActiveHighlight();p!=null&&!this.properties.group.interactive&&p.children.length!==0&&(p=void 0),this.updateNodeMidPoint(d);const y=(m,S,M)=>{var I,x,v,D,N,A,L,_,T,b;const E=d[m.index];if(E==null){S.visible=!1;return}const O=m.children.length===0;let R,P,w,C,z;if(M){const{tile:K,group:H}=a;R=O?K.fill:H.fill,P=O?K.fillOpacity:H.fillOpacity,w=O?K.stroke:H.stroke,C=O?K.strokeWidth:H.strokeWidth,z=O?K.strokeOpacity:H.strokeOpacity}const V=this.getTileFormat(m,M),F=(x=(I=V?.fill)!=null?I:R)!=null?x:this.getNodeFill(m),G=(D=(v=V?.fillOpacity)!=null?v:P)!=null?D:O?n.fillOpacity:r.fillOpacity,j=(A=(N=V?.stroke)!=null?N:w)!=null?A:this.getNodeStroke(m),B=(_=(L=V?.strokeWidth)!=null?L:C)!=null?_:O?n.strokeWidth:r.strokeWidth,q=(b=(T=V?.strokeOpacity)!=null?T:z)!=null?b:O?n.strokeOpacity:r.strokeOpacity;S.fill=bu(F),S.fillOpacity=G,S.stroke=bu(j),S.strokeWidth=B,S.strokeOpacity=q,S.crisp=!0,S.x=E.x,S.y=E.y,S.width=E.width,S.height=E.height,S.visible=!0};this.groupSelection.selectByClass(On).forEach(m=>y(m.datum,m,!1)),this.highlightSelection.selectByClass(On).forEach(m=>{var S;const M=m.datum===p;m.visible=M||((S=p?.contains(m.datum))!=null?S:!1),m.visible&&y(m.datum,m,M)});const f=Array.from(this.rootNode,m=>{var S,M,I,x;const{index:v,children:D}=m,N=d[v],A=(S=this.labelData)==null?void 0:S[v];if(!(N==null||A==null))if(D.length===0){const L={width:N.width,height:N.height,meta:null},_=Fa(A.label,this.properties.tile.label,A.secondaryLabel,this.properties.tile.secondaryLabel,{padding:n.padding},()=>L);if(_==null)return;const{height:T,label:b,secondaryLabel:E}=_,{textAlign:O,verticalAlign:R,padding:P}=n,w=(M=Tu[O])!=null?M:.5,C=N.x+P+(N.width-2*P)*w,z=(I=Y0[R])!=null?I:.5,V=N.y+P+T*.5+(N.height-2*P-T)*z;return{label:b!=null?{text:b.text,fontSize:b.fontSize,lineHeight:b.lineHeight,style:this.properties.tile.label,x:C,y:V-(T-b.height)*.5}:void 0,secondaryLabel:E!=null?{text:E.text,fontSize:E.fontSize,lineHeight:E.fontSize,style:this.properties.tile.secondaryLabel,x:C,y:V+(T-E.height)*.5}:void 0,verticalAlign:"middle",textAlign:O}}else{if(A?.label==null)return;{const{padding:L,textAlign:_}=r,T=this.groupTitleHeight(m,N);if(T==null)return;const b=N.width-2*L,{text:E}=zi.wrap(A.label,N.width-2*L,1/0,r.label,"never"),O=(x=Tu[_])!=null?x:.5;return{label:{text:E,fontSize:r.label.fontSize,lineHeight:et.lineHeight(r.label.fontSize),style:this.properties.group.label,x:N.x+L+b*O,y:N.y+L+T*.5},secondaryLabel:void 0,verticalAlign:"middle",textAlign:_}}}}),g=(m,S,M,I)=>{const x=m.children.length===0,v=f[m.index],D=M===0?v?.label:v?.secondaryLabel;if(v==null||D==null){S.visible=!1;return}let N;if(I){const{tile:A,group:L}=a;N=A.secondaryLabel.color,x?M===0&&(N=A.label.color):N=L.label.color}S.text=D.text,S.fontSize=D.fontSize,S.lineHeight=D.lineHeight,S.fontStyle=D.style.fontStyle,S.fontFamily=D.style.fontFamily,S.fontWeight=D.style.fontWeight,S.fill=N??D.style.color,S.textAlign=v.textAlign,S.textBaseline=v.verticalAlign,S.x=D.x,S.y=D.y,S.visible=!0};this.groupSelection.selectByClass(zi).forEach(m=>{g(m.datum,m,m.tag,!1)}),this.highlightSelection.selectByClass(zi).forEach(m=>{var S;const M=m.datum===p;m.visible=M||((S=p?.contains(m.datum))!=null?S:!1),m.visible&&g(m.datum,m,m.tag,M)})})}updateNodeMidPoint(e){this.rootNode.walk(i=>{const o=e[i.index];o!=null&&(i.midPoint.x=o.x+o.width/2,i.midPoint.y=o.y)})}getTooltipHtml(e){var i;const{datum:o,depth:s}=e,{id:a}=this,{tooltip:n,colorKey:r,colorName:l=r,labelKey:c,secondaryLabelKey:h,sizeKey:d,sizeName:p=d}=this.properties,y=e.children.length===0,f=y||this.properties.group.interactive;if(o==null||s==null||!f)return"";const g=c!=null?o[c]:void 0,m=this.getTileFormat(e,!1),S=(i=m?.fill)!=null?i:this.getNodeFill(e);if(!n.renderer&&!g)return"";const M=[],I=h!=null?o[h]:void 0;I!=null&&h!==r&&h!==d&&M.push(kn(I));const x=d!=null?o[d]:void 0;x!=null&&M.push(`${p}: ${kn(x)}`);const v=r!=null?o[r]:void 0;v!=null&&M.push(`${l}: ${kn(v)}`);const D=M.join("<br>"),N={title:g,color:y?this.properties.tile.label.color:this.properties.group.label.color,backgroundColor:S,content:D};return n.toTooltipHtml(N,{depth:s,datum:o,colorKey:r,labelKey:c,secondaryLabelKey:h,sizeKey:d,title:g,color:S,seriesId:a})}};Rn.className="TreemapSeries",Rn.type="treemap";var W0=Rn,{DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:H0,DEFAULT_FONT_FAMILY:Cn,DEFAULT_HIERARCHY_FILLS:X0,DEFAULT_HIERARCHY_STROKES:Q0,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:_s,EXTENDS_SERIES_DEFAULTS:$0,DEFAULT_LABEL_COLOUR:Eu,FONT_WEIGHT:Lu}=b0,Z0={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",instanceConstructor:W0,solo:!0,themeTemplate:{series:{__extends__:$0,group:{label:{enabled:!0,color:Eu,fontStyle:void 0,fontWeight:Lu.NORMAL,fontSize:12,fontFamily:Cn,spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:_s,fontStyle:void 0,fontWeight:Lu.NORMAL,fontSize:18,minimumFontSize:10,fontFamily:Cn,wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:_s,fontStyle:void 0,fontWeight:void 0,fontSize:12,minimumFontSize:10,fontFamily:Cn,wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:Eu},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:_s},secondaryLabel:{color:_s},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}},paletteFactory:({takeColors:t,colorsCount:e,themeTemplateParameters:i})=>{const{properties:o}=i,{fills:s,strokes:a}=t(e),n=o.get(H0),r=o.get(X0),l=o.get(Q0);return{fills:s,strokes:a,colorRange:n,undocumentedGroupFills:r,undocumentedGroupStrokes:l}}};import{_Theme as ui}from"ag-charts-community";import{_ModuleSupport as di,_Scale as q0,_Scene as Ou,_Util as J0}from"ag-charts-community";import{_ModuleSupport as eN,_Scene as tN}from"ag-charts-community";var{DropShadow:iN,Label:oN}=tN,{AbstractBarSeriesProperties:sN,BaseProperties:fo,PropertiesArray:aN,SeriesTooltip:nN,Validate:W,BOOLEAN:rN,COLOR_STRING:Pn,FUNCTION:ku,LINE_DASH:Ru,NUMBER:lN,OBJECT:_t,OBJECT_ARRAY:cN,POSITIVE_NUMBER:Vi,RATIO:wn,STRING:Bi,UNION:Cu}=eN,As=class extends fo{};u([W(Cu(["subtotal","total"],"a total type"))],As.prototype,"totalType",2),u([W(lN)],As.prototype,"index",2),u([W(Bi)],As.prototype,"axisLabel",2);var Pu=class extends fo{};u([W(ku,{optional:!0})],Pu.prototype,"renderer",2);var zn=class extends oN{constructor(){super(...arguments),this.placement="end",this.padding=6}};u([W(Cu(["start","end","inside"],"a placement"))],zn.prototype,"placement",2),u([W(Vi)],zn.prototype,"padding",2);var Re=class extends fo{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new iN().set({enabled:!1}),this.label=new zn,this.tooltip=new Pu}};u([W(Bi,{optional:!0})],Re.prototype,"name",2),u([W(Pn)],Re.prototype,"fill",2),u([W(Pn)],Re.prototype,"stroke",2),u([W(wn)],Re.prototype,"fillOpacity",2),u([W(wn)],Re.prototype,"strokeOpacity",2),u([W(Ru)],Re.prototype,"lineDash",2),u([W(Vi)],Re.prototype,"lineDashOffset",2),u([W(Vi)],Re.prototype,"strokeWidth",2),u([W(Vi)],Re.prototype,"cornerRadius",2),u([W(ku,{optional:!0})],Re.prototype,"formatter",2),u([W(_t)],Re.prototype,"shadow",2),u([W(_t)],Re.prototype,"label",2),u([W(_t)],Re.prototype,"tooltip",2);var pi=class extends fo{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};u([W(rN)],pi.prototype,"enabled",2),u([W(Pn)],pi.prototype,"stroke",2),u([W(wn)],pi.prototype,"strokeOpacity",2),u([W(Ru)],pi.prototype,"lineDash",2),u([W(Vi)],pi.prototype,"lineDashOffset",2),u([W(Vi)],pi.prototype,"strokeWidth",2);var bs=class extends fo{constructor(){super(...arguments),this.positive=new Re,this.negative=new Re,this.total=new Re}};u([W(_t)],bs.prototype,"positive",2),u([W(_t)],bs.prototype,"negative",2),u([W(_t)],bs.prototype,"total",2);var At=class extends sN{constructor(){super(...arguments),this.item=new bs,this.totals=new aN(As),this.line=new pi,this.tooltip=new nN}};u([W(Bi)],At.prototype,"xKey",2),u([W(Bi)],At.prototype,"yKey",2),u([W(Bi,{optional:!0})],At.prototype,"xName",2),u([W(Bi,{optional:!0})],At.prototype,"yName",2),u([W(_t)],At.prototype,"item",2),u([W(cN)],At.prototype,"totals",2),u([W(_t)],At.prototype,"line",2),u([W(_t)],At.prototype,"tooltip",2);var{adjustLabelPlacement:hN,SeriesNodePickMode:uN,fixNumericExtent:wu,valueProperty:zu,keyProperty:dN,accumulativeValueProperty:Ts,trailingAccumulatedValueProperty:pN,ChartAxisDirection:Vn,getRectConfig:gN,updateRect:yN,checkCrisp:mN,updateLabelNode:fN,prepareBarAnimationFunctions:SN,collapsedStartingBarPosition:xN,resetBarSelectionsFn:vN,seriesLabelFadeInAnimation:MN,resetLabelFn:DN,animationValidation:IN,DEFAULT_CARTESIAN_DIRECTION_KEYS:NN,DEFAULT_CARTESIAN_DIRECTION_NAMES:_N}=di,{Rect:AN,motion:bN}=Ou,{sanitizeHtml:So,isContinuous:Vu,isNumber:TN}=J0,{ContinuousScale:Bn,OrdinalTimeScale:EN}=q0,Fn=class Wu extends di.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:NN,directionNames:_N,pickModes:[uN.EXACT_SHAPE_MATCH],pathsPerSeries:1,hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:vN,label:DN}}),this.properties=new At,this.seriesItemTypes=new Set(["positive","negative","total"])}processData(e){return k(this,null,function*(){var i,o,s;const{xKey:a,yKey:n,totals:r}=this.properties,{data:l=[]}=this;if(!this.properties.isValid())return;const c=x=>Vu(x)&&Number(x)>=0,h=x=>Vu(x)&&Number(x)<0,d=x=>x==="total"||x==="subtotal",p={missingValue:void 0,invalidValue:void 0},y=[],f=r.reduce((x,v)=>{const D=x.get(v.index);return D?D.push(v):x.set(v.index,[v]),x},new Map);l.forEach((x,v)=>{var D;y.push(x),(D=f.get(v))==null||D.forEach(N=>y.push(Oe(Y({},N.toJson()),{[a]:N.axisLabel})))});const g=(i=this.getCategoryAxis())==null?void 0:i.scale,m=Bn.is(g)||EN.is(g),S=Bn.is(g)?"range":"category",M=[];this.ctx.animationManager.isSkipped()||M.push(IN(this));const{processedData:I}=yield this.requestDataModel(e,y,{props:[dN(this,a,m,{id:"xValue",valueType:S}),Ts(this,n,!0,Oe(Y({},p),{id:"yCurrent"})),Ts(this,n,!0,Oe(Y({},p),{missingValue:0,id:"yCurrentTotal"})),Ts(this,n,!0,Oe(Y({},p),{id:"yCurrentPositive",validation:c})),Ts(this,n,!0,Oe(Y({},p),{id:"yCurrentNegative",validation:h})),pN(this,n,!0,Oe(Y({},p),{id:"yPrevious"})),zu(this,n,!0,{id:"yRaw"}),zu(this,"totalType",!1,{id:"totalTypeValue",missingValue:void 0,validation:d}),...m?[di.SMALLEST_KEY_INTERVAL]:[],...M],dataVisible:this.visible});this.smallestDataInterval={x:(s=(o=I.reduced)==null?void 0:o.smallestKeyInterval)!=null?s:1/0,y:1/0},this.updateSeriesItemTypes(),this.animationState.transition("updateData")})}getSeriesDomain(e){var i;const{processedData:o,dataModel:s}=this;if(!o||!s)return[];const{domain:{keys:[a],values:n},reduced:{[di.SMALLEST_KEY_INTERVAL.property]:r}={}}=o,l=s.resolveProcessedDataDefById(this,"xValue");if(e===this.getCategoryDirection()){if(l?.def.type==="key"&&l?.def.valueType==="category")return a;const c=r!=null&&isFinite(r)?r:0,h=(i=di.extent(a))!=null?i:[NaN,NaN],d=this.getCategoryAxis(),p=!!d?.isReversed(),y=e===Vn.Y,f=p===y?0:-c,g=p===y?c:0,m=h[0]+f,S=h[1]+g;return wu([m,S],d)}else{const c=s.resolveProcessedDataIndexById(this,"yCurrent").index,h=n[c],d=[Math.min(0,h[0]),Math.max(0,h[1])];return wu(d)}}createNodeData(){return k(this,null,function*(){var e,i,o;const{data:s,dataModel:a,smallestDataInterval:n}=this,{visible:r,line:l}=this.properties,c=this.getCategoryAxis(),h=this.getValueAxis();if(!(s&&r&&c&&h&&a))return[];const d=c.scale,p=h.scale,y=c.isReversed(),f=this.getBarDirection()===Vn.X,g=(e=Bn.is(d)?d.calcBandwidth(n?.x):d.bandwidth)!=null?e:10;if(((i=this.processedData)==null?void 0:i.type)!=="ungrouped")return[];const m=[],S=a.resolveProcessedDataIndexById(this,"yRaw").index,M=a.resolveProcessedDataIndexById(this,"xValue").index,I=a.resolveProcessedDataIndexById(this,"totalTypeValue").index,x=new Map,v=[],D=a.resolveProcessedDataIndexById(this,"yCurrent").index,N=a.resolveProcessedDataIndexById(this,"yPrevious").index,A=a.resolveProcessedDataIndexById(this,"yCurrentTotal").index;function L(w,C,z){return w||C?{cumulativeValue:z[A],trailingValue:C?T:0}:{cumulativeValue:z[D],trailingValue:z[N]}}function _(w,C,z,V,F){return w?V:C?(V??0)-(F??0):z}let T=0;const{xKey:b,yKey:E,xName:O,yName:R}=this.properties;(o=this.processedData)==null||o.data.forEach(({keys:w,datum:C,values:z},V)=>{var F;const G=z[I],j=this.isSubtotal(G),B=this.isTotal(G),q=B||j,K=w[M],H=Math.round(d.convert(K)),te=z[S],{cumulativeValue:ne,trailingValue:he}=L(B,j,z);q&&(T=ne??0);const oe=Math.round(p.convert(ne)),Se=Math.round(p.convert(he)),de=_(B,j,te,ne,he),Ke=(de??0)>=0,ze=this.getSeriesItemType(Ke,G),{fill:je,stroke:bt,strokeWidth:Ge,label:Qe}=this.getItemConfig(ze),Tt=Ke?oe:Se,Fi=Ke?Se:oe,Mo=Math.max(Ge,Math.abs(Fi-Tt)),Et=ze;let yt=x.get(Et);yt===void 0&&(yt=m.length,x.set(Et,yt)),(F=m[yt])!=null||(m[yt]={itemId:Et,nodeData:[],labelData:[],pointData:[],scales:$e(Wu.prototype,this,"calculateScaling").call(this),visible:this.visible});const Ce={x:f?Math.min(Tt,Fi):H,y:f?H:Math.min(Tt,Fi),width:f?Mo:g,height:f?g:Mo},Hu={x:Ce.x+Ce.width/2,y:Ce.y+Ce.height/2},Wn=q?oe:Se,Do=Math.floor(l.strokeWidth)%2/2,Hn=y?oe:Wn,Xn=y?Wn:oe;let gi,yi;f?(gi={x:Hn+Do,y:Ce.y},yi={x:Xn+Do,y:Ce.y+Ce.height}):(gi={x:Ce.x,y:Hn+Do},yi={x:Ce.x+Ce.width,y:Xn+Do});const Xu={x:y?yi.x:gi.x,y:y?yi.y:gi.y,x2:y?gi.x:yi.x,y2:y?gi.y:yi.y,size:0};v.push(Xu);const Qu=this.getLabelText(Qe,{itemId:Et==="subtotal"?"total":Et,value:de,datum:C,xKey:b,yKey:E,xName:O,yName:R},Ls=>TN(Ls)?Ls.toFixed(2):String(Ls)),Qn={index:V,series:this,itemId:Et,datum:C,cumulativeValue:ne??0,xValue:K,yValue:de,yKey:E,xKey:b,x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height,midPoint:Hu,fill:je,stroke:bt,strokeWidth:Ge,opacity:1,label:Y({text:Qu},hN({isPositive:(de??-1)>=0,isVertical:!f,placement:Qe.placement,padding:Qe.padding,rect:Ce}))};m[yt].nodeData.push(Qn),m[yt].labelData.push(Qn)});const P=this.properties.line.enabled;return m.length>0&&D!==void 0&&P&&(m[0].pointData=v),m})}updateSeriesItemTypes(){var e,i;const{dataModel:o,seriesItemTypes:s,processedData:a}=this;if(!o||!a)return;s.clear();const n=o.resolveProcessedDataIndexById(this,"yCurrentPositive").index,r=o.resolveProcessedDataIndexById(this,"yCurrentNegative").index,l=o.resolveProcessedDataIndexById(this,"totalTypeValue").index,c=(e=a.domain.values[n])!=null?e:[],h=(i=a.domain.values[r])!=null?i:[];c.length>0&&s.add("positive"),h.length>0&&s.add("negative");const d=a?.domain.values[l];d&&d.forEach(p=>{(p==="total"||p==="subtotal")&&s.add("total")})}isSubtotal(e){return e==="subtotal"}isTotal(e){return e==="total"}nodeFactory(){return new AN}getSeriesItemType(e,i){return i??(e?"positive":"negative")}getItemConfig(e){switch(e){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(e){return k(this,null,function*(){const{nodeData:i,datumSelection:o}=e,s=i??[];return o.update(s)})}updateDatumNodes(e){return k(this,null,function*(){const{datumSelection:i,isHighlight:o}=e,{id:s,ctx:a}=this,{yKey:n,highlightStyle:{item:r}}=this.properties,l=this.getCategoryAxis(),c=mN(l?.visibleRange),h=this.getCategoryDirection()===Vn.X;i.each((d,p)=>{const y=p.itemId,{fillOpacity:f,strokeOpacity:g,strokeWidth:m,lineDash:S,lineDashOffset:M,cornerRadius:I,formatter:x,shadow:v}=this.getItemConfig(y),D={fill:p.fill,stroke:p.stroke,fillOpacity:f,strokeOpacity:g,lineDash:S,lineDashOffset:M,fillShadow:v,strokeWidth:this.getStrokeWidth(m),cornerRadius:I},N=h?p.width>0:p.height>0,A=gN({datum:p,isHighlighted:o,style:D,highlightStyle:r,formatter:x,seriesId:s,itemId:p.itemId,ctx:a,value:p.yValue,yKey:n});A.crisp=c,A.visible=N,yN({rect:d,config:A})})})}updateLabelSelection(e){return k(this,null,function*(){const{labelData:i,labelSelection:o}=e;if(i.length===0)return o.update([]);const s=i[0].itemId,{label:a}=this.getItemConfig(s),n=a.enabled?i:[];return o.update(n)})}updateLabelNodes(e){return k(this,null,function*(){e.labelSelection.each((i,o)=>{fN(i,this.getItemConfig(o.itemId).label,o.label)})})}getTooltipHtml(e){var i,o,s;const a=this.getCategoryAxis(),n=this.getValueAxis();if(!this.properties.isValid()||!a||!n)return"";const{id:r}=this,{xKey:l,yKey:c,xName:h,yName:d,tooltip:p}=this.properties,{datum:y,itemId:f,xValue:g,yValue:m}=e,{fill:S,strokeWidth:M,name:I,formatter:x}=this.getItemConfig(f);let v;x&&(v=this.ctx.callbackCache.call(x,{datum:y,value:m,xKey:l,yKey:c,fill:S,strokeWidth:M,highlighted:!1,seriesId:r,itemId:e.itemId}));const D=(o=(i=v?.fill)!=null?i:S)!=null?o:"gray",N=So(a.formatDatum(g)),A=So(n.formatDatum(m)),L=this.isTotal(f),_=this.isSubtotal(f);let T;L?T="Total":_?T="Subtotal":T=(s=I??d)!=null?s:c;const b=So(d),E=`<b>${So(h??l)}</b>: ${N}<br/><b>${So(T)}</b>: ${A}`;return p.toTooltipHtml({title:b,content:E,backgroundColor:D},{seriesId:r,itemId:f,datum:y,xKey:l,yKey:c,xName:h,yName:d,color:D})}getLegendData(e){if(e!=="category")return[];const{id:i,seriesItemTypes:o}=this,s=[],a=n=>n.charAt(0).toUpperCase()+n.substring(1);return o.forEach(n=>{const{fill:r,stroke:l,fillOpacity:c,strokeOpacity:h,strokeWidth:d,name:p}=this.getItemConfig(n);s.push({legendType:"category",id:i,itemId:n,seriesId:i,enabled:!0,label:{text:p??a(n)},marker:{fill:r,stroke:l,fillOpacity:c,strokeOpacity:h,strokeWidth:d}})}),s}toggleSeriesItem(){}animateEmptyUpdateReady({datumSelections:e,labelSelections:i,contextData:o,paths:s}){const a=SN(xN(this.isVertical(),this.axes,"normal"));bN.fromToMotion(this.id,"datums",this.ctx.animationManager,e,a),MN(this,"labels",this.ctx.animationManager,i),o.forEach(({pointData:n},r)=>{if(r!==0||!n)return;const[l]=s[r];this.isVertical()?this.animateConnectorLinesVertical(l,n):this.animateConnectorLinesHorizontal(l,n)})}animateConnectorLinesHorizontal(e,i){const{path:o}=e;this.updateLineNode(e);const s=this.getValueAxis(),a=s?.isReversed(),n=a?(h,d)=>h<d:(h,d)=>h>d,r=s?.scale.convert(0),l=i.reduce((h,d)=>(n(d.x,h)&&(h=d.x),h),a?1/0:0),c=(h,d,p,y,f)=>(h-d)/(p-d)*(f-y)+y;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:r,to:l,ease:di.Motion.easeOut,collapsable:!1,onUpdate(h){o.clear({trackChanges:!0}),i.forEach((d,p)=>{const y=c(h,r,l,r,d.x),f=c(h,r,l,r,d.x2);p!==0&&o.lineTo(y,d.y),o.moveTo(f,d.y2)}),e.checkPathDirty()}})}animateConnectorLinesVertical(e,i){const{path:o}=e;this.updateLineNode(e);const s=this.getValueAxis(),a=s?.isReversed(),n=a?(h,d)=>h>d:(h,d)=>h<d,r=s?.scale.convert(0),l=i.reduce((h,d)=>(n(d.y,h)&&(h=d.y),h),a?0:1/0),c=(h,d,p,y,f)=>(h-d)/(p-d)*(f-y)+y;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:r,to:l,ease:di.Motion.easeOut,collapsable:!1,onUpdate(h){o.clear({trackChanges:!0}),i.forEach((d,p)=>{const y=c(h,r,l,r,d.y),f=c(h,r,l,r,d.y2);p!==0&&o.lineTo(d.x,y),o.moveTo(d.x2,f)}),e.checkPathDirty()}})}animateReadyResize(e){super.animateReadyResize(e),this.resetConnectorLinesPath(e)}updatePaths(e){return k(this,null,function*(){this.resetConnectorLinesPath({contextData:[e.contextData],paths:[e.paths]})})}resetConnectorLinesPath({contextData:e,paths:i}){if(i.length===0)return;const[o]=i[0];this.updateLineNode(o);const{path:s}=o;s.clear({trackChanges:!0});const{pointData:a}=e[0];a&&(a.forEach((n,r)=>{r!==0&&s.lineTo(n.x,n.y),s.moveTo(n.x2,n.y2)}),o.checkPathDirty())}updateLineNode(e){const{stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:n}=this.properties.line;e.setProperties({fill:void 0,stroke:i,strokeWidth:this.getStrokeWidth(o),strokeOpacity:s,lineDash:a,lineDashOffset:n,lineJoin:"round",pointerEvents:Ou.PointerEvents.None})}isLabelEnabled(){const{positive:e,negative:i,total:o}=this.properties.item;return e.label.enabled||i.label.enabled||o.label.enabled}onDataChange(){}};Fn.className="WaterfallSeries",Fn.type="waterfall";var LN=Fn;import{_Theme as xo}from"ag-charts-community";var Un={strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:xo.FONT_WEIGHT.NORMAL,fontSize:12,fontFamily:xo.DEFAULT_FONT_FAMILY,color:xo.DEFAULT_LABEL_COLOUR,formatter:void 0,placement:"inside"}},ON={series:{__extends__:xo.EXTENDS_SERIES_DEFAULTS,item:{positive:Un,negative:Un,total:Un},line:{stroke:xo.DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,item:{toggleSeriesVisible:!1}}},kN={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,instanceConstructor:LN,defaultAxes:[{type:ui.CARTESIAN_AXIS_TYPE.CATEGORY,position:ui.POSITION.BOTTOM},{type:ui.CARTESIAN_AXIS_TYPE.NUMBER,position:ui.POSITION.LEFT}],themeTemplate:ON,swapDefaultAxesCondition:({direction:t})=>t==="horizontal",paletteFactory:({takeColors:t,colorsCount:e,userPalette:i,themeTemplateParameters:o})=>{const{properties:s}=o,{fills:a,strokes:n}=t(e);return i?{item:{positive:{fill:a[0],stroke:n[0]},negative:{fill:a[1],stroke:n[1]},total:{fill:a[2],stroke:n[2]}}}:{item:{positive:s.get(ui.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS),negative:s.get(ui.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS),total:s.get(ui.DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS)}}}};function RN(){No.moduleRegistry.register(Pd,Xd,Vp,Zp,Cm,xf,Qm,og,xg,Dg,Fg,yx,VS,Zx,Wv,fv,Zg,tm,oS,EM,qd,fD,SD,ZD,nI,bp,Pp,g0,ty,VI,A0,uy,Z0,kN,By),No.enterpriseModule.isEnterprise=!0,No.enterpriseModule.licenseManager=t=>{var e,i;return new om((i=(e=t.container)==null?void 0:e.ownerDocument)!=null?i:typeof document>"u"?void 0:document)},No.enterpriseModule.injectWatermark=rm}export*from"ag-charts-community";RN();export{td as AgCharts,id as time};
