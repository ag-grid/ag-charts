var la=Object.defineProperty,tc=Object.defineProperties,ec=Object.getOwnPropertyDescriptor,ic=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,sc=Object.getPrototypeOf,ca=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,oc=Reflect.get,J=Math.pow,ua=(s,t,e)=>t in s?la(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,H=(s,t)=>{for(var e in t||(t={}))ca.call(t,e)&&ua(s,e,t[e]);if(Ti)for(var e of Ti(t))ha.call(t,e)&&ua(s,e,t[e]);return s},yt=(s,t)=>tc(s,ic(t)),da=(s,t)=>{var e={};for(var i in s)ca.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&Ti)for(var i of Ti(s))t.indexOf(i)<0&&ha.call(s,i)&&(e[i]=s[i]);return e},u=(s,t,e,i)=>{for(var o=i>1?void 0:i?ec(t,e):t,a=s.length-1,n;a>=0;a--)(n=s[a])&&(o=(i?n(t,e,o):n(o))||o);return i&&o&&la(t,e,o),o},Jt=(s,t,e)=>oc(sc(s),e,t),C=(s,t,e)=>new Promise((i,o)=>{var a=l=>{try{r(e.next(l))}catch(c){o(c)}},n=l=>{try{r(e.throw(l))}catch(c){o(c)}},r=l=>l.done?i(l.value):Promise.resolve(l.value).then(a,n);r((e=e.apply(s,t)).next())});import{_ModuleSupport as $}from"ag-charts-community";import{AgCharts as ac,time as nc}from"ag-charts-community";import{_Theme as pa}from"ag-charts-community";var ga={__extends__:pa.EXTENDS_AXES_DEFAULTS,gridLine:{enabled:!1,__extends__:pa.EXTENDS_AXES_GRID_LINE_DEFAULTS}};import{_ModuleSupport as rc,_Scale as lc,_Util as cc}from"ag-charts-community";function Ns(s,t,e){const i=(a,n,r,l)=>{let c=s[0];for(let h=a;r>0?h<=n:h>n;h+=r){const d=s[h];if(l(c,d))return!0;c=d}return!1},o=Math.floor(s.length/2);return i(t,o,t,e)?!0:i(s.length-t,o,-t,e)}import{_ModuleSupport as Is,_Scene as ya,_Util as hc}from"ag-charts-community";import{_ModuleSupport as uc,_Scale as ma,_Scene as dc,_Util as pc}from"ag-charts-community";import{_ModuleSupport as gc,_Scene as yc,_Util as mc}from"ag-charts-community";var{ChartAxisDirection:fc,Layers:As,ARRAY:xc,BOOLEAN:Ds,COLOR_STRING:bs,FONT_STYLE:Sc,FONT_WEIGHT:Mc,LINE_DASH:vc,NUMBER:fa,POSITIVE_NUMBER:Nc,RATIO:xa,STRING:Sa,UNION:Ic,AND:Ac,Validate:pt,MATCHING_CROSSLINE_TYPE:Ma}=gc,{Group:va}=yc,{createId:Dc}=mc,Ht=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.parallel=void 0}};u([pt(Ds,{optional:!0})],Ht.prototype,"enabled",2),u([pt(Sa,{optional:!0})],Ht.prototype,"text",2),u([pt(Sc,{optional:!0})],Ht.prototype,"fontStyle",2),u([pt(Mc,{optional:!0})],Ht.prototype,"fontWeight",2),u([pt(Nc)],Ht.prototype,"fontSize",2),u([pt(Sa)],Ht.prototype,"fontFamily",2),u([pt(fa)],Ht.prototype,"padding",2),u([pt(bs,{optional:!0})],Ht.prototype,"color",2),u([pt(Ds,{optional:!0})],Ht.prototype,"parallel",2);var Rt=class Jo{constructor(){this.id=Dc(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.shape="polygon",this.label=new Ht,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=fc.X,this.axisInnerRadius=0,this.axisOuterRadius=0,this.group=new va({name:`${this.id}`,layer:!0,zIndex:Jo.LINE_LAYER_ZINDEX}),this.labelGroup=new va({name:`${this.id}`,layer:!0,zIndex:Jo.LABEL_LAYER_ZINDEX})}calculatePadding(){}setSectorNodeProps(t){var e,i,o;t.fill=this.fill,t.fillOpacity=(e=this.fillOpacity)!=null?e:1,t.stroke=this.stroke,t.strokeOpacity=(i=this.strokeOpacity)!=null?i:1,t.strokeWidth=(o=this.strokeWidth)!=null?o:1,t.lineDash=this.lineDash}setLabelNodeProps(t,e,i,o,a){const{label:n}=this;t.x=e,t.y=i,t.text=n.text,t.textAlign="center",t.textBaseline=o,t.rotation=a,t.rotationCenterX=e,t.rotationCenterY=i,t.fill=n.color,t.fontFamily=n.fontFamily,t.fontSize=n.fontSize,t.fontStyle=n.fontStyle,t.visible=!0}calculateLayout(t){}};Rt.LINE_LAYER_ZINDEX=As.SERIES_CROSSLINE_LINE_ZINDEX,Rt.RANGE_LAYER_ZINDEX=As.SERIES_CROSSLINE_RANGE_ZINDEX,Rt.LABEL_LAYER_ZINDEX=As.SERIES_LABEL_ZINDEX,u([pt(Ds,{optional:!0})],Rt.prototype,"enabled",2),u([pt(Ic(["range","line"],"a crossLine type"),{optional:!0})],Rt.prototype,"type",2),u([pt(Ac(Ma("range"),xc.restrict({length:2})),{optional:!0})],Rt.prototype,"range",2),u([pt(Ma("value"),{optional:!0})],Rt.prototype,"value",2),u([pt(bs,{optional:!0})],Rt.prototype,"fill",2),u([pt(xa,{optional:!0})],Rt.prototype,"fillOpacity",2),u([pt(bs,{optional:!0})],Rt.prototype,"stroke",2),u([pt(fa,{optional:!0})],Rt.prototype,"strokeWidth",2),u([pt(xa,{optional:!0})],Rt.prototype,"strokeOpacity",2),u([pt(vc,{optional:!0})],Rt.prototype,"lineDash",2);var Na=Rt,{ChartAxisDirection:bc,validateCrossLineValues:Tc}=uc,{Path:Ia,Sector:_c,Text:Ec}=dc,{normalizeAngle360:Ts,isNumberEqual:Aa}=pc,Da=class xs extends Na{constructor(){super(),this.direction=bc.X,this.polygonNode=new Ia,this.sectorNode=new _c,this.lineNode=new Ia,this.labelNode=new Ec,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.group.append(this.lineNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:e,shape:i,type:o,value:a,range:n}=this;if(!e||!o||!Tc(o,a,n,e)){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,o==="line"&&i==="circle"&&e instanceof ma.BandScale&&(this.type="range",this.range=[a,a]),this.updateLineNode(t),this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t)}updateLineNode(t){var e,i;const{scale:o,type:a,value:n,lineNode:r}=this;let l;if(!t||a!=="line"||!o||isNaN(l=o.convert(n))){r.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:h}=this;r.visible=!0,r.stroke=this.stroke,r.strokeOpacity=(e=this.strokeOpacity)!=null?e:1,r.strokeWidth=(i=this.strokeWidth)!=null?i:1,r.fill=void 0,r.lineDash=this.lineDash;const d=h*Math.cos(l),p=h*Math.sin(l),g=c*Math.cos(l),f=c*Math.sin(l);r.path.clear({trackChanges:!0}),r.path.moveTo(g,f),r.path.lineTo(d,p),this.group.zIndex=xs.LINE_LAYER_ZINDEX}updatePolygonNode(t){var e;const{polygonNode:i,range:o,scale:a,shape:n,type:r}=this;let l;if(!t||r!=="range"||n!=="polygon"||!a||!o||!(l=(e=a.ticks)==null?void 0:e.call(a))){i.visible=!1;return}const{axisInnerRadius:c,axisOuterRadius:h}=this,d=l.indexOf(o[0]),p=l.indexOf(o[1]),f=(d<=p?l.slice(d,p+1):l.slice(d).concat(l.slice(0,p+1))).map(m=>a.convert(m));i.visible=!0,this.setSectorNodeProps(i);const{path:y}=i;y.clear({trackChanges:!0}),f.forEach((m,S)=>{const v=h*Math.cos(m),N=h*Math.sin(m);S===0?y.moveTo(v,N):y.lineTo(v,N)}),c===0?y.lineTo(0,0):f.slice().reverse().forEach(m=>{const S=c*Math.cos(m),v=c*Math.sin(m);y.lineTo(S,v)}),i.path.closePath(),this.group.zIndex=xs.RANGE_LAYER_ZINDEX}updateSectorNode(t){var e;const{sectorNode:i,range:o,scale:a,shape:n,type:r}=this;if(!t||r!=="range"||n!=="circle"||!a||!o){i.visible=!1;return}const{axisInnerRadius:l,axisOuterRadius:c}=this,h=o.map(g=>a.convert(g)),d=(e=a.step)!=null?e:0,p=a instanceof ma.BandScale?d/2:0;i.visible=!0,this.setSectorNodeProps(i),i.centerX=0,i.centerY=0,i.innerRadius=l,i.outerRadius=c,i.startAngle=h[0]-p,i.endAngle=h[1]+p,this.group.zIndex=xs.RANGE_LAYER_ZINDEX}updateLabelNode(t){var e,i;const{label:o,labelNode:a,range:n,scale:r,type:l}=this;if(!t||o.enabled===!1||!o.text||!r||l==="range"&&!n){a.visible=!0;return}const{axisInnerRadius:c,axisOuterRadius:h}=this;let d,p,g,f;if(l==="line"){const y=Ts(r.convert(this.value)),m=3*Math.PI/2,S=Aa(y,m)||y>m||y<Math.PI/2,v=(c+h)/2*Math.cos(y),N=(c+h)/2*Math.sin(y);d=v+o.padding*Math.cos(y+Math.PI/2),p=N+o.padding*Math.sin(y+Math.PI/2),f=S?"top":"bottom",g=S?y:y-Math.PI}else{const[y,m]=n.map(M=>Ts(r.convert(M)));let S=(y+m)/2;y>m&&(S-=Math.PI),S=Ts(S);const v=(Aa(S,0)||S>0)&&S<Math.PI;let N;const x=(i=(e=r.ticks)==null?void 0:e.call(r))!=null?i:[];this.shape==="circle"||x.length<3?N=h-o.padding:N=h*Math.cos(Math.PI/x.length)-o.padding,d=N*Math.cos(S),p=N*Math.sin(S),f=v?"bottom":"top",g=v?S-Math.PI/2:S+Math.PI/2}this.setLabelNodeProps(a,d,p,f,g)}};Da.className="AngleCrossLine";var ba=Da,{AND:Lc,assignJsonApplyConstructedArray:Oc,ChartAxisDirection:Rc,GREATER_THAN:kc,NUMBER:Ta,UNION:Cc,ProxyOnWrite:wc,Validate:_s}=Is,{Path:Pc,Text:_a}=ya,{angleBetween:zc,isNumberEqual:We,toRadians:Es,normalizeAngle360:Ge}=hc,Ls=class extends Is.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};u([_s(Cc(["fixed","parallel","perpendicular"],"a label orientation"))],Ls.prototype,"orientation",2);var _i=class extends Is.PolarAxis{constructor(s,t){super(s,t),this.startAngle=0,this.endAngle=void 0,this.labelData=[],this.tickData=[],this.radiusLine=this.axisGroup.appendChild(new Pc),this.computeRange=()=>{const e=Ge(-Math.PI/2+Es(this.startAngle));let i=this.endAngle==null?e+Math.PI*2:-Math.PI/2+Es(this.endAngle);i<e&&(i+=2*Math.PI),this.range=[e,i]},this.includeInvisibleDomains=!0}get direction(){return Rc.X}assignCrossLineArrayConstructor(s){Oc(s,ba)}createLabel(){return new Ls}update(){return this.updateScale(),this.updatePosition(),this.updateGridLines(),this.updateTickLines(),this.updateLabels(),this.updateRadiusLine(),this.updateCrossLines(),this.tickData.length}calculateAvailableRange(){const{range:s,gridLength:t}=this;return zc(s[0],s[1])*t}updatePosition(){const{translation:s,axisGroup:t,gridGroup:e,crossLineGroup:i}=this,o=Math.floor(s.x),a=Math.floor(s.y);t.translationX=o,t.translationY=a,e.translationX=o,e.translationY=a,i.translationX=o,i.translationY=a}updateRadiusLine(){const s=this.radiusLine,{path:t}=s;t.clear({trackChanges:!0});const{points:e,closePath:i}=this.getAxisLinePoints();e.forEach(({x:o,y:a,moveTo:n,arc:r,radius:l=0,startAngle:c=0,endAngle:h=0})=>{r?t.arc(o,a,l,c,h):n?t.moveTo(o,a):t.lineTo(o,a)}),i&&t.closePath(),s.visible=this.line.enabled,s.stroke=this.line.color,s.strokeWidth=this.line.width,s.fill=void 0}getAxisLinePoints(){var s;const{scale:t,shape:e,gridLength:i}=this,[o,a]=this.range,n=We(a-o,2*Math.PI),r=[];if(e==="circle")n?(r.push({x:i,y:0,moveTo:!0}),r.push({x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1})):(r.push({x:i*Math.cos(o),y:i*Math.sin(o),moveTo:!0}),r.push({x:0,y:0,radius:i,startAngle:Ge(o),endAngle:Ge(a),arc:!0,moveTo:!1}));else if(e==="polygon"){const l=(((s=t.ticks)==null?void 0:s.call(t))||[]).map(c=>t.convert(c));l.length>2&&l.forEach((c,h)=>{const d=i*Math.cos(c),p=i*Math.sin(c),g=h===0;r.push({x:d,y:p,moveTo:g})})}return{points:r,closePath:n}}updateGridLines(){const{scale:s,gridLength:t,gridLine:{enabled:e,style:i,width:o},innerRadiusRatio:a}=this;if(!(i&&t>0))return;const n=this.tickData,r=t*a,l=i.length,c=h=>h.value;this.gridLineGroupSelection.update(e?n:[],void 0,c).each((h,d,p)=>{const{value:g}=d,{stroke:f,lineDash:y}=i[p%l],m=s.convert(g);h.x1=r*Math.cos(m),h.y1=r*Math.sin(m),h.x2=t*Math.cos(m),h.y2=t*Math.sin(m),h.stroke=f,h.strokeWidth=o,h.lineDash=y,h.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:s,tickLabelGroupSelection:t}=this,e=this.tickData;t.update(s.enabled?e:[]).each((i,o,a)=>{const n=this.labelData[a];if(!n||n.hidden){i.visible=!1;return}i.text=n.text,i.setFont(s),i.fill=s.color,i.x=n.x,i.y=n.y,i.textAlign=n.textAlign,i.textBaseline=n.textBaseline,i.visible=!0,n.rotation?(i.rotation=n.rotation,i.rotationCenterX=n.x,i.rotationCenterY=n.y):i.rotation=0})}updateTickLines(){const{scale:s,gridLength:t,tick:e,tickLineGroupSelection:i}=this,o=this.tickData;i.update(e.enabled?o:[]).each((a,n)=>{const{value:r}=n,l=s.convert(r),c=Math.cos(l),h=Math.sin(l);a.x1=t*c,a.y1=t*h,a.x2=(t+e.size)*c,a.y2=(t+e.size)*h,a.stroke=e.color,a.strokeWidth=e.width})}createLabelNodeData(s,t,e){const{label:i,gridLength:o,scale:a,tick:n}=this;if(!i.enabled)return[];const r=new _a,l=e.x-this.translation.x,c=e.x+e.width-this.translation.x,h=s.map((d,p)=>{var g;const{value:f}=d,y=o+i.padding+n.size,m=a.convert(f),S=Math.cos(m),v=Math.sin(m),N=y*S,x=y*v,{textAlign:M,textBaseline:I}=this.getLabelAlign(m),D=p===s.length-1&&f!==s[0]&&We(Ge(m),Ge(a.convert(s[0]))),A=this.getLabelRotation(m);let T=String(f);if(i.formatter){const{callbackCache:L}=this.moduleCtx;T=(g=L.call(i.formatter,{value:f,index:p}))!=null?g:""}r.text=T,r.x=N,r.y=x,r.setFont(i),r.textAlign=M,r.textBaseline=I,r.rotation=A,A&&(r.rotationCenterX=N,r.rotationCenterY=x);let b=A?r.computeTransformedBBox():r.computeBBox();if(b&&t.hideWhenNecessary&&!A){const L=l-b.x,_=b.x+b.width-c,E=1;if(L>E||_>E){const O=b.width-Math.max(L,_);({text:T}=_a.wrap(T,O,1/0,i,"never")),T==="\u2026"&&(T="",b=void 0),r.text=T,b=r.computeBBox()}}return{text:T,x:N,y:x,textAlign:M,textBaseline:I,hidden:T===""||d.hidden||D,rotation:A,box:b}});return i.avoidCollisions&&this.avoidLabelCollisions(h),h}computeLabelsBBox(s,t){this.tickData=this.generateAngleTicks(),this.labelData=this.createLabelNodeData(this.tickData,s,t);const e=this.labelData.map(({box:i})=>i).filter(i=>i!=null);return!this.label.enabled||e.length===0?null:ya.BBox.merge(e)}getLabelOrientation(){const{label:s}=this;return s instanceof Ls?s.orientation:"fixed"}getLabelRotation(s){var t;let e=Es((t=this.label.rotation)!=null?t:0);s=Ge(s);const i=this.getLabelOrientation();return i==="parallel"?(e+=s,s>=0&&s<Math.PI?e-=Math.PI/2:e+=Math.PI/2):i==="perpendicular"&&(e+=s,s>=Math.PI/2&&s<3*Math.PI/2&&(e+=Math.PI)),e}getLabelAlign(s){const t=Math.cos(s),e=Math.sin(s);let i,o;const a=this.getLabelOrientation(),n=We(t,0),r=We(e,0),l=We(t,1),c=We(e,-1),h=t>0&&!n,d=e>0&&!r;return a==="parallel"?(i="center",o=l&&r||d?"top":"bottom"):a==="perpendicular"?(i=c||h?"left":"right",o="middle"):(i=n?"center":h?"left":"right",o=r?"middle":d?"top":"bottom"),{textAlign:i,textBaseline:o}}updateCrossLines(){var s;(s=this.crossLines)==null||s.forEach(t=>{if(t instanceof ba){const{shape:e,gridLength:i,innerRadiusRatio:o}=this;t.shape=e,t.axisOuterRadius=i,t.axisInnerRadius=i*o}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}};u([wc("rotation"),_s(Ta.restrict({min:0,max:360}))],_i.prototype,"startAngle",2),u([_s(Lc(Ta.restrict({min:0,max:720}),kc("startAngle")),{optional:!0})],_i.prototype,"endAngle",2);var{RATIO:Ea,Validate:La}=rc,{BandScale:Bc}=lc,{isNumberEqual:Oa}=cc,Ke=class extends _i{constructor(s){super(s,new Bc),this.groupPaddingInner=0,this.paddingInner=0}generateAngleTicks(){var s,t;const{scale:e,tick:i,gridLength:o}=this,a=(t=(s=i.values)!=null?s:e.ticks())!=null?t:[];if(a.length<2||isNaN(i.minSpacing))return a.map(h=>({value:h,visible:!0}));const n=a[0],r=e.convert(n),l=o*Math.cos(r),c=o*Math.sin(r);for(let h=1;h<a.length-1;h++){const d=a[h],p=e.convert(d);if(p-r>Math.PI)break;const g=o*Math.cos(p),f=o*Math.sin(p);if(Math.sqrt(J(g-l,2)+J(f-c,2))>i.minSpacing){const m=new Set([n]);return Ns(a,h,(S,v)=>{m.add(v)}),a.map(S=>{const v=m.has(S);return{value:S,visible:v}})}}return[{value:n,visible:!0}]}avoidLabelCollisions(s){let{minSpacing:t}=this.label;if(Number.isFinite(t)||(t=0),s.length<3)return;const e=(l,c)=>{if(l.hidden||c.hidden)return!1;const h=l.box.clone().grow(t/2),d=c.box.clone().grow(t/2);return h.collidesBBox(d)},i=s[0],o=s[s.length-1],a=new Set([i]),n=Oa(i.x,o.x)&&Oa(i.y,o.y),r=Math.floor(s.length/2);for(let l=1;l<=r;l++){const c=n?s.slice(0,-1):s;if(!Ns(c,l,e)){Ns(c,l,(d,p)=>{a.add(p)});break}}s.forEach(l=>{a.has(l)||(l.hidden=!0,l.box=void 0)})}};Ke.className="AngleCategoryAxis",Ke.type="angle-category",u([La(Ea)],Ke.prototype,"groupPaddingInner",2),u([La(Ea)],Ke.prototype,"paddingInner",2);var jc={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-category",instanceConstructor:Ke,themeTemplate:ga};import{_ModuleSupport as Ra,_Util as Fc}from"ag-charts-community";import{_Scale as Vc,_Util as Uc}from"ag-charts-community";var{LinearScale:Yc,Invalidating:Hc}=Vc,{isNumberEqual:Wc,range:ka}=Uc,Ca=class extends Yc{constructor(){super(...arguments),this.arcLength=0,this.niceTickStep=0}ticks(){if(!this.domain||this.domain.length<2||this.domain.some(o=>!isFinite(o)))return[];this.refresh();const[s,t]=this.getDomain(),{interval:e}=this;if(e){const o=Math.abs(e);if(!this.isDenseInterval({start:s,stop:t,interval:o}))return ka(s,t,o)}const i=this.nice&&this.niceTickStep?this.niceTickStep:this.getTickStep(s,t);return ka(s,t,i)}hasNiceRange(){const s=this.range.slice().sort((e,i)=>e-i);return[Math.PI,2*Math.PI].some(e=>Wc(e,s[1]-s[0]))}getNiceStepAndTickCount(){const[s,t]=this.niceDomain;let e=this.getTickStep(s,t);const i=isNaN(this.maxTickCount)?1/0:this.maxTickCount,o=Math.abs(t-s)/e;let a=Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)));return a>i&&(a/=2,e*=2),{count:a,step:e}}updateNiceDomain(){if(super.updateNiceDomain(),!this.hasNiceRange())return;const s=this.niceDomain[0]>this.niceDomain[1],t=s?this.niceDomain[1]:this.niceDomain[0],{step:e,count:i}=this.getNiceStepAndTickCount(),o=1/e,a=e>=1?Math.ceil(t/e+i)*e:Math.ceil((t+i*e)*o)/o;this.niceDomain=s?[a,t]:[t,a],this.niceTickStep=e}getPixelRange(){return this.arcLength}};u([Hc],Ca.prototype,"arcLength",2);var{AND:wa,Default:Os,GREATER_THAN:Gc,LESS_THAN:Kc,NUMBER_OR_NAN:Pa,MIN_SPACING:Xc,Validate:Rs}=Ra,{angleBetween:Qc,isNumberEqual:za,normalisedExtentWithMetadata:$c}=Fc,Ba=class extends Ra.AxisTick{constructor(){super(...arguments),this.maxSpacing=NaN}};u([Rs(Xc),Os(NaN)],Ba.prototype,"maxSpacing",2);var ci=class extends _i{constructor(s){super(s,new Ca),this.shape="circle",this.min=NaN,this.max=NaN}normaliseDataDomain(s){const{min:t,max:e}=this,{extent:i,clipped:o}=$c(s,t,e);return{domain:i,clipped:o}}createTick(){return new Ba}getRangeArcLength(){const{range:s}=this,t=Math.min(...s),e=Math.max(...s),i=Qc(t,e)||2*Math.PI,o=this.gridLength;return i*o}generateAngleTicks(){var s;const t=this.getRangeArcLength(),{scale:e,tick:i,range:o}=this,{minSpacing:a=NaN,maxSpacing:n=NaN}=i,r=n?Math.floor(t/n):1,l=a?Math.floor(t/a):1/0,c=Math.floor(4/Math.PI*Math.abs(o[0]-o[1]));return e.tickCount=Math.max(r,Math.min(l,c)),e.minTickCount=r,e.maxTickCount=l,e.arcLength=t,((s=i.values)!=null?s:e.ticks()).map(d=>({value:d,visible:!0}))}avoidLabelCollisions(s){let{minSpacing:t}=this.label;Number.isFinite(t)||(t=0);const e=(a,n)=>{if(a.hidden||n.hidden)return!1;const r=a.box.clone().grow(t/2),l=n.box.clone().grow(t/2);return r.collidesBBox(l)},i=s[0],o=s[s.length-1];i!==o&&za(i.x,o.x)&&za(i.y,o.y)&&(o.hidden=!0);for(let a=1;a<s.length;a*=2){let n=!1;for(let r=a;r<s.length;r+=a){const l=s[r],c=s[r-a];if(e(c,l)){n=!0;break}}if(!n){s.forEach((r,l)=>{l%a>0&&(r.hidden=!0,r.box=void 0)});return}}s.forEach((a,n)=>{n>0&&(a.hidden=!0,a.box=void 0)})}};ci.className="AngleNumberAxis",ci.type="angle-number",u([Rs(wa(Pa,Kc("max"))),Os(NaN)],ci.prototype,"min",2),u([Rs(wa(Pa,Gc("min"))),Os(NaN)],ci.prototype,"max",2);var Zc={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"angle-number",instanceConstructor:ci,themeTemplate:ga};import{_Theme as ks}from"ag-charts-community";var ja={__extends__:ks.EXTENDS_AXES_DEFAULTS,line:{enabled:!1,__extends__:ks.EXTENDS_AXES_LINE_DEFAULTS},tick:{enabled:!1,__extends__:ks.EXTENDS_AXES_TICK_DEFAULTS}};import{_ModuleSupport as qc,_Scale as Jc}from"ag-charts-community";import{_ModuleSupport as Ei,_Scene as th,_Util as eh}from"ag-charts-community";import{_ModuleSupport as ih,_Scale as Fa,_Scene as sh,_Util as Cs}from"ag-charts-community";var{ChartAxisDirection:oh,Validate:ah,DEGREE:nh,validateCrossLineValues:rh}=ih,{Path:lh,Sector:ch,Text:hh}=sh,{normalizeAngle360:uh,toRadians:dh,isNumberEqual:ph}=Cs,Va=class extends Ht{constructor(){super(...arguments),this.positionAngle=void 0}};u([ah(nh,{optional:!0})],Va.prototype,"positionAngle",2);var Ua=class ta extends Na{constructor(){super(),this.direction=oh.Y,this.label=new Va,this.polygonNode=new lh,this.sectorNode=new ch,this.labelNode=new hh,this.outerRadius=0,this.innerRadius=0,this.group.append(this.polygonNode),this.group.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(t){const{scale:e,type:i,value:o,range:a}=this;if(!e||!i||!rh(i,o,a,e)){this.group.visible=!1,this.labelGroup.visible=!1;return}i==="line"&&e instanceof Fa.BandScale&&(this.type="range",this.range=[o,o]),this.updateRadii();const{innerRadius:n,outerRadius:r}=this;t&&(t=n>=this.axisInnerRadius&&r<=this.axisOuterRadius),this.group.visible=t,this.labelGroup.visible=t,this.updatePolygonNode(t),this.updateSectorNode(t),this.updateLabelNode(t),this.group.zIndex=this.type==="line"?ta.LINE_LAYER_ZINDEX:ta.RANGE_LAYER_ZINDEX}updateRadii(){var t;const{range:e,scale:i,type:o,axisInnerRadius:a,axisOuterRadius:n}=this;if(!i)return{innerRadius:0,outerRadius:0};const r=h=>n+a-h;let l=0,c=0;if(o==="line")l=r(i.convert(this.value)),c=l;else{const h=Math.abs((t=i?.bandwidth)!=null?t:0),d=e.map(p=>i.convert(p));l=r(Math.max(...d)),c=r(Math.min(...d))+h}this.outerRadius=l,this.innerRadius=c}drawPolygon(t,e,i){e.forEach((o,a)=>{const n=t*Math.cos(o),r=t*Math.sin(o);a===0?i.path.moveTo(n,r):i.path.lineTo(n,r)}),i.path.closePath()}updatePolygonNode(t){const{gridAngles:e,polygonNode:i,scale:o,shape:a,type:n,innerRadius:r,outerRadius:l}=this;if(!t||a!=="polygon"||!o||!e){i.visible=!1;return}i.visible=!0;const c=this.getPadding();i.path.clear({trackChanges:!0}),this.drawPolygon(l-c,e,i);const h=e.slice().reverse(),d=n==="line"?l-c:r+c;this.drawPolygon(d,h,i),this.setSectorNodeProps(i)}updateSectorNode(t){const{axisInnerRadius:e,axisOuterRadius:i,scale:o,sectorNode:a,shape:n,innerRadius:r,outerRadius:l}=this;if(!t||n!=="circle"||!o){a.visible=!1;return}a.visible=!0,a.startAngle=0,a.endAngle=2*Math.PI;const c=this.getPadding();a.innerRadius=Cs.clamp(e,r+c,i),a.outerRadius=Cs.clamp(e,l-c,i),this.setSectorNodeProps(a)}updateLabelNode(t){var e,i;const{innerRadius:o,label:a,labelNode:n,scale:r,shape:l,type:c}=this;if(!t||a.enabled===!1||!a.text||!r){n.visible=!1;return}const h=uh(dh(((e=a.positionAngle)!=null?e:0)-90)),d=(ph(h,0)||h>0)&&h<Math.PI,p=d?h-Math.PI/2:h+Math.PI/2;let g=0;const f=(i=this.gridAngles)!=null?i:[];c==="line"?g=o+a.padding:l==="circle"||f.length<3?g=o-a.padding:g=o*Math.cos(Math.PI/f.length)-a.padding;const y=g*Math.cos(h),m=g*Math.sin(h);let S;c==="line"?S=d?"top":"bottom":S=d?"bottom":"top",this.setLabelNodeProps(n,y,m,S,p)}getPadding(){var t,e;const{scale:i}=this;if(!i)return 0;const o=Math.abs((t=i.bandwidth)!=null?t:0),a=Math.abs((e=i.step)!=null?e:0);return i instanceof Fa.BandScale?(a-o)/2:0}};Ua.className="RadiusCrossLine";var Ya=Ua,{assignJsonApplyConstructedArray:gh,ChartAxisDirection:yh,Default:Ha,Layers:mh,DEGREE:Wa,MIN_SPACING:fh,BOOLEAN:xh,Validate:Li}=Ei,{Caption:Sh,Group:Mh,Path:vh,Selection:Nh}=th,{isNumberEqual:Ih,normalizeAngle360:Ga,toRadians:Ah}=eh,Ka=class extends Ei.AxisTick{constructor(){super(...arguments),this.maxSpacing=NaN}};u([Li(fh),Ha(NaN)],Ka.prototype,"maxSpacing",2);var ws=class extends Ei.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};u([Li(xh,{optional:!0})],ws.prototype,"autoRotate",2),u([Li(Wa)],ws.prototype,"autoRotateAngle",2);var Ps=class extends Ei.PolarAxis{constructor(s,t){super(s,t),this.positionAngle=0,this.gridPathGroup=this.gridGroup.appendChild(new Mh({name:`${this.id}-gridPaths`,zIndex:mh.AXIS_GRID_ZINDEX})),this.gridPathSelection=Nh.select(this.gridPathGroup,vh)}get direction(){return yh.Y}assignCrossLineArrayConstructor(s){gh(s,Ya)}getAxisTransform(){const s=this.scale.range[0],{translation:t,positionAngle:e,innerRadiusRatio:i}=this,o=s*i,a=Ah(e);return{translationX:t.x,translationY:t.y-s-o,rotation:a,rotationCenterX:0,rotationCenterY:s+o}}updateSelections(s,t,e){var i;super.updateSelections(s,t,e);const{gridLine:{enabled:o,style:a,width:n},shape:r}=this;if(!a)return;const l=this.prepareTickData(t),c=a.length,h=(m,S)=>{const{stroke:v,lineDash:N}=a[S%c];m.stroke=v,m.strokeWidth=n,m.lineDash=N,m.fill=void 0},[d,p]=(i=this.gridRange)!=null?i:[0,2*Math.PI],g=Ih(p-d,2*Math.PI),f=(m,S)=>{const{path:v}=m;v.clear({trackChanges:!0});const N=this.getTickRadius(S);g?(v.moveTo(N,0),v.arc(0,0,N,0,2*Math.PI)):(v.moveTo(N*Math.cos(d),N*Math.sin(d)),v.arc(0,0,N,Ga(d),Ga(p))),g&&v.closePath()},y=(m,S)=>{const{path:v}=m,N=this.gridAngles;if(v.clear({trackChanges:!0}),!N||N.length<3)return;const x=this.getTickRadius(S);N.forEach((M,I)=>{const D=x*Math.cos(M),A=x*Math.sin(M);I===0?v.moveTo(D,A):v.lineTo(D,A),N.forEach((T,b)=>{const L=x*Math.cos(T),_=x*Math.sin(T);b===0?v.moveTo(L,_):v.lineTo(L,_)}),v.closePath()}),v.closePath()};this.gridPathSelection.update(o?l:[]).each((m,S,v)=>{h(m,v),r==="circle"?f(m,S):y(m,S)})}updateTitle(){var s;const t=c=>c.defaultValue,{title:e,_titleCaption:i,range:o,moduleCtx:{callbackCache:a}}=this,{formatter:n=t}=(s=this.title)!=null?s:{};if(!e){i.enabled=!1;return}i.enabled=e.enabled,i.fontFamily=e.fontFamily,i.fontSize=e.fontSize,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.color=e.color,i.wrapping=e.wrapping;let r=!1;const l=i.node;e.enabled&&(r=!0,l.rotation=Math.PI/2,l.x=Math.floor((o[0]+o[1])/2),l.y=-Sh.SMALL_PADDING,l.textAlign="center",l.textBaseline="bottom",l.text=a.call(n,this.getTitleFormatterParams())),l.visible=r}createTick(){return new Ka}updateCrossLines(){var s;(s=this.crossLines)==null||s.forEach(t=>{if(t instanceof Ya){const{shape:e,gridAngles:i,range:o,innerRadiusRatio:a}=this,n=o[0];t.shape=e,t.gridAngles=i,t.axisOuterRadius=n,t.axisInnerRadius=n*a}}),super.updateCrossLines({rotation:0,parallelFlipRotation:0,regularFlipRotation:0})}createLabel(){return new ws}};u([Li(Wa),Ha(0)],Ps.prototype,"positionAngle",2);var{RATIO:zs,ProxyPropertyOnWrite:Xa,Validate:Bs}=qc,{BandScale:Dh}=Jc,Me=class extends Ps{constructor(s){super(s,new Dh),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}prepareTickData(s){return s.slice().reverse()}getTickRadius(s){const{scale:t}=this,e=t.range[0],i=e*this.innerRadiusRatio,o=(e-i)/t.domain.length;return e-s.translationY+i-o/2}};Me.className="RadiusCategoryAxis",Me.type="radius-category",u([Bs(zs)],Me.prototype,"groupPaddingInner",2),u([Xa("scale","paddingInner"),Bs(zs)],Me.prototype,"paddingInner",2),u([Xa("scale","paddingOuter"),Bs(zs)],Me.prototype,"paddingOuter",2);var bh={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-category",instanceConstructor:Me,themeTemplate:ja};import{_ModuleSupport as Th,_Scale as _h,_Util as Eh}from"ag-charts-community";var{AND:Qa,Default:$a,GREATER_THAN:Lh,LESS_THAN:Oh,NUMBER_OR_NAN:Za,Validate:qa}=Th,{LinearScale:Rh}=_h,{normalisedExtentWithMetadata:kh}=Eh,hi=class extends Ps{constructor(s){super(s,new Rh),this.shape="polygon",this.min=NaN,this.max=NaN}prepareTickData(s){var t;const{scale:e}=this,i=(t=e.getDomain)==null?void 0:t.call(e)[1];return s.filter(({tick:o})=>o!==i).sort((o,a)=>a.tick-o.tick)}getTickRadius(s){const{scale:t}=this,e=t.range[0],i=e*this.innerRadiusRatio;return e-s.translationY+i}normaliseDataDomain(s){const{min:t,max:e}=this,{extent:i,clipped:o}=kh(s,t,e);return{domain:i,clipped:o}}};hi.className="RadiusNumberAxis",hi.type="radius-number",u([qa(Qa(Za,Oh("max"))),$a(NaN)],hi.prototype,"min",2),u([qa(Qa(Za,Lh("min"))),$a(NaN)],hi.prototype,"max",2);var Ch={type:"axis",optionsKey:"axes[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radius-number",instanceConstructor:hi,themeTemplate:ja};import{_ModuleSupport as Ja}from"ag-charts-community";var{BOOLEAN:wh,POSITIVE_NUMBER:Ph,ActionOnSet:tn,Validate:en}=Ja,js=class extends Ja.BaseModuleInstance{constructor(s){super(),this.ctx=s,this.enabled=!0,this.animationManager=s.animationManager,this.animationManager.skip(!1)}};u([tn({newValue(s){this.animationManager&&this.animationManager.skip(!s)}}),en(wh)],js.prototype,"enabled",2),u([tn({newValue(s){this.animationManager&&(this.animationManager.defaultDuration=s,this.animationManager.skip(s===0))}}),en(Ph)],js.prototype,"duration",2);var zh={type:"root",optionsKey:"animation",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:js,themeTemplate:{animation:{enabled:!0}}};import{_ModuleSupport as Fs}from"ag-charts-community";var{ActionOnSet:Bh}=Fs,sn=class extends Fs.Background{constructor(s){super(s),this.updateService=s.updateService}onLayoutComplete(s){if(super.onLayoutComplete(s),this.image){const{width:t,height:e}=s.chart;this.image.performLayout(t,e)}}onImageLoad(){this.updateService.update(Fs.ChartUpdateType.SCENE_RENDER)}};u([Bh({newValue(s){this.node.appendChild(s.node),s.onload=()=>this.onImageLoad()},oldValue(s){this.node.removeChild(s.node),s.onload=void 0}})],sn.prototype,"image",2);import{_Scene as jh}from"ag-charts-community";var{Image:Fh}=jh,Vh=class{constructor(){this._image=document.createElement("img"),this.loadedSynchronously=!0,this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,this.opacity=1,this.containerWidth=0,this.containerHeight=0,this.onload=void 0,this.onImageLoad=()=>{this.loadedSynchronously||(this.node.visible=!1,this.performLayout(this.containerWidth,this.containerHeight),this.onload&&this.onload())},this.node=new Fh(this._image),this._image.onload=this.onImageLoad}get url(){return this._image.src}set url(s){this._image.src=s,this.loadedSynchronously=this.complete}get complete(){return this._image.width>0&&this._image.height>0}performLayout(s,t){if(this.containerWidth=s,this.containerHeight=t,!this.complete){this.node.visible=!1;return}const e=this.calculatePosition(this._image.width,this._image.height);Object.assign(this.node,e),this.node.visible=!0,this.node.opacity=this.opacity}calculatePosition(s,t){let e=this.left,i=this.right,o=this.width,a=this.top,n=this.bottom,r=this.height;return e!=null?o!=null?i=this.containerWidth-e+o:i!=null&&(o=this.containerWidth-e-i):i!=null&&o!=null&&(e=this.containerWidth-i-o),a!=null?r!=null?n=this.containerHeight-a-r:n!=null&&(r=this.containerHeight-n-a):n!=null&&r!=null&&(a=this.containerHeight-n-r),o==null?r==null?(o=s,r=t):o=Math.ceil(s*r/t):r==null&&(r=Math.ceil(t*o/s)),e==null&&(i==null?e=Math.floor((this.containerWidth-o)/2):e=this.containerWidth-i-o),a==null&&(n==null?a=Math.floor((this.containerHeight-r)/2):a=this.containerHeight-r-n),{x:e,y:a,width:o,height:r}}},Uh={type:"root",optionsKey:"background",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy"],optionConstructors:{"background.image":Vh},instanceConstructor:sn};import{_ModuleSupport as on}from"ag-charts-community";var Et="ag-chart-context-menu",Yh=`
.${Et} {
    background: rgb(248, 248, 248);
    border: 1px solid #babfc7;
    border-radius: 5px;
    box-shadow: 0 1px 4px 1px rgba(186, 191, 199, 0.4);
    color: rgb(24, 29, 31);
    font: 13px Verdana, sans-serif;
    position: fixed;
    transition: transform 0.1s ease;
    white-space: nowrap;
    z-index: 99999;
}

.${Et}__cover {
    position: fixed;
    left: 0px;
    top: 0px;
}

.${Et}__menu {
    display: flex;
    flex-direction: column;
    padding: 0.5em 0;
}

.${Et}__item {
    background: none;
    border: none;
    box-sizing: border-box;
    font: inherit;
    padding: 0.5em 1em;
    text-align: left;
    -webkit-appearance: none;
    -moz-appearance: none;
}

.${Et}__item:hover {
    background: rgb(33, 150, 243, 0.1);
}

.${Et}__item:active {
    background: rgb(33, 150, 243, 0.2);
}

.${Et}__item[disabled] {
    border: none;
    opacity: 0.5;
    text-align: left;
}

.${Et}__item[disabled]:hover {
    background: inherit;
    cursor: inherit;
}

.${Et}__divider {
    margin: 5px 0;
    background: #babfc7;
    height: 1px;
}
`,{BOOLEAN:Hh,Validate:Wh}=on,an="context-menu",nn="context-menu",Xe=class Fe extends on.BaseModuleInstance{constructor(t){if(super(),this.ctx=t,this.enabled=!0,this.extraActions=[],this.extraNodeActions=[],this.x=0,this.y=0,this.highlightManager=t.highlightManager,this.interactionManager=t.interactionManager,this.tooltipManager=t.tooltipManager,this.scene=t.scene,this.destroyFns.push(t.interactionManager.addListener("contextmenu",e=>this.onContextMenu(e))),this.groups={default:[],node:[],extra:[],extraNode:[]},this.canvasElement=t.scene.canvas.element,this.container=t.document.body,this.element=this.container.appendChild(t.document.createElement("div")),this.element.classList.add(Et),this.destroyFns.push(()=>{var e;return(e=this.element.parentNode)==null?void 0:e.removeChild(this.element)}),this.coverElement=this.container.appendChild(t.document.createElement("div")),this.coverElement.classList.add(`${Et}__cover`),this.hide(),this.coverElement.onclick=()=>this.hide(),this.coverElement.oncontextmenu=e=>{this.hide(),e.preventDefault(),this.x=e.pageX,this.y=e.pageY,this.show(),this.reposition()},typeof IntersectionObserver<"u"){const e=new IntersectionObserver(i=>{for(const o of i)o.target===this.canvasElement&&o.intersectionRatio===0&&this.hide()},{root:this.container});e.observe(this.canvasElement),this.intersectionObserver=e}if(typeof MutationObserver<"u"){const e=new MutationObserver(()=>{this.menuElement&&this.element.contains(this.menuElement)&&this.reposition()});e.observe(this.element,{childList:!0}),this.mutationObserver=e}if(Fe.contextMenuDocuments.indexOf(t.document)<0){const e=t.document.createElement("style");e.innerHTML=Yh,t.document.head.insertBefore(e,t.document.head.querySelector("style")),Fe.contextMenuDocuments.push(t.document)}Fe.registerDefaultAction({id:"download",label:"Download",action:()=>{const e=t.chartService.title;let i="image";e!==void 0&&e.enabled&&e.text!==void 0&&(i=e.text),this.scene.download(i)}})}static registerDefaultAction(t){t.id&&this.defaultActions.find(({id:e})=>e===t.id)||this.defaultActions.push(t)}static registerNodeAction(t){t.id&&this.defaultActions.find(({id:e})=>e===t.id)||this.nodeActions.push(t)}static enableAction(t){this.disabledActions.delete(t)}static disableAction(t){this.disabledActions.add(t)}onContextMenu(t){if(!this.enabled)return;this.showEvent=t.sourceEvent,this.x=t.pageX,this.y=t.pageY,this.groups.default=[...Fe.defaultActions],this.pickedNode=this.highlightManager.getActivePicked(),this.pickedNode&&(this.groups.node=[...Fe.nodeActions]),this.extraActions.length>0&&(this.groups.extra=[...this.extraActions]),this.extraNodeActions.length>0&&this.pickedNode&&(this.groups.extraNode=[...this.extraNodeActions]);const{default:e,node:i,extra:o,extraNode:a}=this.groups;e.length+i.length+o.length+a.length!==0&&(t.consume(),t.sourceEvent.preventDefault(),this.show())}show(){var t,e;if(!this.coverElement)return;const i=this.renderMenu();this.menuElement?this.element.replaceChild(i,this.menuElement):this.element.appendChild(i),this.menuElement=i,this.interactionManager.pause(nn),this.tooltipManager.updateTooltip(an),this.element.style.display="block",this.coverElement.style.display="block",this.coverElement.style.left=`${(t=this.canvasElement.parentElement)==null?void 0:t.offsetLeft}px`,this.coverElement.style.top=`${(e=this.canvasElement.parentElement)==null?void 0:e.offsetTop}px`,this.coverElement.style.width=`${this.canvasElement.clientWidth}px`,this.coverElement.style.height=`${this.canvasElement.clientHeight}px`}hide(){this.menuElement&&(this.element.removeChild(this.menuElement),this.menuElement=void 0),this.interactionManager.resume(nn),this.tooltipManager.removeTooltip(an),this.element.style.display="none",this.coverElement.style.display="none"}renderMenu(){const t=this.ctx.document.createElement("div");return t.classList.add(`${Et}__menu`),this.groups.default.forEach(e=>{const i=this.renderItem(e);i&&t.appendChild(i)}),["node","extra","extraNode"].forEach(e=>{this.groups[e].length===0||["node","extraNode"].includes(e)&&!this.pickedNode||(t.appendChild(this.createDividerElement()),this.groups[e].forEach(i=>{const o=this.renderItem(i);o&&t.appendChild(o)}))}),t}renderItem(t){if(t&&typeof t=="object"&&t.constructor===Object)return this.createActionElement(t)}createDividerElement(){const t=this.ctx.document.createElement("div");return t.classList.add(`${Et}__divider`),t}createActionElement({id:t,label:e,action:i}){return t&&Fe.disabledActions.has(t)?this.createDisabledElement(e):this.createButtonElement(e,i)}createButtonElement(t,e){const i=this.ctx.document.createElement("button");return i.classList.add(`${Et}__item`),i.innerHTML=t,i.onclick=()=>{var o,a,n;const r={event:this.showEvent,datum:(o=this.pickedNode)==null?void 0:o.datum,itemId:(a=this.pickedNode)==null?void 0:a.itemId,seriesId:(n=this.pickedNode)==null?void 0:n.series.id};e(r),this.hide()},i}createDisabledElement(t){const e=this.ctx.document.createElement("button");return e.classList.add(`${Et}__item`),e.disabled=!0,e.innerHTML=t,e}reposition(){const{x:t,y:e,ctx:{window:i}}=this;this.element.style.top="unset",this.element.style.bottom="unset",this.element.style.left="unset",this.element.style.right="unset",t+this.element.offsetWidth>i.innerWidth?this.element.style.right=`calc(100% - ${t-1}px)`:this.element.style.left=`${t+1}px`,e+this.element.offsetHeight>i.innerHeight?this.element.style.bottom=`calc(100% - ${e}px - 0.5em)`:this.element.style.top=`calc(${e}px - 0.5em)`}destroy(){var t,e;super.destroy(),(t=this.intersectionObserver)==null||t.unobserve(this.canvasElement),(e=this.mutationObserver)==null||e.disconnect()}};Xe.contextMenuDocuments=[],Xe.defaultActions=[],Xe.nodeActions=[],Xe.disabledActions=new Set,u([Wh(Hh)],Xe.prototype,"enabled",2);var te=Xe,Gh={type:"root",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy"],optionsKey:"contextMenu",instanceConstructor:te,themeTemplate:{contextMenu:{enabled:!0}}};import{_ModuleSupport as rn,_Scene as Kh}from"ag-charts-community";import{_ModuleSupport as Xh,_Scene as ln}from"ag-charts-community";var{ActionOnSet:Qh,Validate:Qe,NUMBER:cn,BOOLEAN:$h,STRING:hn,FUNCTION:Zh}=Xh,{BBox:qh}=ln,$e="ag-crosshair-label",Jh=`
.${$e} {
    position: absolute;
    left: 0px;
    top: 0px;
    user-select: none;
    pointer-events: none;
    font: 12px Verdana, sans-serif;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    box-sizing: border-box;
}

.${$e}-content {
    padding: 0 7px;
    border-radius: 2px;
    line-height: 1.7em;
    background-color: rgb(71,71,71);
    color: rgb(255, 255, 255);
}

.${$e}-hidden {
    top: -10000px !important;
}
`,re=class ea{constructor(t,e){this.enabled=!0,this.className=void 0,this.xOffset=0,this.yOffset=0,this.format=void 0,this.renderer=void 0,this.labelRoot=e;const i=t.createElement("div");if(this.element=this.labelRoot.appendChild(i),this.element.classList.add($e),ea.labelDocuments.indexOf(t)<0){const o=t.createElement("style");o.innerHTML=Jh,t.head.insertBefore(o,t.head.querySelector("style")),ea.labelDocuments.push(t)}}show(t){const{element:e}=this;let i=t.x+this.xOffset,o=t.y+this.yOffset;const a=(c,h,d)=>Math.max(Math.min(h,d),c),n=this.getContainerBoundingBox(),r=n.x+n.width-e.clientWidth-1,l=n.y+n.height-e.clientHeight;i=a(n.x+1,i,r),o=a(n.y,o,l),e.style.transform=`translate(${Math.round(i)}px, ${Math.round(o)}px)`,this.toggle(!0)}setLabelHtml(t){t!==void 0&&(this.element.innerHTML=t)}computeBBox(){const{element:t}=this;return new ln.BBox(t.clientLeft,t.clientTop,t.clientWidth,t.clientHeight)}getContainerBoundingBox(){const{width:t,height:e}=this.labelRoot.getBoundingClientRect();return new qh(0,0,t,e)}toggle(t){this.element.classList.toggle(`${$e}-hidden`,!t)}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element)}toLabelHtml(t,e){var i,o;if(typeof t=="string")return t;e=e??{};const{text:a=(i=e.text)!=null?i:"",color:n=e.color,backgroundColor:r=e.backgroundColor,opacity:l=(o=e.opacity)!=null?o:1}=t,c=`opacity: ${l}; background-color: ${r?.toLowerCase()}; color: ${n}`;return`<div class="${$e}-content" style="${c}">
                    <span>${a}</span>
                </div>`}};re.labelDocuments=[],u([Qe($h)],re.prototype,"enabled",2),u([Qe(hn,{optional:!0}),Qh({changeValue(s,t){s!==t&&(t&&this.element.classList.remove(t),s&&this.element.classList.add(s))}})],re.prototype,"className",2),u([Qe(cn)],re.prototype,"xOffset",2),u([Qe(cn)],re.prototype,"yOffset",2),u([Qe(hn,{optional:!0})],re.prototype,"format",2),u([Qe(Zh,{optional:!0})],re.prototype,"renderer",2);var tu=re,{Group:eu,Line:iu,BBox:Vs}=Kh,{Validate:ve,POSITIVE_NUMBER:un,RATIO:su,BOOLEAN:dn,COLOR_STRING:ou,LINE_DASH:au,Layers:nu}=rn,le=class extends rn.BaseModuleInstance{constructor(s){var t,e;super(),this.ctx=s,this.enabled=!1,this.stroke="rgb(195, 195, 195)",this.lineDash=[6,3],this.lineDashOffset=0,this.strokeWidth=1,this.strokeOpacity=1,this.snap=!0,this.seriesRect=new Vs(0,0,0,0),this.hoverRect=new Vs(0,0,0,0),this.bounds=new Vs(0,0,0,0),this.visible=!1,this.crosshairGroup=new eu({layer:!0,zIndex:nu.SERIES_CROSSHAIR_ZINDEX}),this.lineNode=this.crosshairGroup.appendChild(new iu),this.activeHighlight=void 0,(t=s.scene.root)==null||t.appendChild(this.crosshairGroup),this.axisCtx=s.parent,this.crosshairGroup.visible=!1,this.label=new tu(s.document,(e=s.scene.canvas.container)!=null?e:s.document.body),this.destroyFns.push(s.interactionManager.addListener("hover",i=>this.onMouseMove(i)),s.interactionManager.addListener("leave",()=>this.onMouseOut()),s.highlightManager.addListener("highlight-change",i=>this.onHighlightChange(i)),s.layoutService.addListener("layout-complete",i=>this.layout(i)),()=>{var i;return(i=s.scene.root)==null?void 0:i.removeChild(this.crosshairGroup)},()=>this.label.destroy())}layout({series:{rect:s,paddedRect:t,visible:e},axes:i}){var o;if(this.hideCrosshair(),!(e&&i&&this.enabled)){this.visible=!1;return}this.visible=!0,this.seriesRect=s,this.hoverRect=t;const{position:a="left",axisId:n}=this.axisCtx,r=i.find(g=>g.id===n);if(!r)return;this.axisLayout=r;const l=r.gridPadding+r.seriesAreaPadding;this.bounds=this.buildBounds(s,a,l);const{crosshairGroup:c,bounds:h}=this;c.translationX=Math.round(h.x),c.translationY=Math.round(a==="top"||a==="bottom"?h.y+h.height:h.y);const d=a==="top"||a==="bottom"?-Math.PI/2:0;c.rotation=d,this.updateLine();const p=(o=this.label.format)!=null?o:r.label.format;this.labelFormatter=p?this.axisCtx.scaleValueFormatter(p):void 0}buildBounds(s,t,e){const i=s.clone();return i.x+=t==="left"?-e:0,i.y+=t==="top"?-e:0,i.width+=t==="left"||t==="right"?e:0,i.height+=t==="top"||t==="bottom"?e:0,i}updateLine(){const{lineNode:s,bounds:t,stroke:e,strokeWidth:i,strokeOpacity:o,lineDash:a,lineDashOffset:n,axisCtx:r,axisLayout:l}=this;l&&(s.stroke=e,s.strokeWidth=i,s.strokeOpacity=o,s.lineDash=a,s.lineDashOffset=n,s.y1=s.y2=0,s.x1=0,s.x2=r.direction==="x"?t.height:t.width)}formatValue(s){var t;const{labelFormatter:e,axisLayout:i,ctx:{callbackCache:o}}=this;if(e){const r=o.call(e,s);if(r!==void 0)return r}const a=s%1===0,n=((t=i?.label.fractionDigits)!=null?t:0)+(a?0:1);return typeof s=="number"?s.toFixed(n):String(s)}onMouseMove(s){const{crosshairGroup:t,snap:e,seriesRect:i,hoverRect:o,axisCtx:a,visible:n,activeHighlight:r}=this;if(e||!this.enabled)return;const{offsetX:l,offsetY:c}=s;if(n&&o.containsPoint(l,c)){t.visible=!0;const h=r?this.getActiveHighlight(r):void 0;let d,p=0,g=0;a.direction==="x"?(p=Math.max(Math.min(i.x+i.width,l),i.x),t.translationX=Math.round(p),d=a.continuous?a.scaleInvert(l-i.x):h?.value):(g=Math.max(Math.min(i.y+i.height,c),i.y),t.translationY=Math.round(g),d=a.continuous?a.scaleInvert(c-i.y):h?.value),d&&this.label.enabled?this.showLabel(p,g,d):this.hideLabel()}else this.hideCrosshair()}onMouseOut(){this.hideCrosshair()}onHighlightChange(s){var t,e;const{enabled:i,crosshairGroup:o,snap:a,seriesRect:n,axisCtx:r,visible:l}=this;if(!i)return;const{currentHighlight:c}=s;if(c?.datum&&(((t=c.series.axes.x)==null?void 0:t.id)===r.axisId||((e=c.series.axes.y)==null?void 0:e.id)===r.axisId)?this.activeHighlight=c:this.activeHighlight=void 0,!!a)if(l&&this.activeHighlight){o.visible=!0;const{value:d,position:p}=this.getActiveHighlight(this.activeHighlight);let g=0,f=0;r.direction==="x"?(g=p,o.translationX=Math.round(g+n.x)):(f=p,o.translationY=Math.round(f+n.y)),this.label.enabled?this.showLabel(g+n.x,f+n.y,d):this.hideLabel()}else this.hideCrosshair()}getActiveHighlight(s){var t,e;const{axisCtx:i}=this,{datum:o,xKey:a="",yKey:n="",aggregatedValue:r,series:l,cumulativeValue:c,midPoint:h}=s,d=i.scaleBandwidth()/2;if(r!==void 0&&((t=l.axes.y)==null?void 0:t.id)===i.axisId)return{value:r,position:i.scaleConvert(r)+d};const p=i.keys().indexOf(n)>=0;if(c!==void 0&&p)return{value:c,position:i.scaleConvert(c)+d};const g=p?n:a,f=(e=i.direction==="x"?h?.x:h?.y)!=null?e:0;return{value:i.continuous?i.scaleInvert(f):o[g],position:f}}getLabelHtml(s){const{label:t,axisLayout:{label:{fractionDigits:e=0}={}}={}}=this,{renderer:i}=t,o={text:this.formatValue(s)};if(i){const a={value:s,fractionDigits:e};return t.toLabelHtml(i(a),o)}return t.toLabelHtml(o)}showLabel(s,t,e){const{axisCtx:i,bounds:o,label:a,axisLayout:n}=this;if(!n)return;const{label:{padding:r},tickSize:l}=n,c=r+l,h=this.getLabelHtml(e);a.setLabelHtml(h);const d=a.computeBBox();let p;if(i.direction==="x"){const g=-d.width/2,f=i.position==="bottom"?0:-d.height,y=i.position==="bottom"?o.y+o.height+c:o.y-c;p={x:s+g,y:y+f}}else{const g=-d.height/2,f=i.position==="right"?0:-d.width;p={x:(i.position==="right"?o.x+o.width+c:o.x-c)+f,y:t+g}}a.show(p)}hideCrosshair(){this.crosshairGroup.visible=!1,this.hideLabel()}hideLabel(){this.label.toggle(!1)}};u([ve(dn)],le.prototype,"enabled",2),u([ve(ou,{optional:!0})],le.prototype,"stroke",2),u([ve(au,{optional:!0})],le.prototype,"lineDash",2),u([ve(un)],le.prototype,"lineDashOffset",2),u([ve(un)],le.prototype,"strokeWidth",2),u([ve(su)],le.prototype,"strokeOpacity",2),u([ve(dn)],le.prototype,"snap",2);import{_Theme as pn}from"ag-charts-community";var ru={crosshair:{enabled:!0,snap:!0,stroke:pn.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}},category:{crosshair:{enabled:!1,snap:!0,stroke:pn.DEFAULT_MUTED_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}},lu={type:"axis-option",optionsKey:"crosshair",packageType:"enterprise",chartTypes:["cartesian"],axisTypes:["category","number","log","time"],instanceConstructor:le,themeTemplate:ru};import{AgErrorBarSupportedSeriesTypes as cu}from"ag-charts-community";import{AgErrorBarSupportedSeriesTypes as gn,_ModuleSupport as Us,_Scene as hu}from"ag-charts-community";import{_ModuleSupport as uu,_Scene as Ze}from"ag-charts-community";var{partialAssign:du,mergeDefaults:Oi}=uu,{BBox:ee}=Ze,pu=class{constructor(s){this.components=s,this.union=ee.merge(s)}containsPoint(s,t){if(!this.union.containsPoint(s,t))return!1;for(const e of this.components)if(e.containsPoint(s,t))return!0;return!1}},gu=class extends Ze.Group{constructor(){super(),this.capLength=NaN,this._datum=void 0,this.whiskerPath=new Ze.Path,this.capsPath=new Ze.Path,this.bboxes=new pu([]),this.append([this.whiskerPath,this.capsPath])}get datum(){return this._datum}set datum(s){this._datum=s}calculateCapLength(s,t){const{lengthRatio:e=1,length:i}=s,{lengthRatioMultiplier:o,lengthMax:a}=t,n=i??e*o;return Math.min(n,a)}getFormatterParams(s,t){const{datum:e}=this;if(e===void 0||s.formatter===void 0&&s.cap.formatter===void 0)return;const{xLowerKey:i,xLowerName:o,xUpperKey:a,xUpperName:n,yLowerKey:r,yLowerName:l,yUpperKey:c,yUpperName:h}=s;return{datum:e.datum,seriesId:e.datum.seriesId,xKey:e.xKey,yKey:e.yKey,xLowerKey:i,xLowerName:o,xUpperKey:a,xUpperName:n,yLowerKey:r,yLowerName:l,yUpperKey:c,yUpperName:h,highlighted:t}}formatStyles(s,t,e){let i=s,{cap:o}=i,a=da(i,["cap"]);const n=this.getFormatterParams(t,e);if(n!==void 0){if(t.formatter!==void 0){const r=t.formatter(n);a=Oi(r,a),o=Oi(r,o),o=Oi(r?.cap,o)}if(t.cap.formatter!==void 0){const r=t.cap.formatter(n);o=Oi(r,o)}}return{whiskerStyle:a,capsStyle:o}}applyStyling(s,t){du(["visible","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],s,t)}update(s,t,e){if(this.datum===void 0)return;const{whiskerStyle:i,capsStyle:o}=this.formatStyles(s,t,e),{xBar:a,yBar:n,capDefaults:r}=this.datum,l=this.whiskerPath;this.applyStyling(l,i),l.path.clear(),n!==void 0&&(l.path.moveTo(n.lowerPoint.x,n.lowerPoint.y),l.path.lineTo(n.upperPoint.x,n.upperPoint.y)),a!==void 0&&(l.path.moveTo(a.lowerPoint.x,a.lowerPoint.y),l.path.lineTo(a.upperPoint.x,a.upperPoint.y)),l.path.closePath(),l.markDirtyTransform(),this.capLength=this.calculateCapLength(o??{},r);const c=this.capLength/2,h=this.capsPath;this.applyStyling(h,o),h.path.clear(),n!==void 0&&(h.path.moveTo(n.lowerPoint.x-c,n.lowerPoint.y),h.path.lineTo(n.lowerPoint.x+c,n.lowerPoint.y),h.path.moveTo(n.upperPoint.x-c,n.upperPoint.y),h.path.lineTo(n.upperPoint.x+c,n.upperPoint.y)),a!==void 0&&(h.path.moveTo(a.lowerPoint.x,a.lowerPoint.y-c),h.path.lineTo(a.lowerPoint.x,a.lowerPoint.y+c),h.path.moveTo(a.upperPoint.x,a.upperPoint.y-c),h.path.lineTo(a.upperPoint.x,a.upperPoint.y+c)),h.path.closePath(),h.markDirtyTransform()}updateBBoxes(){var s;const{capLength:t,whiskerPath:e,capsPath:i}=this,{yBar:o,xBar:a}=(s=this.datum)!=null?s:{},n=t/2,r=[];if(o!==void 0){const l=o.lowerPoint.y-o.upperPoint.y;r.push(new ee(o.lowerPoint.x,o.upperPoint.y,e.strokeWidth,l),new ee(o.lowerPoint.x-n,o.lowerPoint.y,t,i.strokeWidth),new ee(o.upperPoint.x-n,o.upperPoint.y,t,i.strokeWidth))}if(a!==void 0){const l=a.upperPoint.x-a.lowerPoint.x;r.push(new ee(a.lowerPoint.x,a.upperPoint.y,l,e.strokeWidth),new ee(a.lowerPoint.x,a.lowerPoint.y-n,i.strokeWidth,t),new ee(a.upperPoint.x,a.upperPoint.y-n,i.strokeWidth,t))}this.bboxes.components=r,this.bboxes.union=ee.merge(r)}containsPoint(s,t){return this.bboxes.containsPoint(s,t)}pickNode(s,t){return this.containsPoint(s,t)?this:void 0}nearestSquared(s,t){const{bboxes:e}=this;if(e.union.distanceSquared(s)>t)return{nearest:void 0,distanceSquared:1/0};const{distanceSquared:i}=ee.nearestBox(s,e.components);return{nearest:this,distanceSquared:i}}},yu=class extends Ze.Group{get children(){return super.children}nearestSquared(s){const{nearest:t,distanceSquared:e}=Ze.nearestSquaredInContainer(s,this);if(t!==void 0&&!isNaN(e))return{datum:t.datum,distanceSquared:e}}};import{_ModuleSupport as mu}from"ag-charts-community";var{BaseProperties:yn,Validate:et,BOOLEAN:mn,COLOR_STRING:fn,FUNCTION:xn,LINE_DASH:Sn,NUMBER:fu,OBJECT:xu,POSITIVE_NUMBER:Ri,RATIO:Ys,STRING:ce}=mu,$t=class extends yn{};u([et(mn,{optional:!0})],$t.prototype,"visible",2),u([et(fn,{optional:!0})],$t.prototype,"stroke",2),u([et(Ri,{optional:!0})],$t.prototype,"strokeWidth",2),u([et(Ys,{optional:!0})],$t.prototype,"strokeOpacity",2),u([et(Sn,{optional:!0})],$t.prototype,"lineDash",2),u([et(Ri,{optional:!0})],$t.prototype,"lineDashOffset",2),u([et(fu,{optional:!0})],$t.prototype,"length",2),u([et(Ys,{optional:!0})],$t.prototype,"lengthRatio",2),u([et(xn,{optional:!0})],$t.prototype,"formatter",2);var xt=class extends yn{constructor(){super(...arguments),this.visible=!0,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.cap=new $t}};u([et(ce,{optional:!0})],xt.prototype,"yLowerKey",2),u([et(ce,{optional:!0})],xt.prototype,"yLowerName",2),u([et(ce,{optional:!0})],xt.prototype,"yUpperKey",2),u([et(ce,{optional:!0})],xt.prototype,"yUpperName",2),u([et(ce,{optional:!0})],xt.prototype,"xLowerKey",2),u([et(ce,{optional:!0})],xt.prototype,"xLowerName",2),u([et(ce,{optional:!0})],xt.prototype,"xUpperKey",2),u([et(ce,{optional:!0})],xt.prototype,"xUpperName",2),u([et(mn,{optional:!0})],xt.prototype,"visible",2),u([et(fn,{optional:!0})],xt.prototype,"stroke",2),u([et(Ri,{optional:!0})],xt.prototype,"strokeWidth",2),u([et(Ys,{optional:!0})],xt.prototype,"strokeOpacity",2),u([et(Sn,{optional:!0})],xt.prototype,"lineDash",2),u([et(Ri,{optional:!0})],xt.prototype,"lineDashOffset",2),u([et(xn,{optional:!0})],xt.prototype,"formatter",2),u([et(xu)],xt.prototype,"cap",2);var{isDefined:Zt,fixNumericExtent:Su,mergeDefaults:Mu,valueProperty:ki,ChartAxisDirection:Hs}=Us;function vu(s){for(const t of gn)if(t==s.series.type)return s.series;throw new Error(`AG Charts - unsupported series type '${s.series.type}', error bars supported series types: ${gn.join(", ")}`)}var Nu=class extends Us.BaseModuleInstance{constructor(s){super(),this.properties=new xt;const t=vu(s),{annotationGroup:e,annotationSelections:i}=t;this.cartesianSeries=t,this.groupNode=new yu({name:`${e.id}-errorBars`,zIndex:Us.Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}),e.appendChild(this.groupNode),this.selection=hu.Selection.select(this.groupNode,()=>this.errorBarFactory()),i.add(this.selection),this.destroyFns.push(t.addListener("data-processed",o=>this.onDataProcessed(o)),t.addListener("data-update",o=>this.onDataUpdate(o)),t.addListener("visibility-changed",o=>this.onToggleSeriesItem(o)),s.highlightManager.addListener("highlight-change",o=>this.onHighlightChange(o)),()=>e.removeChild(this.groupNode),()=>i.delete(this.selection))}getPropertyDefinitions(s){const t=[],{cartesianSeries:e}=this,{xLowerKey:i,xUpperKey:o,yLowerKey:a,yUpperKey:n,xErrorsID:r,yErrorsID:l}=this.getMaybeFlippedKeys(),{isContinuousX:c,isContinuousY:h}=s;return a!==void 0&&n!==void 0&&t.push(ki(e,a,h,{id:l}),ki(e,n,h,{id:l})),i!==void 0&&o!==void 0&&t.push(ki(e,i,c,{id:r}),ki(e,o,c,{id:r})),t}onDataProcessed(s){this.dataModel=s.dataModel,this.processedData=s.processedData}getDomain(s){const{xLowerKey:t,xUpperKey:e,xErrorsID:i,yLowerKey:o,yUpperKey:a,yErrorsID:n}=this.getMaybeFlippedKeys();if(s===Hs.X?Zt(t)&&Zt(e):Zt(o)&&Zt(a)){const{dataModel:l,processedData:c,cartesianSeries:h}=this,d=h.axes[s],p={x:i,y:n}[s];if(l!==void 0&&c!==void 0){const g=l.getDomain(h,p,"value",c);return Su(g,d)}}return[]}onDataUpdate(s){this.dataModel=s.dataModel,this.processedData=s.processedData,Zt(s.dataModel)&&Zt(s.processedData)&&(this.createNodeData(),this.update())}getNodeData(){const{contextNodeData:s}=this.cartesianSeries;if(s.length>0)return s[0].nodeData}createNodeData(){var s,t;const e=this.getNodeData(),i=(s=this.cartesianSeries.axes[Hs.X])==null?void 0:s.scale,o=(t=this.cartesianSeries.axes[Hs.Y])==null?void 0:t.scale;if(!(!i||!o||!e))for(let a=0;a<e.length;a++){const{midPoint:n,xLower:r,xUpper:l,yLower:c,yUpper:h}=this.getDatum(e,a);if(n!==void 0){let d,p;Zt(r)&&Zt(l)&&(d={lowerPoint:{x:this.convert(i,r),y:n.y},upperPoint:{x:this.convert(i,l),y:n.y}}),Zt(c)&&Zt(h)&&(p={lowerPoint:{x:n.x,y:this.convert(o,c)},upperPoint:{x:n.x,y:this.convert(o,h)}}),e[a].xBar=d,e[a].yBar=p}}}getMaybeFlippedKeys(){let{xLowerKey:s,xUpperKey:t,yLowerKey:e,yUpperKey:i}=this.properties,[o,a]=["xValue-errors","yValue-errors"];return this.cartesianSeries.shouldFlipXY()&&([s,e]=[e,s],[t,i]=[i,t],[o,a]=[a,o]),{xLowerKey:s,xUpperKey:t,xErrorsID:o,yLowerKey:e,yUpperKey:i,yErrorsID:a}}getDatum(s,t){const{xLowerKey:e,xUpperKey:i,yLowerKey:o,yUpperKey:a}=this.getMaybeFlippedKeys(),n=s[t];return{midPoint:n.midPoint,xLower:n.datum[e??""],xUpper:n.datum[i??""],yLower:n.datum[o??""],yUpper:n.datum[a??""]}}convert(s,t){var e;const i=((e=s.bandwidth)!=null?e:0)/2;return s.convert(t)+i}update(){const s=this.getNodeData();s!==void 0&&(this.selection.update(s),this.selection.each((t,e,i)=>this.updateNode(t,e,i)))}updateNode(s,t,e){s.datum=t,s.update(this.getDefaultStyle(),this.properties,!1),s.updateBBoxes()}pickNodeExact(s){const{x:t,y:e}=this.groupNode.transformPoint(s.x,s.y),i=this.groupNode.pickNode(t,e);if(i!==void 0)return{datum:i.datum,distanceSquared:0}}pickNodeNearest(s){return this.groupNode.nearestSquared(s)}pickNodeMainAxisFirst(s){return this.groupNode.nearestSquared(s)}getTooltipParams(){const{xLowerKey:s,xUpperKey:t,yLowerKey:e,yUpperKey:i,xLowerName:o=s,xUpperName:a=t,yLowerName:n=e,yUpperName:r=i}=this.properties;return{xLowerKey:s,xLowerName:o,xUpperKey:t,xUpperName:a,yLowerKey:e,yLowerName:n,yUpperKey:i,yUpperName:r}}onToggleSeriesItem(s){this.groupNode.visible=s.enabled}makeStyle(s){return{visible:s.visible,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset,stroke:s.stroke,strokeWidth:s.strokeWidth,strokeOpacity:s.strokeOpacity,cap:Mu(this.properties.cap,s)}}getDefaultStyle(){return this.makeStyle(this.getWhiskerProperties())}getHighlightStyle(){return this.makeStyle(this.getWhiskerProperties())}restyleHighlightChange(s,t,e){const i=this.getNodeData();if(i!==void 0){for(let o=0;o<i.length;o++)if(s===i[o]){this.selection.nodes()[o].update(t,this.properties,e);break}}}onHighlightChange(s){const{previousHighlight:t,currentHighlight:e}=s;e?.series===this.cartesianSeries&&this.restyleHighlightChange(e,this.getHighlightStyle(),!0),t?.series===this.cartesianSeries&&this.restyleHighlightChange(t,this.getDefaultStyle(),!1),this.groupNode.opacity=this.cartesianSeries.getOpacity()}errorBarFactory(){return new gu}getWhiskerProperties(){const{stroke:s,strokeWidth:t,visible:e,strokeOpacity:i,lineDash:o,lineDashOffset:a}=this.properties;return{stroke:s,strokeWidth:t,visible:e,strokeOpacity:i,lineDash:o,lineDashOffset:a}}};import{_Theme as Iu}from"ag-charts-community";var Au={errorBar:{visible:!0,stroke:Iu.DEFAULT_LABEL_COLOUR,strokeWidth:1,strokeOpacity:1,cap:{length:void 0,lengthRatio:void 0}}},Du={type:"series-option",identifier:"error-bars",optionsKey:"errorBar",packageType:"enterprise",chartTypes:["cartesian"],seriesTypes:cu,instanceConstructor:Nu,themeTemplate:Au};import{_ModuleSupport as Ci}from"ag-charts-community";import{_ModuleSupport as bu,_Scene as Tu}from"ag-charts-community";var{COLOR_STRING:_u,RATIO:Eu,Validate:Mn}=bu,wi=class extends Tu.Rect{constructor(){super(...arguments),this.fill="rgb(33, 150, 243)",this.fillOpacity=.2}};wi.className="ZoomRect",u([Mn(_u)],wi.prototype,"fill",2),u([Mn(Eu)],wi.prototype,"fillOpacity",2);import{_ModuleSupport as Ws}from"ag-charts-community";var at={min:0,max:1},Pi=(s,t=0,e=1)=>Math.max(t,Math.min(e,s));function Gs(){return{x:H({},at),y:H({},at)}}function St(s){var t,e,i,o,a,n,r,l;return{x:{min:(e=(t=s?.x)==null?void 0:t.min)!=null?e:at.min,max:(o=(i=s?.x)==null?void 0:i.max)!=null?o:at.max},y:{min:(n=(a=s?.y)==null?void 0:a.min)!=null?n:at.min,max:(l=(r=s?.y)==null?void 0:r.max)!=null?l:at.max}}}function Ne(s,t,e){if(!s)return{x:0,y:0};const i=Pi(t-s.x,0,s.x+s.width),o=Pi(e-s.y,0,s.y+s.height),a=1/s.width*i,n=1-1/s.height*o;return{x:Pi(a),y:Pi(n)}}function zi(s,t,e){return{x:{min:s.x.min+t,max:s.x.max+t},y:{min:s.y.min+e,max:s.y.max+e}}}function Lu(s,t,e){const i=s.x.max-s.x.min,o=s.y.max-s.y.min;return{x:{min:s.x.min,max:s.x.min+i*t},y:{min:s.y.min,max:s.y.min+o*e}}}function vn(s,t,e){const i=s.x.max-s.x.min,o=s.y.max-s.y.min,a=s.x.min+i/2,n=s.y.min+o/2;return{x:{min:a-i*t/2,max:a+i*t/2},y:{min:n-o*e/2,max:n+o*e/2}}}function Bi(s,t,e,i){let{min:o,max:a}=t;const n=o+(a-o)/2,r=s.max-s.min;if(e==="start")a=t.min+r;else if(e==="end")o=t.max-r;else if(e==="middle")o=n-r/2,a=n+r/2;else if(e==="pointer"){const l=Ks(s,t,i??n);o=l.min,a=l.max}return{min:o,max:a}}function Ks(s,t,e){const i=e*(1-(t.max-t.min-(s.max-s.min))),o=e-i,a=s.min+o,n=s.max+o;return{min:a,max:n}}function Ie(s){const t=Gs();return t.x=Nn(s.x),t.y=Nn(s.y),t}function Nn(s){const t=s.max-s.min;let e=s.max>at.max?at.max-t:s.min,i=s.min<at.min?t:s.max;return e=Math.max(at.min,e),i=Math.min(at.max,i),{min:e,max:i}}var Ou=class{constructor(){this.isAxisDragging=!1}update(s,t,e,i,o,a){return this.isAxisDragging=!0,this.oldZoom==null&&(t===Ws.ChartAxisDirection.X?this.oldZoom=St(yt(H({},o),{x:a})):this.oldZoom=St(yt(H({},o),{y:a}))),this.updateCoords(s.offsetX,s.offsetY),this.updateZoom(t,e,i)}stop(){this.isAxisDragging=!1,this.coords=void 0,this.oldZoom=void 0}updateCoords(s,t){this.coords?(this.coords.x2=s,this.coords.y2=t):this.coords={x1:s,y1:t,x2:s,y2:t}}updateZoom(s,t,e){const{coords:i,oldZoom:o}=this;let a=St(o);if(!i||!o)return s===Ws.ChartAxisDirection.X?a.x:a.y;const n=Ne(e,i.x1,i.y1),r=Ne(e,i.x2,i.y2);if(s===Ws.ChartAxisDirection.X){const c=(r.x-n.x)*(o.x.max-o.x.min);return a.x.max+=c,a.x=Bi(a.x,o.x,t,n.x),a=Ie(a),a.x}const l=(r.y-n.y)*(o.y.max-o.y.min);return a.y.max-=l,a.y=Bi(a.y,o.y,t,n.y),a=Ie(a),a.y}};import{_ModuleSupport as In}from"ag-charts-community";var Ru=class{constructor(){this.isPanning=!1}update(s,t,e){return this.isPanning=!0,this.updateCoords(s.offsetX,s.offsetY),this.translateZooms(t,e)}stop(){this.isPanning=!1,this.coords=void 0}updateCoords(s,t){this.coords?(this.coords.x1=this.coords.x2,this.coords.y1=this.coords.y2,this.coords.x2=s,this.coords.y2=t):this.coords={x1:s,y1:t,x2:s,y2:t}}translateZooms(s,t){var e;const{x1:i=0,y1:o=0,x2:a=0,y2:n=0}=(e=this.coords)!=null?e:{},r=i<=a?a-i:i-a,l=o<=n?n-o:o-n,c=Ne(s,s.x+r,s.y+s.height-l),h=i<=a?-c.x:c.x,d=o<=n?c.y:-c.y,p={};for(const[g,{direction:f,zoom:y}]of Object.entries(t)){let m;f===In.ChartAxisDirection.X?m=St({x:y}):m=St({y});const S=m.x.max-m.x.min,v=m.y.max-m.y.min;m=Ie(zi(m,h*S,d*v)),f===In.ChartAxisDirection.X?p[g]={direction:f,zoom:m.x}:p[g]={direction:f,zoom:m.y}}return p}},ku=class{update(s,t,e,i,o,a,n,r){const l=St(r),c=s.sourceEvent,h=c.deltaY<0?-1:1;let d=St(l);return d.x.max+=o?t*h*(l.x.max-l.x.min):0,d.y.max+=a?t*h*(l.y.max-l.y.min):0,e==="pointer"&&o||i==="pointer"&&a?d=this.scaleZoomToPointer(c,o,a,n,l,d):(o&&(d.x=Bi(d.x,l.x,e)),a&&(d.y=Bi(d.y,l.y,i))),d=Ie(d),d}scaleZoomToPointer(s,t,e,i,o,a){var n,r;const l=Ne(i,(n=s.offsetX)!=null?n:s.clientX,(r=s.offsetY)!=null?r:s.clientY);return a.x=t?Ks(a.x,o.x,l.x):a.x,a.y=e?Ks(a.y,o.y,l.y):a.y,a}},Cu=class{constructor(s){this.rect=s,this.rect.visible=!1}update(s,t,e,i,o,a,n){this.rect.visible=!0,this.updateCoords(s.offsetX,s.offsetY,t,e,i,o,a,n),this.updateRect(a)}stop(s,t){let e=St();return s&&(this.coords&&(e=this.createZoomFromCoords(s,t)),this.reset()),e}reset(){this.coords=void 0,this.rect.visible=!1}updateCoords(s,t,e,i,o,a,n,r){if(!this.coords){this.coords={x1:s,y1:t,x2:s,y2:t};return}if(this.coords.x2=s,this.coords.y2=t,!n)return;const l=St(r),c=this.getNormalisedDimensions(),h=n.width/n.height,d=l.x.max-l.x.min,p=l.y.max-l.y.min,g=e/d,f=i/p;c.width/n.width<g&&(this.coords.x2<this.coords.x1?this.coords.x2=this.coords.x1-n.width*g:this.coords.x2=this.coords.x1+n.width*g),a&&!o?c.height/n.height<f&&(this.coords.y2<this.coords.y1?this.coords.y2=this.coords.y1-n.width*g:this.coords.y2=this.coords.y1+n.height*f):this.coords.y2<this.coords.y1?this.coords.y2=Math.min(this.coords.y1-c.width/h,this.coords.y1-n.height*f):this.coords.y2=Math.max(this.coords.y1+c.width/h,this.coords.y1+n.height*f),o||(this.coords.x1=n.x,this.coords.x2=n.x+n.width),a||(this.coords.y1=n.y,this.coords.y2=n.y+n.height)}updateRect(s){if(!s)return;const{rect:t}=this,e=this.getNormalisedDimensions(),{width:i,height:o}=e;let{x:a,y:n}=e;a=Math.max(a,s.x),a-=Math.max(0,a+i-(s.x+s.width)),n=Math.max(n,s.y),n-=Math.max(0,n+o-(s.y+s.height)),t.x=a,t.y=n,t.width=i,t.height=o}createZoomFromCoords(s,t){const e=St(t),i=this.getNormalisedDimensions(),o=Ne(s,i.x,i.y+i.height),a=i.width/s.width,n=i.height/s.height;let r=Lu(e,a,n);const l=o.x*(e.x.max-e.x.min),c=o.y*(e.y.max-e.y.min);return r=zi(r,l,c),r=Ie(r),r}getNormalisedDimensions(){var s;const{x1:t=0,y1:e=0,x2:i=0,y2:o=0}=(s=this.coords)!=null?s:{},a=t<=i?t:i,n=e<=o?e:o,r=t<=i?i-t:t-i,l=e<=o?o-e:e-o;return{x:a,y:n,width:r,height:l}}},{BOOLEAN:qe,NUMBER:An,RATIO:wu,UNION:Xs,ActionOnSet:Pu,ChartAxisDirection:ji,ChartUpdateType:zu,Validate:Pt}=Ci,Dn=Xs(["pointer","start","middle","end"],"an anchor cord"),Fi="zoom-action",Vi="pan-action",Ui="zoom-cursor",bn="zoom-tooltip",Tn="zoom",Bu=3,Ae=(s,t=Bu)=>{const e=Math.pow(10,t);return Math.round(s*e)/e},kt=class extends Ci.BaseModuleInstance{constructor(s){var t;super(),this.ctx=s,this.enabled=!1,this.enableAxisDragging=!0,this.enableDoubleClickToReset=!0,this.enablePanning=!0,this.enableScrolling=!0,this.enableSelecting=!1,this.panKey="alt",this.axes="x",this.scrollingStep=at.max/10,this.minVisibleItemsX=2,this.minVisibleItemsY=2,this.anchorPointX="end",this.anchorPointY="middle",this.axisDragger=new Ou,this.panner=new Ru,this.scroller=new ku,this.isDragging=!1,this.minRatioX=0,this.minRatioY=0,this.enableSecondaryAxis=!1,this.scene=s.scene,this.cursorManager=s.cursorManager,this.highlightManager=s.highlightManager,this.tooltipManager=s.tooltipManager,this.zoomManager=s.zoomManager,this.updateService=s.updateService;const e={bypassPause:["animation"]};this.destroyFns.push(s.interactionManager.addListener("dblclick",o=>this.onDoubleClick(o),e),s.interactionManager.addListener("drag",o=>this.onDrag(o),e),s.interactionManager.addListener("drag-end",()=>this.onDragEnd(),e),s.interactionManager.addListener("wheel",o=>this.onWheel(o),e),s.interactionManager.addListener("hover",()=>this.onHover(),e),s.chartEventManager.addListener("axis-hover",o=>this.onAxisHover(o)),s.layoutService.addListener("layout-complete",o=>this.onLayoutComplete(o)),s.updateService.addListener("update-complete",o=>this.onUpdateComplete(o)));const i=new wi;this.selector=new Cu(i),(t=this.scene.root)==null||t.appendChild(i),this.destroyFns.push(()=>{var o;return(o=this.scene.root)==null?void 0:o.removeChild(i)})}registerContextMenuActions(){te.registerDefaultAction({id:Fi,label:"Zoom to here",action:t=>this.onContextMenuZoomToHere(t)}),te.registerDefaultAction({id:Vi,label:"Pan to here",action:t=>this.onContextMenuPanToHere(t)});const s=St(this.zoomManager.getZoom());this.toggleContextMenuActions(s)}toggleContextMenuActions(s){this.isMinZoom(s)?te.disableAction(Fi):te.enableAction(Fi),this.isMaxZoom(s)?te.disableAction(Vi):te.enableAction(Vi)}onDoubleClick(s){var t;if(!(!this.enabled||!this.enableDoubleClickToReset))if(this.hoveredAxis){const{id:e,direction:i}=this.hoveredAxis;this.updateAxisZoom(e,i,H({},at))}else(t=this.seriesRect)!=null&&t.containsPoint(s.offsetX,s.offsetY)&&this.highlightManager.getActivePicked()===void 0&&this.updateZoom(Gs())}onDrag(s){var t;if(!this.enabled||!this.seriesRect)return;const e=s.sourceEvent;if(!(e.button===0))return;this.isDragging=!0,this.tooltipManager.updateTooltip(bn);const o=St(this.zoomManager.getZoom());if(this.enableAxisDragging&&this.hoveredAxis){const{id:a,direction:n}=this.hoveredAxis,r=n===Ci.ChartAxisDirection.X?this.anchorPointX:this.anchorPointY,l=(t=this.zoomManager.getAxisZoom(a))!=null?t:H({},at),c=this.axisDragger.update(s,n,r,this.seriesRect,o,l);this.updateAxisZoom(a,n,c);return}if(this.seriesRect.containsPoint(s.offsetX,s.offsetY)){if(this.enablePanning&&(!this.enableSelecting||this.isPanningKeyPressed(e))){const a=this.panner.update(s,this.seriesRect,this.zoomManager.getAxisZooms());for(const[n,{direction:r,zoom:l}]of Object.entries(a))this.updateAxisZoom(n,r,l);this.cursorManager.updateCursor(Ui,"grabbing");return}!this.enableSelecting||this.isPanningKeyPressed(e)||this.panner.isPanning||this.isMinZoom(o)||(this.selector.update(s,this.minRatioX,this.minRatioY,this.isScalingX(),this.isScalingY(),this.seriesRect,o),this.updateService.update(zu.PERFORM_LAYOUT,{skipAnimations:!0}))}}onDragEnd(){if(!this.enabled||!this.isDragging)return;const s=St(this.zoomManager.getZoom());if(this.cursorManager.updateCursor(Ui),this.enableAxisDragging&&this.axisDragger.isAxisDragging)this.axisDragger.stop();else if(this.enablePanning&&this.panner.isPanning)this.panner.stop();else if(this.enableSelecting&&!this.isMinZoom(s)){const t=this.selector.stop(this.seriesRect,s);this.updateZoom(t)}this.isDragging=!1,this.tooltipManager.removeTooltip(bn)}onWheel(s){if(!this.enabled||!this.enableScrolling||!this.seriesRect)return;const t=this.zoomManager.getZoom(),e=this.seriesRect.containsPoint(s.offsetX,s.offsetY),i=this.enableAxisDragging&&this.hoveredAxis!=null;let o=this.isScalingX(),a=this.isScalingY();if(i&&(o=this.hoveredAxis.direction===Ci.ChartAxisDirection.X,a=!o),e||i){s.consume(),s.sourceEvent.preventDefault();const n=this.scroller.update(s,this.scrollingStep,this.getAnchorPointX(),this.getAnchorPointY(),o,a,this.seriesRect,t);this.updateZoom(n)}}onHover(){this.enabled&&(this.hoveredAxis=void 0,this.cursorManager.updateCursor(Ui))}onAxisHover(s){this.enabled&&(this.hoveredAxis={id:s.axisId,direction:s.direction},this.enableAxisDragging&&this.cursorManager.updateCursor(Ui,s.direction===ji.X?"ew-resize":"ns-resize"))}onLayoutComplete(s){if(!this.enabled)return;const{series:{paddedRect:t,shouldFlipXY:e}}=s;this.seriesRect=t,this.shouldFlipXY=e}onUpdateComplete({minRect:s}){if(!this.enabled||!this.seriesRect||!s)return;const t=St(this.zoomManager.getZoom()),e=this.shouldFlipXY?this.minVisibleItemsY:this.minVisibleItemsX,i=this.shouldFlipXY?this.minVisibleItemsX:this.minVisibleItemsY,o=s.width*e/this.seriesRect.width,a=s.height*i/this.seriesRect.height,n=o*(t.x.max-t.x.min),r=a*(t.y.max-t.y.min);this.isScalingX()&&(this.minRatioX||(this.minRatioX=Math.min(1,Ae(n)))),this.isScalingY()&&(this.minRatioY||(this.minRatioY=Math.min(1,Ae(r)))),this.minRatioX||(this.minRatioX=this.minRatioY||0),this.minRatioY||(this.minRatioY=this.minRatioX||0)}onContextMenuZoomToHere({event:s}){if(!this.enabled||!this.seriesRect||!s||!s.target)return;const t=St(this.zoomManager.getZoom()),e=Ne(this.seriesRect,s.clientX,s.clientY),i=e.x*(t.x.max-t.x.min),o=e.y*(t.y.max-t.y.min),a=at.max-at.min,n=a/2;let r={x:{min:e.x-n,max:e.x+n},y:{min:e.y-n,max:e.y+n}};r=vn(r,this.isScalingX()?this.minRatioX:a,this.isScalingY()?this.minRatioY:a),r=zi(r,t.x.min-e.x+i,t.y.min-e.y+o),this.updateZoom(Ie(r))}onContextMenuPanToHere({event:s}){if(!this.enabled||!this.seriesRect||!s||!s.target)return;const t=St(this.zoomManager.getZoom()),e=Ne(this.seriesRect,s.clientX,s.clientY),i=t.x.max-t.x.min,o=t.y.max-t.y.min,a=e.x*i,n=e.y*o,r=(at.max-at.min)/2;let l={x:{min:e.x-r,max:e.x+r},y:{min:e.y-r,max:e.y+r}};l=vn(l,i,o),l=zi(l,t.x.min-e.x+a,t.y.min-e.y+n),this.updateZoom(Ie(l))}isPanningKeyPressed(s){switch(this.panKey){case"alt":return s.altKey;case"ctrl":return s.ctrlKey;case"shift":return s.shiftKey;case"meta":return s.metaKey}}isScalingX(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="y":this.axes==="x"}isScalingY(){return this.axes==="xy"?!0:this.shouldFlipXY?this.axes==="x":this.axes==="y"}getAnchorPointX(){return this.shouldFlipXY?this.anchorPointY:this.anchorPointX}getAnchorPointY(){return this.shouldFlipXY?this.anchorPointX:this.anchorPointY}isMinZoom(s){const t=this.enableScrolling?(s.x.max-s.x.min)*(1-this.scrollingStep):Ae(s.x.max-s.x.min),e=this.enableScrolling?(s.y.max-s.y.min)*(1-this.scrollingStep):Ae(s.y.max-s.y.min),i=!this.isScalingX()||t<=this.minRatioX,o=!this.isScalingY()||e<=this.minRatioX;return i&&o}isMaxZoom(s){return s.x.min===at.min&&s.x.max===at.max&&s.y.min===at.min&&s.y.max===at.max}updateZoom(s){const t=Ae(s.x.max-s.x.min),e=Ae(s.y.max-s.y.min);if(t<this.minRatioX||e<this.minRatioY){te.disableAction(Fi),te.enableAction(Vi);return}this.toggleContextMenuActions(s),this.zoomManager.updateZoom(Tn,s)}updateAxisZoom(s,t,e){if(!e)return;if(!this.enableSecondaryAxis){const o=St(this.zoomManager.getZoom());t===ji.X?o.x=e:o.y=e,this.updateZoom(o);return}const i=Ae(e.max-e.min);t===ji.X&&i<this.minRatioX||t===ji.Y&&i<this.minRatioY||this.zoomManager.updateAxisZoom(Tn,s,e)}};u([Pu({changeValue(s){s&&(this.updateZoom(Gs()),this.registerContextMenuActions())}}),Pt(qe)],kt.prototype,"enabled",2),u([Pt(qe)],kt.prototype,"enableAxisDragging",2),u([Pt(qe)],kt.prototype,"enableDoubleClickToReset",2),u([Pt(qe)],kt.prototype,"enablePanning",2),u([Pt(qe)],kt.prototype,"enableScrolling",2),u([Pt(qe)],kt.prototype,"enableSelecting",2),u([Pt(Xs(["alt","ctrl","meta","shift"],"a pan key"))],kt.prototype,"panKey",2),u([Pt(Xs(["x","y","xy"],"an axis"))],kt.prototype,"axes",2),u([Pt(wu)],kt.prototype,"scrollingStep",2),u([Pt(An.restrict({min:1}))],kt.prototype,"minVisibleItemsX",2),u([Pt(An.restrict({min:1}))],kt.prototype,"minVisibleItemsY",2),u([Pt(Dn)],kt.prototype,"anchorPointX",2),u([Pt(Dn)],kt.prototype,"anchorPointY",2);var ju={type:"root",optionsKey:"zoom",packageType:"enterprise",chartTypes:["cartesian"],instanceConstructor:kt,conflicts:["navigator"],themeTemplate:{zoom:{enabled:!1}}};import{_ModuleSupport as Qs,_Scale as Fu,_Scene as Vu,_Util as Uu}from"ag-charts-community";var{BOOLEAN:_n,Layers:Yu,POSITION:Hu,Validate:De,Default:Wu,MIN_SPACING:Gu,POSITIVE_NUMBER:$s,ProxyProperty:jt,DeprecatedAndRenamedTo:Ku}=Qs,{BBox:Xu,Group:Zs,Rect:Qu,LinearGradientFill:$u,Triangle:Zu}=Vu,{createId:qu,Logger:Ju}=Uu,qs=class{constructor(){this.thickness=16,this.preferredLength=100}};u([De($s)],qs.prototype,"thickness",2),u([De($s)],qs.prototype,"preferredLength",2);var En=class extends Qs.AxisTick{constructor(){super(...arguments),this.enabled=!1,this.size=0,this.maxSpacing=NaN}};u([De(Gu),Wu(NaN)],En.prototype,"maxSpacing",2);var td=class extends Qs.CartesianAxis{constructor(s){super(s,new Fu.LinearScale),this.colorDomain=[],this.nice=!1,this.line.enabled=!1}calculateDomain(){this.dataDomain=this.normaliseDataDomain(this.colorDomain)}formatDatum(s){return typeof s=="number"?s.toFixed(2):(Ju.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(s))}createTick(){return new En}},he=class{constructor(s){this.label=s}};u([jt("label","fontStyle")],he.prototype,"fontStyle",2),u([jt("label","fontWeight")],he.prototype,"fontWeight",2),u([jt("label","fontSize")],he.prototype,"fontSize",2),u([jt("label","fontFamily")],he.prototype,"fontFamily",2),u([jt("label","color")],he.prototype,"color",2),u([jt("label","format")],he.prototype,"format",2),u([jt("label","formatter")],he.prototype,"formatter",2);var ui=class{constructor(s){this.tick=s}};u([jt("tick","values")],ui.prototype,"values",2),u([jt("tick","minSpacing")],ui.prototype,"minSpacing",2),u([jt("tick","maxSpacing")],ui.prototype,"maxSpacing",2),u([jt("tick","interval")],ui.prototype,"step",2);var Ln=class{constructor(s){this.axis=s,this.label=new he(s.label),this.interval=new ui(s.tick)}};u([jt("axis","seriesAreaPadding")],Ln.prototype,"padding",2);var be=class{constructor(s){this.ctx=s,this.id=qu(this),this.group=new Zs({name:"legend",layer:!0,zIndex:Yu.LEGEND_ZINDEX}),this.gradient=new qs,this.destroyFns=[],this.enabled=!1,this.position="bottom",this.reverseOrder=void 0,this.pagination=void 0,this.spacing=20,this.data=[],this.listeners={},this.latestGradientBox=void 0,this.layoutService=s.layoutService,this.destroyFns.push(this.layoutService.addListener("start-layout",t=>this.update(t.shrinkRect))),this.highlightManager=s.highlightManager,this.destroyFns.push(this.highlightManager.addListener("highlight-change",()=>this.onChartHoverChange())),this.gradientRect=new Qu,this.gradientFill=new $u,this.gradientFill.mask=this.gradientRect,this.group.append(this.gradientFill),this.arrow=new Zu,this.group.append(this.arrow),this.axisGridGroup=new Zs({name:"legend-axis-grid-group"}),this.group.append(this.axisGridGroup),this.axisGroup=new Zs({name:"legend-axis-group"}),this.group.append(this.axisGroup),this.axis=new td(s),this.axis.attachAxis(this.axisGroup,this.axisGridGroup),this.scale=new Ln(this.axis),this.stop=this.scale,this.destroyFns.push(()=>this.detachLegend())}getOrientation(){switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}destroy(){this.destroyFns.forEach(s=>s())}attachLegend(s){s.append(this.group)}detachLegend(){var s;(s=this.group.parent)==null||s.removeChild(this.group)}update(s){const t=this.data[0];if(!this.enabled||!t||!t.enabled)return this.group.visible=!1,{shrinkRect:s.clone()};const{colorRange:e}=this.normalizeColorArrays(t),i=this.updateGradientRect(s,e),o=this.updateAxis(t,i),{newShrinkRect:a,translateX:n,translateY:r}=this.getMeasurements(s,i,o);return this.updateArrow(i),this.group.visible=!0,this.group.translationX=n,this.group.translationY=r,this.latestGradientBox=i,{shrinkRect:a}}normalizeColorArrays(s){let t=s.colorDomain.slice();const e=s.colorRange.slice();if(t.length===e.length)return{colorDomain:t,colorRange:e};t.length>e.length&&e.splice(t.length);const i=e.length;return t=e.map((o,a)=>{const[n,r]=t;return a===0?n:a===i-1?r:n+(r-n)*a/(i-1)}),{colorDomain:t,colorRange:e}}updateGradientRect(s,t){const{preferredLength:e,thickness:i}=this.gradient,o=new Xu(0,0,0,0),a=this.getOrientation()==="vertical";if(a){const n=s.height,r=e;o.x=0,o.y=0,o.width=i,o.height=Math.min(n,r)}else{const n=s.width,r=e;o.x=0,o.y=0,o.width=Math.min(n,r),o.height=i}return this.reverseOrder&&(t=t.slice().reverse()),this.gradientFill.stops=t,this.gradientFill.direction=a?"to-bottom":"to-right",this.gradientRect.x=o.x,this.gradientRect.y=o.y,this.gradientRect.width=o.width,this.gradientRect.height=o.height,o}updateAxis(s,t){const{reverseOrder:e,axis:i}=this,o=this.getOrientation()==="vertical";i.position=o?"right":"bottom",i.colorDomain=e?s.colorDomain.slice().reverse():s.colorDomain,i.calculateDomain(),i.range=o?[0,t.height]:[0,t.width],i.gridLength=0,i.translation.x=t.x+(o?t.width:0),i.translation.y=t.y+(o?0:t.height);const a=i.calculateLayout().bbox;return i.update(),a}updateArrow(s){var t;const{arrow:e,axis:{label:i,scale:o}}=this,a=this.highlightManager.getActiveHighlight(),n=a?.colorValue;if(a==null||n==null){e.visible=!1;return}const r=this.getOrientation()==="vertical",l=(t=i.fontSize)!=null?t:0,c=o.convert(n);let h,d,p;r?(h=s.x-l/2,d=s.y+c,p=Math.PI/2):(h=s.x+c,d=s.y-l/2,p=Math.PI),e.fill=i.color,e.size=l,e.translationX=h,e.translationY=d,e.rotation=p,e.visible=!0}getMeasurements(s,t,e){let i,o;this.getOrientation()==="vertical"?(i=t.width+e.width,o=t.height):(i=t.width,o=t.height+e.height);const{spacing:n}=this,r=s.clone();let l,c;return this.position==="left"?(l=s.x,c=s.y+s.height/2-o/2,r.shrink(i+n,"left")):this.position==="right"?(l=s.x+s.width-i,c=s.y+s.height/2-o/2,r.shrink(i+n,"right")):this.position==="top"?(l=s.x+s.width/2-i/2,c=s.y,r.shrink(o+n,"top")):(l=s.x+s.width/2-i/2,c=s.y+s.height-o,r.shrink(o+n,"bottom")),{translateX:l,translateY:c,gradientBox:t,newShrinkRect:r}}computeBBox(){return this.group.computeBBox()}onChartHoverChange(){this.enabled&&this.latestGradientBox!=null&&this.updateArrow(this.latestGradientBox)}};be.className="GradientLegend",u([De(_n)],be.prototype,"enabled",2),u([De(Hu)],be.prototype,"position",2),u([De(_n,{optional:!0})],be.prototype,"reverseOrder",2),u([De($s)],be.prototype,"spacing",2),u([Ku("scale")],be.prototype,"stop",2);import{_Theme as On}from"ag-charts-community";var ed="bottom",id={position:ed,spacing:20,scale:{padding:8,label:{color:On.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:On.DEFAULT_FONT_FAMILY,formatter:void 0},interval:{minSpacing:1,maxSpacing:50}},gradient:{preferredLength:100,thickness:16},reverseOrder:!1},sd={type:"legend",optionsKey:"gradientLegend",packageType:"enterprise",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient",instanceConstructor:be,themeTemplate:id},od=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(s,t){let e=s[0],i=s[1],o=s[2],a=s[3];e=this.ff(e,i,o,a,t[0],7,-680876936),a=this.ff(a,e,i,o,t[1],12,-389564586),o=this.ff(o,a,e,i,t[2],17,606105819),i=this.ff(i,o,a,e,t[3],22,-1044525330),e=this.ff(e,i,o,a,t[4],7,-176418897),a=this.ff(a,e,i,o,t[5],12,1200080426),o=this.ff(o,a,e,i,t[6],17,-1473231341),i=this.ff(i,o,a,e,t[7],22,-45705983),e=this.ff(e,i,o,a,t[8],7,1770035416),a=this.ff(a,e,i,o,t[9],12,-1958414417),o=this.ff(o,a,e,i,t[10],17,-42063),i=this.ff(i,o,a,e,t[11],22,-1990404162),e=this.ff(e,i,o,a,t[12],7,1804603682),a=this.ff(a,e,i,o,t[13],12,-40341101),o=this.ff(o,a,e,i,t[14],17,-1502002290),i=this.ff(i,o,a,e,t[15],22,1236535329),e=this.gg(e,i,o,a,t[1],5,-165796510),a=this.gg(a,e,i,o,t[6],9,-1069501632),o=this.gg(o,a,e,i,t[11],14,643717713),i=this.gg(i,o,a,e,t[0],20,-373897302),e=this.gg(e,i,o,a,t[5],5,-701558691),a=this.gg(a,e,i,o,t[10],9,38016083),o=this.gg(o,a,e,i,t[15],14,-660478335),i=this.gg(i,o,a,e,t[4],20,-405537848),e=this.gg(e,i,o,a,t[9],5,568446438),a=this.gg(a,e,i,o,t[14],9,-1019803690),o=this.gg(o,a,e,i,t[3],14,-187363961),i=this.gg(i,o,a,e,t[8],20,1163531501),e=this.gg(e,i,o,a,t[13],5,-1444681467),a=this.gg(a,e,i,o,t[2],9,-51403784),o=this.gg(o,a,e,i,t[7],14,1735328473),i=this.gg(i,o,a,e,t[12],20,-1926607734),e=this.hh(e,i,o,a,t[5],4,-378558),a=this.hh(a,e,i,o,t[8],11,-2022574463),o=this.hh(o,a,e,i,t[11],16,1839030562),i=this.hh(i,o,a,e,t[14],23,-35309556),e=this.hh(e,i,o,a,t[1],4,-1530992060),a=this.hh(a,e,i,o,t[4],11,1272893353),o=this.hh(o,a,e,i,t[7],16,-155497632),i=this.hh(i,o,a,e,t[10],23,-1094730640),e=this.hh(e,i,o,a,t[13],4,681279174),a=this.hh(a,e,i,o,t[0],11,-358537222),o=this.hh(o,a,e,i,t[3],16,-722521979),i=this.hh(i,o,a,e,t[6],23,76029189),e=this.hh(e,i,o,a,t[9],4,-640364487),a=this.hh(a,e,i,o,t[12],11,-421815835),o=this.hh(o,a,e,i,t[15],16,530742520),i=this.hh(i,o,a,e,t[2],23,-995338651),e=this.ii(e,i,o,a,t[0],6,-198630844),a=this.ii(a,e,i,o,t[7],10,1126891415),o=this.ii(o,a,e,i,t[14],15,-1416354905),i=this.ii(i,o,a,e,t[5],21,-57434055),e=this.ii(e,i,o,a,t[12],6,1700485571),a=this.ii(a,e,i,o,t[3],10,-1894986606),o=this.ii(o,a,e,i,t[10],15,-1051523),i=this.ii(i,o,a,e,t[1],21,-2054922799),e=this.ii(e,i,o,a,t[8],6,1873313359),a=this.ii(a,e,i,o,t[15],10,-30611744),o=this.ii(o,a,e,i,t[6],15,-1560198380),i=this.ii(i,o,a,e,t[13],21,1309151649),e=this.ii(e,i,o,a,t[4],6,-145523070),a=this.ii(a,e,i,o,t[11],10,-1120210379),o=this.ii(o,a,e,i,t[2],15,718787259),i=this.ii(i,o,a,e,t[9],21,-343485551),s[0]=this.add32(e,s[0]),s[1]=this.add32(i,s[1]),s[2]=this.add32(o,s[2]),s[3]=this.add32(a,s[3])}cmn(s,t,e,i,o,a){return t=this.add32(this.add32(t,s),this.add32(i,a)),this.add32(t<<o|t>>>32-o,e)}ff(s,t,e,i,o,a,n){return this.cmn(t&e|~t&i,s,t,o,a,n)}gg(s,t,e,i,o,a,n){return this.cmn(t&i|e&~i,s,t,o,a,n)}hh(s,t,e,i,o,a,n){return this.cmn(t^e^i,s,t,o,a,n)}ii(s,t,e,i,o,a,n){return this.cmn(e^(t|~i),s,t,o,a,n)}md51(s){const t=s.length,e=[1732584193,-271733879,-1732584194,271733878];let i;for(i=64;i<=s.length;i+=64)this.md5cycle(e,this.md5blk(s.substring(i-64,i)));s=s.substring(i-64);const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++)o[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(e,o),i=0;i<16;i++)o[i]=0;return o[14]=t*8,this.md5cycle(e,o),e}md5blk(s){const t=[];for(let e=0;e<64;e+=4)t[e>>2]=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8)+(s.charCodeAt(e+2)<<16)+(s.charCodeAt(e+3)<<24);return t}rhex(s){const t="0123456789abcdef".split("");let e="",i=0;for(;i<4;i++)e+=t[s>>i*8+4&15]+t[s>>i*8&15];return e}hex(s){for(let t=0;t<s.length;t++)s[t]=this.rhex(s[t]);return s.join("")}md5(s){return this.hex(this.md51(s))}add32(s,t){return this.ieCompatibility?this.add32Compat(s,t):this.add32Std(s,t)}add32Std(s,t){return s+t&4294967295}add32Compat(s,t){const e=(s&65535)+(t&65535);return(s>>16)+(t>>16)+(e>>16)<<16|e&65535}};function Js(s){return s==null||s.length===0}function ad(s,t=!1){return s!=null&&(s!==""||t)}var Yi={"01":"GRID","02":"CHARTS","0102":"BOTH"},Rn=class Ut{constructor(t){this.watermarkMessage=void 0,this.document=t,this.md5=new od,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(this.licenseKey);if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey();else if(!t.valid)this.outputInvalidLicenseKey(t.incorrectLicenseType,t.licenseType);else if(t.isTrial&&t.trialExpired)this.outputExpiredTrialKey(t.expiry);else if(t.expired){const e=Ut.getchartsReleaseDate(),i=Ut.formatDate(e);this.outputIncompatibleVersion(t.expiry,i)}}static extractExpiry(t){const e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(Ut.decode(e),10))}static extractLicenseComponents(t){let e=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(e=e.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const i=e.length-32,o=e.substring(i),a=e.substring(0,i),[n,r,l]=Ut.extractBracketedInformation(e);return{md5:o,license:a,version:n,isTrial:r,type:l}}getLicenseDetails(t){if(Js(t))return{licenseKey:t,valid:!1,missing:!0};const e=Ut.getchartsReleaseDate(),{md5:i,license:o,version:a,isTrial:n,type:r}=Ut.extractLicenseComponents(t);let l=i===this.md5.md5(o)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,c,h,d=null,p,g;function f(){c=d<new Date,h=void 0}if(l&&(d=Ut.extractExpiry(o),l=!isNaN(d.getTime()),l))switch(h=e>d,a){case"legacy":case"2":{l=!1;break}case"3":Js(r)?l=!1:r!==Yi["02"]&&r!==Yi["0102"]?(l=!1,p=!0,g=r):n&&f()}return l?{licenseKey:t,valid:l,expiry:Ut.formatDate(d),expired:h,version:a,isTrial:n,trialExpired:c}:{licenseKey:t,valid:l,incorrectLicenseType:p,licenseType:g}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!Js(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){if(!this.document)return"localhost";const t=this.document.defaultView||window;if(!t)return"localhost";const e=t.location,{hostname:i=""}=e;return i}isForceWatermark(){var t,e;if(!this.document)return!1;const i=((e=(t=this.document)==null?void 0:t.defaultView)!=null?e:typeof window<"u")?window:void 0;if(!i)return!1;const{pathname:o}=i.location;return o?o.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const e=["January","February","March","April","May","June","July","August","September","October","November","December"],i=t.getDate(),o=t.getMonth(),a=t.getFullYear();return i+" "+e[o]+" "+a}static getchartsReleaseDate(){return new Date(parseInt(Ut.decode(Ut.RELEASE_INFORMATION),10))}static decode(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="",o,a,n,r,l,c,h,d=0;const p=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;d<p.length;)r=e.indexOf(p.charAt(d++)),l=e.indexOf(p.charAt(d++)),c=e.indexOf(p.charAt(d++)),h=e.indexOf(p.charAt(d++)),o=r<<2|l>>4,a=(l&15)<<4|c>>2,n=(c&3)<<6|h,i=i+String.fromCharCode(o),c!=64&&(i=i+String.fromCharCode(a)),h!=64&&(i=i+String.fromCharCode(n));return i=Ut.utf8_decode(i),i}static utf8_decode(t){t=t.replace(/rn/g,"n");let e="";for(let i=0;i<t.length;i++){const o=t.charCodeAt(i);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(o&63|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(o&63|128))}return e}setLicenseKey(t){this.licenseKey=t}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const e=t.match(/\[(.*?)\]/g).map(r=>r.replace("[","").replace("]",""));if(!e||e.length===0)return["legacy",!1,void 0];const i=e.filter(r=>r==="TRIAL").length===1,o=e.filter(r=>r.indexOf("v")===0)[0],a=o?o.replace("v",""):"legacy",n=Yi[e.filter(r=>Yi[r])[0]];return[a,i,n]}outputInvalidLicenseKey(t,e){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Charts Enterprise License *******************************************"),console.error("********************************************* Invalid License ***************************************************"),ad(t)&&t&&e==="GRID"&&console.error("* The license supplied is for AG Grid Enterprise Only and does not cover AG Charts Enterprise                    *"),console.error("* Your license for AG Charts Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t){console.error("****************************************************************************************************************"),console.error("***************************************** AG Charts Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error(`* Your license for AG Charts Enterprise expired on ${t}.                                                *`),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Charts Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Charts Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"}outputIncompatibleVersion(t,e){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Charts Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Charts Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Charts License entitles you to all versions of AG Charts that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Charts within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Charts released after the    *"),console.error(`* license end date. The license key that you have expires on ${t}, however the version of AG Charts you    *`),console.error(`* are trying to use was released on ${e}.                                                               *`),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Charts.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"}};Rn.RELEASE_INFORMATION="MTcwMDc2MzcxODkzNg==";var nd=Rn;import{_ModuleSupport as rd}from"ag-charts-community";var{injectStyle:ld}=rd,cd=`
.ag-watermark {
    position: absolute;
    bottom: 20px;
    right: 25px;
    font-weight: bold;
    font-family: Impact, sans-serif;
    font-size: 19px;
    opacity: 0.7;
    animation: 1s ease-out 3s ag-watermark-fadeout;
    color: #9B9B9B;

    &::before {
        content: '';
        display: block;
        height: 40px;
        width: 170px;
        background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);
        background-repeat: no-repeat;
        background-size: 170px 40px;
    }

    > span {
        padding-left: 0.7rem;
    }
}

@keyframes ag-watermark-fadeout {
    from { opacity: 0.5; }
    to { opacity: 0; }
}
`;function hd(s,t,e){ld(s,cd);const i=s.createElement("div"),o=s.createElement("span");o.innerText=e,i.addEventListener("animationend",()=>t.removeChild(i)),i.classList.add("ag-watermark"),i.appendChild(o),t.appendChild(i)}import{_Theme as ud,_Util as dd}from"ag-charts-community";import{_Theme as pd}from"ag-charts-community";var{CARTESIAN_AXIS_TYPES:kn,CARTESIAN_AXIS_POSITIONS:Cn}=pd,gd={axes:[{type:kn.NUMBER,position:Cn.LEFT,crosshair:{snap:!1}},{type:kn.CATEGORY,position:Cn.BOTTOM,groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}]};import{_ModuleSupport as Hi,_Scale as to,_Scene as yd,_Util as wn}from"ag-charts-community";function md(s){return{from:s?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function fd(s){return(t,e)=>s?{scalingCenterY:e.scaledValues.medianValue}:{scalingCenterX:e.scaledValues.medianValue}}import{_ModuleSupport as xd,_Scene as Wt}from"ag-charts-community";var Sd=class extends Wt.Group{constructor(){super(),this.append([new Wt.Rect({tag:0}),new Wt.Rect({tag:0}),new Wt.Rect({tag:2}),new Wt.Rect({tag:1}),new Wt.Line({tag:3}),new Wt.Line({tag:3}),new Wt.Line({tag:4}),new Wt.Line({tag:4})])}updateDatumStyles(s,t,e,i){const{bandwidth:o,scaledValues:{xValue:a,medianValue:n}}=s;let{minValue:r,q1Value:l,q3Value:c,maxValue:h}=s.scaledValues;(e&&!i||!e&&i)&&([h,c,l,r]=[r,l,c,h]);const{fill:d,fillOpacity:p,stroke:g,strokeWidth:f,strokeOpacity:y,lineDash:m,lineDashOffset:S,cap:v,whisker:N}=t,x=Wt.Selection.select(this,Wt.Rect),M=x.selectByTag(0),[I]=x.selectByTag(2),[D]=x.selectByTag(1),A=x.selectByTag(3),T=x.selectByTag(4);N.strokeWidth>o&&(N.strokeWidth=o),I.setProperties({x:l,y:a,width:c-l,height:o}),M[0].setProperties({x:l,y:a,width:Math.round(n-l+f/2),height:o}),M[1].setProperties({x:Math.round(n-f/2),y:a,width:Math.floor(c-n+f/2),height:o});const b=Math.max(Math.round(n-f/2),l+f),L=Math.min(Math.round(n+f/2),c-f);D.setProperties({visible:b<L,x:b,y:a+f,width:L-b,height:Math.max(0,o-f*2)});const _=Math.floor(a+o*(1-v.lengthRatio)/2),E=Math.ceil(a+o*(1+v.lengthRatio)/2);T[0].setProperties({x:r,y1:_,y2:E}),T[1].setProperties({x:h,y1:_,y2:E}),A[0].setProperties({x1:Math.round(r+N.strokeWidth/2),x2:l,y:Math.floor(a+o/2)}),A[1].setProperties({x1:c,x2:Math.round(h-N.strokeWidth/2),y:Math.floor(a+o/2)}),e&&xd.invertShapeDirection(I,D,...M,...T,...A);for(const O of M)O.setProperties({fill:d,fillOpacity:p,strokeWidth:f*2,strokeOpacity:0});D.setProperties({fill:g,fillOpacity:y,strokeWidth:0});for(const O of[...A,...T])O.setProperties(N);I.setProperties({stroke:g,strokeWidth:f,strokeOpacity:y,lineDash:m,lineDashOffset:S,fillOpacity:0})}};import{_ModuleSupport as Md}from"ag-charts-community";var{BaseProperties:Pn,AbstractBarSeriesProperties:vd,SeriesTooltip:Nd,Validate:X,COLOR_STRING:eo,FUNCTION:Id,LINE_DASH:zn,OBJECT:io,POSITIVE_NUMBER:Wi,RATIO:Gi,STRING:zt}=Md,Bn=class extends Pn{constructor(){super(...arguments),this.lengthRatio=.5}};u([X(Gi)],Bn.prototype,"lengthRatio",2);var Je=class extends Pn{};u([X(eo,{optional:!0})],Je.prototype,"stroke",2),u([X(Wi)],Je.prototype,"strokeWidth",2),u([X(Gi)],Je.prototype,"strokeOpacity",2),u([X(zn,{optional:!0})],Je.prototype,"lineDash",2),u([X(Wi)],Je.prototype,"lineDashOffset",2);var it=class extends vd{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cap=new Bn,this.whisker=new Je,this.tooltip=new Nd}};u([X(zt)],it.prototype,"xKey",2),u([X(zt)],it.prototype,"minKey",2),u([X(zt)],it.prototype,"q1Key",2),u([X(zt)],it.prototype,"medianKey",2),u([X(zt)],it.prototype,"q3Key",2),u([X(zt)],it.prototype,"maxKey",2),u([X(zt,{optional:!0})],it.prototype,"xName",2),u([X(zt,{optional:!0})],it.prototype,"yName",2),u([X(zt,{optional:!0})],it.prototype,"minName",2),u([X(zt,{optional:!0})],it.prototype,"q1Name",2),u([X(zt,{optional:!0})],it.prototype,"medianName",2),u([X(zt,{optional:!0})],it.prototype,"q3Name",2),u([X(zt,{optional:!0})],it.prototype,"maxName",2),u([X(eo,{optional:!0})],it.prototype,"fill",2),u([X(Gi)],it.prototype,"fillOpacity",2),u([X(eo)],it.prototype,"stroke",2),u([X(Wi)],it.prototype,"strokeWidth",2),u([X(Gi)],it.prototype,"strokeOpacity",2),u([X(zn)],it.prototype,"lineDash",2),u([X(Wi)],it.prototype,"lineDashOffset",2),u([X(Id,{optional:!0})],it.prototype,"formatter",2),u([X(io)],it.prototype,"cap",2),u([X(io)],it.prototype,"whisker",2),u([X(io)],it.prototype,"tooltip",2);var{extent:Ad,extractDecoratedProperties:jn,fixNumericExtent:so,keyProperty:Dd,mergeDefaults:oo,SeriesNodePickMode:bd,SMALLEST_KEY_INTERVAL:Td,valueProperty:di,diff:_d,animationValidation:Ed,ChartAxisDirection:Ld}=Hi,{motion:Fn}=yd,Od=class extends Hi.SeriesNodeClickEvent{constructor(s,t,e,i){super(s,t,e,i),this.xKey=i.properties.xKey,this.minKey=i.properties.minKey,this.q1Key=i.properties.q1Key,this.medianKey=i.properties.medianKey,this.q3Key=i.properties.q3Key,this.maxKey=i.properties.maxKey}},Rd=class Hl extends Hi.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[bd.EXACT_SHAPE_MATCH],pathsPerSeries:1,hasHighlightedLabels:!0}),this.properties=new it,this.NodeClickEvent=Od,this.groupScale=new to.BandScale,this.smallestDataInterval=void 0}processData(t){return C(this,null,function*(){var e,i,o,a;if(!this.properties.isValid())return;const{xKey:n,minKey:r,q1Key:l,medianKey:c,q3Key:h,maxKey:d}=this.properties,p=!this.ctx.animationManager.isSkipped(),g=((e=this.getCategoryAxis())==null?void 0:e.scale)instanceof to.ContinuousScale,f=[];p&&this.processedData&&f.push(_d(this.processedData)),p&&f.push(Ed(this));const{processedData:y}=yield this.requestDataModel(t,(i=this.data)!=null?i:[],{props:[Dd(this,n,g,{id:"xValue"}),di(this,r,!0,{id:"minValue"}),di(this,l,!0,{id:"q1Value"}),di(this,c,!0,{id:"medianValue"}),di(this,h,!0,{id:"q3Value"}),di(this,d,!0,{id:"maxValue"}),...g?[Td]:[],...f],dataVisible:this.visible});this.smallestDataInterval={x:(a=(o=y.reduced)==null?void 0:o.smallestKeyInterval)!=null?a:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:o,smallestDataInterval:a}=this;if(!(i&&o))return[];if(t===this.getBarDirection()){const y=o.getDomain(this,"minValue","value",i),m=o.getDomain(this,"maxValue","value",i);return so([Math.min(...y),Math.max(...m)],this.getValueAxis())}const{index:n,def:r}=o.resolveProcessedDataIndexById(this,"xValue"),l=i.domain.keys[n];if(r.type==="key"&&r.valueType==="category")return l;const c=this.getCategoryAxis(),h=c?.isReversed(),d=(e=Ad(l))!=null?e:[NaN,NaN],p=a&&isFinite(a.x)?a.x:0;if(t===Ld.Y){const y=d[0]+(h?0:-p),m=d[1]+(h?p:0);return so([y,m],c)}const g=d[0]+(h?-p:0),f=d[1]+(h?0:p);return so([g,f],c)}createNodeData(){return C(this,null,function*(){var t;const{visible:e,dataModel:i}=this,o=this.getCategoryAxis(),a=this.getValueAxis();if(!(i&&e&&o&&a))return[];const{xKey:n,fill:r,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:d,lineDash:p,lineDashOffset:g,cap:f,whisker:y}=this.properties,{groupScale:m,smallestDataInterval:S,ctx:{seriesStateManager:v}}=this,N=o.scale instanceof to.ContinuousScale?o.scale.calcBandwidth(S?.x):o.scale.bandwidth,x=[],{index:M,visibleGroupCount:I}=v.getVisiblePeerGroupIndex(this);for(let b=0;b<I;b++)x.push(String(b));m.domain=x,m.range=[0,N??0],o instanceof Hi.CategoryAxis&&(m.paddingInner=o.groupPaddingInner);const D=m.bandwidth>=1?m.bandwidth:m.rawBandwidth,A=[],T=i.resolveProcessedDataDefsByIds(this,["xValue","minValue","q1Value","medianValue","q3Value","maxValue"]);return(t=this.processedData)==null||t.data.forEach(({datum:b,keys:L,values:_})=>{const{xValue:E,minValue:O,q1Value:z,medianValue:w,q3Value:k,maxValue:P}=i.resolveProcessedDataDefsValues(T,{keys:L,values:_});if([O,z,w,k,P].some(R=>typeof R!="number")||O>z||z>w||w>k||k>P)return;const B=this.convertValuesToScaleByDefs(T,{xValue:E,minValue:O,q1Value:z,medianValue:w,q3Value:k,maxValue:P});B.xValue+=Math.round(m.convert(String(M))),A.push({series:this,itemId:E,datum:b,xKey:n,bandwidth:Math.round(D),scaledValues:B,cap:f,whisker:y,fill:r,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:d,lineDash:p,lineDashOffset:g})}),[{itemId:n,nodeData:A,labelData:[],scales:Jt(Hl.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}getLegendData(t){var e;const{id:i,data:o}=this,{xKey:a,yName:n,fill:r,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:d,showInLegend:p,legendItemName:g,visible:f}=this.properties;return!p||!o?.length||!a||t!=="category"?[]:[{legendType:"category",id:i,itemId:i,seriesId:i,enabled:f,label:{text:(e=g??n)!=null?e:i},marker:{fill:r,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:h},legendItemName:g}]}getTooltipHtml(t){const{xKey:e,minKey:i,q1Key:o,medianKey:a,q3Key:n,maxKey:r,xName:l,yName:c,minName:h,q1Name:d,medianName:p,q3Name:g,maxName:f,tooltip:y}=this.properties,{datum:m}=t,S=this.getCategoryAxis(),v=this.getValueAxis();if(!S||!v||!this.properties.isValid())return"";const N=wn.sanitizeHtml(c),M=[[e,l,S],[i,h,v],[o,d,v],[a,p,v],[n,g,v],[r,f,v]].map(([D,A,T])=>wn.sanitizeHtml(`${A??D}: ${T.formatDatum(m[D])}`)).join(N?"<br/>":", "),{fill:I}=this.getFormattedStyles(t);return y.toTooltipHtml({title:N,content:M,backgroundColor:I},{seriesId:this.id,datum:m,fill:I,xKey:e,minKey:i,q1Key:o,medianKey:a,q3Key:n,maxKey:r,xName:l,minName:h,q1Name:d,medianName:p,q3Name:g,maxName:f})}animateEmptyUpdateReady({datumSelections:t}){const e=this.isVertical(),{from:i,to:o}=md(e);Fn.resetMotion(t,fd(e)),Fn.staticFromToMotion(this.id,"datums",this.ctx.animationManager,t,i,o)}isLabelEnabled(){return!1}updateDatumSelection(t){return C(this,null,function*(){var e;const i=(e=t.nodeData)!=null?e:[];return t.datumSelection.update(i)})}updateDatumNodes(t){return C(this,arguments,function*({datumSelection:e,isHighlight:i}){var o;const a=this.isVertical(),n=(o=this.getValueAxis())==null?void 0:o.isReversed();e.each((r,l)=>{let c=this.getFormattedStyles(l,i);i&&(c=oo(this.properties.highlightStyle.item,c));const{stroke:h,strokeWidth:d,strokeOpacity:p,lineDash:g,lineDashOffset:f}=c;c.whisker=oo(c.whisker,{stroke:h,strokeWidth:d,strokeOpacity:p,lineDash:g,lineDashOffset:f}),r.updateDatumStyles(l,c,a,n)})})}updateLabelNodes(t){return C(this,null,function*(){})}updateLabelSelection(t){return C(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e)})}nodeFactory(){return new Sd}getFormattedStyles(t,e=!1){const{id:i,ctx:{callbackCache:o}}=this,{xKey:a,minKey:n,q1Key:r,medianKey:l,q3Key:c,maxKey:h,formatter:d}=this.properties,{datum:p,fill:g,fillOpacity:f,stroke:y,strokeWidth:m,strokeOpacity:S,lineDash:v,lineDashOffset:N,cap:x,whisker:M}=t,I={fill:g,fillOpacity:f,stroke:y,strokeWidth:m,strokeOpacity:S,lineDash:v,lineDashOffset:N,cap:jn(x),whisker:jn(M)};if(d){const D=o.call(d,yt(H({datum:p,seriesId:i,highlighted:e},I),{xKey:a,minKey:n,q1Key:r,medianKey:l,q3Key:c,maxKey:h}));if(D)return oo(D,I)}return I}convertValuesToScaleByDefs(t,e){const i=this.getCategoryAxis(),o=this.getValueAxis();if(!(i&&o))throw new Error("Axes must be defined");const a={};for(const[n,[{def:r}]]of t)if(Object.hasOwn(e,n)){const{scale:l}=r.type==="key"?i:o;a[n]=Math.round(l.convert(e[n]))}return a}};import{_Theme as kd}from"ag-charts-community";var Cd={__extends__:kd.EXTENDS_SERIES_DEFAULTS,strokeWidth:2},wd={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",instanceConstructor:Rd,seriesDefaults:gd,themeTemplate:Cd,groupable:!0,paletteFactory:({takeColors:s,userPalette:t,themeTemplateParameters:e})=>{var i;const o=e.properties.get(ud.DEFAULT_BACKGROUND_COLOUR),a=(i=Array.isArray(o)?o[0]:o)!=null?i:"white",{fills:[n],strokes:[r]}=s(1);return{fill:t?n:dd.Color.interpolate(n,a)(.7),stroke:r}},swapDefaultAxesCondition({direction:s}){return s==="horizontal"}};import{_Theme as ao,_Util as Pd}from"ag-charts-community";import{_Theme as zd}from"ag-charts-community";var{CARTESIAN_AXIS_TYPES:Vn,CARTESIAN_AXIS_POSITIONS:Un}=zd,Ki={axes:[{type:Vn.NUMBER,position:Un.LEFT,nice:!1,max:void 0,crosshair:{enabled:!1}},{type:Vn.CATEGORY,position:Un.BOTTOM}]};import{_ModuleSupport as pi,_Scale as Yn,_Scene as Te,_Util as no}from"ag-charts-community";import{_ModuleSupport as Bd}from"ag-charts-community";var{BaseProperties:ro,AbstractBarSeriesProperties:jd,PropertiesArray:Fd,SeriesTooltip:Vd,Validate:Z,ARRAY:Ud,COLOR_STRING:gi,LINE_DASH:Hn,OBJECT:lo,POSITIVE_NUMBER:ti,RATIO:ei,STRING:Xi}=Bd,ie=class extends ro{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.lengthRatio=.75}};u([Z(gi)],ie.prototype,"fill",2),u([Z(ei)],ie.prototype,"fillOpacity",2),u([Z(gi)],ie.prototype,"stroke",2),u([Z(ti)],ie.prototype,"strokeWidth",2),u([Z(ei)],ie.prototype,"strokeOpacity",2),u([Z(Hn)],ie.prototype,"lineDash",2),u([Z(ti)],ie.prototype,"lineDashOffset",2),u([Z(ei)],ie.prototype,"lengthRatio",2);var Wn=class extends ro{};u([Z(ti,{optional:!0})],Wn.prototype,"max",2);var Qi=class extends ro{constructor(){super(...arguments),this.color="lightgrey"}};u([Z(gi)],Qi.prototype,"color",2),u([Z(ti,{optional:!0})],Qi.prototype,"stop",2);var Mt=class extends jd{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.widthRatio=.5,this.colorRanges=new Fd(Qi,{}),this.target=new ie,this.scale=new Wn,this.tooltip=new Vd}};u([Z(Xi)],Mt.prototype,"valueKey",2),u([Z(Xi,{optional:!0})],Mt.prototype,"valueName",2),u([Z(Xi,{optional:!0})],Mt.prototype,"targetKey",2),u([Z(Xi,{optional:!0})],Mt.prototype,"targetName",2),u([Z(gi)],Mt.prototype,"fill",2),u([Z(ei)],Mt.prototype,"fillOpacity",2),u([Z(gi)],Mt.prototype,"stroke",2),u([Z(ti)],Mt.prototype,"strokeWidth",2),u([Z(ei)],Mt.prototype,"strokeOpacity",2),u([Z(Hn)],Mt.prototype,"lineDash",2),u([Z(ti)],Mt.prototype,"lineDashOffset",2),u([Z(ei)],Mt.prototype,"widthRatio",2),u([Z(Ud.restrict({minLength:1}))],Mt.prototype,"colorRanges",2),u([Z(lo)],Mt.prototype,"target",2),u([Z(lo)],Mt.prototype,"scale",2),u([Z(lo)],Mt.prototype,"tooltip",2);var{animationValidation:Yd,collapsedStartingBarPosition:Gn,diff:Hd,keyProperty:Wd,partialAssign:co,prepareBarAnimationFunctions:Kn,resetBarSelectionsFn:Gd,seriesLabelFadeInAnimation:$i,valueProperty:Xn}=pi,{fromToMotion:Qn}=Te.motion,{sanitizeHtml:$n}=no,Zn=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset"],Kd=class ia extends pi.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[pi.SeriesNodePickMode.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,animationResetFns:{datum:Gd}}),this.properties=new Mt,this.normalizedColorRanges=[],this.colorRangesGroup=new Te.Group({name:`${this.id}-colorRanges`}),this.colorRangesSelection=Te.Selection.select(this.colorRangesGroup,Te.Rect,!1),this.rootGroup.append(this.colorRangesGroup),this.targetLinesSelection=Te.Selection.select(this.annotationGroup,Te.Line,!1)}destroy(){this.rootGroup.removeChild(this.colorRangesGroup),super.destroy()}processData(t){return C(this,null,function*(){var e,i;if(!this.properties.isValid()||!this.data)return;const{valueKey:o,targetKey:a}=this.properties,n=Yn.ContinuousScale.is((e=this.getCategoryAxis())==null?void 0:e.scale),r=Yn.ContinuousScale.is((i=this.getValueAxis())==null?void 0:i.scale),l=[];a!==void 0&&l.push(Xn(this,a,r,{id:"target"})),this.ctx.animationManager.isSkipped()||(this.processedData!==void 0&&l.push(Hd(this.processedData)),l.push(Yd(this))),yield this.requestDataModel(t,this.data.slice(0,1),{props:[Wd(this,o,n,{id:"xValue"}),Xn(this,o,r,{id:"value"}),...l],groupByKeys:!0,dataVisible:this.visible}),this.animationState.transition("updateData")})}getBandScalePadding(){return{inner:0,outer:0}}getMaxValue(){var t,e;return Math.max(...(e=(t=this.getValueAxis())==null?void 0:t.dataDomain.domain)!=null?e:[0])}getSeriesDomain(t){var e;const{dataModel:i,processedData:o}=this;if(!i||!o)return[];const{valueKey:a,targetKey:n,valueName:r}=this.properties;if(t===this.getCategoryDirection())return[r??a];if(t==((e=this.getValueAxis())==null?void 0:e.direction)){const l=i.getDomain(this,"value","value",o),c=n===void 0?[]:i.getDomain(this,"target","value",o);return[0,Math.max(...l,...c)]}else throw new Error(`unknown direction ${t}`)}getKeys(t){return t===this.getBarDirection()?[this.properties.valueKey]:super.getKeys(t)}createNodeData(){return C(this,null,function*(){var t,e,i,o;const{dataModel:a,processedData:n}=this,{valueKey:r,targetKey:l,widthRatio:c,target:{lengthRatio:h}}=this.properties,d=(t=this.getCategoryAxis())==null?void 0:t.scale,p=(e=this.getValueAxis())==null?void 0:e.scale;if(!r||!a||!n||!d||!p)return[];if(c===void 0||h===void 0)return[];const g=(i=d.bandwidth)!=null?i:NaN,f=this.getMaxValue(),y=a.resolveProcessedDataIndexById(this,"value").index,m=l===void 0?NaN:a.resolveProcessedDataIndexById(this,"target").index,S={itemId:r,nodeData:[],labelData:[],scales:Jt(ia.prototype,this,"calculateScaling").call(this),visible:this.visible};for(const{datum:x,values:M}of n.data){if(!Array.isArray(x)||x.length<1)continue;M[0][y]<0&&no.Logger.warnOnce("negative values are not supported, clipping to 0.");const I=(o=this.properties.valueName)!=null?o:this.properties.valueKey,D=Math.min(f,Math.max(0,M[0][y])),A=p.convert(D),T=c*g,b=p.convert(0),L=this.getBarDirection()===pi.ChartAxisDirection.X,_={x:g*(1-c)/2,y:Math.min(A,b),width:T,height:Math.abs(b-A)};L&&([_.x,_.y,_.width,_.height]=[_.y,_.x,_.height,_.width]);let E;if(M[0][m]<0&&no.Logger.warnOnce("negative targets are not supported, ignoring."),this.properties.targetKey&&M[0][m]>=0){const z=h*g,w=Math.min(f,M[0][m]);if(!isNaN(w)&&w!==void 0){const k=p.convert(w);let P=g*(1-h)/2,B=P+z,[R,U]=[k,k];L&&([P,B,R,U]=[R,U,P,B]),E={value:w,x1:P,x2:B,y1:R,y2:U}}}const O=yt(H({series:this,datum:x[0],xKey:r,xValue:I,yKey:r,yValue:D,cumulativeValue:D,target:E},_),{midPoint:{x:_.x+_.width/2,y:_.y+_.height/2}});S.nodeData.push(O)}const v=[...this.properties.colorRanges].sort((x,M)=>(x.stop||f)-(M.stop||f));let N=0;return this.normalizedColorRanges=v.map(x=>{var M;const I=Math.min(f,(M=x.stop)!=null?M:1/0),D={color:x.color,start:N,stop:I};return N=I,D}),[S]})}getLegendData(t){return[]}getTooltipHtml(t){const{valueKey:e,valueName:i,targetKey:o,targetName:a}=this.properties,n=this.getValueAxis(),{yValue:r,target:{value:l}={value:void 0},datum:c}=t;if(e===void 0||r===void 0||n===void 0)return"";const h=(g,f,y)=>{const m=$n(f??g),S=$n(n.formatDatum(y));return`<b>${m}</b>: ${S}`},d=void 0,p=o===void 0||l===void 0?h(e,i,r):`${h(e,i,r)}<br/>${h(o,a,l)}`;return this.properties.tooltip.toTooltipHtml({title:d,content:p,backgroundColor:this.properties.fill},{datum:c,title:d,seriesId:this.id,valueKey:e,valueName:i,targetKey:o,targetName:a})}isLabelEnabled(){return!1}nodeFactory(){return new Te.Rect}updateDatumSelection(t){return C(this,null,function*(){return this.targetLinesSelection.update(t.nodeData,void 0,void 0),t.datumSelection.update(t.nodeData,void 0,void 0)})}updateDatumNodes(t){return C(this,null,function*(){for(const{node:e}of t.datumSelection){const i=this.properties;co(Zn,e,i)}for(const{node:e,datum:i}of this.targetLinesSelection)if(i.target!==void 0){const o=this.properties.target;co(["x1","x2","y1","y2"],e,i.target),co(Zn,e,o)}else e.visible=!1})}updateColorRanges(){return C(this,null,function*(){const t=this.getValueAxis(),e=this.getCategoryAxis();if(!t||!e)return;const[i,o]=[0,Math.max(...e.scale.range)],a=this.getBarDirection()===pi.ChartAxisDirection.Y?(n,r)=>{n.x=i,n.y=t.scale.convert(r.stop),n.height=t.scale.convert(r.start)-n.y,n.width=o}:(n,r)=>{n.x=t.scale.convert(r.start),n.y=i,n.height=o,n.width=t.scale.convert(r.stop)-n.x};this.colorRangesSelection.update(this.normalizedColorRanges);for(const{node:n,datum:r}of this.colorRangesSelection)a(n,r),n.fill=r.color})}updateNodes(t,e,i){return C(this,null,function*(){Jt(ia.prototype,this,"updateNodes").call(this,t,e,i),yield this.updateColorRanges()})}updateLabelSelection(t){return C(this,null,function*(){return t.labelSelection})}updateLabelNodes(t){return C(this,null,function*(){})}animateEmptyUpdateReady(t){const{datumSelections:e,labelSelections:i,annotationSelections:o}=t,a=Kn(Gn(this.isVertical(),this.axes));Qn(this.id,"nodes",this.ctx.animationManager,e,a),$i(this,"labels",this.ctx.animationManager,i),$i(this,"annotations",this.ctx.animationManager,o)}animateWaitingUpdateReady(t){var e,i;const{datumSelections:o,labelSelections:a,annotationSelections:n}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=(i=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:i.diff,l=Kn(Gn(this.isVertical(),this.axes));Qn(this.id,"nodes",this.ctx.animationManager,o,l,(c,h)=>String(h.xValue),r),$i(this,"labels",this.ctx.animationManager,a),$i(this,"annotations",this.ctx.animationManager,n)}};import"ag-charts-community";var Xd={strokeWidth:0,strokeOpacity:1,fillOpacity:1,widthRatio:.5,target:{strokeWidth:3,strokeOpacity:1,lengthRatio:.75}},{CARTESIAN_AXIS_POSITIONS:qn}=ao,Qd={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"bullet",solo:!0,optionConstructors:{"series[].colorRanges":Qi},instanceConstructor:Kd,seriesDefaults:Ki,themeTemplate:Xd,customDefaultsFunction:s=>{var t;const e=H({},Ki.axes[0]),i=H({},Ki.axes[1]);return s.direction==="horizontal"&&(e.position=qn.BOTTOM,i.position=qn.LEFT),((t=s.scale)==null?void 0:t.max)!==void 0&&(e.max=s.scale.max),yt(H({},Ki),{axes:[e,i]})},paletteFactory:({takeColors:s,colorsCount:t,themeTemplateParameters:e})=>{var i;const{properties:o}=e,{fills:[a],strokes:[n]}=s(t),r=e.properties.get(ao.DEFAULT_BACKGROUND_COLOUR),l=(i=Array.isArray(r)?r[0]:r)!=null?i:"white",c=o.get(ao.DEFAULT_CROSS_LINES_COLOUR),h=Pd.Color.interpolate(a,l)(.7);return{fill:a,stroke:n,target:{stroke:c},colorRanges:[{color:h}]}}};import{_Theme as Jn}from"ag-charts-community";import{_Theme as $d}from"ag-charts-community";var{CARTESIAN_AXIS_TYPES:tr,CARTESIAN_AXIS_POSITIONS:er}=$d,Zd={axes:[{type:tr.CATEGORY,position:er.LEFT},{type:tr.CATEGORY,position:er.BOTTOM}],gradientLegend:{enabled:!0}};import{_ModuleSupport as ho,_Scale as qd,_Scene as Jd,_Util as tp}from"ag-charts-community";import{_ModuleSupport as ep,_Scene as ip,_Util as sp}from"ag-charts-community";var{Validate:Zi,NUMBER:ir,TEXT_WRAP:op,OVERFLOW_STRATEGY:ap}=ep,{Logger:np}=sp,{Text:_e,Label:rp}=ip,yi=class extends rp{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}static lineHeight(s){return Math.ceil(s*_e.defaultLineHeightRatio)}};u([Zi(op)],yi.prototype,"wrapping",2),u([Zi(ap)],yi.prototype,"overflowStrategy",2),u([Zi(ir,{optional:!0})],yi.prototype,"minimumFontSize",2);var Gt=class extends yi{constructor(){super(...arguments),this.spacing=0}};u([Zi(ir)],Gt.prototype,"spacing",2);var qi=class extends yi{};function lp(s,t){const{fontSize:e,minimumFontSize:i=e}=s,{fontSize:o,minimumFontSize:a=o}=t,n=e-i,r=o-a;let l=s.fontSize,c=t.fontSize;const h=[{labelFontSize:e,secondaryLabelFontSize:o}];for(;l>i||c>a;){const d=n>0?(l-i)/n:-1,p=r>0?(c-a)/r:-1;d>p?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function sr(s,t,e){if(s>t)return;let i=s,o=t,a;for(;o>=i;){const n=(o+i)/2|0,r=e(n);r!=null?(a=r,i=n+1):o=n-1}return a}function cp(s,t,e,i,{padding:o},a){var n,r;const{spacing:l}=t,c=2*o,h=2*o+l,d=((n=t.minimumFontSize)!=null?n:t.fontSize)+((r=i.minimumFontSize)!=null?r:i.fontSize);if(d>a(d+h).height-h)return;const p=lp(t,i),g=new _e;g.setFont(t);const f={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},y=new _e;y.setFont(i);const m={fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight};let S,v;return sr(0,p.length-1,N=>{const{labelFontSize:x,secondaryLabelFontSize:M}=p[N],I=N===0,D=Gt.lineHeight(x),A=qi.lineHeight(M),T=a(D+A+h),b=T.width-c,L=T.height-h;if(D+A>L)return;if(S==null||S.fontSize!==x){f.fontSize=x;const{lines:E}=_e.wrapLines(s,b,L,f,t.wrapping,I?t.overflowStrategy:"hide");if(E!=null){const O=E.join(`
`);g.text=O,g.fontSize=x,g.lineHeight=x;const z=g.computeBBox().width,w=E.length*D;S={text:O,fontSize:x,lineHeight:D,width:z,height:w}}else S=void 0}if(S==null||S.width>b||S.height>L)return;if(v==null||v.fontSize!==M){m.fontSize=M;const{lines:E}=_e.wrapLines(e,b,L,m,i.wrapping,I?i.overflowStrategy:"hide");if(E!=null){const O=E.join(`
`);y.text=O,y.fontSize=M,y.lineHeight=A;const z=y.computeBBox().width,w=E.length*A;v={text:O,fontSize:M,lineHeight:A,width:z,height:w}}else v=void 0}if(v==null)return;const _=S.height+v.height;if(!(v.width>b||_>L))return{width:Math.max(S.width,v.width),height:_+l,meta:T.meta,label:S,secondaryLabel:v}})}function or(s,t,{padding:e},i){var o;const a=2*e,n=Math.min((o=t.minimumFontSize)!=null?o:t.fontSize,t.fontSize),r=new _e;r.setFont(t);const l={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return sr(n,t.fontSize,c=>{const h=Gt.lineHeight(c),d=i(h+a),p=d.width-a,g=d.height-a;if(h>g)return;const f=c===n;l.fontSize=c;const{lines:y}=_e.wrapLines(s,p,g,l,t.wrapping,f?t.overflowStrategy:"hide");if(y==null)return;const m=y.join(`
`);r.text=m,r.fontSize=c,r.lineHeight=h;const S=r.computeBBox(),v=r.computeBBox().width,N=h*y.length;if(!(S.width>p||N>g))return[{text:m,fontSize:c,lineHeight:h,width:v,height:N},d.meta]})}function ar(s){return s!=null&&s.minimumFontSize!=null&&s.fontSize&&s.minimumFontSize>s.fontSize}function uo(s,t,e,i,o,a){const n=t.enabled?s:void 0,r=i.enabled?e:void 0;(ar(t)||ar(i))&&np.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;n!=null&&r!=null&&(l=cp(n,t,r,i,o,a));let c;if(l==null&&n!=null&&(c=or(n,t,o,a)),c!=null){const[d,p]=c;l={width:d.width,height:d.height,meta:p,label:d,secondaryLabel:void 0}}let h;if(l==null&&n==null&&r!=null&&(h=or(r,i,o,a)),h!=null){const[d,p]=h;l={width:d.width,height:d.height,meta:p,label:void 0,secondaryLabel:d}}return l}import{_ModuleSupport as hp}from"ag-charts-community";var{SeriesProperties:up,SeriesTooltip:dp,Validate:Dt,AND:pp,ARRAY:gp,COLOR_STRING:yp,COLOR_STRING_ARRAY:mp,FUNCTION:fp,OBJECT:nr,POSITIVE_NUMBER:rr,STRING:Ee,TEXT_ALIGN:xp,VERTICAL_ALIGN:Sp}=hp,vt=class extends up{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new Gt,this.tooltip=new dp}};u([Dt(Ee,{optional:!0})],vt.prototype,"title",2),u([Dt(Ee)],vt.prototype,"xKey",2),u([Dt(Ee)],vt.prototype,"yKey",2),u([Dt(Ee,{optional:!0})],vt.prototype,"colorKey",2),u([Dt(Ee,{optional:!0})],vt.prototype,"xName",2),u([Dt(Ee,{optional:!0})],vt.prototype,"yName",2),u([Dt(Ee,{optional:!0})],vt.prototype,"colorName",2),u([Dt(pp(mp,gp.restrict({minLength:1})))],vt.prototype,"colorRange",2),u([Dt(yp,{optional:!0})],vt.prototype,"stroke",2),u([Dt(rr,{optional:!0})],vt.prototype,"strokeWidth",2),u([Dt(xp)],vt.prototype,"textAlign",2),u([Dt(Sp)],vt.prototype,"verticalAlign",2),u([Dt(rr)],vt.prototype,"itemPadding",2),u([Dt(fp,{optional:!0})],vt.prototype,"formatter",2),u([Dt(nr)],vt.prototype,"label",2),u([Dt(nr)],vt.prototype,"tooltip",2);var{SeriesNodePickMode:Mp,valueProperty:po,ChartAxisDirection:ue}=ho,{Rect:vp,PointerEvents:Np}=Jd,{ColorScale:Ip}=qd,{sanitizeHtml:ii,Color:Ap,Logger:Dp}=tp,bp=class extends ho.CartesianSeriesNodeClickEvent{constructor(s,t,e,i){super(s,t,e,i),this.colorKey=i.properties.colorKey}},Tp={left:-.5,center:0,right:-.5},_p={top:-.5,middle:0,bottom:-.5},go=class Wl extends ho.CartesianSeries{constructor(t){super({moduleCtx:t,pickModes:[Mp.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new vt,this.NodeClickEvent=bp,this.colorScale=new Ip}processData(t){return C(this,null,function*(){var e;const i=this.axes[ue.X],o=this.axes[ue.Y];if(!i||!o||!this.properties.isValid()||!((e=this.data)!=null&&e.length))return;const{xKey:a,yKey:n,colorRange:r,colorKey:l}=this.properties,{isContinuousX:c,isContinuousY:h}=this.isContinuous(),{dataModel:d,processedData:p}=yield this.requestDataModel(t,this.data,{props:[po(this,a,c,{id:"xValue"}),po(this,n,h,{id:"yValue"}),...l?[po(this,l,!0,{id:"colorValue"})]:[]]});if(this.isColorScaleValid()){const g=d.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=p.domain.values[g],this.colorScale.range=r,this.colorScale.update()}})}isColorScaleValid(){const{colorKey:t}=this.properties;if(!t)return!1;const{dataModel:e,processedData:i}=this;if(!e||!i)return!1;const o=e.resolveProcessedDataIndexById(this,"colorValue").index,a=i.data.length;return!(a===0||a===i.defs.values[o].missing)}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;return!e||!i?[]:t===ue.X?e.getDomain(this,"xValue","value",i):e.getDomain(this,"yValue","value",i)}createNodeData(){return C(this,null,function*(){var t,e,i,o,a,n,r;const{data:l,visible:c,axes:h,dataModel:d}=this,p=h[ue.X],g=h[ue.Y];if(!(l&&d&&c&&p&&g))return[];if(p.type!=="category"||g.type!=="category")return Dp.warnOnce(`Heatmap series expected axes to have "category" type, but received "${p.type}" and "${g.type}" instead.`),[];const{xKey:f,xName:y,yKey:m,yName:S,colorKey:v,colorName:N,textAlign:x,verticalAlign:M,itemPadding:I,colorRange:D,label:A}=this.properties,T=d.resolveProcessedDataIndexById(this,"xValue").index,b=d.resolveProcessedDataIndexById(this,"yValue").index,L=v?d.resolveProcessedDataIndexById(this,"colorValue").index:void 0,_=p.scale,E=g.scale,O=((t=_.bandwidth)!=null?t:0)/2,z=((e=E.bandwidth)!=null?e:0)/2,w=this.isColorScaleValid(),k=[],P=[],B=(i=_.bandwidth)!=null?i:10,R=(o=E.bandwidth)!=null?o:10,U=(B-2*I)*Tp[x],Y=(R-2*I)*_p[M],V=()=>({width:B,height:R,meta:null});for(const{values:F,datum:Q}of(n=(a=this.processedData)==null?void 0:a.data)!=null?n:[]){const K=F[T],q=F[b],st=_.convert(K)+O,ut=E.convert(q)+z,tt=L!=null?F[L]:void 0,G=w&&tt!=null?this.colorScale.convert(tt):D[0],dt=tt!=null?this.getLabelText(A,{value:tt,datum:Q,colorKey:v,colorName:N,xKey:f,yKey:m,xName:y,yName:S}):void 0,ot=uo(dt,this.properties.label,void 0,this.properties.label,{padding:I},V),Bt={x:st,y:ut,size:0};if(k.push({series:this,itemId:m,yKey:m,xKey:f,xValue:K,yValue:q,colorValue:tt,datum:Q,point:Bt,width:B,height:R,fill:G,midPoint:{x:st,y:ut}}),ot?.label!=null){const{text:ft,fontSize:Tt,lineHeight:wt,height:Ot}=ot.label,{fontStyle:Yt,fontFamily:Ve,fontWeight:Ss,color:Di}=this.properties.label,ri=Bt.x+U*(B-2*I),li=Bt.y+Y*(R-2*I)-(ot.height-Ot)*.5;P.push({series:this,itemId:m,datum:Q,text:ft,fontSize:Tt,lineHeight:wt,fontStyle:Yt,fontFamily:Ve,fontWeight:Ss,color:Di,textAlign:x,verticalAlign:M,x:ri,y:li})}}return[{itemId:(r=this.properties.yKey)!=null?r:this.id,nodeData:k,labelData:P,scales:Jt(Wl.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}nodeFactory(){return new vp}updateDatumSelection(t){return C(this,null,function*(){const{nodeData:e,datumSelection:i}=t,o=e??[];return i.update(o)})}updateDatumNodes(t){return C(this,null,function*(){var e;const{isHighlight:i}=t,{id:o,ctx:{callbackCache:a}}=this,{xKey:n,yKey:r,colorKey:l,formatter:c,highlightStyle:{item:{fill:h,stroke:d,strokeWidth:p,fillOpacity:g}}}=this.properties,f=this.axes[ue.X],[y,m]=(e=f?.visibleRange)!=null?e:[],v=!(y!==0||m!==1);t.datumSelection.each((N,x)=>{var M,I,D;const{point:A,width:T,height:b}=x,L=i&&h!==void 0?Ap.interpolate(x.fill,h)(g??1):x.fill,_=i&&d!==void 0?d:this.properties.stroke,E=i&&p!==void 0?p:this.properties.strokeWidth;let O;c&&(O=a.call(c,{datum:x.datum,fill:L,stroke:_,strokeWidth:E,highlighted:i,xKey:n,yKey:r,colorKey:l,seriesId:o})),N.crisp=v,N.x=Math.floor(A.x-T/2),N.y=Math.floor(A.y-b/2),N.width=Math.ceil(T),N.height=Math.ceil(b),N.fill=(M=O?.fill)!=null?M:L,N.stroke=(I=O?.stroke)!=null?I:_,N.strokeWidth=(D=O?.strokeWidth)!=null?D:E})})}updateLabelSelection(t){return C(this,null,function*(){const{labelData:e,labelSelection:i}=t,{enabled:o}=this.properties.label,a=o?e:[];return i.update(a)})}updateLabelNodes(t){return C(this,null,function*(){t.labelSelection.each((e,i)=>{e.text=i.text,e.fontSize=i.fontSize,e.lineHeight=i.lineHeight,e.fontStyle=i.fontStyle,e.fontFamily=i.fontFamily,e.fontWeight=i.fontWeight,e.fill=i.color,e.textAlign=i.textAlign,e.textBaseline=i.verticalAlign,e.x=i.x,e.y=i.y,e.pointerEvents=Np.None})})}getTooltipHtml(t){var e,i,o;const a=this.axes[ue.X],n=this.axes[ue.Y];if(!this.properties.isValid()||!a||!n)return"";const{xKey:r,yKey:l,colorKey:c,xName:h,yName:d,colorName:p,stroke:g,strokeWidth:f,colorRange:y,formatter:m,tooltip:S}=this.properties,{colorScale:v,id:N,ctx:{callbackCache:x}}=this,{datum:M,xValue:I,yValue:D,colorValue:A}=t,T=this.isColorScaleValid()?v.convert(A):y[0];let b;m&&(b=x.call(m,{datum:t,xKey:r,yKey:l,colorKey:c,fill:T,stroke:g,strokeWidth:f,highlighted:!1,seriesId:N}));const L=(i=(e=b?.fill)!=null?e:T)!=null?i:"gray",_=(o=this.properties.title)!=null?o:d,E=ii(a.formatDatum(I)),O=ii(n.formatDatum(D));let z=`<b>${ii(h||r)}</b>: ${E}<br><b>${ii(d||l)}</b>: ${O}`;return c&&(z=`<b>${ii(p||c)}</b>: ${ii(A)}<br>`+z),S.toTooltipHtml({title:_,content:z,backgroundColor:L},{seriesId:N,datum:M,xKey:r,yKey:l,xName:h,yName:d,title:_,color:L,colorKey:c})}getLegendData(t){var e;return t!=="gradient"||!((e=this.data)!=null&&e.length)||!this.properties.isValid()||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue").index],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}};go.className="HeatmapSeries",go.type="heatmap";var Ep=go;import{_Theme as mi}from"ag-charts-community";var Lp={__extends__:mi.EXTENDS_SERIES_DEFAULTS,label:{__overrides__:mi.OVERRIDE_SERIES_LABEL_DEFAULTS,enabled:!1,color:mi.DEFAULT_LABEL_COLOUR,fontStyle:void 0,fontSize:mi.FONT_SIZE.SMALL,minimumFontSize:void 0,fontFamily:mi.DEFAULT_FONT_FAMILY,wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},Op={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",instanceConstructor:Ep,seriesDefaults:Zd,themeTemplate:Lp,paletteFactory:({takeColors:s,colorsCount:t,userPalette:e,themeTemplateParameters:i})=>{var o;const{properties:a}=i,n=a.get(Jn.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),r=a.get(Jn.DEFAULT_BACKGROUND_COLOUR),l=(o=Array.isArray(r)?r[0]:r)!=null?o:"white",{fills:c,strokes:h}=s(t);return{stroke:e?h[0]:l,colorRange:e?[c[0],c[1]]:n}}};import{_Theme as Rp}from"ag-charts-community";import{_Theme as kp}from"ag-charts-community";var{POLAR_AXIS_TYPES:lr,CIRCLE:cr}=kp,Cp={axes:[{type:lr.ANGLE_CATEGORY,shape:cr,groupPaddingInner:0,paddingInner:0,label:{padding:10}},{type:lr.RADIUS_NUMBER,shape:cr}]};import{_Scene as wp}from"ag-charts-community";import{_ModuleSupport as yo,_Scale as Pp,_Scene as zp,_Util as Bp}from"ag-charts-community";var{isDefined:jp,ChartAxisDirection:de,PolarAxis:Fp,diff:Vp,fixNumericExtent:Up,groupAccumulativeValueProperty:hr,keyProperty:Yp,normaliseGroupTo:Hp,resetLabelFn:Wp,seriesLabelFadeInAnimation:Gp,seriesLabelFadeOutAnimation:Kp,valueProperty:Xp,animationValidation:Qp}=yo,{BandScale:$p}=Pp,{motion:ur}=zp,{isNumber:dr,normalizeAngle360:pr,sanitizeHtml:gr}=Bp,Zp=class extends yo.SeriesNodeClickEvent{constructor(s,t,e,i){super(s,t,e,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey}},yr=class extends yo.PolarSeries{constructor(s,{animationResetFns:t}){super({moduleCtx:s,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:yt(H({},t),{label:Wp})}),this.NodeClickEvent=Zp,this.nodeData=[],this.groupScale=new $p,this.circleCache={r:0,cx:0,cy:0}}addChartEventListeners(){var s,t;(s=this.ctx.chartEventManager)==null||s.addListener("legend-item-click",e=>this.onLegendItemClick(e)),(t=this.ctx.chartEventManager)==null||t.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e))}getSeriesDomain(s){const{axes:t,dataModel:e,processedData:i}=this;if(!i||!e)return[];if(s===de.X)return e.getDomain(this,"angleValue","key",i);{const o=t[de.Y],a=e.getDomain(this,"radiusValue-end","value",i),n=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return Up(n,o)}}processData(s){return C(this,null,function*(){var t;if(!this.properties.isValid())return;const e=this.getStackId(),i=`${e}-trailing`,{angleKey:o,radiusKey:a,normalizedTo:n,visible:r}=this.properties,l=[];jp(n)&&l.push(Hp(this,[e,i],Math.abs(n),"range"));const c=!this.ctx.animationManager.isSkipped();c&&this.processedData&&l.push(Vp(this.processedData)),c&&l.push(Qp(this));const h=r||!c?{}:{forceValue:0};yield this.requestDataModel(s,(t=this.data)!=null?t:[],{props:[Yp(this,o,!1,{id:"angleValue"}),Xp(this,a,!0,H({id:"radiusValue-raw",invalidValue:null},h)),...hr(this,a,!0,"normal","current",H({id:"radiusValue-end",invalidValue:null,groupId:e},h)),...hr(this,a,!0,"trailing","current",H({id:"radiusValue-start",invalidValue:null,groupId:i},h)),...l],dataVisible:r||c}),this.animationState.transition("updateData")})}didCircleChange(){const s=this.radius,t=this.centerX,e=this.centerY,i=this.circleCache;return s===i.r&&t===i.cx&&e===i.cy?!1:(this.circleCache={r:s,cx:t,cy:e},!0)}isRadiusAxisReversed(){var s;return(s=this.axes[de.Y])==null?void 0:s.isReversed()}maybeRefreshNodeData(){return C(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const s=this.axes[de.Y];return s instanceof Fp?this.radius*s.innerRadiusRatio:0}createNodeData(){return C(this,null,function*(){var s;const{processedData:t,dataModel:e,groupScale:i}=this;if(!t||!e||!this.properties.isValid())return[];const o=this.axes[de.X],a=this.axes[de.Y],n=o?.scale,r=a?.scale;if(!n||!r)return[];const l=e.resolveProcessedDataIndexById(this,"radiusValue-start").index,c=e.resolveProcessedDataIndexById(this,"radiusValue-end").index,h=e.resolveProcessedDataIndexById(this,"radiusValue-raw").index;let d=0,p=0;o instanceof Ke&&(d=o.groupPaddingInner,p=o.paddingInner);const f=((s=n.bandwidth)!=null?s:0)*(1-p),{index:y,visibleGroupCount:m}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:m}).map((_,E)=>String(E)),i.range=[-f/2,f/2],i.paddingInner=m>1?d:0;const S=this.isRadiusAxisReversed(),v=S?this.radius:this.getAxisInnerRadius(),N=S?this.getAxisInnerRadius():this.radius,x=N+v,{angleKey:M,radiusKey:I,angleName:D,radiusName:A,label:T}=this.properties,b=(_,E,O,z)=>{const w=this.getLabelText(T,{value:E,datum:_,angleKey:M,radiusKey:I,angleName:D,radiusName:A},k=>dr(k)?k.toFixed(2):String(k));if(w)return{x:O,y:z,text:w,textAlign:"center",textBaseline:"middle"}},L=t.data.map((_,E)=>{const{datum:O,keys:z,values:w}=_,k=z[0],P=w[h],B=w[l],R=w[c],U=n.convert(k),Y=pr(U+i.convert(String(y))),V=pr(Y+i.bandwidth),F=Y+i.bandwidth/2,Q=x-r.convert(B),K=x-r.convert(R),q=(Q+K)/2,st=Math.cos(F),ut=Math.sin(F),tt=st*q,G=ut*q,dt=this.properties.label.enabled?b(O,P,tt,G):void 0,ot=this.getColumnWidth(Y,V);return{series:this,datum:O,point:{x:tt,y:G,size:0},midPoint:{x:tt,y:G},label:dt,angleValue:k,radiusValue:P,innerRadius:Q,outerRadius:K,startAngle:Y,endAngle:V,axisInnerRadius:v,axisOuterRadius:N,columnWidth:ot,index:E}});return[{itemId:I,nodeData:L,labelData:L}]})}getColumnWidth(s,t){return NaN}update(s){return C(this,arguments,function*({seriesRect:t}){const e=this.checkResize(t);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),e&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(s,t){var e,i,o,a,n;let r=[];if(t){const y=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight();y?.datum&&y.series===this&&(r=[y])}else r=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0,c=(i=l?.fill)!=null?i:this.properties.fill,h=(o=l?.fillOpacity)!=null?o:this.properties.fillOpacity,d=(a=l?.stroke)!=null?a:this.properties.stroke,p=this.properties.strokeOpacity,g=(n=l?.strokeWidth)!=null?n:this.properties.strokeWidth,f=y=>y.angleValue;s.update(r,void 0,f).each((y,m)=>{var S,v,N,x;const M=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:m,fill:c,stroke:d,strokeWidth:g,highlighted:t,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;this.updateItemPath(y,m,t,M),y.fill=(S=M?.fill)!=null?S:c,y.fillOpacity=(v=M?.fillOpacity)!=null?v:h,y.stroke=(N=M?.stroke)!=null?N:d,y.strokeOpacity=p,y.strokeWidth=(x=M?.strokeWidth)!=null?x:g,y.lineDash=this.properties.lineDash,y.lineJoin="round"})}updateLabels(){const{label:s}=this.properties;this.labelSelection.update(this.nodeData).each((t,e)=>{s.enabled&&e.label?(t.x=e.label.x,t.y=e.label.y,t.fill=s.color,t.fontFamily=s.fontFamily,t.fontSize=s.fontSize,t.fontStyle=s.fontStyle,t.fontWeight=s.fontWeight,t.text=e.label.text,t.textAlign=e.label.textAlign,t.textBaseline=e.label.textBaseline,t.visible=!0):t.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:s}=this,t=this.getColumnTransitionFunctions();ur.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),Gp(this,"labels",this.ctx.animationManager,[s])}animateClearingUpdateEmpty(){const{itemSelection:s}=this,{animationManager:t}=this.ctx,e=this.getColumnTransitionFunctions();ur.fromToMotion(this.id,"datums",t,[s],e),Kp(this,"labels",t,[this.labelSelection])}getTooltipHtml(s){var t;const{id:e,axes:i,dataModel:o}=this,{angleKey:a,radiusKey:n,angleName:r,radiusName:l,fill:c,stroke:h,strokeWidth:d,formatter:p,tooltip:g}=this.properties,{angleValue:f,radiusValue:y,datum:m}=s,S=i[de.X],v=i[de.Y];if(!this.properties.isValid()||!(S&&v&&dr(y))||!o)return"";const N=S.formatDatum(f),x=v.formatDatum(y),M=gr(l),I=gr(`${N}: ${x}`),{fill:D}=(t=p&&this.ctx.callbackCache.call(p,{seriesId:e,datum:m,fill:c,stroke:h,strokeWidth:d,highlighted:!1,angleKey:a,radiusKey:n}))!=null?t:{fill:c};return g.toTooltipHtml({title:M,backgroundColor:c,content:I},{seriesId:e,datum:m,color:D,title:M,angleKey:a,radiusKey:n,angleName:r,radiusName:l})}getLegendData(s){var t;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||s!=="category")return[];const{radiusKey:e,radiusName:i,fill:o,stroke:a,fillOpacity:n,strokeOpacity:r,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:c,label:{text:i??e},marker:{fill:o??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:n??1,strokeOpacity:r??1,strokeWidth:l}}]}onLegendItemClick(s){const{enabled:t,itemId:e,series:i}=s;i.id===this.id&&this.toggleSeriesItem(e,t)}onLegendItemDoubleClick(s){const{enabled:t,itemId:e,series:i,numVisibleItems:o}=s,n=i.id===this.id||t&&o===1;this.toggleSeriesItem(e,n)}computeLabelsBBox(){return null}};import{_ModuleSupport as qp,_Scene as Jp}from"ag-charts-community";var{Label:tg}=Jp,{SeriesProperties:eg,SeriesTooltip:ig,Validate:Nt,COLOR_STRING:mr,DEGREE:sg,FUNCTION:og,LINE_DASH:ag,NUMBER:ng,OBJECT:fr,POSITIVE_NUMBER:xr,RATIO:Sr,STRING:fi}=qp,gt=class extends eg{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new tg,this.tooltip=new ig}};u([Nt(fi)],gt.prototype,"angleKey",2),u([Nt(fi,{optional:!0})],gt.prototype,"angleName",2),u([Nt(fi)],gt.prototype,"radiusKey",2),u([Nt(fi,{optional:!0})],gt.prototype,"radiusName",2),u([Nt(mr)],gt.prototype,"fill",2),u([Nt(Sr)],gt.prototype,"fillOpacity",2),u([Nt(mr)],gt.prototype,"stroke",2),u([Nt(xr)],gt.prototype,"strokeWidth",2),u([Nt(Sr)],gt.prototype,"strokeOpacity",2),u([Nt(ag)],gt.prototype,"lineDash",2),u([Nt(xr)],gt.prototype,"lineDashOffset",2),u([Nt(og,{optional:!0})],gt.prototype,"formatter",2),u([Nt(sg)],gt.prototype,"rotation",2),u([Nt(fi,{optional:!0})],gt.prototype,"stackGroup",2),u([Nt(ng,{optional:!0})],gt.prototype,"normalizedTo",2),u([Nt(fr)],gt.prototype,"label",2),u([Nt(fr)],gt.prototype,"tooltip",2);import{_Scene as rg}from"ag-charts-community";import{_Scene as lg}from"ag-charts-community";var{motion:cg}=lg;function Mr(){const s={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],e=(n,r,l)=>{t.forEach(c=>{var h,d;const p=s[c];let g=(l==="removed"||l==="updated"?n:r)[c],f=(l==="removed"?n:r)[c];isNaN(f)&&(f=(d=(h=n.previousDatum)==null?void 0:h[c])!=null?d:NaN);const y=g-f;Math.abs(y)>Math.PI&&(g-=Math.sign(y)*2*Math.PI),p.set(r,{from:g,to:f})})},i=(n,r)=>({startAngle:s.startAngle.get(n)[r],endAngle:s.endAngle.get(n)[r]});return{calculate:e,from:n=>i(n,"from"),to:n=>i(n,"to")}}function vr(s,t,e){if(e==="updated"){if(s.previousDatum==null||isNaN(s.previousDatum.startAngle)||isNaN(s.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return e==="added"&&s.previousDatum!=null?"updated":e}function hg(s){const t=Mr();return{toFn:(o,a,n)=>{const{startAngle:r,endAngle:l}=t.to(a);let c,h,d,p,g;return n==="removed"?(c=o.innerRadius,h=o.innerRadius,d=o.columnWidth,p=o.axisInnerRadius,g=o.axisOuterRadius):(c=isNaN(a.innerRadius)?s:a.innerRadius,h=isNaN(a.outerRadius)?s:a.outerRadius,d=isNaN(a.columnWidth)?o.columnWidth:a.columnWidth,p=a.axisInnerRadius,g=a.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:d,axisInnerRadius:p,axisOuterRadius:g,startAngle:r,endAngle:l}},fromFn:(o,a,n)=>{n=vr(o,a,n),t.calculate(o,a,n);const{startAngle:r,endAngle:l}=t.from(a);let c,h,d,p,g;n==="removed"||n==="updated"?(c=o.innerRadius,h=o.outerRadius,d=o.columnWidth,p=o.axisInnerRadius,g=o.axisOuterRadius):(c=s,h=s,d=a.columnWidth,p=a.axisInnerRadius,g=a.axisOuterRadius);const f=cg.FROM_TO_MIXINS[n];return H({innerRadius:c,outerRadius:h,columnWidth:d,axisInnerRadius:p,axisOuterRadius:g,startAngle:r,endAngle:l},f)}}}function ug(s,{innerRadius:t,outerRadius:e,columnWidth:i,axisInnerRadius:o,axisOuterRadius:a,startAngle:n,endAngle:r}){return{innerRadius:t,outerRadius:e,columnWidth:i,axisInnerRadius:o,axisOuterRadius:a,startAngle:n,endAngle:r}}var{motion:dg}=rg;function pg(s){const t=Mr();return{toFn:(o,a,n)=>{const{startAngle:r,endAngle:l}=t.to(a);let c,h;return n==="removed"?(c=s,h=s):(c=isNaN(a.innerRadius)?s:a.innerRadius,h=isNaN(a.outerRadius)?s:a.outerRadius),{innerRadius:c,outerRadius:h,startAngle:r,endAngle:l}},fromFn:(o,a,n)=>{n=vr(o,a,n),t.calculate(o,a,n);const{startAngle:r,endAngle:l}=t.from(a);let c,h;n==="removed"||n==="updated"?(c=o.innerRadius,h=o.outerRadius):(c=s,h=s);const d=dg.FROM_TO_MIXINS[n];return H({innerRadius:c,outerRadius:h,startAngle:r,endAngle:l},d)}}}function gg(s,{innerRadius:t,outerRadius:e,startAngle:i,endAngle:o}){return{innerRadius:t,outerRadius:e,startAngle:i,endAngle:o}}var{Sector:yg}=wp,mo=class extends yr{constructor(s){super(s,{animationResetFns:{item:gg}}),this.properties=new gt}getStackId(){var s,t;return`nightingale-stack-${(t=(s=this.seriesGrouping)==null?void 0:s.groupIndex)!=null?t:this.id}-yValues`}nodeFactory(){return new yg}updateItemPath(s,t,e,i){s.centerX=0,s.centerY=0,e&&(s.innerRadius=t.innerRadius,s.outerRadius=t.outerRadius,s.startAngle=t.startAngle,s.endAngle=t.endAngle)}getColumnTransitionFunctions(){const s=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return pg(s)}};mo.className="NightingaleSeries",mo.type="nightingale";import{_Theme as Ji}from"ag-charts-community";var mg={__extends__:Ji.EXTENDS_SERIES_DEFAULTS,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Ji.DEFAULT_FONT_FAMILY,color:Ji.DEFAULT_LABEL_COLOUR,__overrides__:Ji.OVERRIDE_SERIES_LABEL_DEFAULTS}},fg={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",instanceConstructor:mo,seriesDefaults:Cp,themeTemplate:mg,paletteFactory:({takeColors:s,userPalette:t})=>{const{fills:[e],strokes:[i]}=s(1);return{fill:e,stroke:t?i:Rp.DEFAULT_POLAR_SERIES_STROKE}},stackable:!0,groupable:!0,stackedByDefault:!0};import{_ModuleSupport as xg}from"ag-charts-community";import{_Theme as Sg}from"ag-charts-community";var{POLAR_AXIS_TYPES:Nr}=Sg,Ir={axes:[{type:Nr.ANGLE_CATEGORY,label:{padding:10}},{type:Nr.RADIUS_NUMBER}]};import{_ModuleSupport as Ar,_Scene as Mg}from"ag-charts-community";import{_ModuleSupport as fo,_Scene as vg,_Util as Ng}from"ag-charts-community";import{_ModuleSupport as Ig,_Scene as Ag}from"ag-charts-community";var{Label:Dg}=Ag,{SeriesMarker:bg,SeriesProperties:Tg,SeriesTooltip:_g,Validate:Lt,BOOLEAN:Eg,COLOR_STRING:Lg,DEGREE:Og,FUNCTION:Rg,LINE_DASH:kg,OBJECT:xo,POSITIVE_NUMBER:Dr,RATIO:Cg,STRING:ts}=Ig,It=class extends Tg{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new bg,this.label=new Dg,this.tooltip=new _g,this.connectMissingData=!1}};u([Lt(ts)],It.prototype,"angleKey",2),u([Lt(ts)],It.prototype,"radiusKey",2),u([Lt(ts,{optional:!0})],It.prototype,"angleName",2),u([Lt(ts,{optional:!0})],It.prototype,"radiusName",2),u([Lt(Lg)],It.prototype,"stroke",2),u([Lt(Dr)],It.prototype,"strokeWidth",2),u([Lt(Cg)],It.prototype,"strokeOpacity",2),u([Lt(kg)],It.prototype,"lineDash",2),u([Lt(Dr)],It.prototype,"lineDashOffset",2),u([Lt(Rg,{optional:!0})],It.prototype,"formatter",2),u([Lt(Og)],It.prototype,"rotation",2),u([Lt(xo)],It.prototype,"marker",2),u([Lt(xo)],It.prototype,"label",2),u([Lt(xo)],It.prototype,"tooltip",2),u([Lt(Eg)],It.prototype,"connectMissingData",2);var{ChartAxisDirection:Le,PolarAxis:wg,SeriesNodePickMode:br,valueProperty:Tr,fixNumericExtent:Pg,seriesLabelFadeInAnimation:zg,markerFadeInAnimation:Bg,resetMarkerFn:jg,animationValidation:Fg,ADD_PHASE:Vg}=fo,{BBox:Ug,Group:Yg,Path:Hg,PointerEvents:Wg,Selection:Gg,Text:Kg,getMarker:Xg}=vg,{extent:Qg,isNumber:$g,isNumberEqual:_r,sanitizeHtml:Er,toFixed:Lr}=Ng,Zg=class extends fo.SeriesNodeClickEvent{constructor(s,t,e,i){super(s,t,e,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey}},So=class extends fo.PolarSeries{constructor(s){super({moduleCtx:s,useLabelLayer:!0,pickModes:[br.NEAREST_NODE,br.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:jg}}),this.properties=new It,this.NodeClickEvent=Zg,this.nodeData=[],this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0};const t=new Yg;this.contentGroup.append(t),this.lineSelection=Gg.select(t,Hg),t.zIndexSubOrder=[()=>this._declarationOrder,1]}nodeFactory(){const{shape:s}=this.properties.marker,t=Xg(s);return new t}addChartEventListeners(){var s,t;(s=this.ctx.chartEventManager)==null||s.addListener("legend-item-click",e=>this.onLegendItemClick(e)),(t=this.ctx.chartEventManager)==null||t.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e))}getSeriesDomain(s){const{dataModel:t,processedData:e}=this;if(!e||!t)return[];if(s===Le.X)return t.getDomain(this,"angleValue","value",e);{const i=t.getDomain(this,"radiusValue","value",e),o=Qg(i.length===0?i:[0].concat(i));return Pg(o)}}processData(s){return C(this,null,function*(){var t;if(!this.properties.isValid())return;const{angleKey:e,radiusKey:i}=this.properties,o=[];this.ctx.animationManager.isSkipped()||o.push(Fg(this)),yield this.requestDataModel(s,(t=this.data)!=null?t:[],{props:[Tr(this,e,!1,{id:"angleValue"}),Tr(this,i,!1,{id:"radiusValue",invalidValue:void 0}),...o]}),this.animationState.transition("updateData")})}didCircleChange(){const s=this.radius,t=this.centerX,e=this.centerY,i=this.circleCache;return s===i.r&&t===i.cx&&e===i.cy?!1:(this.circleCache={r:s,cx:t,cy:e},!0)}getAxisInnerRadius(){const s=this.axes[Le.Y];return s instanceof wg?this.radius*s.innerRadiusRatio:0}maybeRefreshNodeData(){return C(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}createNodeData(){return C(this,null,function*(){var s,t;const{processedData:e,dataModel:i}=this;if(!e||!i||!this.properties.isValid())return[];const{angleKey:o,radiusKey:a,angleName:n,radiusName:r,marker:l,label:c}=this.properties,h=(s=this.axes[Le.X])==null?void 0:s.scale,d=(t=this.axes[Le.Y])==null?void 0:t.scale;if(!h||!d)return[];const p=i.resolveProcessedDataIndexById(this,"angleValue").index,g=i.resolveProcessedDataIndexById(this,"radiusValue").index,f=this.getAxisInnerRadius(),y=e.data.map(m=>{const{datum:S,values:v}=m,N=v[p],x=v[g],M=h.convert(N),I=this.radius+f-d.convert(x),D=Math.cos(M),A=Math.sin(M),T=D*I,b=A*I;let L;if(c.enabled){const _=this.getLabelText(c,{value:x,datum:S,angleKey:o,radiusKey:a,angleName:n,radiusName:r},E=>$g(E)?E.toFixed(2):String(E));_&&(L={x:T+D*l.size,y:b+A*l.size,text:_,textAlign:_r(D,0)?"center":D>0?"left":"right",textBaseline:_r(A,0)?"middle":A>0?"top":"bottom"})}return{series:this,datum:S,point:{x:T,y:b,size:l.size},midPoint:{x:T,y:b},label:L,angleValue:N,radiusValue:x}});return[{itemId:a,nodeData:y,labelData:y}]})}update(s){return C(this,arguments,function*({seriesRect:t}){var e,i;const o=this.checkResize(t),a=!this.ctx.animationManager.isSkipped(),{series:n}=(i=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight())!=null?i:{};this.highlightGroup.visible=(a||this.visible)&&n===this,yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),o&&this.animationState.transition("resize"),this.animationState.transition("update")})}updatePathSelections(){const s=this.visible?[!0]:[];this.lineSelection.update(s)}getMarkerFill(s){var t;return(t=s?.fill)!=null?t:this.properties.marker.fill}updateMarkers(s,t){var e;const{angleKey:i,radiusKey:o,marker:a,visible:n}=this.properties;let r=[];if(n&&a.shape&&a.enabled)if(t){const c=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight();c?.datum&&(r=[c])}else r=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0;s.update(r).each((c,h)=>{var d,p,g,f,y,m,S,v,N,x,M,I,D;const A=this.getMarkerFill(l),T=(p=(d=l?.stroke)!=null?d:a.stroke)!=null?p:this.properties.stroke,b=(y=(f=(g=l?.strokeWidth)!=null?g:a.strokeWidth)!=null?f:this.properties.strokeWidth)!=null?y:1,L=a.formatter?this.ctx.callbackCache.call(a.formatter,{datum:h.datum,angleKey:i,radiusKey:o,fill:A,stroke:T,strokeWidth:b,size:a.size,highlighted:t,seriesId:this.id}):void 0;c.fill=(m=L?.fill)!=null?m:A,c.stroke=(S=L?.stroke)!=null?S:T,c.strokeWidth=(v=L?.strokeWidth)!=null?v:b,c.fillOpacity=(x=(N=l?.fillOpacity)!=null?N:a.fillOpacity)!=null?x:1,c.strokeOpacity=(I=(M=a.strokeOpacity)!=null?M:this.properties.strokeOpacity)!=null?I:1,c.size=(D=L?.size)!=null?D:a.size;const{x:_,y:E}=h.point;c.translationX=_,c.translationY=E,c.visible=n&&c.size>0&&!isNaN(_)&&!isNaN(E)})}updateLabels(){const{label:s}=this.properties;this.labelSelection.update(this.nodeData).each((t,e)=>{s.enabled&&e.label?(t.x=e.label.x,t.y=e.label.y,t.fill=s.color,t.fontFamily=s.fontFamily,t.fontSize=s.fontSize,t.fontStyle=s.fontStyle,t.fontWeight=s.fontWeight,t.text=e.label.text,t.textAlign=e.label.textAlign,t.textBaseline=e.label.textBaseline,t.visible=!0):t.visible=!1})}getTooltipHtml(s){var t;if(!this.properties.isValid())return"";const{id:e}=this,{angleKey:i,radiusKey:o,angleName:a,radiusName:n,marker:r,tooltip:l}=this.properties,{datum:c,angleValue:h,radiusValue:d}=s,p=typeof h=="number"?Lr(h):String(h),g=typeof d=="number"?Lr(d):String(d),f=Er(n),y=Er(`${p}: ${g}`),{formatter:m,fill:S,stroke:v,strokeWidth:N,size:x}=r,M=N??this.properties.strokeWidth,{fill:I}=(t=m&&this.ctx.callbackCache.call(m,{datum:c,angleKey:i,radiusKey:o,fill:S,stroke:v,strokeWidth:M,size:x,highlighted:!1,seriesId:e}))!=null?t:{fill:S};return l.toTooltipHtml({title:f,content:y,backgroundColor:I},{datum:c,angleKey:i,angleName:a,radiusKey:o,radiusName:n,title:f,color:I,seriesId:e})}getLegendData(s){var t,e,i,o,a,n,r,l,c,h;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||s!=="category")return[];const{radiusKey:d,radiusName:p,stroke:g,strokeWidth:f,strokeOpacity:y,lineDash:m,visible:S,marker:v}=this.properties;return[{legendType:"category",id:this.id,itemId:d,seriesId:this.id,enabled:S,label:{text:p??d},marker:{shape:v.shape,fill:(o=(i=(e=this.getMarkerFill())!=null?e:v.stroke)!=null?i:g)!=null?o:"rgba(0, 0, 0, 0)",stroke:(n=(a=v.stroke)!=null?a:g)!=null?n:"rgba(0, 0, 0, 0)",fillOpacity:(r=v.fillOpacity)!=null?r:1,strokeOpacity:(c=(l=v.strokeOpacity)!=null?l:y)!=null?c:1,strokeWidth:(h=v.strokeWidth)!=null?h:0,enabled:v.enabled||f<=0},line:{stroke:g,strokeOpacity:y,strokeWidth:f,lineDash:m}}]}onLegendItemClick(s){const{enabled:t,itemId:e,series:i}=s;i.id===this.id&&this.toggleSeriesItem(e,t)}onLegendItemDoubleClick(s){const{enabled:t,itemId:e,series:i,numVisibleItems:o}=s,n=i.id===this.id||t&&o===1;this.toggleSeriesItem(e,n)}pickNodeClosestDatum(s){var t,e;const{x:i,y:o}=s,{rootGroup:a,nodeData:n,centerX:r,centerY:l}=this,c=a.transformPoint(i,o),h=this.radius;if(Math.sqrt(J(i-r,2)+J(o-l,2))>h+this.properties.marker.size)return;let p=1/0,g;for(const f of n){const{point:{x:y=NaN,y:m=NaN}={}}=f;if(isNaN(y)||isNaN(m))continue;const S=Math.sqrt(J(c.x-y-r,2)+J(c.y-m-l,2));S<p&&(p=S,g=f)}if(g){const f=Math.max(p-((e=(t=g.point)==null?void 0:t.size)!=null?e:0),0);return{datum:g,distance:f}}}computeLabelsBBox(){return C(this,null,function*(){const{label:s}=this.properties;yield this.maybeRefreshNodeData();const t=[],e=new Kg;return this.nodeData.forEach(i=>{if(!s.enabled||!i.label)return;e.text=i.label.text,e.x=i.label.x,e.y=i.label.y,e.setFont(s),e.setAlign(i.label);const o=e.computeBBox();t.push(o)}),t.length===0?null:Ug.merge(t)})}getLineNode(){return this.lineSelection.nodes()[0]}beforePathAnimation(){const s=this.getLineNode();s.fill=void 0,s.lineJoin="round",s.lineCap="round",s.pointerEvents=Wg.None,s.stroke=this.properties.stroke,s.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),s.strokeOpacity=this.properties.strokeOpacity,s.lineDash=this.properties.lineDash,s.lineDashOffset=this.properties.lineDashOffset}getLinePoints(){const{nodeData:s,resetInvalidToZero:t}=this,{connectMissingData:e}=this.properties;if(s.length===0)return[];const i=this.axes[Le.Y],o=this.axes[Le.X],a=o?.isReversed(),r=i?.isReversed()&&!a?[...s].reverse():s,l=[];let c=!1,h;return r.forEach((d,p)=>{let{x:g,y:f}=d.point;const y=isNaN(g)||isNaN(f);y||(h??(h=d)),y&&!e&&(g=0,f=0);const m=p===0||!t&&!e&&(y||c);l.push({x:g,y:f,moveTo:m}),c=y}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(s,t,e){const{path:i}=s;i.clear({trackChanges:!0});const o=this.getAxisInnerRadius(),a=this.axes[Le.Y],r=a?.isReversed()?this.radius+o-a?.scale.convert(0):o;t.forEach(l=>{const{x:c,y:h,arc:d,radius:p=0,startAngle:g=0,endAngle:f=0,moveTo:y}=l,m=Math.atan2(h,c),S=r*Math.cos(m),v=r*Math.sin(m),N=e,x=S*(1-N)+c*N,M=v*(1-N)+h*N;d?i.arc(c,h,p,g,f):y?i.moveTo(x,M):i.lineTo(x,M)}),s.checkPathDirty()}animatePaths(s){const t=this.getLinePoints();this.animateSinglePath(this.getLineNode(),t,s)}animateEmptyUpdateReady(){const{itemSelection:s,labelSelection:t}=this,{animationManager:e}=this.ctx,i=e.defaultDuration*(1-Vg.animationDuration),o={from:0,to:1};this.beforePathAnimation(),e.animate(yt(H({id:`${this.id}_'path`,groupId:this.id},o),{duration:i,onUpdate:a=>this.animatePaths(a),onStop:()=>this.animatePaths(1)})),Bg(this,e,[s],"added"),zg(this,"labels",e,[t])}animateWaitingUpdateReady(s){super.animateWaitingUpdateReady(s),this.resetPaths()}animateReadyResize(s){super.animateReadyResize(s),this.resetPaths()}resetPaths(){const s=this.getLineNode();if(s){const{path:t}=s,e=this.getLinePoints();s.fill=void 0,s.stroke=this.properties.stroke,s.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),s.strokeOpacity=this.properties.strokeOpacity,s.lineDash=this.properties.lineDash,s.lineDashOffset=this.properties.lineDashOffset,t.clear({trackChanges:!0}),e.forEach(({x:i,y:o,moveTo:a})=>{a?t.moveTo(i,o):t.lineTo(i,o)}),s.checkPathDirty()}}};So.className="RadarSeries";import{_ModuleSupport as qg}from"ag-charts-community";var{RATIO:Jg,COLOR_STRING:ty,Validate:Or}=qg,Mo=class extends It{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};u([Or(ty)],Mo.prototype,"fill",2),u([Or(Jg)],Mo.prototype,"fillOpacity",2);var{Group:ey,Path:iy,PointerEvents:sy,Selection:oy}=Mg,{ChartAxisDirection:Rr}=Ar,vo=class extends So{constructor(s){super(s),this.properties=new Mo,this.resetInvalidToZero=!0;const t=new ey;t.zIndexSubOrder=[()=>this._declarationOrder,0],this.contentGroup.append(t),this.areaSelection=oy.select(t,iy)}updatePathSelections(){const s=this.visible?[!0]:[];this.areaSelection.update(s),super.updatePathSelections()}getAreaNode(){return this.areaSelection.nodes()[0]}getMarkerFill(s){var t,e;return(e=(t=s?.fill)!=null?t:this.properties.marker.fill)!=null?e:this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const s=this.getAreaNode();s.fill=this.properties.fill,s.fillOpacity=this.properties.fillOpacity,s.pointerEvents=sy.None,s.stroke=void 0}animatePaths(s){super.animatePaths(s),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),s)}getAreaPoints(){var s,t;const e=this.getLinePoints(),i=l=>{const c=this.axes[l];return c instanceof Ar.PolarAxis?c:void 0},o=i(Rr.Y),a=i(Rr.X);if(!o?.isReversed())return e;const{points:r=[]}=(t=(s=a?.getAxisLinePoints)==null?void 0:s.call(a))!=null?t:{};return e.concat(...r)}resetPaths(){super.resetPaths();const s=this.getAreaNode();if(s){const{path:t}=s,e=this.getAreaPoints();s.fill=this.properties.fill,s.fillOpacity=this.properties.fillOpacity,s.stroke=void 0,s.lineDash=this.properties.lineDash,s.lineDashOffset=this.properties.lineDashOffset,s.lineJoin=s.lineCap="round",t.clear({trackChanges:!0}),e.forEach(({x:i,y:o,moveTo:a,arc:n,radius:r=0,startAngle:l=0,endAngle:c=0})=>{n?t.arc(i,o,r,l,c):a?t.moveTo(i,o):t.lineTo(i,o)}),t.closePath(),s.checkPathDirty()}}};vo.className="RadarAreaSeries",vo.type="radar-area";import{_Theme as es}from"ag-charts-community";var No={__extends__:es.EXTENDS_SERIES_DEFAULTS,label:{enabled:!1,fontSize:12,fontFamily:es.DEFAULT_FONT_FAMILY,color:es.DEFAULT_LABEL_COLOUR,__overrides__:es.OVERRIDE_SERIES_LABEL_DEFAULTS},marker:{enabled:!0,fillOpacity:1,formatter:void 0,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},ay=yt(H({},No),{fillOpacity:.8,strokeWidth:2,marker:yt(H({},No.marker),{enabled:!1})}),{markerPaletteFactory:ny}=xg,ry={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",instanceConstructor:vo,seriesDefaults:Ir,themeTemplate:ay,paletteFactory:s=>{const{marker:t}=ny(s);return{stroke:t.stroke,fill:t.fill,marker:t}}},Io=class extends So{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};Io.className="RadarLineSeries",Io.type="radar-line";var ly=yt(H({},No),{strokeWidth:2}),cy={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",instanceConstructor:Io,seriesDefaults:Ir,themeTemplate:ly,paletteFactory:({takeColors:s})=>{const{fills:[t],strokes:[e]}=s(1);return{stroke:t,marker:{fill:t,stroke:e}}}};import{_Theme as hy}from"ag-charts-community";var{POLAR_AXIS_TYPES:kr}=hy,uy={axes:[{type:kr.ANGLE_NUMBER},{type:kr.RADIUS_CATEGORY,innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}]};import{_ModuleSupport as Ao,_Scale as dy,_Scene as py,_Util as gy}from"ag-charts-community";import{_ModuleSupport as yy,_Scene as my}from"ag-charts-community";var{Label:fy}=my,{SeriesProperties:xy,SeriesTooltip:Sy,Validate:At,COLOR_STRING:Cr,DEGREE:My,FUNCTION:vy,LINE_DASH:Ny,NUMBER:Iy,OBJECT:wr,POSITIVE_NUMBER:Pr,RATIO:zr,STRING:xi}=yy,mt=class extends xy{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.label=new fy,this.tooltip=new Sy}};u([At(xi)],mt.prototype,"angleKey",2),u([At(xi)],mt.prototype,"radiusKey",2),u([At(xi,{optional:!0})],mt.prototype,"angleName",2),u([At(xi,{optional:!0})],mt.prototype,"radiusName",2),u([At(Cr)],mt.prototype,"fill",2),u([At(zr)],mt.prototype,"fillOpacity",2),u([At(Cr)],mt.prototype,"stroke",2),u([At(Pr)],mt.prototype,"strokeWidth",2),u([At(zr)],mt.prototype,"strokeOpacity",2),u([At(Ny)],mt.prototype,"lineDash",2),u([At(Pr)],mt.prototype,"lineDashOffset",2),u([At(vy,{optional:!0})],mt.prototype,"formatter",2),u([At(My)],mt.prototype,"rotation",2),u([At(xi,{optional:!0})],mt.prototype,"stackGroup",2),u([At(Iy,{optional:!0})],mt.prototype,"normalizedTo",2),u([At(wr)],mt.prototype,"label",2),u([At(wr)],mt.prototype,"tooltip",2);import{_Scene as Ay}from"ag-charts-community";var{motion:Dy}=Ay;function by(s,t,e){if(e==="updated"){if(s.previousDatum==null||isNaN(s.previousDatum.innerRadius)||isNaN(s.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return e==="added"&&s.previousDatum!=null?"updated":e}function Br(s){return{toFn:(i,o,a)=>{let n,r,l,c;return a==="removed"?(n=s,r=s,l=o.innerRadius,c=o.outerRadius):(n=o.startAngle,r=o.endAngle,l=isNaN(o.innerRadius)?i.innerRadius:o.innerRadius,c=isNaN(o.outerRadius)?i.outerRadius:o.outerRadius),{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c}},fromFn:(i,o,a)=>{a=by(i,o,a);let n,r,l,c;a==="removed"||a==="updated"?(n=i.startAngle,r=i.endAngle,l=i.innerRadius,c=i.outerRadius):(n=s,r=s,l=o.innerRadius,c=o.outerRadius);const h=Dy.FROM_TO_MIXINS[a];return H({startAngle:n,endAngle:r,innerRadius:l,outerRadius:c},h)}}}function Ty(s,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle}}var{ChartAxisDirection:se,PolarAxis:_y,diff:Ey,isDefined:Ly,groupAccumulativeValueProperty:jr,keyProperty:Oy,normaliseGroupTo:Ry,valueProperty:ky,fixNumericExtent:Cy,resetLabelFn:wy,seriesLabelFadeInAnimation:Py,seriesLabelFadeOutAnimation:zy,animationValidation:By}=Ao,{BandScale:jy}=dy,{Sector:Fy,motion:Fr}=py,{angleBetween:Vy,isNumber:Vr,sanitizeHtml:Ur}=gy,Uy=class extends Ao.SeriesNodeClickEvent{constructor(s,t,e,i){super(s,t,e,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey}},Do=class extends Ao.PolarSeries{constructor(s){super({moduleCtx:s,useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:Ty,label:wy}}),this.properties=new mt,this.NodeClickEvent=Uy,this.nodeData=[],this.groupScale=new jy,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new Fy}addChartEventListeners(){var s,t;(s=this.ctx.chartEventManager)==null||s.addListener("legend-item-click",e=>this.onLegendItemClick(e)),(t=this.ctx.chartEventManager)==null||t.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e))}getSeriesDomain(s){const{axes:t,dataModel:e,processedData:i}=this;if(!i||!e)return[];if(s===se.X){const o=t[se.X],a=e.getDomain(this,"angleValue-end","value",i),n=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return Cy(n,o)}else return e.getDomain(this,"radiusValue","key",i)}processData(s){return C(this,null,function*(){var t;if(!this.properties.isValid())return;const e=this.getStackId(),i=`${e}-trailing`,{angleKey:o,radiusKey:a,normalizedTo:n,visible:r}=this.properties,l=[];Ly(n)&&l.push(Ry(this,[e,i],Math.abs(n),"range"));const c=!this.ctx.animationManager.isSkipped();c&&(this.processedData&&l.push(Ey(this.processedData)),l.push(By(this)));const h=this.visible||!c?{}:{forceValue:0};yield this.requestDataModel(s,(t=this.data)!=null?t:[],{props:[Oy(this,a,!1,{id:"radiusValue"}),ky(this,o,!0,H({id:"angleValue-raw",invalidValue:null},h)),...jr(this,o,!0,"normal","current",H({id:"angleValue-end",invalidValue:null,groupId:e},h)),...jr(this,o,!0,"trailing","current",H({id:"angleValue-start",invalidValue:null,groupId:i},h)),...l],dataVisible:r||c}),this.animationState.transition("updateData")})}didCircleChange(){const s=this.radius,t=this.centerX,e=this.centerY,i=this.circleCache;return s===i.r&&t===i.cx&&e===i.cy?!1:(this.circleCache={r:s,cx:t,cy:e},!0)}maybeRefreshNodeData(){return C(this,null,function*(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getAxisInnerRadius(){const s=this.axes[se.Y];return s instanceof _y?this.radius*s.innerRadiusRatio:0}createNodeData(){return C(this,null,function*(){var s,t;const{processedData:e,dataModel:i}=this;if(!e||!i||!this.properties.isValid())return[];const o=this.axes[se.X],a=this.axes[se.Y],n=o?.scale,r=a?.scale;if(!n||!r)return[];const l=i.resolveProcessedDataIndexById(this,"angleValue-start").index,c=i.resolveProcessedDataIndexById(this,"angleValue-end").index,h=i.resolveProcessedDataIndexById(this,"angleValue-raw").index;let d=0;a instanceof Me&&(d=a.groupPaddingInner);const{groupScale:p}=this,{index:g,visibleGroupCount:f}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);p.domain=Array.from({length:f}).map((L,_)=>String(_)),p.range=[0,Math.abs((s=r.bandwidth)!=null?s:0)],p.paddingInner=f>1?d:0;const y=p.bandwidth>=1?p.bandwidth:p.rawBandwidth,m=(t=this.axes[se.Y])==null?void 0:t.isReversed(),S=m?this.radius:this.getAxisInnerRadius(),N=(m?this.getAxisInnerRadius():this.radius)+S,{angleKey:x,radiusKey:M,angleName:I,radiusName:D,label:A}=this.properties,T=(L,_,E,O)=>{const z=this.getLabelText(A,{value:_,datum:L,angleKey:x,radiusKey:M,angleName:I,radiusName:D},w=>Vr(w)?w.toFixed(2):String(w));if(z)return{x:E,y:O,text:z,textAlign:"center",textBaseline:"middle"}},b=e.data.map((L,_)=>{const{datum:E,keys:O,values:z}=L,w=O[0],k=z[h],P=z[l],B=z[c];let R=Math.max(n.convert(P),n.range[0]),U=Math.min(n.convert(B),n.range[1]);R>U&&([R,U]=[U,R]),k<0&&([R,U]=[U,R]);const V=N-r.convert(w)+p.convert(String(g)),F=V+y,Q=(V+F)/2,K=R+Vy(R,U)/2,q=Math.cos(K)*Q,st=Math.sin(K)*Q,ut=this.properties.label.enabled?T(E,k,q,st):void 0;return{series:this,datum:E,point:{x:q,y:st,size:0},midPoint:{x:q,y:st},label:ut,angleValue:k,radiusValue:w,innerRadius:V,outerRadius:F,startAngle:R,endAngle:U,index:_}});return[{itemId:M,nodeData:b,labelData:b}]})}update(s){return C(this,arguments,function*({seriesRect:t}){const e=this.checkResize(t);yield this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),e&&this.animationState.transition("resize"),this.animationState.transition("update")})}updateSectorSelection(s,t){var e,i,o,a,n;let r=[];if(t){const y=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight();y?.datum&&y.series===this&&(r=[y])}else r=this.nodeData;const l=t?this.properties.highlightStyle.item:void 0,c=(i=l?.fill)!=null?i:this.properties.fill,h=(o=l?.fillOpacity)!=null?o:this.properties.fillOpacity,d=(a=l?.stroke)!=null?a:this.properties.stroke,p=this.properties.strokeOpacity,g=(n=l?.strokeWidth)!=null?n:this.properties.strokeWidth,f=y=>y.radiusValue;s.update(r,void 0,f).each((y,m)=>{var S,v,N,x,M;const I=this.properties.formatter?this.ctx.callbackCache.call(this.properties.formatter,{datum:m,fill:c,stroke:d,strokeWidth:g,highlighted:t,angleKey:this.properties.angleKey,radiusKey:this.properties.radiusKey,seriesId:this.id}):void 0;y.fill=(S=I?.fill)!=null?S:c,y.fillOpacity=(v=I?.fillOpacity)!=null?v:h,y.stroke=(N=I?.stroke)!=null?N:d,y.strokeOpacity=p,y.strokeWidth=(x=I?.strokeWidth)!=null?x:g,y.lineDash=this.properties.lineDash,y.lineJoin="round",y.inset=d!=null?((M=I?.strokeWidth)!=null?M:g)/2:0,t&&(y.startAngle=m.startAngle,y.endAngle=m.endAngle,y.innerRadius=m.innerRadius,y.outerRadius=m.outerRadius)})}updateLabels(){const{label:s}=this.properties;this.labelSelection.update(this.nodeData).each((t,e)=>{s.enabled&&e.label?(t.x=e.label.x,t.y=e.label.y,t.fill=s.color,t.fontFamily=s.fontFamily,t.fontSize=s.fontSize,t.fontStyle=s.fontStyle,t.fontWeight=s.fontWeight,t.text=e.label.text,t.textAlign=e.label.textAlign,t.textBaseline=e.label.textBaseline,t.visible=!0):t.visible=!1})}getBarTransitionFunctions(){var s;const t=(s=this.axes[se.X])==null?void 0:s.scale;let e=0;if(!t)return Br(e);const i=Math.min(t.domain[0],t.domain[1]),o=Math.max(t.domain[0],t.domain[1]);return i<=0&&o>=0&&(e=t.convert(0)),Br(e)}animateEmptyUpdateReady(){const{labelSelection:s}=this,t=this.getBarTransitionFunctions();Fr.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),Py(this,"labels",this.ctx.animationManager,[s])}animateClearingUpdateEmpty(){const{itemSelection:s}=this,{animationManager:t}=this.ctx,e=this.getBarTransitionFunctions();Fr.fromToMotion(this.id,"datums",t,[s],e),zy(this,"labels",t,[this.labelSelection])}getTooltipHtml(s){var t;const{id:e,axes:i,dataModel:o}=this,{angleKey:a,angleName:n,radiusKey:r,radiusName:l,fill:c,stroke:h,strokeWidth:d,formatter:p,tooltip:g}=this.properties,{angleValue:f,radiusValue:y,datum:m}=s,S=i[se.X],v=i[se.Y];if(!this.properties.isValid()||!(S&&v&&Vr(f))||!o)return"";const N=S.formatDatum(f),x=v.formatDatum(y),M=Ur(n),I=Ur(`${x}: ${N}`),{fill:D}=(t=p&&this.ctx.callbackCache.call(p,{datum:m,fill:c,stroke:h,strokeWidth:d,highlighted:!1,angleKey:a,radiusKey:r,seriesId:e}))!=null?t:{fill:c};return g.toTooltipHtml({title:M,backgroundColor:c,content:I},{seriesId:e,datum:m,color:D,title:M,angleKey:a,radiusKey:r,angleName:n,radiusName:l})}getLegendData(s){var t;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid()||s!=="category")return[];const{angleKey:e,angleName:i,fill:o,stroke:a,fillOpacity:n,strokeOpacity:r,strokeWidth:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:c,label:{text:i??e},marker:{fill:o??"rgba(0, 0, 0, 0)",stroke:a??"rgba(0, 0, 0, 0)",fillOpacity:n??1,strokeOpacity:r??1,strokeWidth:l}}]}onLegendItemClick(s){const{enabled:t,itemId:e,series:i}=s;i.id===this.id&&this.toggleSeriesItem(e,t)}onLegendItemDoubleClick(s){const{enabled:t,itemId:e,series:i,numVisibleItems:o}=s,n=i.id===this.id||t&&o===1;this.toggleSeriesItem(e,n)}computeLabelsBBox(){return null}getStackId(){var s,t;return`radialBar-stack-${(t=(s=this.seriesGrouping)==null?void 0:s.groupIndex)!=null?t:this.id}-xValues`}};Do.className="RadialBarSeries",Do.type="radial-bar";import{_Theme as is}from"ag-charts-community";var Yy={__extends__:is.EXTENDS_SERIES_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:is.DEFAULT_FONT_FAMILY,color:is.DEFAULT_INVERTED_LABEL_COLOUR,__overrides__:is.OVERRIDE_SERIES_LABEL_DEFAULTS}},Hy={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",instanceConstructor:Do,seriesDefaults:uy,themeTemplate:Yy,paletteFactory:({takeColors:s})=>{const{fills:[t],strokes:[e]}=s(1);return{fill:t,stroke:e}},stackable:!0,groupable:!0};import{_Theme as Wy}from"ag-charts-community";var{POLAR_AXIS_TYPES:Yr,CIRCLE:Hr}=Wy,Gy={axes:[{type:Yr.ANGLE_CATEGORY,shape:Hr,groupPaddingInner:0,paddingInner:0,label:{padding:10}},{type:Yr.RADIUS_NUMBER,shape:Hr,innerRadiusRatio:.5}]};import{_ModuleSupport as Ky}from"ag-charts-community";import{_ModuleSupport as Xy}from"ag-charts-community";var{Validate:Wr,RATIO:Gr}=Xy,bo=class extends gt{};u([Wr(Gr,{optional:!0})],bo.prototype,"columnWidthRatio",2),u([Wr(Gr,{optional:!0})],bo.prototype,"maxColumnWidthRatio",2);import{_Scene as Qy,_Util as $y}from"ag-charts-community";var{Path:Zy,Path2D:qy,ScenePathChangeDetection:oe}=Qy,{angleBetween:Kr,isNumberEqual:To,normalizeAngle360:Si}=$y;function Xr(s,t,e){const i=Math.sqrt(J(s,2)+J(t,2)),a=Math.atan2(t,s)+e;return{x:Math.cos(a)*i,y:Math.sin(a)*i}}var Kt=class extends Zy{constructor(){super(...arguments),this.borderPath=new qy,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){const{startAngle:s,endAngle:t}=this,e=Kr(s,t);return Si(s+e/2+Math.PI/2)}updatePath(){const{isBeveled:s}=this;s?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:s,innerRadius:t,outerRadius:e,path:i}=this,o=-s/2,a=s/2,n=-e,r=-t,l=this.getRotation(),c=[[o,r],[o,n],[a,n],[a,r],[o,r]].map(([h,d])=>Xr(h,d,l));i.clear({trackChanges:!0}),i.moveTo(c[0].x,c[0].y),i.lineTo(c[1].x,c[1].y),i.lineTo(c[2].x,c[2].y),i.lineTo(c[3].x,c[3].y),i.lineTo(c[0].x,c[0].y),i.closePath()}updateBeveledPath(){const{columnWidth:s,path:t,outerRadius:e,innerRadius:i,axisInnerRadius:o,axisOuterRadius:a,isRadiusAxisReversed:n}=this,r=To(i,o),l=Math.asin(s/2/i),c=this.getRotation(),h=(A,T)=>Xr(A,T,c),d=(A,T)=>Math.sqrt(J(A,2)+J(T,2)),p=(A,T)=>T>A?0:Math.sqrt(J(A,2)-J(T,2)),g=(A,T,b)=>b?A<T:A>T,f=r&&!isNaN(l)&&l<Math.PI/6;let y=-s/2,m=s/2;const S=-e,v=-i*(f?Math.cos(l):1),N=g(a,d(i,s/2),!n);if(N){const A=p(a,i);y=-A,m=A}t.clear({trackChanges:!0});const x=h(y,v);t.moveTo(x.x,x.y);const M=To(i,e),I=g(a,d(e,s/2),!n);if(M&&f)t.arc(0,0,i,Si(-l-Math.PI/2)+c,Si(l-Math.PI/2)+c,!1);else if(I){const A=-p(a,s/2),T=p(a,e);if(!N){const b=h(y,A);t.lineTo(b.x,b.y)}if(t.arc(0,0,a,Math.atan2(A,y)+c,Math.atan2(S,-T)+c,!1),!To(T,0)){const b=h(T,S);t.lineTo(b.x,b.y)}t.arc(0,0,a,Math.atan2(S,T)+c,Math.atan2(A,m)+c,!1)}else{const A=h(y,S),T=h(m,S);t.lineTo(A.x,A.y),t.lineTo(T.x,T.y)}const D=h(m,v);if(t.lineTo(D.x,D.y),f)t.arc(0,0,i,Si(l-Math.PI/2)+c,Si(-l-Math.PI/2)+c,!0);else{const A=h(y,v);t.lineTo(A.x,A.y)}t.closePath()}};Kt.className="RadialColumnShape",u([oe()],Kt.prototype,"isBeveled",2),u([oe()],Kt.prototype,"columnWidth",2),u([oe()],Kt.prototype,"startAngle",2),u([oe()],Kt.prototype,"endAngle",2),u([oe()],Kt.prototype,"outerRadius",2),u([oe()],Kt.prototype,"innerRadius",2),u([oe()],Kt.prototype,"axisInnerRadius",2),u([oe()],Kt.prototype,"axisOuterRadius",2),u([oe()],Kt.prototype,"isRadiusAxisReversed",2);function Jy(s,t,e,i,o){const a=Kr(s,t),n=a*(1-i)/2;if(s+=n,t-=n,a>=2*Math.PI){const g=s+a/2;s=g-Math.PI,t=g+Math.PI}const r=e*Math.cos(s),l=e*Math.sin(s),c=e*Math.cos(t),h=e*Math.sin(t),d=Math.floor(Math.sqrt(J(r-c,2)+J(l-h,2))),p=2*e*o;return Math.max(1,Math.min(p,d))}var{ChartAxisDirection:tm,PolarAxis:em}=Ky,_o=class extends yr{constructor(s){super(s,{animationResetFns:{item:ug}}),this.properties=new bo}getStackId(){var s,t;return`radarColumn-stack-${(t=(s=this.seriesGrouping)==null?void 0:s.groupIndex)!=null?t:this.id}-yValues`}nodeFactory(){return new Kt}getColumnTransitionFunctions(){const s=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return hg(s)}isRadiusAxisCircle(){const s=this.axes[tm.Y];return s instanceof em?s.shape==="circle":!1}updateItemPath(s,t,e){s.isBeveled=this.isRadiusAxisCircle(),s.isRadiusAxisReversed=this.isRadiusAxisReversed(),e&&(s.innerRadius=t.innerRadius,s.outerRadius=t.outerRadius,s.startAngle=t.startAngle,s.endAngle=t.endAngle,s.columnWidth=t.columnWidth,s.axisInnerRadius=t.axisInnerRadius,s.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(s,t){const{columnWidthRatio:e=.5,maxColumnWidthRatio:i=.5}=this.properties;return Jy(s,t,this.radius,e,i)}};_o.className="RadialColumnSeries",_o.type="radial-column";import{_Theme as ss}from"ag-charts-community";var im={__extends__:ss.EXTENDS_SERIES_DEFAULTS,columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:12,fontFamily:ss.DEFAULT_FONT_FAMILY,color:ss.DEFAULT_LABEL_COLOUR,__overrides__:ss.OVERRIDE_SERIES_LABEL_DEFAULTS}},sm={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",instanceConstructor:_o,seriesDefaults:Gy,themeTemplate:im,paletteFactory:({takeColors:s})=>{const{fills:[t],strokes:[e]}=s(1);return{fill:t,stroke:e}},stackable:!0,groupable:!0};import{_ModuleSupport as om}from"ag-charts-community";import{_ModuleSupport as Mi,_Scene as Qr,_Util as am}from"ag-charts-community";import{_ModuleSupport as nm,_Scene as rm}from"ag-charts-community";var{DropShadow:lm,Label:cm}=rm,{CartesianSeriesProperties:hm,SeriesMarker:um,SeriesTooltip:dm,Validate:nt,BOOLEAN:pm,COLOR_STRING:$r,LINE_DASH:gm,OBJECT:os,PLACEMENT:ym,POSITIVE_NUMBER:Eo,RATIO:Zr,STRING:Oe}=nm,Lo=class extends cm{constructor(){super(...arguments),this.placement="outside",this.padding=6}};u([nt(ym)],Lo.prototype,"placement",2),u([nt(Eo)],Lo.prototype,"padding",2);var lt=class extends hm{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new lm().set({enabled:!1}),this.marker=new um,this.label=new Lo,this.tooltip=new dm,this.connectMissingData=!1}};u([nt(Oe)],lt.prototype,"xKey",2),u([nt(Oe)],lt.prototype,"yLowKey",2),u([nt(Oe)],lt.prototype,"yHighKey",2),u([nt(Oe,{optional:!0})],lt.prototype,"xName",2),u([nt(Oe,{optional:!0})],lt.prototype,"yName",2),u([nt(Oe,{optional:!0})],lt.prototype,"yLowName",2),u([nt(Oe,{optional:!0})],lt.prototype,"yHighName",2),u([nt($r)],lt.prototype,"fill",2),u([nt(Zr)],lt.prototype,"fillOpacity",2),u([nt($r)],lt.prototype,"stroke",2),u([nt(Eo)],lt.prototype,"strokeWidth",2),u([nt(Zr)],lt.prototype,"strokeOpacity",2),u([nt(gm)],lt.prototype,"lineDash",2),u([nt(Eo)],lt.prototype,"lineDashOffset",2),u([nt(os)],lt.prototype,"shadow",2),u([nt(os)],lt.prototype,"marker",2),u([nt(os)],lt.prototype,"label",2),u([nt(os)],lt.prototype,"tooltip",2),u([nt(pm)],lt.prototype,"connectMissingData",2);var{valueProperty:qr,trailingValueProperty:Jr,keyProperty:mm,ChartAxisDirection:pe,mergeDefaults:fm,updateLabelNode:xm,fixNumericExtent:tl,AreaSeriesTag:Oo,buildResetPathFn:Sm,resetLabelFn:Mm,resetMarkerFn:vm,resetMarkerPositionFn:el,pathSwipeInAnimation:Nm,resetMotion:Im,markerSwipeScaleInAnimation:Am,seriesLabelFadeInAnimation:Dm,animationValidation:bm,diff:Tm,updateClipPath:il}=Mi,{getMarker:_m,PointerEvents:Ro}=Qr,{sanitizeHtml:Re,extent:Em,isNumber:Lm}=am,Om={[Mi.ChartAxisDirection.X]:["xKey"],[Mi.ChartAxisDirection.Y]:["yLowKey","yHighKey"]},Rm={[pe.X]:["xName"],[pe.Y]:["yLowName","yHighName","yName"]},km=class extends Mi.SeriesNodeClickEvent{constructor(s,t,e,i){super(s,t,e,i),this.xKey=i.properties.xKey,this.yLowKey=i.properties.yLowKey,this.yHighKey=i.properties.yHighKey}},ko=class Gl extends Mi.CartesianSeries{constructor(t){super({moduleCtx:t,hasHighlightedLabels:!0,hasMarkers:!0,pathsPerSeries:2,directionKeys:Om,directionNames:Rm,animationResetFns:{path:Sm({getOpacity:()=>this.getOpacity()}),label:Mm,marker:(e,i)=>H(H({},vm(e)),el(e,i))}}),this.properties=new lt,this.NodeClickEvent=km}processData(t){return C(this,null,function*(){var e;if(!this.properties.isValid())return;const{xKey:i,yLowKey:o,yHighKey:a}=this.properties,{isContinuousX:n,isContinuousY:r}=this.isContinuous(),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(Tm(this.processedData)),c&&l.push(bm(this)),yield this.requestDataModel(t,(e=this.data)!=null?e:[],{props:[mm(this,i,n,{id:"xValue"}),qr(this,o,r,{id:"yLowValue",invalidValue:void 0}),qr(this,a,r,{id:"yHighValue",invalidValue:void 0}),Jr(this,o,r,{id:"yLowTrailingValue",invalidValue:void 0}),Jr(this,a,r,{id:"yHighTrailingValue",invalidValue:void 0}),...l],dataVisible:this.visible}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:o}=this;if(!(e&&i))return[];const{domain:{keys:[a],values:n}}=e;if(t===pe.X){const r=i.resolveProcessedDataDefById(this,"xValue"),l=o[pe.X];return r?.def.type==="key"&&r.def.valueType==="category"?a:tl(Em(a),l)}else{const r=i.resolveProcessedDataIndexById(this,"yLowValue").index,l=n[r],c=i.resolveProcessedDataIndexById(this,"yHighValue").index,h=n[c],d=[l[0]>h[0]?h[0]:l[0],h[1]<l[1]?l[1]:h[1]];return tl(d)}}createNodeData(){return C(this,null,function*(){var t,e;const{data:i,dataModel:o,axes:a,visible:n}=this,r=a[pe.X],l=a[pe.Y];if(!(i&&n&&r&&l&&o))return[];const c=r.scale,h=l.scale,{xKey:d,yLowKey:p,yHighKey:g,connectMissingData:f,marker:y}=this.properties,m=`${p}-${g}`,S=((t=c.bandwidth)!=null?t:0)/2,v=o.resolveProcessedDataDefsByIds(this,["xValue","yHighValue","yLowValue","yHighTrailingValue","yLowTrailingValue"]),N=(k,P,B)=>{const R=c.convert(k)+S,U=h.convert(P),Y=h.convert(B);return[{point:{x:R,y:U},size:y.size,itemId:"high",yValue:P,xValue:k},{point:{x:R,y:Y},size:y.size,itemId:"low",yValue:B,xValue:k}]},x=k=>{const P=k,{point:B}=P,R=da(P,["point"]);return yt(H({},R),{point:yt(H({},B),{moveTo:!0})})},M=[],I=[],D={itemId:m,points:[]},A={itemId:m,points:[]},T={itemId:m,labelData:M,nodeData:I,fillData:A,strokeData:D,scales:Jt(Gl.prototype,this,"calculateScaling").call(this),visible:this.visible},b=A.points,L=[],_=D.points,E=[];let O,z=-1/0,w=-1/0;return(e=this.processedData)==null||e.data.forEach(({keys:k,datum:P,values:B},R)=>{const U=o.resolveProcessedDataDefsValues(v,{keys:k,values:B}),{xValue:Y,yHighValue:V,yLowValue:F}=U,K=V==null||F==null?[]:N(Y,V,F),q=F>V;K.forEach(({point:{x:ft,y:Tt},size:wt,itemId:Ot="",yValue:Yt})=>{I.push({index:R,series:this,itemId:Ot,datum:P,midPoint:{x:ft,y:Tt},yHighValue:V,yLowValue:F,xValue:Y,xKey:d,yLowKey:p,yHighKey:g,point:{x:ft,y:Tt,size:wt}});const Ve=this.createLabelData({point:{x:ft,y:Tt},value:Yt,yLowValue:F,yHighValue:V,itemId:Ot,inverted:q,datum:P,series:this});M.push(Ve)});const st=z!=null&&w!=null,ut=O!=null&&st,tt=Y!=null,G=V!=null&&F!=null;let[dt,ot]=N(Y,V??0,F??0);if(!f)if(G){if(!st){const[ft,Tt]=N(Y,0,0);b.push(ft),L.push(Tt)}}else{const[ft,Tt]=N(O,0,0);b.push(ft),L.push(Tt)}tt&&G&&(b.push(dt),L.push(ot)),tt&&G&&!ut&&!f&&R>0&&(dt=x(dt),ot=x(ot)),tt&&G&&(_.push(dt),E.push(ot)),O=Y,z=V,w=F}),b.length>0&&(b[0]=x(b[0])),b.push(...L.reverse()),E.length>0&&(E[0]=x(E[0])),_.push(...E),[T]})}createLabelData({point:t,value:e,itemId:i,inverted:o,datum:a,series:n}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yName:d,yLowName:p,yHighName:g,label:f}=this.properties,{placement:y,padding:m=10}=f,S=o?i==="low"?"high":"low":i,v=y==="outside"&&S==="high"||y==="inside"&&S==="low"?-1:1;return{x:t.x,y:t.y+m*v,series:n,itemId:i,datum:a,text:this.getLabelText(f,{value:e,datum:a,itemId:i,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:g,yName:d},N=>Lm(N)?N.toFixed(2):String(N)),textAlign:"center",textBaseline:v===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,e=_m(t);return new e}updatePathNodes(t){return C(this,null,function*(){const{opacity:e,visible:i}=t,[o,a]=t.paths,n=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:Oo.Stroke,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:Ro.None,stroke:this.properties.stroke,strokeWidth:n,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i}),o.setProperties({tag:Oo.Fill,stroke:void 0,lineJoin:"round",pointerEvents:Ro.None,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,strokeWidth:n,opacity:e,visible:i}),il(this,a),il(this,o)})}updatePaths(t){return C(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){e.forEach(({fillData:i},o)=>{const[a]=t[o],{path:n}=a;n.clear({trackChanges:!0});for(const{point:r}of i.points)r.moveTo?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y);n.closePath(),a.checkPathDirty()})}updateStrokePath(t,e){e.forEach(({strokeData:i},o)=>{const[,a]=t[o],{path:n}=a;n.clear({trackChanges:!0});for(const{point:r}of i.points)r.moveTo?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y);a.checkPathDirty()})}updateMarkerSelection(t){return C(this,null,function*(){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return C(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:o,yLowKey:a,yHighKey:n,marker:r,fill:l,stroke:c,strokeWidth:h,fillOpacity:d,strokeOpacity:p}=this.properties,g=fm(i&&this.properties.highlightStyle.item,r.getStyle(),{fill:l,fillOpacity:d,stroke:c,strokeWidth:h,strokeOpacity:p});e.each((f,y)=>{this.updateMarkerStyle(f,r,{datum:y,highlighted:i,xKey:o,yHighKey:n,yLowKey:a},g)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return C(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e,o=>{o.tag=Oo.Label,o.pointerEvents=Ro.None})})}updateLabelNodes(t){return C(this,null,function*(){t.labelSelection.each((e,i)=>{xm(e,this.properties.label,i)})})}getHighlightLabelData(t,e){const i=t.filter(o=>o.datum===e.datum);return i.length>0?i:void 0}getHighlightData(t,e){const i=t.filter(o=>o.datum===e.datum);return i.length>0?i:void 0}getTooltipHtml(t){const e=this.axes[pe.X],i=this.axes[pe.Y];if(!this.properties.isValid()||!e||!i)return"";const{id:o}=this,{xKey:a,yLowKey:n,yHighKey:r,xName:l,yName:c,yLowName:h,yHighName:d,fill:p,tooltip:g}=this.properties,{datum:f,itemId:y,xValue:m,yLowValue:S,yHighValue:v}=t,N=p??"gray",x=Re(e.formatDatum(m)),M=Re(i.formatDatum(S)),I=Re(i.formatDatum(v)),D=l??a,A=h??n,T=d??r,b=Re(c),L=c?`<b>${Re(D)}</b>: ${x}<br><b>${Re(A)}</b>: ${M}<br><b>${Re(T)}</b>: ${I}<br>`:`${x}: ${M} - ${I}`;return g.toTooltipHtml({title:b,content:L,backgroundColor:N},{seriesId:o,itemId:y,datum:f,xKey:a,yLowKey:n,yHighKey:r,xName:l,yLowName:h,yHighName:d,yName:c,color:N})}getLegendData(t){var e,i;if(t!=="category")return[];const{yLowKey:o,yHighKey:a,yName:n,yLowName:r,yHighName:l,fill:c,stroke:h,strokeWidth:d,strokeOpacity:p,lineDash:g,visible:f,marker:y}=this.properties,m=n??`${r??o} - ${l??a}`;return[{legendType:"category",id:this.id,itemId:`${o}-${a}`,seriesId:this.id,enabled:f,label:{text:`${m}`},marker:{shape:y.shape,fill:(e=y.fill)!=null?e:c,stroke:(i=y.stroke)!=null?i:h,fillOpacity:y.fillOpacity,strokeOpacity:y.strokeOpacity,strokeWidth:y.strokeWidth},line:{stroke:h,strokeOpacity:p,strokeWidth:d,lineDash:g}}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new Qr.Group}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:i,contextData:o,paths:a}=t,{animationManager:n}=this.ctx;this.updateAreaPaths(a,o),Nm(this,n,a.flat()),Im(e,el),Am(this,n,e),Dm(this,"labels",n,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){const{contextData:e,paths:i}=t;super.animateWaitingUpdateReady(t),this.updateAreaPaths(i,e)}};ko.className="RangeAreaSeries",ko.type="range-area";var Cm=ko;import{_Theme as wm}from"ag-charts-community";var{CARTESIAN_AXIS_TYPES:sl,CARTESIAN_AXIS_POSITIONS:ol}=wm,Pm={axes:[{type:sl.NUMBER,position:ol.LEFT,crosshair:{enabled:!0,snap:!1}},{type:sl.CATEGORY,position:ol.BOTTOM}]};import{_Theme as as}from"ag-charts-community";var zm={__extends__:as.EXTENDS_SERIES_DEFAULTS,xKey:"",yLowKey:"",yHighKey:"",fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,fillOpacity:1,strokeWidth:2},label:{enabled:!1,placement:"outside",padding:10,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:as.DEFAULT_FONT_FAMILY,color:as.DEFAULT_LABEL_COLOUR,__overrides__:as.OVERRIDE_SERIES_LABEL_DEFAULTS}},{markerPaletteFactory:Bm}=om,jm={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",instanceConstructor:Cm,seriesDefaults:Pm,themeTemplate:zm,paletteFactory:s=>{const{marker:t}=Bm(s);return{fill:t.fill,stroke:t.stroke,marker:t}}};import{_ModuleSupport as vi,_Scene as Fm,_Util as Vm}from"ag-charts-community";import{_ModuleSupport as Um,_Scene as Ym}from"ag-charts-community";var{DropShadow:Hm,Label:Wm}=Ym,{AbstractBarSeriesProperties:Gm,SeriesTooltip:Km,Validate:rt,COLOR_STRING:al,FUNCTION:Xm,LINE_DASH:Qm,OBJECT:Co,PLACEMENT:$m,POSITIVE_NUMBER:ns,RATIO:nl,STRING:ke}=Um,wo=class extends Wm{constructor(){super(...arguments),this.placement="inside",this.padding=6}};u([rt($m)],wo.prototype,"placement",2),u([rt(ns)],wo.prototype,"padding",2);var ct=class extends Gm{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new Hm().set({enabled:!1}),this.label=new wo,this.tooltip=new Km}};u([rt(ke)],ct.prototype,"xKey",2),u([rt(ke)],ct.prototype,"yLowKey",2),u([rt(ke)],ct.prototype,"yHighKey",2),u([rt(ke,{optional:!0})],ct.prototype,"xName",2),u([rt(ke,{optional:!0})],ct.prototype,"yName",2),u([rt(ke,{optional:!0})],ct.prototype,"yLowName",2),u([rt(ke,{optional:!0})],ct.prototype,"yHighName",2),u([rt(al)],ct.prototype,"fill",2),u([rt(nl)],ct.prototype,"fillOpacity",2),u([rt(al)],ct.prototype,"stroke",2),u([rt(ns)],ct.prototype,"strokeWidth",2),u([rt(nl)],ct.prototype,"strokeOpacity",2),u([rt(Qm)],ct.prototype,"lineDash",2),u([rt(ns)],ct.prototype,"lineDashOffset",2),u([rt(ns)],ct.prototype,"cornerRadius",2),u([rt(Xm,{optional:!0})],ct.prototype,"formatter",2),u([rt(Co)],ct.prototype,"shadow",2),u([rt(Co)],ct.prototype,"label",2),u([rt(Co)],ct.prototype,"tooltip",2);var{SeriesNodePickMode:Zm,valueProperty:rl,keyProperty:qm,ChartAxisDirection:qt,getRectConfig:Jm,updateRect:tf,checkCrisp:ef,updateLabelNode:sf,CategoryAxis:of,SMALLEST_KEY_INTERVAL:ll,diff:af,prepareBarAnimationFunctions:cl,midpointStartingBarPosition:hl,resetBarSelectionsFn:nf,fixNumericExtent:Po,seriesLabelFadeInAnimation:ul,resetLabelFn:rf,animationValidation:lf}=vi,{ContinuousScale:zo,BandScale:cf,Rect:hf,PointerEvents:uf,motion:dl}=Fm,{sanitizeHtml:Ce,isNumber:pl,extent:df}=Vm,pf={[vi.ChartAxisDirection.X]:["xKey"],[vi.ChartAxisDirection.Y]:["yLowKey","yHighKey"]},gf={[qt.X]:["xName"],[qt.Y]:["yLowName","yHighName","yName"]},yf=class extends vi.SeriesNodeClickEvent{constructor(s,t,e,i){super(s,t,e,i),this.xKey=i.properties.xKey,this.yLowKey=i.properties.yLowKey,this.yHighKey=i.properties.yHighKey}},Bo=class Kl extends vi.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[Zm.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:pf,directionNames:gf,datumSelectionGarbageCollection:!1,animationResetFns:{datum:nf,label:rf}}),this.properties=new ct,this.NodeClickEvent=yf,this.groupScale=new cf,this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()===qt.X?t===qt.X?qt.Y:qt.X:t}processData(t){return C(this,null,function*(){var e,i,o,a,n;if(!this.properties.isValid())return;const{xKey:r,yLowKey:l,yHighKey:c}=this.properties,h=zo.is((e=this.getCategoryAxis())==null?void 0:e.scale),d=zo.is((i=this.getValueAxis())==null?void 0:i.scale),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(af(this.processedData)),p.push(lf(this)));const{processedData:g}=yield this.requestDataModel(t,(o=this.data)!=null?o:[],{props:[qm(this,r,h,{id:"xValue"}),rl(this,l,d,{id:"yLowValue"}),rl(this,c,d,{id:"yHighValue"}),...h?[ll]:[],...p],groupByKeys:!0,dataVisible:this.visible});this.smallestDataInterval={x:(n=(a=g.reduced)==null?void 0:a.smallestKeyInterval)!=null?n:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:o}=this;if(!(i&&o))return[];const{domain:{keys:[a],values:n}}=i;if(t===this.getCategoryDirection()){const r=o.resolveProcessedDataDefById(this,"xValue");if(r?.def.type==="key"&&r?.def.valueType==="category")return a;const{reduced:{[ll.property]:l}={}}=i,c=l!=null&&isFinite(l)?l:0,h=(e=df(a))!=null?e:[NaN,NaN],d=this.getCategoryAxis(),p=d?.isReversed();if(t===qt.Y){const y=h[0]+(p?0:-c),m=h[1]+(p?c:0);return Po([y,m],d)}const g=h[0]+(p?-c:0),f=h[1]+(p?0:c);return Po([g,f],d)}else{const r=o.resolveProcessedDataIndexById(this,"yLowValue").index,l=n[r],c=o.resolveProcessedDataIndexById(this,"yHighValue").index,h=n[c],d=[l[0]>h[0]?h[0]:l[0],h[1]<l[1]?l[1]:h[1]];return Po(d)}}createNodeData(){return C(this,null,function*(){const{data:t,dataModel:e,groupScale:i,processedData:o,smallestDataInterval:a,ctx:{seriesStateManager:n},properties:{visible:r}}=this,l=this.getCategoryAxis(),c=this.getValueAxis();if(!(t&&r&&l&&c&&e))return[];const h=l.scale,d=c.scale,p=this.getBarDirection()===qt.X,{xKey:g,yLowKey:f,yHighKey:y,fill:m,stroke:S,strokeWidth:v}=this.properties,N=`${f}-${y}`,x=[],M=[],{index:I,visibleGroupCount:D}=n.getVisiblePeerGroupIndex(this);for(let E=0;E<D;E++)M.push(String(E));const A=zo.is(h)?h.calcBandwidth(a?.x):h.bandwidth;i.domain=M,i.range=[0,A??0],l instanceof of?i.paddingInner=l.groupPaddingInner:i.padding=0,i.round=i.padding!==0;const T=i.bandwidth>=1?i.bandwidth:i.rawBandwidth,b=e.resolveProcessedDataIndexById(this,"yLowValue").index,L=e.resolveProcessedDataIndexById(this,"yHighValue").index,_=e.resolveProcessedDataIndexById(this,"xValue").index;return o?.data.forEach(({keys:E,datum:O,values:z},w)=>{z.forEach((k,P)=>{var B;(B=x[P])!=null||(x[P]={itemId:N,nodeData:[],labelData:[],scales:Jt(Kl.prototype,this,"calculateScaling").call(this),visible:this.visible});const R=E[_],U=Math.round(h.convert(R))+i.convert(String(I)),Y=k[b],V=k[L],F=Math.min(Y,V),Q=Math.max(Y,V),K=Math.round(d.convert(F)),st=Math.round(d.convert(Q)),ut=K,tt=Math.max(v,Math.abs(ut-st)),G={x:p?Math.min(st,ut):U,y:p?U:Math.min(st,ut),width:p?tt:T,height:p?T:tt},dt={x:G.x+G.width/2,y:G.y+G.height/2},ot=this.createLabelData({rect:G,barAlongX:p,yLowValue:F,yHighValue:Q,datum:O[P],series:this}),Bt={index:w,series:this,itemId:N,datum:O[P],xValue:R,yLowValue:Y,yHighValue:V,yLowKey:f,yHighKey:y,xKey:g,x:G.x,y:G.y,width:G.width,height:G.height,midPoint:dt,fill:m,stroke:S,strokeWidth:v,labels:ot};x[P].nodeData.push(Bt),x[P].labelData.push(...ot)})}),x})}createLabelData({rect:t,barAlongX:e,yLowValue:i,yHighValue:o,datum:a,series:n}){const{xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:d,yHighName:p,yName:g,label:f}=this.properties,y={datum:a,xKey:r,yLowKey:l,yHighKey:c,xName:h,yLowName:d,yHighName:p,yName:g},{placement:m,padding:S}=f,N=S*(m==="outside"?1:-1),x={x:t.x+(e?-N:t.width/2),y:t.y+(e?t.height/2:t.height+N),textAlign:e?"left":"center",textBaseline:e?"middle":"bottom",text:this.getLabelText(f,H({itemId:"low",value:i},y),I=>pl(I)?I.toFixed(2):""),itemId:"low",datum:a,series:n},M={x:t.x+(e?t.width+N:t.width/2),y:t.y+(e?t.height/2:-N),textAlign:e?"right":"center",textBaseline:e?"middle":"top",text:this.getLabelText(f,H({itemId:"high",value:o},y),I=>pl(I)?I.toFixed(2):""),itemId:"high",datum:a,series:n};return m==="outside"&&(x.textAlign=e?"right":"center",x.textBaseline=e?"middle":"top",M.textAlign=e?"left":"center",M.textBaseline=e?"middle":"bottom"),[x,M]}nodeFactory(){return new hf}updateDatumSelection(t){return C(this,null,function*(){const{nodeData:e,datumSelection:i}=t,o=e??[];return i.update(o,void 0,a=>this.getDatumId(a))})}updateDatumNodes(t){return C(this,null,function*(){const{datumSelection:e,isHighlight:i}=t,{id:o,ctx:a}=this,{yLowKey:n,yHighKey:r,highlightStyle:{item:l}}=this.properties,c=this.axes[qt.X],h=ef(c?.visibleRange),d=this.getCategoryDirection()===qt.X;e.each((p,g)=>{const{fillOpacity:f,strokeOpacity:y,strokeWidth:m,lineDash:S,lineDashOffset:v,formatter:N,shadow:x}=this.properties,M={fill:g.fill,stroke:g.stroke,fillOpacity:f,strokeOpacity:y,lineDash:S,lineDashOffset:v,fillShadow:x,strokeWidth:this.getStrokeWidth(m),cornerRadius:this.properties.cornerRadius,cornerRadiusBbox:void 0},I=d?g.width>0:g.height>0,D=Jm({datum:g,lowValue:g.yLowValue,highValue:g.yHighValue,isHighlighted:i,style:M,highlightStyle:l,formatter:N,seriesId:o,itemId:g.itemId,ctx:a,yLowKey:n,yHighKey:r});D.crisp=h,D.visible=I,tf({rect:p,config:D})})})}getHighlightLabelData(t,e){const i=t.filter(o=>o.datum===e.datum);return i.length>0?i:void 0}updateLabelSelection(t){return C(this,null,function*(){const e=this.properties.label.enabled?t.labelData:[];return t.labelSelection.update(e,i=>{i.pointerEvents=uf.None})})}updateLabelNodes(t){return C(this,null,function*(){t.labelSelection.each((e,i)=>{sf(e,this.properties.label,i)})})}getTooltipHtml(t){var e,i;const{id:o,ctx:{callbackCache:a}}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!this.properties.isValid()||!n||!r)return"";const{xKey:l,yLowKey:c,yHighKey:h,xName:d,yLowName:p,yHighName:g,yName:f,fill:y,strokeWidth:m,formatter:S,tooltip:v}=this.properties,{datum:N,itemId:x,xValue:M,yLowValue:I,yHighValue:D}=t;let A;S&&(A=a.call(S,{datum:N,xKey:l,yLowKey:c,yHighKey:h,fill:y,strokeWidth:m,highlighted:!1,seriesId:o,itemId:x}));const T=(i=(e=A?.fill)!=null?e:y)!=null?i:"gray",b=Ce(n.formatDatum(M)),L=Ce(r.formatDatum(I)),_=Ce(r.formatDatum(D)),E=d??l,O=p??c,z=g??h,w=Ce(f),k=f?`<b>${Ce(E)}</b>: ${b}<br><b>${Ce(O)}</b>: ${L}<br><b>${Ce(z)}</b>: ${_}<br>`:`${b}: ${L} - ${_}`,P={title:w,content:k,backgroundColor:T};return v.toTooltipHtml(P,{datum:N,xKey:l,xName:d,yLowKey:c,yLowName:p,yHighKey:h,yHighName:g,yName:f,color:T,seriesId:o,itemId:x})}getLegendData(t){const{id:e,visible:i}=this;if(t!=="category")return[];const{fill:o,stroke:a,strokeWidth:n,fillOpacity:r,strokeOpacity:l,yName:c,yLowName:h,yHighName:d,yLowKey:p,yHighKey:g}=this.properties,f=c??`${h??p} - ${d??g}`;return[{legendType:"category",id:e,itemId:`${p}-${g}`,seriesId:e,enabled:i,label:{text:`${f}`},marker:{fill:o,stroke:a,fillOpacity:r,strokeOpacity:l,strokeWidth:n}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e}){const i=cl(hl(this.isVertical()));dl.fromToMotion(this.id,"datums",this.ctx.animationManager,t,i),ul(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var e;const{datumSelections:i,labelSelections:o}=t,{processedData:a}=this,n=(e=a?.reduced)==null?void 0:e.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=cl(hl(this.isVertical()));dl.fromToMotion(this.id,"datums",this.ctx.animationManager,i,r,(l,c)=>String(c.xValue),n),ul(this,"labels",this.ctx.animationManager,o)}getDatumId(t){return`${t.xValue}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}};Bo.className="RangeBarSeries",Bo.type="range-bar";var mf=Bo;import{_Theme as ff}from"ag-charts-community";var{CARTESIAN_AXIS_TYPES:gl,CARTESIAN_AXIS_POSITIONS:yl}=ff,xf={axes:[{type:gl.CATEGORY,position:yl.BOTTOM},{type:gl.NUMBER,position:yl.LEFT,crosshair:{enabled:!0,snap:!1}}]};import{_Theme as rs}from"ag-charts-community";var Sf={__extends__:rs.EXTENDS_SERIES_DEFAULTS,xKey:"",yLowKey:"",yHighKey:"",strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:rs.DEFAULT_FONT_FAMILY,color:rs.DEFAULT_INSIDE_SERIES_LABEL_COLOUR,formatter:void 0,placement:"inside",__overrides__:rs.OVERRIDE_SERIES_LABEL_DEFAULTS}},Mf={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",instanceConstructor:mf,seriesDefaults:xf,themeTemplate:Sf,paletteFactory:({takeColors:s})=>{const{fills:[t],strokes:[e]}=s(1);return{fill:t,stroke:e}},groupable:!0,swapDefaultAxesCondition:({direction:s})=>s==="horizontal"};import{_Theme as ml}from"ag-charts-community";import{_ModuleSupport as fl,_Scene as vf,_Util as Nf}from"ag-charts-community";import{_ModuleSupport as If}from"ag-charts-community";var{HierarchySeriesProperties:Af,HighlightStyle:Df,SeriesTooltip:bf,Validate:ht,COLOR_STRING:Tf,FUNCTION:_f,NUMBER:xl,OBJECT:si,POSITIVE_NUMBER:Sl,RATIO:ls,STRING:cs}=If,ge=class extends Df{constructor(){super(...arguments),this.label=new Gt,this.secondaryLabel=new Gt}};u([ht(cs,{optional:!0})],ge.prototype,"fill",2),u([ht(ls,{optional:!0})],ge.prototype,"fillOpacity",2),u([ht(Tf,{optional:!0})],ge.prototype,"stroke",2),u([ht(Sl,{optional:!0})],ge.prototype,"strokeWidth",2),u([ht(ls,{optional:!0})],ge.prototype,"strokeOpacity",2),u([ht(si)],ge.prototype,"label",2),u([ht(si)],ge.prototype,"secondaryLabel",2);var Ct=class extends Af{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.highlightStyle=new ge,this.label=new Gt,this.secondaryLabel=new qi,this.tooltip=new bf}};u([ht(cs,{optional:!0})],Ct.prototype,"sizeName",2),u([ht(cs,{optional:!0})],Ct.prototype,"labelKey",2),u([ht(cs,{optional:!0})],Ct.prototype,"secondaryLabelKey",2),u([ht(ls)],Ct.prototype,"fillOpacity",2),u([ht(Sl)],Ct.prototype,"strokeWidth",2),u([ht(ls)],Ct.prototype,"strokeOpacity",2),u([ht(xl,{optional:!0})],Ct.prototype,"sectorSpacing",2),u([ht(xl,{optional:!0})],Ct.prototype,"padding",2),u([ht(_f,{optional:!0})],Ct.prototype,"formatter",2),u([ht(si)],Ct.prototype,"highlightStyle",2),u([ht(si)],Ct.prototype,"label",2),u([ht(si)],Ct.prototype,"secondaryLabel",2),u([ht(si)],Ct.prototype,"tooltip",2);var{fromToMotion:Ef}=fl,{Sector:jo,Group:Ml,Selection:vl,Text:Ni}=vf,{sanitizeHtml:Fo}=Nf,Nl=(s,t=0,e=2*Math.PI/s.sumSize,i=Array.from(s,()=>{}))=>{let o=t;for(const a of s.children){const n=o,r=o+a.sumSize*e;i[a.index]={start:n,end:r},Nl(a,n,e,i),o=r}return i},Vo=class Xl extends fl.HierarchySeries{constructor(){super(...arguments),this.properties=new Ct,this.groupSelection=vl.select(this.contentGroup,Ml),this.highlightSelection=vl.select(this.highlightGroup,Ml),this.angleData=[]}processData(){return C(this,null,function*(){const{childrenKey:t,colorKey:e,colorName:i,labelKey:o,secondaryLabelKey:a,sizeKey:n,sizeName:r}=this.properties;Jt(Xl.prototype,this,"processData").call(this),this.angleData=Nl(this.rootNode);const l=c=>typeof c=="number"?c.toFixed(2):typeof c=="string"?c:"";this.labelData=Array.from(this.rootNode,({datum:c,depth:h})=>{let d;if(c!=null&&h!=null&&o!=null){const g=c[o];d=this.getLabelText(this.properties.label,{depth:h,datum:c,childrenKey:t,colorKey:e,colorName:i,labelKey:o,secondaryLabelKey:a,sizeKey:n,sizeName:r,value:g},l)}d===""&&(d=void 0);let p;if(c!=null&&h!=null&&a!=null){const g=c[a];p=this.getLabelText(this.properties.secondaryLabel,{depth:h,datum:c,childrenKey:t,colorKey:e,colorName:i,labelKey:o,secondaryLabelKey:a,sizeKey:n,sizeName:r,value:g},l)}return p===""&&(p=void 0),d!=null||p!=null?{label:d,secondaryLabel:p}:void 0})})}updateSelections(){return C(this,null,function*(){if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:t}=this;if(t==null||t.seriesRect==null)return;const i=Array.from(this.rootNode),o=a=>{a.append([new jo,new Ni({tag:0}),new Ni({tag:1})])};this.groupSelection.update(i,o,a=>this.getDatumId(a)),this.highlightSelection.update(i,o,a=>this.getDatumId(a))})}updateNodes(){return C(this,null,function*(){var t;const{chart:e,data:i,maxDepth:o,labelData:a}=this;if(e==null||i==null||a==null)return;const{width:n,height:r}=e.seriesRect,{sectorSpacing:l=0,padding:c=0,highlightStyle:h}=this.properties;this.contentGroup.translationX=n/2,this.contentGroup.translationY=r/2,this.highlightGroup.translationX=n/2,this.highlightGroup.translationY=r/2;const d=l*.5,g=Math.min(n,r)/2/(o+1),f=-Math.PI/2,y=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight();new Ni().setFont(this.properties.label),this.rootNode.walk(x=>{const M=this.angleData[x.index];if(x.depth!=null&&M!=null){const I=M.end-M.start,D=(x.depth+.5)*g;x.midPoint.x=Math.cos(I)*D,x.midPoint.y=Math.sin(I)*D}});const S=(x,M,I)=>{var D,A,T,b,L,_,E,O,z,w;const{depth:k}=x,P=this.angleData[x.index];if(k==null||P==null){M.visible=!1;return}M.visible=!0;let B,R,U,Y,V;I&&(B=h.fill,R=h.fillOpacity,U=h.stroke,Y=h.strokeWidth,V=h.strokeOpacity);const F=this.getSectorFormat(x,I),Q=(A=(D=F?.fill)!=null?D:B)!=null?A:x.fill,K=(b=(T=F?.fillOpacity)!=null?T:R)!=null?b:this.properties.fillOpacity,q=(_=(L=F?.stroke)!=null?L:U)!=null?_:x.stroke,st=(O=(E=F?.strokeWidth)!=null?E:Y)!=null?O:this.properties.strokeWidth,ut=(w=(z=F?.strokeOpacity)!=null?z:V)!=null?w:this.properties.strokeOpacity;M.fill=Q,M.fillOpacity=K,M.stroke=q,M.strokeWidth=st,M.strokeOpacity=ut,M.centerX=0,M.centerY=0,M.innerRadius=k*g,M.outerRadius=(k+1)*g,M.angleOffset=f,M.startAngle=P.start,M.endAngle=P.end,M.inset=d+st*.5};this.groupSelection.selectByClass(jo).forEach(x=>{S(x.datum,x,!1)}),this.highlightSelection.selectByClass(jo).forEach(x=>{const M=x.datum,I=y===M;x.visible=I,x.visible&&S(x.datum,x,I)});const v=Array.from(this.rootNode,(x,M)=>{const{depth:I}=x,D=a[M],A=this.angleData[M];if(I==null||A==null)return;const T=I*g+d,b=(I+1)*g-d,L=T>d?d/T:d,_=b>d?d/b:d,E=A.start+L,z=A.end+L-E,w=A.start+_,P=A.end+_-w,B=G=>{var dt;if(I===0&&((dt=x.parent)==null?void 0:dt.sumSize)===x.sumSize)return{width:2*Math.sqrt(J(b,2)-J(G*.5,2)),height:G,meta:0};const Bt=G,ft=2*Math.sqrt(J(b,2)-J(T+Bt,2)),Tt=z<Math.PI?2*T*Math.tan(z*.5):1/0,wt=Math.min(ft,Tt);let Ot,Yt;return I===0?(Ot=G,Yt=Math.sqrt(J(b,2)-J(Ot/2,2))-G/(2*Math.tan(P*.5))):(Ot=2*T*Math.tan(z*.5),Yt=Math.sqrt(J(b,2)-J(Ot/2,2))-T),wt>=Yt?{width:wt,height:Bt,meta:1}:{width:Yt,height:Ot,meta:2}},R=uo(D?.label,this.properties.label,D?.secondaryLabel,this.properties.secondaryLabel,{padding:c},B);if(R==null)return;const{width:U,height:Y,meta:V,label:F,secondaryLabel:Q}=R,K=f+(A.start+A.end)/2,q=Math.sin(K)>=0,st=Math.cos(K)>=0,ut=(q?3:12)&(st?6:9);let tt;switch(V){case 0:tt=0;break;case 1:{const dt=b-(g-Y)*.58,ot=Math.sqrt(J(b-c,2)-J(U/2,2));tt=Math.min(dt,ot);break}case 2:if(I===0){const G=Y/(2*Math.tan(z*.5))+U*.5,dt=Math.sqrt(J(b,2)-J(Y*.5,2))-U*.5;tt=(G+dt)*.5}else tt=(T+b)*.5;break}return{width:U,height:Y,labelPlacement:V,circleQuarter:ut,radius:tt,theta:K,label:F,secondaryLabel:Q}}),N=(x,M,I,D)=>{const{index:A,depth:T}=x,b=v?.[A],L=I===0?this.properties.label:this.properties.secondaryLabel,_=I===0?b?.label:b?.secondaryLabel;if(T==null||b==null||_==null){M.visible=!1;return}const{height:E,labelPlacement:O,circleQuarter:z,radius:w,theta:k}=b;let P;switch(D&&(P=(I===0?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),M.text=_.text,M.fontSize=_.fontSize,M.lineHeight=_.lineHeight,M.fontStyle=L.fontStyle,M.fontFamily=L.fontFamily,M.fontWeight=L.fontWeight,M.fill=P??L.color,O){case 0:M.textAlign="center",M.textBaseline="top",M.translationX=0,M.translationY=(I===0?0:E-_.height)-E*.5,M.rotation=0;break;case 1:{const B=(z&3)!==0,R=I===0==!B?w:w-(E-_.height);M.textAlign="center",M.textBaseline=B?"bottom":"top",M.translationX=Math.cos(k)*R,M.translationY=Math.sin(k)*R,M.rotation=B?k-Math.PI*.5:k+Math.PI*.5;break}case 2:{const B=(z&6)!==0,R=I===0==!B?(E-_.height)*.5:(_.height-E)*.5;M.textAlign="center",M.textBaseline="middle",M.translationX=Math.cos(k)*w+Math.cos(k+Math.PI/2)*R,M.translationY=Math.sin(k)*w+Math.sin(k+Math.PI/2)*R,M.rotation=B?k:k+Math.PI;break}}M.visible=!0};this.groupSelection.selectByClass(Ni).forEach(x=>{N(x.datum,x,x.tag,!1)}),this.highlightSelection.selectByClass(Ni).forEach(x=>{const M=x.datum,I=y===M;x.visible=I,x.visible&&N(x.datum,x,x.tag,I)})})}getSectorFormat(t,e){const{datum:i,fill:o,stroke:a,depth:n}=t,{ctx:{callbackCache:r},properties:{formatter:l}}=this;if(!l||i==null||n==null)return{};const{colorKey:c,labelKey:h,sizeKey:d,strokeWidth:p}=this.properties,g=r.call(l,{seriesId:this.id,depth:n,datum:i,colorKey:c,labelKey:h,sizeKey:d,fill:o,stroke:a,strokeWidth:p,highlighted:e});return g??{}}getTooltipHtml(t){var e;const{id:i}=this,{tooltip:o,colorKey:a,colorName:n=a,labelKey:r,secondaryLabelKey:l,sizeKey:c,sizeName:h=c}=this.properties,{datum:d,depth:p}=t;if(d==null||p==null)return"";const g=r!=null?d[r]:void 0,f=this.getSectorFormat(t,!1),y=(e=f?.fill)!=null?e:t.fill;if(!o.renderer&&!g)return"";const m=[],S=l!=null?d[l]:void 0;S!=null&&l!==a&&l!==c&&m.push(Fo(S));const v=c!=null?d[c]:void 0;v!=null&&m.push(`${h}: ${Fo(v)}`);const N=a!=null?d[a]:void 0;N!=null&&m.push(`${n}: ${Fo(N)}`);const x=m.join("<br>"),M={title:g,color:this.properties.label.color,backgroundColor:y,content:x};return o.toTooltipHtml(M,{depth:p,datum:d,colorKey:a,labelKey:r,secondaryLabelKey:l,sizeKey:c,title:g,color:y,seriesId:i})}createNodeData(){return C(this,null,function*(){return[]})}animateEmptyUpdateReady({datumSelections:t}){Ef(this.id,"nodes",this.ctx.animationManager,t,{toFn(e,i,o){return{scalingX:1,scalingY:1}},fromFn(e,i,o){return o==="unknown"&&i!=null&&e.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}})}};Vo.className="SunburstSeries",Vo.type="sunburst";var Lf=Vo,{EXTENDS_SERIES_DEFAULTS:Of,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:hs}=ml,Rf={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",instanceConstructor:Lf,seriesDefaults:{gradientLegend:{enabled:!0}},solo:!0,themeTemplate:{__extends__:Of,label:{fontSize:14,minimumFontSize:9,color:hs,overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontSize:8,minimumFontSize:7,color:hs,overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:hs},secondaryLabel:{color:hs},stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},paletteFactory:({takeColors:s,colorsCount:t,themeTemplateParameters:e})=>{const{properties:i}=e,{fills:o,strokes:a}=s(t),n=i.get(ml.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE);return{fills:o,strokes:a,colorRange:n}}};import{_Theme as kf}from"ag-charts-community";import{_ModuleSupport as Cf,_Scene as wf,_Util as Pf}from"ag-charts-community";import{_ModuleSupport as zf,_Scene as Bf}from"ag-charts-community";var{Label:jf}=Bf,{BaseProperties:us,HierarchySeriesProperties:Ff,HighlightStyle:Vf,SeriesTooltip:Uf,Validate:j,BOOLEAN:Yf,COLOR_STRING:ds,FUNCTION:Hf,NUMBER:Wf,OBJECT:Ft,POSITIVE_NUMBER:ye,RATIO:me,STRING:we,STRING_ARRAY:Il,TEXT_ALIGN:Al,VERTICAL_ALIGN:Gf}=zf,Dl=class extends jf{constructor(){super(...arguments),this.spacing=0}};u([j(Wf)],Dl.prototype,"spacing",2);var Xt=class extends us{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new Dl}};u([j(we,{optional:!0})],Xt.prototype,"fill",2),u([j(me)],Xt.prototype,"fillOpacity",2),u([j(ds,{optional:!0})],Xt.prototype,"stroke",2),u([j(ye)],Xt.prototype,"strokeWidth",2),u([j(me)],Xt.prototype,"strokeOpacity",2),u([j(Al)],Xt.prototype,"textAlign",2),u([j(ye)],Xt.prototype,"gap",2),u([j(ye)],Xt.prototype,"padding",2),u([j(Yf)],Xt.prototype,"interactive",2),u([j(Ft)],Xt.prototype,"label",2);var Vt=class extends us{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new Gt,this.secondaryLabel=new qi}};u([j(we,{optional:!0})],Vt.prototype,"fill",2),u([j(me)],Vt.prototype,"fillOpacity",2),u([j(ds,{optional:!0})],Vt.prototype,"stroke",2),u([j(ye,{optional:!0})],Vt.prototype,"strokeWidth",2),u([j(me)],Vt.prototype,"strokeOpacity",2),u([j(Al)],Vt.prototype,"textAlign",2),u([j(Gf)],Vt.prototype,"verticalAlign",2),u([j(ye)],Vt.prototype,"gap",2),u([j(ye)],Vt.prototype,"padding",2),u([j(Ft)],Vt.prototype,"label",2),u([j(Ft)],Vt.prototype,"secondaryLabel",2);var Pe=class extends us{constructor(){super(...arguments),this.label=new Gt}};u([j(we,{optional:!0})],Pe.prototype,"fill",2),u([j(me,{optional:!0})],Pe.prototype,"fillOpacity",2),u([j(ds,{optional:!0})],Pe.prototype,"stroke",2),u([j(ye,{optional:!0})],Pe.prototype,"strokeWidth",2),u([j(me,{optional:!0})],Pe.prototype,"strokeOpacity",2),u([j(Ft)],Pe.prototype,"label",2);var fe=class extends us{constructor(){super(...arguments),this.label=new Gt,this.secondaryLabel=new qi}};u([j(we,{optional:!0})],fe.prototype,"fill",2),u([j(me,{optional:!0})],fe.prototype,"fillOpacity",2),u([j(ds,{optional:!0})],fe.prototype,"stroke",2),u([j(ye,{optional:!0})],fe.prototype,"strokeWidth",2),u([j(me,{optional:!0})],fe.prototype,"strokeOpacity",2),u([j(Ft)],fe.prototype,"label",2),u([j(Ft)],fe.prototype,"secondaryLabel",2);var Uo=class extends Vf{constructor(){super(...arguments),this.group=new Pe,this.tile=new fe}};u([j(Ft)],Uo.prototype,"group",2),u([j(Ft)],Uo.prototype,"tile",2);var Qt=class extends Ff{constructor(){super(...arguments),this.highlightStyle=new Uo,this.tooltip=new Uf,this.group=new Xt,this.tile=new Vt,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};u([j(we,{optional:!0})],Qt.prototype,"sizeName",2),u([j(we,{optional:!0})],Qt.prototype,"labelKey",2),u([j(we,{optional:!0})],Qt.prototype,"secondaryLabelKey",2),u([j(Hf,{optional:!0})],Qt.prototype,"formatter",2),u([j(Ft)],Qt.prototype,"highlightStyle",2),u([j(Ft)],Qt.prototype,"tooltip",2),u([j(Ft)],Qt.prototype,"group",2),u([j(Ft)],Qt.prototype,"tile",2),u([j(Il)],Qt.prototype,"undocumentedGroupFills",2),u([j(Il)],Qt.prototype,"undocumentedGroupStrokes",2);var{Rect:Yo,Group:bl,BBox:ps,Selection:Tl,Text:oi}=wf,{Color:Kf,Logger:Xf,isEqual:Qf,sanitizeHtml:Ho}=Pf,_l=new oi;function $f(s,t){const{fontStyle:e,fontWeight:i,fontSize:o,fontFamily:a}=t;_l.setProperties({text:s,fontStyle:e,fontWeight:i,fontSize:o,fontFamily:a,textAlign:"left",textBaseline:"top"});const{width:n,height:r}=_l.computeBBox();return{width:n,height:r}}function El(s){if(typeof s=="string"&&!Kf.validColorString(s)){const t="black";return Xf.warnOnce(`invalid Treemap tile colour string "${s}". Affected treemap tiles will be coloured ${t}.`),t}return s}function xe(s){return s.children.length>0?s.sumSize-s.size:s.size}var Ll={left:0,center:.5,right:1},Zf={top:0,middle:.5,bottom:1},Wo=class Ql extends Cf.HierarchySeries{constructor(){super(...arguments),this.properties=new Qt,this.groupSelection=Tl.select(this.contentGroup,bl),this.highlightSelection=Tl.select(this.highlightGroup,bl)}groupTitleHeight(t,e){var i,o;const a=(o=(i=this.labelData)==null?void 0:i[t.index])==null?void 0:o.label,{label:n}=this.properties.group,r=3;if(a!=null){if(n.fontSize>e.width/r||n.fontSize>e.height/r)return;{const{height:l}=$f(a,n);return Math.max(l,n.fontSize)}}}getNodePadding(t,e){if(t.index===0)return{top:0,right:0,bottom:0,left:0};if(t.children.length===0){const{padding:r}=this.properties.tile;return{top:r,right:r,bottom:r,left:r}}const{label:{spacing:i},padding:o}=this.properties.group,a=this.groupTitleHeight(t,e),n=a!=null?a+i:0;return{top:o+n,right:o,bottom:o,left:o}}processData(){return C(this,null,function*(){var t;yield Jt(Ql.prototype,this,"processData").call(this);const{childrenKey:e,colorKey:i,colorName:o,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,tile:c,group:h}=this.properties;if(!((t=this.data)!=null&&t.length)){this.labelData=void 0;return}const d=p=>typeof p=="number"?p.toFixed(2):typeof p=="string"?p:"";this.labelData=Array.from(this.rootNode,({datum:p,depth:g,children:f})=>{const y=f.length===0,m=y?c.label:h.label;let S;if(p!=null&&g!=null&&a!=null){const N=p[a];S=this.getLabelText(m,{depth:g,datum:p,childrenKey:e,colorKey:i,colorName:o,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,value:N},d)}S===""&&(S=void 0);let v;if(y&&p!=null&&g!=null&&n!=null){const N=p[n];v=this.getLabelText(c.secondaryLabel,{depth:g,datum:p,childrenKey:e,colorKey:i,colorName:o,labelKey:a,secondaryLabelKey:n,sizeKey:r,sizeName:l,value:N},d)}return v===""&&(v=void 0),S!=null||v!=null?{label:S,secondaryLabel:v}:void 0})})}squarify(t,e,i){const{index:o,datum:a,children:n}=t;if(e.width<=0||e.height<=0){i[o]=void 0;return}i[o]=o!==0?e:void 0;const r=Array.from(n,(D,A)=>A).filter(D=>xe(n[D])>0).sort((D,A)=>xe(n[A])-xe(n[D])),l=D=>{const A=r[D];return n[A]},c=r.every(D=>l(D).children.length===0),h=1,d=a!=null?this.getNodePadding(t,e):{top:0,right:0,bottom:0,left:0},p=e.width-d.left-d.right,g=e.height-d.top-d.bottom;if(p<=0||g<=0)return;const f=r.length;let y=0,m=0,S=1/0,v=r.reduce((D,A)=>D+xe(n[A]),0);const N=new ps(e.x+d.left,e.y+d.top,p,g),x=N.clone();for(let D=0;D<f;D++){const A=xe(l(D)),T=xe(l(m)),b=x.width<x.height;y+=A;const L=b?x.height:x.width,_=b?x.width:x.height,E=_*T/y;let O=L*y/v;const z=Math.max(E,O)/Math.min(E,O),w=Math.abs(h-z);if(w<S){S=w;continue}y-=A,O=L*y/v;let k=b?x.x:x.y;for(let P=m;P<D;P++){const B=l(P),R=xe(B),U=b?k:x.x,Y=b?x.y:k,V=_*R/y,F=b?V:O,Q=b?O:V,K=new ps(U,Y,F,Q);this.applyGap(N,K,c),this.squarify(B,K,i),v-=R,k+=V}b?(x.y+=O,x.height-=O):(x.x+=O,x.width-=O),m=D,y=0,S=1/0,D--}const M=x.width<x.height;let I=M?x.x:x.y;for(let D=m;D<f;D++){const A=l(D),T=M?I:x.x,b=M?x.y:I,L=xe(A)/v,_=x.width*(M?L:1),E=x.height*(M?1:L),O=new ps(T,b,_,E);this.applyGap(N,O,c),this.squarify(A,O,i),I+=M?_:E}}applyGap(t,e,i){const o=i?this.properties.tile.gap*.5:this.properties.group.gap*.5,a=c=>({left:c.x,top:c.y,right:c.x+c.width,bottom:c.y+c.height}),n=a(t),r=a(e);["top","right","bottom","left"].forEach(c=>{Qf(n[c],r[c])||e.shrink(o,c)})}createNodeData(){return C(this,null,function*(){return[]})}updateSelections(){return C(this,null,function*(){var t;if(!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:e}=(t=this.chart)!=null?t:{};if(!e)return;const i=Array.from(this.rootNode),o=a=>{a.append([new Yo,new oi({tag:0}),new oi({tag:1})])};this.groupSelection.update(i,o,a=>this.getDatumId(a)),this.highlightSelection.update(i,o,a=>this.getDatumId(a))})}getTileFormat(t,e){var i,o;const{datum:a,depth:n,children:r}=t,{colorKey:l,labelKey:c,secondaryLabelKey:h,sizeKey:d,tile:p,group:g,formatter:f}=this.properties;if(!f||a==null||n==null)return{};const y=r.length===0,m=(i=y?p.fill:g.fill)!=null?i:t.fill,S=(o=y?p.stroke:g.stroke)!=null?o:t.stroke,v=y?p.strokeWidth:g.strokeWidth,N=this.ctx.callbackCache.call(f,{seriesId:this.id,depth:n,datum:a,colorKey:l,labelKey:c,secondaryLabelKey:h,sizeKey:d,fill:m,stroke:S,strokeWidth:v,highlighted:e});return N??{}}getNodeFill(t){var e,i,o;if(t.children.length===0)return(e=this.properties.tile.fill)!=null?e:t.fill;const{undocumentedGroupFills:n}=this.properties,r=n[Math.min((i=t.depth)!=null?i:0,n.length)];return(o=this.properties.group.fill)!=null?o:r}getNodeStroke(t){var e,i,o;if(t.children.length===0)return(e=this.properties.tile.stroke)!=null?e:t.stroke;const{undocumentedGroupStrokes:n}=this.properties,r=n[Math.min((i=t.depth)!=null?i:0,n.length)];return(o=this.properties.group.stroke)!=null?o:r}updateNodes(){return C(this,null,function*(){var t,e;const{rootNode:i,data:o}=this,{highlightStyle:a,tile:n,group:r}=this.properties,{seriesRect:l}=(t=this.chart)!=null?t:{};if(!l||!o)return;const{width:c,height:h}=l,d=Array.from(this.rootNode,()=>{});this.squarify(i,new ps(0,0,c,h),d);let p=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight();p!=null&&!this.properties.group.interactive&&p.children.length!==0&&(p=void 0),this.updateNodeMidPoint(d);const g=(m,S,v)=>{var N,x,M,I,D,A,T,b,L,_;const E=d[m.index];if(E==null){S.visible=!1;return}const O=m.children.length===0;let z,w,k,P,B;if(v){const{tile:K,group:q}=a;z=O?K.fill:q.fill,w=O?K.fillOpacity:q.fillOpacity,k=O?K.stroke:q.stroke,P=O?K.strokeWidth:q.strokeWidth,B=O?K.strokeOpacity:q.strokeOpacity}const R=this.getTileFormat(m,v),U=(x=(N=R?.fill)!=null?N:z)!=null?x:this.getNodeFill(m),Y=(I=(M=R?.fillOpacity)!=null?M:w)!=null?I:O?n.fillOpacity:r.fillOpacity,V=(A=(D=R?.stroke)!=null?D:k)!=null?A:this.getNodeStroke(m),F=(b=(T=R?.strokeWidth)!=null?T:P)!=null?b:O?n.strokeWidth:r.strokeWidth,Q=(_=(L=R?.strokeOpacity)!=null?L:B)!=null?_:O?n.strokeOpacity:r.strokeOpacity;S.fill=El(U),S.fillOpacity=Y,S.stroke=El(V),S.strokeWidth=F,S.strokeOpacity=Q,S.crisp=!0,S.x=E.x,S.y=E.y,S.width=E.width,S.height=E.height,S.visible=!0};this.groupSelection.selectByClass(Yo).forEach(m=>g(m.datum,m,!1)),this.highlightSelection.selectByClass(Yo).forEach(m=>{var S;const v=m.datum===p;m.visible=v||((S=p?.contains(m.datum))!=null?S:!1),m.visible&&g(m.datum,m,v)});const f=Array.from(this.rootNode,m=>{var S,v,N,x;const{index:M,children:I}=m,D=d[M],A=(S=this.labelData)==null?void 0:S[M];if(!(D==null||A==null))if(I.length===0){const T={width:D.width,height:D.height,meta:null},b=uo(A.label,this.properties.tile.label,A.secondaryLabel,this.properties.tile.secondaryLabel,{padding:n.padding},()=>T);if(b==null)return;const{height:L,label:_,secondaryLabel:E}=b,{textAlign:O,verticalAlign:z,padding:w}=n,k=(v=Ll[O])!=null?v:.5,P=D.x+w+(D.width-2*w)*k,B=(N=Zf[z])!=null?N:.5,R=D.y+w+L*.5+(D.height-2*w-L)*B;return{label:_!=null?{text:_.text,fontSize:_.fontSize,lineHeight:_.lineHeight,style:this.properties.tile.label,x:P,y:R-(L-_.height)*.5}:void 0,secondaryLabel:E!=null?{text:E.text,fontSize:E.fontSize,lineHeight:E.fontSize,style:this.properties.tile.secondaryLabel,x:P,y:R+(L-E.height)*.5}:void 0,verticalAlign:"middle",textAlign:O}}else if(A?.label!=null){const{padding:T,textAlign:b}=r,L=this.groupTitleHeight(m,D);if(L==null)return;const _=D.width-2*T,{text:E}=oi.wrap(A.label,D.width-2*T,1/0,r.label,"never"),O=(x=Ll[b])!=null?x:.5;return{label:{text:E,fontSize:r.label.fontSize,lineHeight:Gt.lineHeight(r.label.fontSize),style:this.properties.group.label,x:D.x+T+_*O,y:D.y+T+L*.5},secondaryLabel:void 0,verticalAlign:"middle",textAlign:b}}else return}),y=(m,S,v,N)=>{const x=m.children.length===0,M=f[m.index],I=v===0?M?.label:M?.secondaryLabel;if(M==null||I==null){S.visible=!1;return}let D;if(N){const{tile:A,group:T}=a;D=x?v===0?A.label.color:A.secondaryLabel.color:T.label.color}S.text=I.text,S.fontSize=I.fontSize,S.lineHeight=I.lineHeight,S.fontStyle=I.style.fontStyle,S.fontFamily=I.style.fontFamily,S.fontWeight=I.style.fontWeight,S.fill=D??I.style.color,S.textAlign=M.textAlign,S.textBaseline=M.verticalAlign,S.x=I.x,S.y=I.y,S.visible=!0};this.groupSelection.selectByClass(oi).forEach(m=>{y(m.datum,m,m.tag,!1)}),this.highlightSelection.selectByClass(oi).forEach(m=>{var S;const v=m.datum===p;m.visible=v||((S=p?.contains(m.datum))!=null?S:!1),m.visible&&y(m.datum,m,m.tag,v)})})}updateNodeMidPoint(t){this.rootNode.walk(e=>{const i=t[e.index];i!=null&&(e.midPoint.x=i.x+i.width/2,e.midPoint.y=i.y)})}getTooltipHtml(t){var e;const{datum:i,depth:o}=t,{id:a}=this,{tooltip:n,colorKey:r,colorName:l=r,labelKey:c,secondaryLabelKey:h,sizeKey:d,sizeName:p=d}=this.properties,g=t.children.length===0,f=g||this.properties.group.interactive;if(i==null||o==null||!f)return"";const y=c!=null?i[c]:void 0,m=this.getTileFormat(t,!1),S=(e=m?.fill)!=null?e:this.getNodeFill(t);if(!n.renderer&&!y)return"";const v=[],N=h!=null?i[h]:void 0;N!=null&&h!==r&&h!==d&&v.push(Ho(N));const x=d!=null?i[d]:void 0;x!=null&&v.push(`${p}: ${Ho(x)}`);const M=r!=null?i[r]:void 0;M!=null&&v.push(`${l}: ${Ho(M)}`);const I=v.join("<br>"),D={title:y,color:g?this.properties.tile.label.color:this.properties.group.label.color,backgroundColor:S,content:I};return n.toTooltipHtml(D,{depth:o,datum:i,colorKey:r,labelKey:c,secondaryLabelKey:h,sizeKey:d,title:y,color:S,seriesId:a})}};Wo.className="TreemapSeries",Wo.type="treemap";var qf=Wo,{DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:Jf,DEFAULT_FONT_FAMILY:Go,DEFAULT_HIERARCHY_FILLS:tx,DEFAULT_HIERARCHY_STROKES:ex,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:gs,EXTENDS_SERIES_DEFAULTS:ix,DEFAULT_LABEL_COLOUR:Ol,FONT_WEIGHT:Rl}=kf,sx={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",instanceConstructor:qf,seriesDefaults:{gradientLegend:{enabled:!0}},solo:!0,themeTemplate:{__extends__:ix,group:{label:{enabled:!0,color:Ol,fontStyle:void 0,fontWeight:Rl.NORMAL,fontSize:12,fontFamily:Go,spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:gs,fontStyle:void 0,fontWeight:Rl.NORMAL,fontSize:18,minimumFontSize:10,fontFamily:Go,wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:gs,fontStyle:void 0,fontWeight:void 0,fontSize:12,minimumFontSize:10,fontFamily:Go,wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:Ol},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:gs},secondaryLabel:{color:gs},fill:void 0,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},paletteFactory:({takeColors:s,colorsCount:t,themeTemplateParameters:e})=>{const{properties:i}=e,{fills:o,strokes:a}=s(t),n=i.get(Jf),r=i.get(tx),l=i.get(ex);return{fills:o,strokes:a,colorRange:n,undocumentedGroupFills:r,undocumentedGroupStrokes:l}}};import{_Theme as Ko}from"ag-charts-community";import{_Theme as ox}from"ag-charts-community";var{CARTESIAN_AXIS_TYPES:kl,CARTESIAN_AXIS_POSITIONS:Cl}=ox,ax={axes:[{type:kl.CATEGORY,position:Cl.BOTTOM},{type:kl.NUMBER,position:Cl.LEFT}],legend:{enabled:!0,item:{toggleSeriesVisible:!1}}};import{_ModuleSupport as ze,_Scene as wl,_Util as nx}from"ag-charts-community";import{_ModuleSupport as rx,_Scene as lx}from"ag-charts-community";var{DropShadow:cx,Label:hx}=lx,{AbstractBarSeriesProperties:ux,BaseProperties:Ii,PropertiesArray:dx,SeriesTooltip:px,Validate:W,BOOLEAN:gx,COLOR_STRING:Xo,FUNCTION:Pl,LINE_DASH:zl,NUMBER:yx,OBJECT:ae,OBJECT_ARRAY:mx,POSITIVE_NUMBER:ai,RATIO:Qo,STRING:ni,UNION:Bl}=rx,ys=class extends Ii{};u([W(Bl(["subtotal","total"],"a total type"))],ys.prototype,"totalType",2),u([W(yx)],ys.prototype,"index",2),u([W(ni)],ys.prototype,"axisLabel",2);var jl=class extends Ii{};u([W(Pl,{optional:!0})],jl.prototype,"renderer",2);var $o=class extends hx{constructor(){super(...arguments),this.placement="end",this.padding=6}};u([W(Bl(["start","end","inside"],"a placement"))],$o.prototype,"placement",2),u([W(ai)],$o.prototype,"padding",2);var bt=class extends Ii{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new cx().set({enabled:!1}),this.label=new $o,this.tooltip=new jl}};u([W(ni,{optional:!0})],bt.prototype,"name",2),u([W(Xo)],bt.prototype,"fill",2),u([W(Xo)],bt.prototype,"stroke",2),u([W(Qo)],bt.prototype,"fillOpacity",2),u([W(Qo)],bt.prototype,"strokeOpacity",2),u([W(zl)],bt.prototype,"lineDash",2),u([W(ai)],bt.prototype,"lineDashOffset",2),u([W(ai)],bt.prototype,"strokeWidth",2),u([W(ai)],bt.prototype,"cornerRadius",2),u([W(Pl,{optional:!0})],bt.prototype,"formatter",2),u([W(ae)],bt.prototype,"shadow",2),u([W(ae)],bt.prototype,"label",2),u([W(ae)],bt.prototype,"tooltip",2);var Be=class extends Ii{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};u([W(gx)],Be.prototype,"enabled",2),u([W(Xo)],Be.prototype,"stroke",2),u([W(Qo)],Be.prototype,"strokeOpacity",2),u([W(zl)],Be.prototype,"lineDash",2),u([W(ai)],Be.prototype,"lineDashOffset",2),u([W(ai)],Be.prototype,"strokeWidth",2);var ms=class extends Ii{constructor(){super(...arguments),this.positive=new bt,this.negative=new bt,this.total=new bt}};u([W(ae)],ms.prototype,"positive",2),u([W(ae)],ms.prototype,"negative",2),u([W(ae)],ms.prototype,"total",2);var ne=class extends ux{constructor(){super(...arguments),this.item=new ms,this.totals=new dx(ys),this.line=new Be,this.tooltip=new px}};u([W(ni)],ne.prototype,"xKey",2),u([W(ni)],ne.prototype,"yKey",2),u([W(ni,{optional:!0})],ne.prototype,"xName",2),u([W(ni,{optional:!0})],ne.prototype,"yName",2),u([W(ae)],ne.prototype,"item",2),u([W(mx)],ne.prototype,"totals",2),u([W(ae)],ne.prototype,"line",2),u([W(ae)],ne.prototype,"tooltip",2);var{adjustLabelPlacement:fx,SeriesNodePickMode:xx,fixNumericExtent:Zo,valueProperty:Fl,keyProperty:Sx,accumulativeValueProperty:fs,trailingAccumulatedValueProperty:Mx,ChartAxisDirection:je,getRectConfig:vx,updateRect:Nx,checkCrisp:Ix,updateLabelNode:Ax,prepareBarAnimationFunctions:Dx,collapsedStartingBarPosition:bx,resetBarSelectionsFn:Tx,seriesLabelFadeInAnimation:_x,resetLabelFn:Ex,animationValidation:Lx}=ze,{ContinuousScale:Vl,Rect:Ox,motion:Rx}=wl,{sanitizeHtml:Ai,isContinuous:Ul,isNumber:kx}=nx,qo=class $l extends ze.AbstractBarSeries{constructor(t){super({moduleCtx:t,pickModes:[xx.EXACT_SHAPE_MATCH],pathsPerSeries:1,hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:Tx,label:Ex}}),this.properties=new ne,this.seriesItemTypes=new Set(["positive","negative","total"]),this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()===je.X?t===je.X?je.Y:je.X:t}processData(t){return C(this,null,function*(){var e,i,o;const{xKey:a,yKey:n,totals:r}=this.properties,{data:l=[]}=this;if(!this.properties.isValid())return;const c=v=>Ul(v)&&v>=0,h=v=>Ul(v)&&v<0,d=v=>v==="total"||v==="subtotal",p={missingValue:void 0,invalidValue:void 0},g=[],f=r.reduce((v,N)=>{const x=v.get(N.index);return x?x.push(N):v.set(N.index,[N]),v},new Map);l.forEach((v,N)=>{var x;g.push(v),(x=f.get(N))==null||x.forEach(M=>g.push(yt(H({},M.toJson()),{[a]:M.axisLabel})))});const y=Vl.is((e=this.getCategoryAxis())==null?void 0:e.scale),m=[];this.ctx.animationManager.isSkipped()||m.push(Lx(this));const{processedData:S}=yield this.requestDataModel(t,g,{props:[Sx(this,a,y,{id:"xValue"}),fs(this,n,!0,yt(H({},p),{id:"yCurrent"})),fs(this,n,!0,yt(H({},p),{missingValue:0,id:"yCurrentTotal"})),fs(this,n,!0,yt(H({},p),{id:"yCurrentPositive",validation:c})),fs(this,n,!0,yt(H({},p),{id:"yCurrentNegative",validation:h})),Mx(this,n,!0,yt(H({},p),{id:"yPrevious"})),Fl(this,n,!0,{id:"yRaw"}),Fl(this,"totalType",!1,{id:"totalTypeValue",missingValue:void 0,validation:d}),...y?[ze.SMALLEST_KEY_INTERVAL]:[],...m],dataVisible:this.visible});this.smallestDataInterval={x:(o=(i=S.reduced)==null?void 0:i.smallestKeyInterval)!=null?o:1/0,y:1/0},this.updateSeriesItemTypes(),this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:o}=this;if(!(i&&o))return[];const{domain:{keys:[a],values:n},reduced:{[ze.SMALLEST_KEY_INTERVAL.property]:r}={}}=i,l=o.resolveProcessedDataDefById(this,"xValue");if(t===this.getCategoryDirection()){if(l?.def.type==="key"&&l?.def.valueType==="category")return a;const c=r!=null&&isFinite(r)?r:0,h=(e=ze.extent(a))!=null?e:[NaN,NaN],d=this.getCategoryAxis(),p=d?.isReversed();if(t===je.Y){const y=h[0]+(p?0:-c),m=h[1]+(p?c:0);return Zo([y,m],d)}const g=h[0]+(p?-c:0),f=h[1]+(p?0:c);return Zo([g,f],d)}else{const c=o.resolveProcessedDataIndexById(this,"yCurrent").index,h=n[c],d=[h[0]>0?0:h[0],h[1]<0?0:h[1]];return Zo(d)}}createNodeData(){return C(this,null,function*(){var t,e,i;const{data:o,dataModel:a,smallestDataInterval:n}=this,{visible:r,line:l}=this.properties,c=this.getCategoryAxis(),h=this.getValueAxis();if(!(o&&r&&c&&h&&a))return[];const d=c.scale,p=h.scale,g=c.isReversed(),f=h.isReversed(),y=this.getBarDirection()===je.X,m=(t=Vl.is(d)?d.calcBandwidth(n?.x):d.bandwidth)!=null?t:10,S=l.strokeWidth/2,N=(y&&!f||!y&&f?-1:1)*S;if(((e=this.processedData)==null?void 0:e.type)!=="ungrouped")return[];const x=[],M=a.resolveProcessedDataIndexById(this,"yRaw").index,I=a.resolveProcessedDataIndexById(this,"xValue").index,D=a.resolveProcessedDataIndexById(this,"totalTypeValue").index,A=new Map,T=[],b=a.resolveProcessedDataIndexById(this,"yCurrent").index,L=a.resolveProcessedDataIndexById(this,"yPrevious").index,_=a.resolveProcessedDataIndexById(this,"yCurrentTotal").index;function E(U,Y,V){return U||Y?{cumulativeValue:V[_],trailingValue:Y?z:0}:{cumulativeValue:V[b],trailingValue:V[L]}}function O(U,Y,V,F,Q){return U?F:Y?(F??0)-(Q??0):V}let z=0;const{xKey:w,yKey:k,xName:P,yName:B}=this.properties;(i=this.processedData)==null||i.data.forEach(({keys:U,datum:Y,values:V},F)=>{var Q;const K=V[D],q=this.isSubtotal(K),st=this.isTotal(K),ut=st||q,tt=U[I],G=Math.round(d.convert(tt)),dt=V[M],{cumulativeValue:ot,trailingValue:Bt}=E(st,q,V);ut&&(z=ot??0);const ft=Math.round(p.convert(ot)),Tt=Math.round(p.convert(Bt)),wt=O(st,q,dt,ot,Bt),Ot=(wt??0)>=0,Yt=this.getSeriesItemType(Ot,K),{fill:Ve,stroke:Ss,strokeWidth:Di,label:ri}=this.getItemConfig(Yt),li=(Ot?ft:Tt)-N,Ms=(Ot?Tt:ft)+N,sa=Math.max(Di,Math.abs(Ms-li)),Ue=Yt;let Se=A.get(Ue);Se===void 0&&(Se=x.length,A.set(Ue,Se)),(Q=x[Se])!=null||(x[Se]={itemId:Ue,nodeData:[],labelData:[],pointData:[],scales:Jt($l.prototype,this,"calculateScaling").call(this),visible:this.visible});const _t={x:y?Math.min(li,Ms):G,y:y?G:Math.min(li,Ms),width:y?sa:m,height:y?m:sa},Zl={x:_t.x+_t.width/2,y:_t.y+_t.height/2},oa=ut?ft:Tt,bi=Math.floor(l.strokeWidth)%2/2,aa=g?ft:oa,na=g?oa:ft;let Ye,He;y?(Ye={x:aa+bi,y:_t.y},He={x:na+bi,y:_t.y+_t.height}):(Ye={x:_t.x,y:aa+bi},He={x:_t.x+_t.width,y:na+bi});const ql={x:g?He.x:Ye.x,y:g?He.y:Ye.y,x2:g?Ye.x:He.x,y2:g?Ye.y:He.y,size:0};T.push(ql);const Jl=this.getLabelText(ri,{itemId:Ue==="subtotal"?"total":Ue,value:wt,datum:Y,xKey:w,yKey:k,xName:P,yName:B},vs=>kx(vs)?vs.toFixed(2):String(vs)),ra={index:F,series:this,itemId:Ue,datum:Y,cumulativeValue:ot??0,xValue:tt,yValue:wt,yKey:k,xKey:w,x:_t.x,y:_t.y,width:_t.width,height:_t.height,midPoint:Zl,fill:Ve,stroke:Ss,strokeWidth:Di,label:H({text:Jl},fx({isPositive:(wt??-1)>=0,isVertical:!y,placement:ri.placement,padding:ri.padding,rect:_t}))};x[Se].nodeData.push(ra),x[Se].labelData.push(ra)});const R=this.properties.line.enabled;return x.length>0&&b!==void 0&&R&&(x[0].pointData=T),x})}updateSeriesItemTypes(){var t,e;const{dataModel:i,seriesItemTypes:o,processedData:a}=this;if(!i||!a)return;o.clear();const n=i.resolveProcessedDataIndexById(this,"yCurrentPositive").index,r=i.resolveProcessedDataIndexById(this,"yCurrentNegative").index,l=i.resolveProcessedDataIndexById(this,"totalTypeValue").index,c=(t=a.domain.values[n])!=null?t:[],h=(e=a.domain.values[r])!=null?e:[];c.length>0&&o.add("positive"),h.length>0&&o.add("negative");const d=a?.domain.values[l];d&&d.forEach(p=>{(p==="total"||p==="subtotal")&&o.add("total")})}isSubtotal(t){return t==="subtotal"}isTotal(t){return t==="total"}nodeFactory(){return new Ox}getSeriesItemType(t,e){return e??(t?"positive":"negative")}getItemConfig(t){switch(t){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(t){return C(this,null,function*(){const{nodeData:e,datumSelection:i}=t,o=e??[];return i.update(o)})}updateDatumNodes(t){return C(this,null,function*(){const{datumSelection:e,isHighlight:i}=t,{id:o,ctx:a}=this,{yKey:n,highlightStyle:{item:r}}=this.properties,l=this.getCategoryAxis(),c=Ix(l?.visibleRange),h=this.getCategoryDirection()===je.X;e.each((d,p)=>{const g=p.itemId,{fillOpacity:f,strokeOpacity:y,strokeWidth:m,lineDash:S,lineDashOffset:v,cornerRadius:N,formatter:x,shadow:M}=this.getItemConfig(g),I={fill:p.fill,stroke:p.stroke,fillOpacity:f,strokeOpacity:y,lineDash:S,lineDashOffset:v,fillShadow:M,strokeWidth:this.getStrokeWidth(m),cornerRadius:N,cornerRadiusBbox:void 0},D=h?p.width>0:p.height>0,A=vx({datum:p,isHighlighted:i,style:I,highlightStyle:r,formatter:x,seriesId:o,itemId:p.itemId,ctx:a,value:p.yValue,yKey:n});A.crisp=c,A.visible=D,Nx({rect:d,config:A})})})}updateLabelSelection(t){return C(this,null,function*(){const{labelData:e,labelSelection:i}=t;if(e.length===0)return i.update([]);const o=e[0].itemId,{label:a}=this.getItemConfig(o),n=a.enabled?e:[];return i.update(n)})}updateLabelNodes(t){return C(this,null,function*(){t.labelSelection.each((e,i)=>{Ax(e,this.getItemConfig(i.itemId).label,i.label)})})}getTooltipHtml(t){var e,i,o;const a=this.getCategoryAxis(),n=this.getValueAxis();if(!this.properties.isValid()||!a||!n)return"";const{id:r}=this,{xKey:l,yKey:c,xName:h,yName:d,tooltip:p}=this.properties,{datum:g,itemId:f,xValue:y,yValue:m}=t,{fill:S,strokeWidth:v,name:N,formatter:x}=this.getItemConfig(f);let M;x&&(M=this.ctx.callbackCache.call(x,{datum:g,value:m,xKey:l,yKey:c,fill:S,strokeWidth:v,highlighted:!1,seriesId:r,itemId:t.itemId}));const I=(i=(e=M?.fill)!=null?e:S)!=null?i:"gray",D=Ai(a.formatDatum(y)),A=Ai(n.formatDatum(m)),T=this.isTotal(f),b=this.isSubtotal(f),L=T?"Total":b?"Subtotal":(o=N??d)!=null?o:c,_=Ai(d),E=`<b>${Ai(h??l)}</b>: ${D}<br/><b>${Ai(L)}</b>: ${A}`;return p.toTooltipHtml({title:_,content:E,backgroundColor:I},{seriesId:r,itemId:f,datum:g,xKey:l,yKey:c,xName:h,yName:d,color:I})}getLegendData(t){if(t!=="category")return[];const{id:e,seriesItemTypes:i}=this,o=[],a=n=>n.charAt(0).toUpperCase()+n.substring(1);return i.forEach(n=>{const{fill:r,stroke:l,fillOpacity:c,strokeOpacity:h,strokeWidth:d,name:p}=this.getItemConfig(n);o.push({legendType:"category",id:e,itemId:n,seriesId:e,enabled:!0,label:{text:p??a(n)},marker:{fill:r,stroke:l,fillOpacity:c,strokeOpacity:h,strokeWidth:d}})}),o}toggleSeriesItem(){}animateEmptyUpdateReady({datumSelections:t,labelSelections:e,contextData:i,paths:o}){const a=Dx(bx(this.isVertical(),this.axes));Rx.fromToMotion(this.id,"datums",this.ctx.animationManager,t,a),_x(this,"labels",this.ctx.animationManager,e),i.forEach(({pointData:n},r)=>{if(r!==0||!n)return;const[l]=o[r];this.isVertical()?this.animateConnectorLinesVertical(l,n):this.animateConnectorLinesHorizontal(l,n)})}animateConnectorLinesHorizontal(t,e){const{path:i}=t;this.updateLineNode(t);const o=this.getValueAxis(),a=o?.isReversed(),n=a?(h,d)=>h<d:(h,d)=>h>d,r=o?.scale.convert(0),l=e.reduce((h,d)=>(n(d.x,h)&&(h=d.x),h),a?1/0:0),c=(h,d,p,g,f)=>(h-d)/(p-d)*(f-g)+g;this.ctx.animationManager.animate({id:`${this.id}_datums`,groupId:this.id,from:r,to:l,ease:ze.Motion.easeOut,onUpdate(h){i.clear({trackChanges:!0}),e.forEach((d,p)=>{const g=c(h,r,l,r,d.x),f=c(h,r,l,r,d.x2);p!==0&&i.lineTo(g,d.y),i.moveTo(f,d.y2)}),t.checkPathDirty()}})}animateConnectorLinesVertical(t,e){const{path:i}=t;this.updateLineNode(t);const o=this.getValueAxis(),a=o?.isReversed(),n=a?(h,d)=>h>d:(h,d)=>h<d,r=o?.scale.convert(0),l=e.reduce((h,d)=>(n(d.y,h)&&(h=d.y),h),a?0:1/0),c=(h,d,p,g,f)=>(h-d)/(p-d)*(f-g)+g;this.ctx.animationManager.animate({id:`${this.id}_datums`,groupId:this.id,from:r,to:l,ease:ze.Motion.easeOut,onUpdate(h){i.clear({trackChanges:!0}),e.forEach((d,p)=>{const g=c(h,r,l,r,d.y),f=c(h,r,l,r,d.y2);p!==0&&i.lineTo(d.x,g),i.moveTo(d.x2,f)}),t.checkPathDirty()}})}animateReadyResize(t){super.animateReadyResize(t),this.resetConnectorLinesPath(t)}resetConnectorLinesPath({contextData:t,paths:e}){if(e.length===0)return;const[i]=e[0];this.updateLineNode(i);const{path:o}=i;o.clear({trackChanges:!0});const{pointData:a}=t[0];a&&(a.forEach((n,r)=>{r!==0&&o.lineTo(n.x,n.y),o.moveTo(n.x2,n.y2)}),i.checkPathDirty())}updateLineNode(t){const{stroke:e,strokeWidth:i,strokeOpacity:o,lineDash:a,lineDashOffset:n}=this.properties.line;t.setProperties({fill:void 0,stroke:e,strokeWidth:this.getStrokeWidth(i),strokeOpacity:o,lineDash:a,lineDashOffset:n,lineJoin:"round",pointerEvents:wl.PointerEvents.None})}isLabelEnabled(){const{positive:t,negative:e,total:i}=this.properties.item;return t.label.enabled||e.label.enabled||i.label.enabled}onDataChange(){}};qo.className="WaterfallSeries",qo.type="waterfall";var Cx=qo;import{_Theme as Yl}from"ag-charts-community";var wx={__extends__:Yl.EXTENDS_SERIES_DEFAULTS,item:{positive:{strokeWidth:0,label:{enabled:!1}},negative:{strokeWidth:0,label:{enabled:!1}},total:{strokeWidth:0,label:{enabled:!1}}},line:{stroke:Yl.DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE,strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},Px={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",instanceConstructor:Cx,seriesDefaults:ax,themeTemplate:wx,swapDefaultAxesCondition:({direction:s})=>s==="horizontal",paletteFactory:({takeColors:s,colorsCount:t,userPalette:e,themeTemplateParameters:i})=>{const{properties:o}=i,{fills:a,strokes:n}=s(t);return e?{item:{positive:{fill:a[0],stroke:n[0]},negative:{fill:a[1],stroke:n[1]},total:{fill:a[2],stroke:n[2]}}}:{item:{positive:o.get(Ko.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS),negative:o.get(Ko.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS),total:o.get(Ko.DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS)}}}};export*from"ag-charts-community";$.registerModule(jc),$.registerModule(Zc),$.registerModule(zh),$.registerModule(Uh),$.registerModule(wd),$.registerModule(Qd),$.registerModule(Gh),$.registerModule(lu),$.registerModule(Du),$.registerModule(sd),$.registerModule(Op),$.registerModule(fg),$.registerModule(ry),$.registerModule(cy),$.registerModule(Hy),$.registerModule(sm),$.registerModule(bh),$.registerModule(Ch),$.registerModule(Mf),$.registerModule(jm),$.registerModule(Rf),$.registerModule(sx),$.registerModule(Px),$.registerModule(ju),$.enterpriseModule.isEnterprise=!0,$.enterpriseModule.licenseManager=s=>{var t,e;return new nd((e=(t=s.container)==null?void 0:t.ownerDocument)!=null?e:typeof document<"u"?document:void 0)},$.enterpriseModule.injectWatermark=hd;export{ac as AgCharts,nc as time};
